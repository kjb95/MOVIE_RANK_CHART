(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function mu(e,t){const n=Object.create(null),r=e.split(",");for(let a=0;a<r.length;a++)n[r[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const Ln=Object.freeze({}),Ld=Object.freeze([]),si=()=>{},gN=()=>!1,MG=/^on[^a-z]/,xm=e=>MG.test(e),i0=e=>e.startsWith("onUpdate:"),Vn=Object.assign,e2=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},PG=Object.prototype.hasOwnProperty,$t=(e,t)=>PG.call(e,t),nt=Array.isArray,Lc=e=>P_(e)==="[object Map]",yN=e=>P_(e)==="[object Set]",gt=e=>typeof e=="function",Gn=e=>typeof e=="string",t2=e=>typeof e=="symbol",mn=e=>e!==null&&typeof e=="object",n2=e=>mn(e)&&gt(e.then)&&gt(e.catch),_N=Object.prototype.toString,P_=e=>_N.call(e),r2=e=>P_(e).slice(8,-1),xN=e=>P_(e)==="[object Object]",a2=e=>Gn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wy=mu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),LG=mu("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),L_=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},IG=/-(\w)/g,io=L_(e=>e.replace(IG,(t,n)=>n?n.toUpperCase():"")),RG=/\B([A-Z])/g,ol=L_(e=>e.replace(RG,"-$1").toLowerCase()),oo=L_(e=>e.charAt(0).toUpperCase()+e.slice(1)),lc=L_(e=>e?`on${oo(e)}`:""),Cp=(e,t)=>!Object.is(e,t),yd=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},o0=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},sS=e=>{const t=parseFloat(e);return isNaN(t)?e:t},OG=e=>{const t=Gn(e)?Number(e):NaN;return isNaN(t)?e:t};let fD;const s0=()=>fD||(fD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qi(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=Gn(r)?VG(r):qi(r);if(a)for(const i in a)t[i]=a[i]}return t}else{if(Gn(e))return e;if(mn(e))return e}}const kG=/;(?![^(]*\))/g,NG=/:([^]+)/,BG=/\/\*[^]*?\*\//g;function VG(e){const t={};return e.replace(BG,"").split(kG).forEach(n=>{if(n){const r=n.split(NG);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function jt(e){let t="";if(Gn(e))t=e;else if(nt(e))for(let n=0;n<e.length;n++){const r=jt(e[n]);r&&(t+=r+" ")}else if(mn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function ma(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Gn(t)&&(e.class=jt(t)),n&&(e.style=qi(n)),e}const FG="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",UG="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",zG=mu(FG),HG=mu(UG),$G="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",GG=mu($G);function bN(e){return!!e||e===""}const Bt=e=>Gn(e)?e:e==null?"":nt(e)||mn(e)&&(e.toString===_N||!gt(e.toString))?JSON.stringify(e,wN,2):String(e),wN=(e,t)=>t&&t.__v_isRef?wN(e,t.value):Lc(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a])=>(n[`${r} =>`]=a,n),{})}:yN(t)?{[`Set(${t.size})`]:[...t.values()]}:mn(t)&&!nt(t)&&!xN(t)?String(t):t;function l0(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let yi;class SN{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=yi,!t&&yi&&(this.index=(yi.scopes||(yi.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=yi;try{return yi=this,t()}finally{yi=n}}else l0("cannot run an inactive effect scope.")}on(){yi=this}off(){yi=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function bm(e){return new SN(e)}function WG(e,t=yi){t&&t.active&&t.effects.push(e)}function i2(){return yi}function wa(e){yi?yi.cleanups.push(e):l0("onScopeDispose() is called when there is no active effect scope to be associated with.")}const o2=e=>{const t=new Set(e);return t.w=0,t.n=0,t},TN=e=>(e.w&lu)>0,CN=e=>(e.n&lu)>0,YG=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=lu},jG=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const a=t[r];TN(a)&&!CN(a)?a.delete(e):t[n++]=a,a.w&=~lu,a.n&=~lu}t.length=n}},u0=new WeakMap;let kv=0,lu=1;const lS=30;let Ua;const Ic=Symbol("iterate"),uS=Symbol("Map key iterate");class s2{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,WG(this,r)}run(){if(!this.active)return this.fn();let t=Ua,n=au;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ua,Ua=this,au=!0,lu=1<<++kv,kv<=lS?YG(this):dD(this),this.fn()}finally{kv<=lS&&jG(this),lu=1<<--kv,Ua=this.parent,au=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ua===this?this.deferStop=!0:this.active&&(dD(this),this.onStop&&this.onStop(),this.active=!1)}}function dD(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let au=!0;const AN=[];function vf(){AN.push(au),au=!1}function pf(){const e=AN.pop();au=e===void 0?!0:e}function Sa(e,t,n){if(au&&Ua){let r=u0.get(e);r||u0.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=o2()),EN(a,{effect:Ua,target:e,type:t,key:n})}}function EN(e,t){let n=!1;kv<=lS?CN(e)||(e.n|=lu,n=!TN(e)):n=!e.has(Ua),n&&(e.add(Ua),Ua.deps.push(e),Ua.onTrack&&Ua.onTrack(Vn({effect:Ua},t)))}function ys(e,t,n,r,a,i){const o=u0.get(e);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(n==="length"&&nt(e)){const u=Number(r);o.forEach((c,f)=>{(f==="length"||f>=u)&&s.push(c)})}else switch(n!==void 0&&s.push(o.get(n)),t){case"add":nt(e)?a2(n)&&s.push(o.get("length")):(s.push(o.get(Ic)),Lc(e)&&s.push(o.get(uS)));break;case"delete":nt(e)||(s.push(o.get(Ic)),Lc(e)&&s.push(o.get(uS)));break;case"set":Lc(e)&&s.push(o.get(Ic));break}const l={target:e,type:t,key:n,newValue:r,oldValue:a,oldTarget:i};if(s.length===1)s[0]&&cS(s[0],l);else{const u=[];for(const c of s)c&&u.push(...c);cS(o2(u),l)}}function cS(e,t){const n=nt(e)?e:[...e];for(const r of n)r.computed&&hD(r,t);for(const r of n)r.computed||hD(r,t)}function hD(e,t){(e!==Ua||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(Vn({effect:e},t)),e.scheduler?e.scheduler():e.run())}function XG(e,t){var n;return(n=u0.get(e))==null?void 0:n.get(t)}const qG=mu("__proto__,__v_isRef,__isVue"),DN=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(t2)),ZG=I_(),KG=I_(!1,!0),QG=I_(!0),JG=I_(!0,!0),vD=eW();function eW(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=it(this);for(let i=0,o=this.length;i<o;i++)Sa(r,"get",i+"");const a=r[t](...n);return a===-1||a===!1?r[t](...n.map(it)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){vf();const r=it(this)[t].apply(this,n);return pf(),r}}),e}function tW(e){const t=it(this);return Sa(t,"has",e),t.hasOwnProperty(e)}function I_(e=!1,t=!1){return function(r,a,i){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&i===(e?t?NN:kN:t?ON:RN).get(r))return r;const o=nt(r);if(!e){if(o&&$t(vD,a))return Reflect.get(vD,a,i);if(a==="hasOwnProperty")return tW}const s=Reflect.get(r,a,i);return(t2(a)?DN.has(a):qG(a))||(e||Sa(r,"get",a),t)?s:sn(s)?o&&a2(a)?s:s.value:mn(s)?e?wm(s):Rn(s):s}}const nW=MN(),rW=MN(!0);function MN(e=!1){return function(n,r,a,i){let o=n[r];if(uu(o)&&sn(o)&&!sn(a))return!1;if(!e&&(!c0(a)&&!uu(a)&&(o=it(o),a=it(a)),!nt(n)&&sn(o)&&!sn(a)))return o.value=a,!0;const s=nt(n)&&a2(r)?Number(r)<n.length:$t(n,r),l=Reflect.set(n,r,a,i);return n===it(i)&&(s?Cp(a,o)&&ys(n,"set",r,a,o):ys(n,"add",r,a)),l}}function aW(e,t){const n=$t(e,t),r=e[t],a=Reflect.deleteProperty(e,t);return a&&n&&ys(e,"delete",t,void 0,r),a}function iW(e,t){const n=Reflect.has(e,t);return(!t2(t)||!DN.has(t))&&Sa(e,"has",t),n}function oW(e){return Sa(e,"iterate",nt(e)?"length":Ic),Reflect.ownKeys(e)}const PN={get:ZG,set:nW,deleteProperty:aW,has:iW,ownKeys:oW},LN={get:QG,set(e,t){return l0(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return l0(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},sW=Vn({},PN,{get:KG,set:rW}),lW=Vn({},LN,{get:JG}),l2=e=>e,R_=e=>Reflect.getPrototypeOf(e);function Ym(e,t,n=!1,r=!1){e=e.__v_raw;const a=it(e),i=it(t);n||(t!==i&&Sa(a,"get",t),Sa(a,"get",i));const{has:o}=R_(a),s=r?l2:n?u2:Ap;if(o.call(a,t))return s(e.get(t));if(o.call(a,i))return s(e.get(i));e!==a&&e.get(t)}function jm(e,t=!1){const n=this.__v_raw,r=it(n),a=it(e);return t||(e!==a&&Sa(r,"has",e),Sa(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function Xm(e,t=!1){return e=e.__v_raw,!t&&Sa(it(e),"iterate",Ic),Reflect.get(e,"size",e)}function pD(e){e=it(e);const t=it(this);return R_(t).has.call(t,e)||(t.add(e),ys(t,"add",e,e)),this}function mD(e,t){t=it(t);const n=it(this),{has:r,get:a}=R_(n);let i=r.call(n,e);i?IN(n,r,e):(e=it(e),i=r.call(n,e));const o=a.call(n,e);return n.set(e,t),i?Cp(t,o)&&ys(n,"set",e,t,o):ys(n,"add",e,t),this}function gD(e){const t=it(this),{has:n,get:r}=R_(t);let a=n.call(t,e);a?IN(t,n,e):(e=it(e),a=n.call(t,e));const i=r?r.call(t,e):void 0,o=t.delete(e);return a&&ys(t,"delete",e,void 0,i),o}function yD(){const e=it(this),t=e.size!==0,n=Lc(e)?new Map(e):new Set(e),r=e.clear();return t&&ys(e,"clear",void 0,void 0,n),r}function qm(e,t){return function(r,a){const i=this,o=i.__v_raw,s=it(o),l=t?l2:e?u2:Ap;return!e&&Sa(s,"iterate",Ic),o.forEach((u,c)=>r.call(a,l(u),l(c),i))}}function Zm(e,t,n){return function(...r){const a=this.__v_raw,i=it(a),o=Lc(i),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=a[e](...r),c=n?l2:t?u2:Ap;return!t&&Sa(i,"iterate",l?uS:Ic),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Al(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${oo(e)} operation ${n}failed: target is readonly.`,it(this))}return e==="delete"?!1:this}}function uW(){const e={get(i){return Ym(this,i)},get size(){return Xm(this)},has:jm,add:pD,set:mD,delete:gD,clear:yD,forEach:qm(!1,!1)},t={get(i){return Ym(this,i,!1,!0)},get size(){return Xm(this)},has:jm,add:pD,set:mD,delete:gD,clear:yD,forEach:qm(!1,!0)},n={get(i){return Ym(this,i,!0)},get size(){return Xm(this,!0)},has(i){return jm.call(this,i,!0)},add:Al("add"),set:Al("set"),delete:Al("delete"),clear:Al("clear"),forEach:qm(!0,!1)},r={get(i){return Ym(this,i,!0,!0)},get size(){return Xm(this,!0)},has(i){return jm.call(this,i,!0)},add:Al("add"),set:Al("set"),delete:Al("delete"),clear:Al("clear"),forEach:qm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Zm(i,!1,!1),n[i]=Zm(i,!0,!1),t[i]=Zm(i,!1,!0),r[i]=Zm(i,!0,!0)}),[e,n,t,r]}const[cW,fW,dW,hW]=uW();function O_(e,t){const n=t?e?hW:dW:e?fW:cW;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get($t(n,a)&&a in r?n:r,a,i)}const vW={get:O_(!1,!1)},pW={get:O_(!1,!0)},mW={get:O_(!0,!1)},gW={get:O_(!0,!0)};function IN(e,t,n){const r=it(n);if(r!==n&&t.call(e,r)){const a=r2(e);console.warn(`Reactive ${a} contains both the raw and reactive versions of the same object${a==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const RN=new WeakMap,ON=new WeakMap,kN=new WeakMap,NN=new WeakMap;function yW(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _W(e){return e.__v_skip||!Object.isExtensible(e)?0:yW(r2(e))}function Rn(e){return uu(e)?e:k_(e,!1,PN,vW,RN)}function xW(e){return k_(e,!1,sW,pW,ON)}function wm(e){return k_(e,!0,LN,mW,kN)}function Nv(e){return k_(e,!0,lW,gW,NN)}function k_(e,t,n,r,a){if(!mn(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=_W(e);if(o===0)return e;const s=new Proxy(e,o===2?r:n);return a.set(e,s),s}function hs(e){return uu(e)?hs(e.__v_raw):!!(e&&e.__v_isReactive)}function uu(e){return!!(e&&e.__v_isReadonly)}function c0(e){return!!(e&&e.__v_isShallow)}function f0(e){return hs(e)||uu(e)}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function Ys(e){return o0(e,"__v_skip",!0),e}const Ap=e=>mn(e)?Rn(e):e,u2=e=>mn(e)?wm(e):e;function BN(e){au&&Ua&&(e=it(e),EN(e.dep||(e.dep=o2()),{target:e,type:"get",key:"value"}))}function VN(e,t){e=it(e);const n=e.dep;n&&cS(n,{target:e,type:"set",key:"value",newValue:t})}function sn(e){return!!(e&&e.__v_isRef===!0)}function te(e){return FN(e,!1)}function ke(e){return FN(e,!0)}function FN(e,t){return sn(e)?e:new bW(e,t)}class bW{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:it(t),this._value=n?t:Ap(t)}get value(){return BN(this),this._value}set value(t){const n=this.__v_isShallow||c0(t)||uu(t);t=n?t:it(t),Cp(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ap(t),VN(this,t))}}function ie(e){return sn(e)?e.value:e}const wW={get:(e,t,n)=>ie(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return sn(a)&&!sn(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function UN(e){return hs(e)?e:new Proxy(e,wW)}function Hd(e){f0(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=nt(e)?new Array(e.length):{};for(const n in e)t[n]=zN(e,n);return t}class SW{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return XG(it(this._object),this._key)}}class TW{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ye(e,t,n){return sn(e)?e:gt(e)?new TW(e):mn(e)&&arguments.length>1?zN(e,t,n):te(e)}function zN(e,t,n){const r=e[t];return sn(r)?r:new SW(e,t,n)}class CW{constructor(t,n,r,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new s2(t,()=>{this._dirty||(this._dirty=!0,VN(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=it(this);return BN(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function AW(e,t,n=!1){let r,a;const i=gt(e);i?(r=e,a=()=>{console.warn("Write operation failed: computed value is readonly")}):(r=e.get,a=e.set);const o=new CW(r,a,i||!a,n);return t&&!n&&(o.effect.onTrack=t.onTrack,o.effect.onTrigger=t.onTrigger),o}const Rc=[];function Sy(e){Rc.push(e)}function Ty(){Rc.pop()}function Te(e,...t){vf();const n=Rc.length?Rc[Rc.length-1].component:null,r=n&&n.appContext.config.warnHandler,a=EW();if(r)tl(r,n,11,[e+t.join(""),n&&n.proxy,a.map(({vnode:i})=>`at <${G_(n,i.type)}>`).join(`
`),a]);else{const i=[`[Vue warn]: ${e}`,...t];a.length&&i.push(`
`,...DW(a)),console.warn(...i)}pf()}function EW(){let e=Rc[Rc.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function DW(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...MW(n))}),t}function MW({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,a=` at <${G_(e.component,e.type,r)}`,i=">"+n;return e.props?[a,...PW(e.props),i]:[a+i]}function PW(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...HN(r,e[r]))}),n.length>3&&t.push(" ..."),t}function HN(e,t,n){return Gn(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:sn(t)?(t=HN(e,it(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):gt(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=it(t),n?t:[`${e}=`,t])}function LW(e,t){e!==void 0&&(typeof e!="number"?Te(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&Te(`${t} is NaN - the duration expression might be incorrect.`))}const c2={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function tl(e,t,n,r){let a;try{a=r?e(...r):e()}catch(i){N_(i,t,n)}return a}function Qi(e,t,n,r){if(gt(e)){const i=tl(e,t,n,r);return i&&n2(i)&&i.catch(o=>{N_(o,t,n)}),i}const a=[];for(let i=0;i<e.length;i++)a.push(Qi(e[i],t,n,r));return a}function N_(e,t,n,r=!0){const a=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,s=c2[n];for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,s)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){tl(l,null,10,[e,o,s]);return}}IW(e,n,a,r)}function IW(e,t,n,r=!0){{const a=c2[t];if(n&&Sy(n),Te(`Unhandled error${a?` during execution of ${a}`:""}`),n&&Ty(),r)throw e;console.error(e)}}let Ep=!1,fS=!1;const ga=[];let ts=0;const Id=[];let Jo=null,Xl=0;const $N=Promise.resolve();let f2=null;const RW=100;function Ot(e){const t=f2||$N;return e?t.then(this?e.bind(this):e):t}function OW(e){let t=ts+1,n=ga.length;for(;t<n;){const r=t+n>>>1;Dp(ga[r])<e?t=r+1:n=r}return t}function B_(e){(!ga.length||!ga.includes(e,Ep&&e.allowRecurse?ts+1:ts))&&(e.id==null?ga.push(e):ga.splice(OW(e.id),0,e),GN())}function GN(){!Ep&&!fS&&(fS=!0,f2=$N.then(jN))}function kW(e){const t=ga.indexOf(e);t>ts&&ga.splice(t,1)}function WN(e){nt(e)?Id.push(...e):(!Jo||!Jo.includes(e,e.allowRecurse?Xl+1:Xl))&&Id.push(e),GN()}function _D(e,t=Ep?ts+1:0){for(e=e||new Map;t<ga.length;t++){const n=ga[t];if(n&&n.pre){if(d2(e,n))continue;ga.splice(t,1),t--,n()}}}function YN(e){if(Id.length){const t=[...new Set(Id)];if(Id.length=0,Jo){Jo.push(...t);return}for(Jo=t,e=e||new Map,Jo.sort((n,r)=>Dp(n)-Dp(r)),Xl=0;Xl<Jo.length;Xl++)d2(e,Jo[Xl])||Jo[Xl]();Jo=null,Xl=0}}const Dp=e=>e.id==null?1/0:e.id,NW=(e,t)=>{const n=Dp(e)-Dp(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function jN(e){fS=!1,Ep=!0,e=e||new Map,ga.sort(NW);const t=n=>d2(e,n);try{for(ts=0;ts<ga.length;ts++){const n=ga[ts];if(n&&n.active!==!1){if(t(n))continue;tl(n,null,14)}}}finally{ts=0,ga.length=0,YN(e),Ep=!1,f2=null,(ga.length||Id.length)&&jN(e)}}function d2(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>RW){const r=t.ownerInstance,a=r&&C2(r.type);return Te(`Maximum recursive updates exceeded${a?` in component <${a}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let iu=!1;const _d=new Set;s0().__VUE_HMR_RUNTIME__={createRecord:vx(XN),rerender:vx(FW),reload:vx(UW)};const qc=new Map;function BW(e){const t=e.type.__hmrId;let n=qc.get(t);n||(XN(t,e.type),n=qc.get(t)),n.instances.add(e)}function VW(e){qc.get(e.type.__hmrId).instances.delete(e)}function XN(e,t){return qc.has(e)?!1:(qc.set(e,{initialDef:tp(t),instances:new Set}),!0)}function tp(e){return D3(e)?e.__vccOpts:e}function FW(e,t){const n=qc.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(r=>{t&&(r.render=t,tp(r.type).render=t),r.renderCache=[],iu=!0,r.update(),iu=!1}))}function UW(e,t){const n=qc.get(e);if(!n)return;t=tp(t),xD(n.initialDef,t);const r=[...n.instances];for(const a of r){const i=tp(a.type);_d.has(i)||(i!==n.initialDef&&xD(i,t),_d.add(i)),a.appContext.propsCache.delete(a.type),a.appContext.emitsCache.delete(a.type),a.appContext.optionsCache.delete(a.type),a.ceReload?(_d.add(i),a.ceReload(t.styles),_d.delete(i)):a.parent?B_(a.parent.update):a.appContext.reload?a.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}WN(()=>{for(const a of r)_d.delete(tp(a.type))})}function xD(e,t){Vn(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function vx(e){return(t,n)=>{try{return e(t,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let ns,Bv=[],dS=!1;function Sm(e,...t){ns?ns.emit(e,...t):dS||Bv.push({event:e,args:t})}function qN(e,t){var n,r;ns=e,ns?(ns.enabled=!0,Bv.forEach(({event:a,args:i})=>ns.emit(a,...i)),Bv=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{qN(i,t)}),setTimeout(()=>{ns||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,dS=!0,Bv=[])},3e3)):(dS=!0,Bv=[])}function zW(e,t){Sm("app:init",e,t,{Fragment:Ae,Text:vh,Comment:Qr,Static:Cy})}function HW(e){Sm("app:unmount",e)}const $W=h2("component:added"),ZN=h2("component:updated"),GW=h2("component:removed"),WW=e=>{ns&&typeof ns.cleanupBuffer=="function"&&!ns.cleanupBuffer(e)&&GW(e)};function h2(e){return t=>{Sm(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const YW=KN("perf:start"),jW=KN("perf:end");function KN(e){return(t,n,r)=>{Sm(e,t.appContext.app,t.uid,t,n,r)}}function XW(e,t,n){Sm("component:emit",e.appContext.app,e,t,n)}function qW(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ln;{const{emitsOptions:c,propsOptions:[f]}=e;if(c)if(!(t in c))(!f||!(lc(t)in f))&&Te(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${lc(t)}" prop.`);else{const d=c[t];gt(d)&&(d(...n)||Te(`Invalid event arguments: event validation failed for event "${t}".`))}}let a=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=r[c]||Ln;d&&(a=n.map(h=>Gn(h)?h.trim():h)),f&&(a=n.map(sS))}XW(e,t,a);{const c=t.toLowerCase();c!==t&&r[lc(c)]&&Te(`Event "${c}" is emitted in component ${G_(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${ol(t)}" instead of "${t}".`)}let s,l=r[s=lc(t)]||r[s=lc(io(t))];!l&&i&&(l=r[s=lc(ol(t))]),l&&Qi(l,e,6,a);const u=r[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Qi(u,e,6,a)}}function QN(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!gt(e)){const l=u=>{const c=QN(u,t,!0);c&&(s=!0,Vn(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(mn(e)&&r.set(e,null),null):(nt(i)?i.forEach(l=>o[l]=null):Vn(o,i),mn(e)&&r.set(e,o),o)}function V_(e,t){return!e||!xm(t)?!1:(t=t.slice(2).replace(/Once$/,""),$t(e,t[0].toLowerCase()+t.slice(1))||$t(e,ol(t))||$t(e,t))}let Pr=null,F_=null;function d0(e){const t=Pr;return Pr=e,F_=e&&e.type.__scopeId||null,t}function ZW(e){F_=e}function KW(){F_=null}function ne(e,t=Pr,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&kD(-1);const i=d0(t);let o;try{o=e(...a)}finally{d0(i),r._d&&kD(1)}return ZN(t),o};return r._n=!0,r._c=!0,r._d=!0,r}let hS=!1;function h0(){hS=!0}function px(e){const{type:t,vnode:n,proxy:r,withProxy:a,props:i,propsOptions:[o],slots:s,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:h,ctx:v,inheritAttrs:p}=e;let m,g;const y=d0(e);hS=!1;try{if(n.shapeFlag&4){const w=a||r;m=Po(c.call(w,w,f,i,h,d,v)),g=l}else{const w=t;l===i&&h0(),m=Po(w.length>1?w(i,{get attrs(){return h0(),l},slots:s,emit:u}):w(i,null)),g=t.props?l:JW(l)}}catch(w){rp.length=0,N_(w,e,1),m=D(Qr)}let _=m,x;if(m.patchFlag>0&&m.patchFlag&2048&&([_,x]=QW(m)),g&&p!==!1){const w=Object.keys(g),{shapeFlag:b}=_;if(w.length){if(b&7)o&&w.some(i0)&&(g=e8(g,o)),_=Bo(_,g);else if(!hS&&_.type!==Qr){const S=Object.keys(l),C=[],A=[];for(let M=0,T=S.length;M<T;M++){const E=S[M];xm(E)?i0(E)||C.push(E[2].toLowerCase()+E.slice(3)):A.push(E)}A.length&&Te(`Extraneous non-props attributes (${A.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),C.length&&Te(`Extraneous non-emits event listeners (${C.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(bD(_)||Te("Runtime directive used on component with non-element root node. The directives will not function as intended."),_=Bo(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(bD(_)||Te("Component inside <Transition> renders non-element root node that cannot be animated."),_.transition=n.transition),x?x(_):m=_,d0(y),m}const QW=e=>{const t=e.children,n=e.dynamicChildren,r=JN(t);if(!r)return[e,void 0];const a=t.indexOf(r),i=n?n.indexOf(r):-1,o=s=>{t[a]=s,n&&(i>-1?n[i]=s:s.patchFlag>0&&(e.dynamicChildren=[...n,s]))};return[Po(r),o]};function JN(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if($d(r)){if(r.type!==Qr||r.children==="v-if"){if(t)return;t=r}}else return}return t}const JW=e=>{let t;for(const n in e)(n==="class"||n==="style"||xm(n))&&((t||(t={}))[n]=e[n]);return t},e8=(e,t)=>{const n={};for(const r in e)(!i0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n},bD=e=>e.shapeFlag&7||e.type===Qr;function t8(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,u=i.emitsOptions;if((a||s)&&iu||t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?wD(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!V_(u,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?wD(r,o,u):!0:!!o;return!1}function wD(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!V_(n,i))return!0}return!1}function n8({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const r8=e=>e.__isSuspense;function a8(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):WN(e)}function qn(e,t){return v2(e,null,t)}const Km={};function Le(e,t,n){return gt(t)||Te("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),v2(e,t,n)}function v2(e,t,{immediate:n,deep:r,flush:a,onTrack:i,onTrigger:o}=Ln){var s;t||(n!==void 0&&Te('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&Te('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const l=w=>{Te("Invalid watch source: ",w,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=i2()===((s=Mr)==null?void 0:s.scope)?Mr:null;let c,f=!1,d=!1;if(sn(e)?(c=()=>e.value,f=c0(e)):hs(e)?(c=()=>e,r=!0):nt(e)?(d=!0,f=e.some(w=>hs(w)||c0(w)),c=()=>e.map(w=>{if(sn(w))return w.value;if(hs(w))return gc(w);if(gt(w))return tl(w,u,2);l(w)})):gt(e)?t?c=()=>tl(e,u,2):c=()=>{if(!(u&&u.isUnmounted))return h&&h(),Qi(e,u,3,[v])}:(c=si,l(e)),t&&r){const w=c;c=()=>gc(w())}let h,v=w=>{h=_.onStop=()=>{tl(w,u,4)}},p;if(Rp)if(v=si,t?n&&Qi(t,u,3,[c(),d?[]:void 0,v]):c(),a==="sync"){const w=o6();p=w.__watcherHandles||(w.__watcherHandles=[])}else return si;let m=d?new Array(e.length).fill(Km):Km;const g=()=>{if(_.active)if(t){const w=_.run();(r||f||(d?w.some((b,S)=>Cp(b,m[S])):Cp(w,m)))&&(h&&h(),Qi(t,u,3,[w,m===Km?void 0:d&&m[0]===Km?[]:m,v]),m=w)}else _.run()};g.allowRecurse=!!t;let y;a==="sync"?y=g:a==="post"?y=()=>ri(g,u&&u.suspense):(g.pre=!0,u&&(g.id=u.uid),y=()=>B_(g));const _=new s2(c,y);_.onTrack=i,_.onTrigger=o,t?n?g():m=_.run():a==="post"?ri(_.run.bind(_),u&&u.suspense):_.run();const x=()=>{_.stop(),u&&u.scope&&e2(u.scope.effects,_)};return p&&p.push(x),x}function i8(e,t,n){const r=this.proxy,a=Gn(e)?e.includes(".")?e3(r,e):()=>r[e]:e.bind(r,r);let i;gt(t)?i=t:(i=t.handler,n=t);const o=Mr;Gd(this);const s=v2(a,i.bind(r),n);return o?Gd(o):kc(),s}function e3(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function gc(e,t){if(!mn(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),sn(e))gc(e.value,t);else if(nt(e))for(let n=0;n<e.length;n++)gc(e[n],t);else if(yN(e)||Lc(e))e.forEach(n=>{gc(n,t)});else if(xN(e))for(const n in e)gc(e[n],t);return e}function t3(e){LG(e)&&Te("Do not use built-in directive ids as custom directive id: "+e)}function On(e,t){const n=Pr;if(n===null)return Te("withDirectives can only be used inside render functions."),e;const r=$_(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,l,u=Ln]=t[i];o&&(gt(o)&&(o={mounted:o,updated:o}),o.deep&&gc(s),a.push({dir:o,instance:r,value:s,oldValue:void 0,arg:l,modifiers:u}))}return e}function Eu(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[r];l&&(vf(),Qi(l,n,8,[e.el,s,e,t]),pf())}}function n3(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nn(()=>{e.isMounted=!0}),la(()=>{e.isUnmounting=!0}),e}const Pi=[Function,Array],r3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pi,onEnter:Pi,onAfterEnter:Pi,onEnterCancelled:Pi,onBeforeLeave:Pi,onLeave:Pi,onAfterLeave:Pi,onLeaveCancelled:Pi,onBeforeAppear:Pi,onAppear:Pi,onAfterAppear:Pi,onAppearCancelled:Pi},o8={name:"BaseTransition",props:r3,setup(e,{slots:t}){const n=gu(),r=n3();let a;return()=>{const i=t.default&&p2(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){let p=!1;for(const m of i)if(m.type!==Qr){if(p){Te("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}o=m,p=!0}}const s=it(e),{mode:l}=s;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&Te(`invalid <transition> mode: ${l}`),r.isLeaving)return mx(o);const u=SD(o);if(!u)return mx(o);const c=Mp(u,s,r,n);Pp(u,c);const f=n.subTree,d=f&&SD(f);let h=!1;const{getTransitionKey:v}=u.type;if(v){const p=v();a===void 0?a=p:p!==a&&(a=p,h=!0)}if(d&&d.type!==Qr&&(!vc(u,d)||h)){const p=Mp(d,s,r,n);if(Pp(d,p),l==="out-in")return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},mx(o);l==="in-out"&&u.type!==Qr&&(p.delayLeave=(m,g,y)=>{const _=a3(r,d);_[String(d.key)]=d,m._leaveCb=()=>{g(),m._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=y})}return o}}},s8=o8;function a3(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Mp(e,t,n,r){const{appear:a,mode:i,persisted:o=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:p,onAppear:m,onAfterAppear:g,onAppearCancelled:y}=t,_=String(e.key),x=a3(n,e),w=(C,A)=>{C&&Qi(C,r,9,A)},b=(C,A)=>{const M=A[1];w(C,A),nt(C)?C.every(T=>T.length<=1)&&M():C.length<=1&&M()},S={mode:i,persisted:o,beforeEnter(C){let A=s;if(!n.isMounted)if(a)A=p||s;else return;C._leaveCb&&C._leaveCb(!0);const M=x[_];M&&vc(e,M)&&M.el._leaveCb&&M.el._leaveCb(),w(A,[C])},enter(C){let A=l,M=u,T=c;if(!n.isMounted)if(a)A=m||l,M=g||u,T=y||c;else return;let E=!1;const P=C._enterCb=I=>{E||(E=!0,I?w(T,[C]):w(M,[C]),S.delayedLeave&&S.delayedLeave(),C._enterCb=void 0)};A?b(A,[C,P]):P()},leave(C,A){const M=String(e.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return A();w(f,[C]);let T=!1;const E=C._leaveCb=P=>{T||(T=!0,A(),P?w(v,[C]):w(h,[C]),C._leaveCb=void 0,x[M]===e&&delete x[M])};x[M]=e,d?b(d,[C,E]):E()},clone(C){return Mp(C,t,n,r)}};return S}function mx(e){if(Tm(e))return e=Bo(e),e.children=null,e}function SD(e){return Tm(e)?e.children?e.children[0]:void 0:e}function Pp(e,t){e.shapeFlag&6&&e.component?Pp(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function p2(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ae?(o.patchFlag&128&&a++,r=r.concat(p2(o.children,t,s))):(t||o.type!==Qr)&&r.push(s!=null?Bo(o,{key:s}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function hn(e,t){return gt(e)?(()=>Vn({name:e.name},t,{setup:e}))():e}const np=e=>!!e.type.__asyncLoader,Tm=e=>e.type.__isKeepAlive;function i3(e,t){s3(e,"a",t)}function o3(e,t){s3(e,"da",t)}function s3(e,t,n=Mr){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(U_(t,r,n),n){let a=n.parent;for(;a&&a.parent;)Tm(a.parent.vnode)&&l8(r,t,n,a),a=a.parent}}function l8(e,t,n,r){const a=U_(t,e,r,!0);Cm(()=>{e2(r[t],a)},n)}function U_(e,t,n=Mr,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;vf(),Gd(n);const s=Qi(t,n,e,o);return kc(),pf(),s});return r?a.unshift(i):a.push(i),i}else{const a=lc(c2[e].replace(/ hook$/,""));Te(`${a} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const dl=e=>(t,n=Mr)=>(!Rp||e==="sp")&&U_(e,(...r)=>t(...r),n),z_=dl("bm"),nn=dl("m"),m2=dl("bu"),l3=dl("u"),la=dl("bum"),Cm=dl("um"),u8=dl("sp"),c8=dl("rtg"),f8=dl("rtc");function d8(e,t=Mr){U_("ec",e,t)}const v0="components",h8="directives";function Ue(e,t){return y2(v0,e,!0,t)||e}const u3=Symbol.for("v-ndc");function g2(e){return Gn(e)?y2(v0,e,!1)||e:e||u3}function di(e){return y2(h8,e)}function y2(e,t,n=!0,r=!1){const a=Pr||Mr;if(a){const i=a.type;if(e===v0){const s=C2(i,!1);if(s&&(s===t||s===io(t)||s===oo(io(t))))return i}const o=TD(a[e]||i[e],t)||TD(a.appContext[e],t);if(!o&&r)return i;if(n&&!o){const s=e===v0?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";Te(`Failed to resolve ${e.slice(0,-1)}: ${t}${s}`)}return o}else Te(`resolve${oo(e.slice(0,-1))} can only be used in render() or setup().`)}function TD(e,t){return e&&(e[t]||e[io(t)]||e[oo(io(t))])}function cr(e,t,n,r){let a;const i=n&&n[r];if(nt(e)||Gn(e)){a=new Array(e.length);for(let o=0,s=e.length;o<s;o++)a[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){Number.isInteger(e)||Te(`The v-for range expect an integer value but got ${e}.`),a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i&&i[o])}else if(mn(e))if(e[Symbol.iterator])a=Array.from(e,(o,s)=>t(o,s,void 0,i&&i[s]));else{const o=Object.keys(e);a=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const u=o[s];a[s]=t(e[u],u,s,i&&i[s])}}else a=[];return n&&(n[r]=a),a}function ii(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(nt(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const i=r.fn(...a);return i&&(i.key=r.key),i}:r.fn)}return e}function Xe(e,t,n={},r,a){if(Pr.isCE||Pr.parent&&np(Pr.parent)&&Pr.parent.isCE)return t!=="default"&&(n.name=t),D("slot",n,r&&r());let i=e[t];i&&i.length>1&&(Te("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),i=()=>[]),i&&i._c&&(i._d=!1),J();const o=i&&c3(i(n)),s=Ie(Ae,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!a&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function c3(e){return e.some(t=>$d(t)?!(t.type===Qr||t.type===Ae&&!c3(t.children)):!0)?e:null}const vS=e=>e?C3(e)?$_(e)||e.proxy:vS(e.parent):null,Oc=Vn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>Nv(e.props),$attrs:e=>Nv(e.attrs),$slots:e=>Nv(e.slots),$refs:e=>Nv(e.refs),$parent:e=>vS(e.parent),$root:e=>vS(e.root),$emit:e=>e.emit,$options:e=>b2(e),$forceUpdate:e=>e.f||(e.f=()=>B_(e.update)),$nextTick:e=>e.n||(e.n=Ot.bind(e.proxy)),$watch:e=>i8.bind(e)}),_2=e=>e==="_"||e==="$",gx=(e,t)=>e!==Ln&&!e.__isScriptSetup&&$t(e,t),f3={get({_:e},t){const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:s,appContext:l}=e;if(t==="__isVue")return!0;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(gx(r,t))return o[t]=1,r[t];if(a!==Ln&&$t(a,t))return o[t]=2,a[t];if((u=e.propsOptions[0])&&$t(u,t))return o[t]=3,i[t];if(n!==Ln&&$t(n,t))return o[t]=4,n[t];pS&&(o[t]=0)}}const c=Oc[t];let f,d;if(c)return t==="$attrs"?(Sa(e,"get",t),h0()):t==="$slots"&&Sa(e,"get",t),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(n!==Ln&&$t(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,$t(d,t))return d[t];Pr&&(!Gn(t)||t.indexOf("__v")!==0)&&(a!==Ln&&_2(t[0])&&$t(a,t)?Te(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Pr&&Te(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return gx(a,t)?(a[t]=n,!0):a.__isScriptSetup&&$t(a,t)?(Te(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):r!==Ln&&$t(r,t)?(r[t]=n,!0):$t(e.props,t)?(Te(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(Te(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(i,t,{enumerable:!0,configurable:!0,value:n}):i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let s;return!!n[o]||e!==Ln&&$t(e,o)||gx(t,o)||(s=i[0])&&$t(s,o)||$t(r,o)||$t(Oc,o)||$t(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$t(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};f3.ownKeys=e=>(Te("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function v8(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Oc).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Oc[n](e),set:si})}),t}function p8(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>e.props[r],set:si})})}function m8(e){const{ctx:t,setupState:n}=e;Object.keys(it(n)).forEach(r=>{if(!n.__isScriptSetup){if(_2(r[0])){Te(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:si})}})}function x2(){return g8().slots}function g8(){const e=gu();return e||Te("useContext() called without active instance."),e.setupContext||(e.setupContext=E3(e))}function CD(e){return nt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function y8(){const e=Object.create(null);return(t,n)=>{e[n]?Te(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let pS=!0;function _8(e){const t=b2(e),n=e.proxy,r=e.ctx;pS=!1,t.beforeCreate&&AD(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:p,deactivated:m,beforeDestroy:g,beforeUnmount:y,destroyed:_,unmounted:x,render:w,renderTracked:b,renderTriggered:S,errorCaptured:C,serverPrefetch:A,expose:M,inheritAttrs:T,components:E,directives:P,filters:I}=t,k=y8();{const[U]=e.propsOptions;if(U)for(const R in U)k("Props",R)}if(u&&x8(u,r,k),o)for(const U in o){const R=o[U];gt(R)?(Object.defineProperty(r,U,{value:R.bind(n),configurable:!0,enumerable:!0,writable:!0}),k("Methods",U)):Te(`Method "${U}" has type "${typeof R}" in the component definition. Did you reference the function correctly?`)}if(a){gt(a)||Te("The data option must be a function. Plain object usage is no longer supported.");const U=a.call(n,n);if(n2(U)&&Te("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!mn(U))Te("data() should return an object.");else{e.data=Rn(U);for(const R in U)k("Data",R),_2(R[0])||Object.defineProperty(r,R,{configurable:!0,enumerable:!0,get:()=>U[R],set:si})}}if(pS=!0,i)for(const U in i){const R=i[U],L=gt(R)?R.bind(n,n):gt(R.get)?R.get.bind(n,n):si;L===si&&Te(`Computed property "${U}" has no getter.`);const z=!gt(R)&&gt(R.set)?R.set.bind(n):()=>{Te(`Write operation failed: computed property "${U}" is readonly.`)},X=O({get:L,set:z});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>X.value,set:Y=>X.value=Y}),k("Computed",U)}if(s)for(const U in s)d3(s[U],r,n,U);if(l){const U=gt(l)?l.call(n):l;Reflect.ownKeys(U).forEach(R=>{dr(R,U[R])})}c&&AD(c,e,"c");function B(U,R){nt(R)?R.forEach(L=>U(L.bind(n))):R&&U(R.bind(n))}if(B(z_,f),B(nn,d),B(m2,h),B(l3,v),B(i3,p),B(o3,m),B(d8,C),B(f8,b),B(c8,S),B(la,y),B(Cm,x),B(u8,A),nt(M))if(M.length){const U=e.exposed||(e.exposed={});M.forEach(R=>{Object.defineProperty(U,R,{get:()=>n[R],set:L=>n[R]=L})})}else e.exposed||(e.exposed={});w&&e.render===si&&(e.render=w),T!=null&&(e.inheritAttrs=T),E&&(e.components=E),P&&(e.directives=P)}function x8(e,t,n=si){nt(e)&&(e=mS(e));for(const r in e){const a=e[r];let i;mn(a)?"default"in a?i=It(a.from||r,a.default,!0):i=It(a.from||r):i=It(a),sn(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i,n("Inject",r)}}function AD(e,t,n){Qi(nt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function d3(e,t,n,r){const a=r.includes(".")?e3(n,r):()=>n[r];if(Gn(e)){const i=t[e];gt(i)?Le(a,i):Te(`Invalid watch handler specified by key "${e}"`,i)}else if(gt(e))Le(a,e.bind(n));else if(mn(e))if(nt(e))e.forEach(i=>d3(i,t,n,r));else{const i=gt(e.handler)?e.handler.bind(n):t[e.handler];gt(i)?Le(a,i,e):Te(`Invalid watch handler specified by key "${e.handler}"`,i)}else Te(`Invalid watch option: "${r}"`,e)}function b2(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!n&&!r?l=t:(l={},a.length&&a.forEach(u=>p0(l,u,o,!0)),p0(l,t,o)),mn(t)&&i.set(t,l),l}function p0(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&p0(e,i,n,!0),a&&a.forEach(o=>p0(e,o,n,!0));for(const o in t)if(r&&o==="expose")Te('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const s=b8[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const b8={data:ED,props:DD,emits:DD,methods:Vv,computed:Vv,beforeCreate:ka,created:ka,beforeMount:ka,mounted:ka,beforeUpdate:ka,updated:ka,beforeDestroy:ka,beforeUnmount:ka,destroyed:ka,unmounted:ka,activated:ka,deactivated:ka,errorCaptured:ka,serverPrefetch:ka,components:Vv,directives:Vv,watch:S8,provide:ED,inject:w8};function ED(e,t){return t?e?function(){return Vn(gt(e)?e.call(this,this):e,gt(t)?t.call(this,this):t)}:t:e}function w8(e,t){return Vv(mS(e),mS(t))}function mS(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ka(e,t){return e?[...new Set([].concat(e,t))]:t}function Vv(e,t){return e?Vn(Object.create(null),e,t):t}function DD(e,t){return e?nt(e)&&nt(t)?[...new Set([...e,...t])]:Vn(Object.create(null),CD(e),CD(t??{})):t}function S8(e,t){if(!e)return t;if(!t)return e;const n=Vn(Object.create(null),e);for(const r in t)n[r]=ka(e[r],t[r]);return n}function h3(){return{app:null,config:{isNativeTag:gN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let T8=0;function C8(e,t){return function(r,a=null){gt(r)||(r=Vn({},r)),a!=null&&!mn(a)&&(Te("root props passed to app.mount() must be an object."),a=null);const i=h3();Object.defineProperty(i.config,"unwrapInjectedRef",{get(){return!0},set(){Te("app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.")}});const o=new Set;let s=!1;const l=i.app={_uid:T8++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:VD,get config(){return i.config},set config(u){Te("app.config cannot be replaced. Modify individual options instead.")},use(u,...c){return o.has(u)?Te("Plugin has already been applied to target app."):u&&gt(u.install)?(o.add(u),u.install(l,...c)):gt(u)?(o.add(u),u(l,...c)):Te('A plugin must either be a function or an object with an "install" function.'),l},mixin(u){return i.mixins.includes(u)?Te("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):i.mixins.push(u),l},component(u,c){return bS(u,i.config),c?(i.components[u]&&Te(`Component "${u}" has already been registered in target app.`),i.components[u]=c,l):i.components[u]},directive(u,c){return t3(u),c?(i.directives[u]&&Te(`Directive "${u}" has already been registered in target app.`),i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(s)Te("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&Te("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=D(r,a);return d.appContext=i,i.reload=()=>{e(Bo(d),u,f)},c&&t?t(d,u):e(d,u,f),s=!0,l._container=u,u.__vue_app__=l,l._instance=d.component,zW(l,VD),$_(d.component)||d.component.proxy}},unmount(){s?(e(null,l._container),l._instance=null,HW(l),delete l._container.__vue_app__):Te("Cannot unmount an app that is not mounted.")},provide(u,c){return u in i.provides&&Te(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),i.provides[u]=c,l},runWithContext(u){Lp=l;try{return u()}finally{Lp=null}}};return l}}let Lp=null;function dr(e,t){if(!Mr)Te("provide() can only be used inside setup().");else{let n=Mr.provides;const r=Mr.parent&&Mr.parent.provides;r===n&&(n=Mr.provides=Object.create(r)),n[e]=t}}function It(e,t,n=!1){const r=Mr||Pr;if(r||Lp){const a=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Lp._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&gt(t)?t.call(r&&r.proxy):t;Te(`injection "${String(e)}" not found.`)}else Te("inject() can only be used inside setup() or functional components.")}function A8(){return!!(Mr||Pr||Lp)}function E8(e,t,n,r=!1){const a={},i={};o0(i,H_,1),e.propsDefaults=Object.create(null),v3(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);m3(t||{},a,e),n?e.props=r?a:xW(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function D8(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function M8(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=it(a),[l]=e.propsOptions;let u=!1;if(!D8(e)&&(r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(V_(e.emitsOptions,d))continue;const h=t[d];if(l)if($t(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const v=io(d);a[v]=gS(l,s,v,h,e,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{v3(e,t,a,i)&&(u=!0);let c;for(const f in s)(!t||!$t(t,f)&&((c=ol(f))===f||!$t(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(a[f]=gS(l,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!$t(t,f))&&(delete i[f],u=!0)}u&&ys(e,"set","$attrs"),m3(t||{},a,e)}function v3(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(wy(l))continue;const u=t[l];let c;a&&$t(a,c=io(l))?!i||!i.includes(c)?n[c]=u:(s||(s={}))[c]=u:V_(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=it(n),u=s||Ln;for(let c=0;c<i.length;c++){const f=i[c];n[f]=gS(a,l,f,u[f],e,!$t(u,f))}}return o}function gS(e,t,n,r,a,i){const o=e[n];if(o!=null){const s=$t(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&gt(l)){const{propsDefaults:u}=a;n in u?r=u[n]:(Gd(a),r=u[n]=l.call(null,t),kc())}else r=l}o[0]&&(i&&!s?r=!1:o[1]&&(r===""||r===ol(n))&&(r=!0))}return r}function p3(e,t,n=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},s=[];let l=!1;if(!gt(e)){const c=f=>{l=!0;const[d,h]=p3(f,t,!0);Vn(o,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return mn(e)&&r.set(e,Ld),Ld;if(nt(i))for(let c=0;c<i.length;c++){Gn(i[c])||Te("props must be strings when using array syntax.",i[c]);const f=io(i[c]);MD(f)&&(o[f]=Ln)}else if(i){mn(i)||Te("invalid props options",i);for(const c in i){const f=io(c);if(MD(f)){const d=i[c],h=o[f]=nt(d)||gt(d)?{type:d}:Vn({},d);if(h){const v=LD(Boolean,h.type),p=LD(String,h.type);h[0]=v>-1,h[1]=p<0||v<p,(v>-1||$t(h,"default"))&&s.push(f)}}}}const u=[o,s];return mn(e)&&r.set(e,u),u}function MD(e){return e[0]!=="$"?!0:(Te(`Invalid prop name: "${e}" is a reserved property.`),!1)}function yS(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function PD(e,t){return yS(e)===yS(t)}function LD(e,t){return nt(t)?t.findIndex(n=>PD(n,e)):gt(t)&&PD(t,e)?0:-1}function m3(e,t,n){const r=it(t),a=n.propsOptions[0];for(const i in a){let o=a[i];o!=null&&P8(i,r[i],o,!$t(e,i)&&!$t(e,ol(i)))}}function P8(e,t,n,r){const{type:a,required:i,validator:o,skipCheck:s}=n;if(i&&r){Te('Missing required prop: "'+e+'"');return}if(!(t==null&&!i)){if(a!=null&&a!==!0&&!s){let l=!1;const u=nt(a)?a:[a],c=[];for(let f=0;f<u.length&&!l;f++){const{valid:d,expectedType:h}=I8(t,u[f]);c.push(h||""),l=d}if(!l){Te(R8(e,t,c));return}}o&&!o(t)&&Te('Invalid prop: custom validator check failed for prop "'+e+'".')}}const L8=mu("String,Number,Boolean,Function,Symbol,BigInt");function I8(e,t){let n;const r=yS(t);if(L8(r)){const a=typeof e;n=a===r.toLowerCase(),!n&&a==="object"&&(n=e instanceof t)}else r==="Object"?n=mn(e):r==="Array"?n=nt(e):r==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:r}}function R8(e,t,n){let r=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(oo).join(" | ")}`;const a=n[0],i=r2(t),o=ID(t,a),s=ID(t,i);return n.length===1&&RD(a)&&!O8(a,i)&&(r+=` with value ${o}`),r+=`, got ${i} `,RD(i)&&(r+=`with value ${s}.`),r}function ID(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function RD(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function O8(...e){return e.some(t=>t.toLowerCase()==="boolean")}const g3=e=>e[0]==="_"||e==="$stable",w2=e=>nt(e)?e.map(Po):[Po(e)],k8=(e,t,n)=>{if(t._n)return t;const r=ne((...a)=>(Mr&&Te(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),w2(t(...a))),n);return r._c=!1,r},y3=(e,t,n)=>{const r=e._ctx;for(const a in e){if(g3(a))continue;const i=e[a];if(gt(i))t[a]=k8(a,i,r);else if(i!=null){Te(`Non-function value encountered for slot "${a}". Prefer function slots for better performance.`);const o=w2(i);t[a]=()=>o}}},_3=(e,t)=>{Tm(e.vnode)||Te("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=w2(t);e.slots.default=()=>n},N8=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=it(t),o0(t,"_",n)):y3(t,e.slots={})}else e.slots={},t&&_3(e,t);o0(e.slots,H_,1)},B8=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=Ln;if(r.shapeFlag&32){const s=t._;s?iu?(Vn(a,t),ys(e,"set","$slots")):n&&s===1?i=!1:(Vn(a,t),!n&&s===1&&delete a._):(i=!t.$stable,y3(t,a)),o=t}else t&&(_3(e,t),o={default:1});if(i)for(const s in a)!g3(s)&&!(s in o)&&delete a[s]};function _S(e,t,n,r,a=!1){if(nt(e)){e.forEach((d,h)=>_S(d,t&&(nt(t)?t[h]:t),n,r,a));return}if(np(r)&&!a)return;const i=r.shapeFlag&4?$_(r.component)||r.component.proxy:r.el,o=a?null:i,{i:s,r:l}=e;if(!s){Te("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=t&&t.r,c=s.refs===Ln?s.refs={}:s.refs,f=s.setupState;if(u!=null&&u!==l&&(Gn(u)?(c[u]=null,$t(f,u)&&(f[u]=null)):sn(u)&&(u.value=null)),gt(l))tl(l,s,12,[o,c]);else{const d=Gn(l),h=sn(l);if(d||h){const v=()=>{if(e.f){const p=d?$t(f,l)?f[l]:c[l]:l.value;a?nt(p)&&e2(p,i):nt(p)?p.includes(i)||p.push(i):d?(c[l]=[i],$t(f,l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,$t(f,l)&&(f[l]=o)):h?(l.value=o,e.k&&(c[e.k]=o)):Te("Invalid template ref type:",l,`(${typeof l})`)};o?(v.id=-1,ri(v,n)):v()}else Te("Invalid template ref type:",l,`(${typeof l})`)}}let Wh,Kl;function ks(e,t){e.appContext.config.performance&&m0()&&Kl.mark(`vue-${t}-${e.uid}`),YW(e,t,m0()?Kl.now():Date.now())}function Ns(e,t){if(e.appContext.config.performance&&m0()){const n=`vue-${t}-${e.uid}`,r=n+":end";Kl.mark(r),Kl.measure(`<${G_(e,e.type)}> ${t}`,n,r),Kl.clearMarks(n),Kl.clearMarks(r)}jW(e,t,m0()?Kl.now():Date.now())}function m0(){return Wh!==void 0||(typeof window<"u"&&window.performance?(Wh=!0,Kl=window.performance):Wh=!1),Wh}function V8(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const ri=a8;function F8(e){return U8(e)}function U8(e,t){V8();const n=s0();n.__VUE__=!0,qN(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:a,patchProp:i,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=si,insertStaticContent:v}=e,p=(V,G,Q,ue=null,fe=null,ge=null,De=!1,Se=null,le=iu?!1:!!G.dynamicChildren)=>{if(V===G)return;V&&!vc(V,G)&&(ue=Z(V),$(V,fe,ge,!0),V=null),G.patchFlag===-2&&(le=!1,G.dynamicChildren=null);const{type:se,ref:xe,shapeFlag:We}=G;switch(se){case vh:m(V,G,Q,ue);break;case Qr:g(V,G,Q,ue);break;case Cy:V==null?y(G,Q,ue,De):_(V,G,Q,De);break;case Ae:P(V,G,Q,ue,fe,ge,De,Se,le);break;default:We&1?b(V,G,Q,ue,fe,ge,De,Se,le):We&6?I(V,G,Q,ue,fe,ge,De,Se,le):We&64||We&128?se.process(V,G,Q,ue,fe,ge,De,Se,le,ce):Te("Invalid VNode type:",se,`(${typeof se})`)}xe!=null&&fe&&_S(xe,V&&V.ref,ge,G||V,!G)},m=(V,G,Q,ue)=>{if(V==null)r(G.el=s(G.children),Q,ue);else{const fe=G.el=V.el;G.children!==V.children&&u(fe,G.children)}},g=(V,G,Q,ue)=>{V==null?r(G.el=l(G.children||""),Q,ue):G.el=V.el},y=(V,G,Q,ue)=>{[V.el,V.anchor]=v(V.children,G,Q,ue,V.el,V.anchor)},_=(V,G,Q,ue)=>{if(G.children!==V.children){const fe=d(V.anchor);w(V),[G.el,G.anchor]=v(G.children,Q,fe,ue)}else G.el=V.el,G.anchor=V.anchor},x=({el:V,anchor:G},Q,ue)=>{let fe;for(;V&&V!==G;)fe=d(V),r(V,Q,ue),V=fe;r(G,Q,ue)},w=({el:V,anchor:G})=>{let Q;for(;V&&V!==G;)Q=d(V),a(V),V=Q;a(G)},b=(V,G,Q,ue,fe,ge,De,Se,le)=>{De=De||G.type==="svg",V==null?S(G,Q,ue,fe,ge,De,Se,le):M(V,G,fe,ge,De,Se,le)},S=(V,G,Q,ue,fe,ge,De,Se)=>{let le,se;const{type:xe,props:We,shapeFlag:Ke,transition:mt,dirs:Lt}=V;if(le=V.el=o(V.type,ge,We&&We.is,We),Ke&8?c(le,V.children):Ke&16&&A(V.children,le,null,ue,fe,ge&&xe!=="foreignObject",De,Se),Lt&&Eu(V,null,ue,"created"),C(le,V,V.scopeId,De,ue),We){for(const fn in We)fn!=="value"&&!wy(fn)&&i(le,fn,null,We[fn],ge,V.children,ue,fe,K);"value"in We&&i(le,"value",null,We.value),(se=We.onVnodeBeforeMount)&&Yo(se,ue,V)}Object.defineProperty(le,"__vnode",{value:V,enumerable:!1}),Object.defineProperty(le,"__vueParentComponent",{value:ue,enumerable:!1}),Lt&&Eu(V,null,ue,"beforeMount");const rn=(!fe||fe&&!fe.pendingBranch)&&mt&&!mt.persisted;rn&&mt.beforeEnter(le),r(le,G,Q),((se=We&&We.onVnodeMounted)||rn||Lt)&&ri(()=>{se&&Yo(se,ue,V),rn&&mt.enter(le),Lt&&Eu(V,null,ue,"mounted")},fe)},C=(V,G,Q,ue,fe)=>{if(Q&&h(V,Q),ue)for(let ge=0;ge<ue.length;ge++)h(V,ue[ge]);if(fe){let ge=fe.subTree;if(ge.patchFlag>0&&ge.patchFlag&2048&&(ge=JN(ge.children)||ge),G===ge){const De=fe.vnode;C(V,De,De.scopeId,De.slotScopeIds,fe.parent)}}},A=(V,G,Q,ue,fe,ge,De,Se,le=0)=>{for(let se=le;se<V.length;se++){const xe=V[se]=Se?ql(V[se]):Po(V[se]);p(null,xe,G,Q,ue,fe,ge,De,Se)}},M=(V,G,Q,ue,fe,ge,De)=>{const Se=G.el=V.el;let{patchFlag:le,dynamicChildren:se,dirs:xe}=G;le|=V.patchFlag&16;const We=V.props||Ln,Ke=G.props||Ln;let mt;Q&&Du(Q,!1),(mt=Ke.onVnodeBeforeUpdate)&&Yo(mt,Q,G,V),xe&&Eu(G,V,Q,"beforeUpdate"),Q&&Du(Q,!0),iu&&(le=0,De=!1,se=null);const Lt=fe&&G.type!=="foreignObject";if(se?(T(V.dynamicChildren,se,Se,Q,ue,Lt,ge),g0(V,G)):De||L(V,G,Se,null,Q,ue,Lt,ge,!1),le>0){if(le&16)E(Se,G,We,Ke,Q,ue,fe);else if(le&2&&We.class!==Ke.class&&i(Se,"class",null,Ke.class,fe),le&4&&i(Se,"style",We.style,Ke.style,fe),le&8){const rn=G.dynamicProps;for(let fn=0;fn<rn.length;fn++){const Kn=rn[fn],La=We[Kn],bo=Ke[Kn];(bo!==La||Kn==="value")&&i(Se,Kn,La,bo,fe,V.children,Q,ue,K)}}le&1&&V.children!==G.children&&c(Se,G.children)}else!De&&se==null&&E(Se,G,We,Ke,Q,ue,fe);((mt=Ke.onVnodeUpdated)||xe)&&ri(()=>{mt&&Yo(mt,Q,G,V),xe&&Eu(G,V,Q,"updated")},ue)},T=(V,G,Q,ue,fe,ge,De)=>{for(let Se=0;Se<G.length;Se++){const le=V[Se],se=G[Se],xe=le.el&&(le.type===Ae||!vc(le,se)||le.shapeFlag&70)?f(le.el):Q;p(le,se,xe,null,ue,fe,ge,De,!0)}},E=(V,G,Q,ue,fe,ge,De)=>{if(Q!==ue){if(Q!==Ln)for(const Se in Q)!wy(Se)&&!(Se in ue)&&i(V,Se,Q[Se],null,De,G.children,fe,ge,K);for(const Se in ue){if(wy(Se))continue;const le=ue[Se],se=Q[Se];le!==se&&Se!=="value"&&i(V,Se,se,le,De,G.children,fe,ge,K)}"value"in ue&&i(V,"value",Q.value,ue.value)}},P=(V,G,Q,ue,fe,ge,De,Se,le)=>{const se=G.el=V?V.el:s(""),xe=G.anchor=V?V.anchor:s("");let{patchFlag:We,dynamicChildren:Ke,slotScopeIds:mt}=G;(iu||We&2048)&&(We=0,le=!1,Ke=null),mt&&(Se=Se?Se.concat(mt):mt),V==null?(r(se,Q,ue),r(xe,Q,ue),A(G.children,Q,xe,fe,ge,De,Se,le)):We>0&&We&64&&Ke&&V.dynamicChildren?(T(V.dynamicChildren,Ke,Q,fe,ge,De,Se),g0(V,G)):L(V,G,Q,xe,fe,ge,De,Se,le)},I=(V,G,Q,ue,fe,ge,De,Se,le)=>{G.slotScopeIds=Se,V==null?G.shapeFlag&512?fe.ctx.activate(G,Q,ue,De,le):k(G,Q,ue,fe,ge,De,le):B(V,G,le)},k=(V,G,Q,ue,fe,ge,De)=>{const Se=V.component=Z8(V,ue,fe);if(Se.type.__hmrId&&BW(Se),Sy(V),ks(Se,"mount"),Tm(V)&&(Se.ctx.renderer=ce),ks(Se,"init"),Q8(Se),Ns(Se,"init"),Se.asyncDep){if(fe&&fe.registerDep(Se,U),!V.el){const le=Se.subTree=D(Qr);g(null,le,G,Q)}return}U(Se,V,G,Q,fe,ge,De),Ty(),Ns(Se,"mount")},B=(V,G,Q)=>{const ue=G.component=V.component;if(t8(V,G,Q))if(ue.asyncDep&&!ue.asyncResolved){Sy(G),R(ue,G,Q),Ty();return}else ue.next=G,kW(ue.update),ue.update();else G.el=V.el,ue.vnode=G},U=(V,G,Q,ue,fe,ge,De)=>{const Se=()=>{if(V.isMounted){let{next:xe,bu:We,u:Ke,parent:mt,vnode:Lt}=V,rn=xe,fn;Sy(xe||V.vnode),Du(V,!1),xe?(xe.el=Lt.el,R(V,xe,De)):xe=Lt,We&&yd(We),(fn=xe.props&&xe.props.onVnodeBeforeUpdate)&&Yo(fn,mt,xe,Lt),Du(V,!0),ks(V,"render");const Kn=px(V);Ns(V,"render");const La=V.subTree;V.subTree=Kn,ks(V,"patch"),p(La,Kn,f(La.el),Z(La),V,fe,ge),Ns(V,"patch"),xe.el=Kn.el,rn===null&&n8(V,Kn.el),Ke&&ri(Ke,fe),(fn=xe.props&&xe.props.onVnodeUpdated)&&ri(()=>Yo(fn,mt,xe,Lt),fe),ZN(V),Ty()}else{let xe;const{el:We,props:Ke}=G,{bm:mt,m:Lt,parent:rn}=V,fn=np(G);if(Du(V,!1),mt&&yd(mt),!fn&&(xe=Ke&&Ke.onVnodeBeforeMount)&&Yo(xe,rn,G),Du(V,!0),We&&ae){const Kn=()=>{ks(V,"render"),V.subTree=px(V),Ns(V,"render"),ks(V,"hydrate"),ae(We,V.subTree,V,fe,null),Ns(V,"hydrate")};fn?G.type.__asyncLoader().then(()=>!V.isUnmounted&&Kn()):Kn()}else{ks(V,"render");const Kn=V.subTree=px(V);Ns(V,"render"),ks(V,"patch"),p(null,Kn,Q,ue,V,fe,ge),Ns(V,"patch"),G.el=Kn.el}if(Lt&&ri(Lt,fe),!fn&&(xe=Ke&&Ke.onVnodeMounted)){const Kn=G;ri(()=>Yo(xe,rn,Kn),fe)}(G.shapeFlag&256||rn&&np(rn.vnode)&&rn.vnode.shapeFlag&256)&&V.a&&ri(V.a,fe),V.isMounted=!0,$W(V),G=Q=ue=null}},le=V.effect=new s2(Se,()=>B_(se),V.scope),se=V.update=()=>le.run();se.id=V.uid,Du(V,!0),le.onTrack=V.rtc?xe=>yd(V.rtc,xe):void 0,le.onTrigger=V.rtg?xe=>yd(V.rtg,xe):void 0,se.ownerInstance=V,se()},R=(V,G,Q)=>{G.component=V;const ue=V.vnode.props;V.vnode=G,V.next=null,M8(V,G.props,ue,Q),B8(V,G.children,Q),vf(),_D(),pf()},L=(V,G,Q,ue,fe,ge,De,Se,le=!1)=>{const se=V&&V.children,xe=V?V.shapeFlag:0,We=G.children,{patchFlag:Ke,shapeFlag:mt}=G;if(Ke>0){if(Ke&128){X(se,We,Q,ue,fe,ge,De,Se,le);return}else if(Ke&256){z(se,We,Q,ue,fe,ge,De,Se,le);return}}mt&8?(xe&16&&K(se,fe,ge),We!==se&&c(Q,We)):xe&16?mt&16?X(se,We,Q,ue,fe,ge,De,Se,le):K(se,fe,ge,!0):(xe&8&&c(Q,""),mt&16&&A(We,Q,ue,fe,ge,De,Se,le))},z=(V,G,Q,ue,fe,ge,De,Se,le)=>{V=V||Ld,G=G||Ld;const se=V.length,xe=G.length,We=Math.min(se,xe);let Ke;for(Ke=0;Ke<We;Ke++){const mt=G[Ke]=le?ql(G[Ke]):Po(G[Ke]);p(V[Ke],mt,Q,null,fe,ge,De,Se,le)}se>xe?K(V,fe,ge,!0,!1,We):A(G,Q,ue,fe,ge,De,Se,le,We)},X=(V,G,Q,ue,fe,ge,De,Se,le)=>{let se=0;const xe=G.length;let We=V.length-1,Ke=xe-1;for(;se<=We&&se<=Ke;){const mt=V[se],Lt=G[se]=le?ql(G[se]):Po(G[se]);if(vc(mt,Lt))p(mt,Lt,Q,null,fe,ge,De,Se,le);else break;se++}for(;se<=We&&se<=Ke;){const mt=V[We],Lt=G[Ke]=le?ql(G[Ke]):Po(G[Ke]);if(vc(mt,Lt))p(mt,Lt,Q,null,fe,ge,De,Se,le);else break;We--,Ke--}if(se>We){if(se<=Ke){const mt=Ke+1,Lt=mt<xe?G[mt].el:ue;for(;se<=Ke;)p(null,G[se]=le?ql(G[se]):Po(G[se]),Q,Lt,fe,ge,De,Se,le),se++}}else if(se>Ke)for(;se<=We;)$(V[se],fe,ge,!0),se++;else{const mt=se,Lt=se,rn=new Map;for(se=Lt;se<=Ke;se++){const je=G[se]=le?ql(G[se]):Po(G[se]);je.key!=null&&(rn.has(je.key)&&Te("Duplicate keys found during update:",JSON.stringify(je.key),"Make sure keys are unique."),rn.set(je.key,se))}let fn,Kn=0;const La=Ke-Lt+1;let bo=!1,ee=0;const ve=new Array(La);for(se=0;se<La;se++)ve[se]=0;for(se=mt;se<=We;se++){const je=V[se];if(Kn>=La){$(je,fe,ge,!0);continue}let an;if(je.key!=null)an=rn.get(je.key);else for(fn=Lt;fn<=Ke;fn++)if(ve[fn-Lt]===0&&vc(je,G[fn])){an=fn;break}an===void 0?$(je,fe,ge,!0):(ve[an-Lt]=se+1,an>=ee?ee=an:bo=!0,p(je,G[an],Q,null,fe,ge,De,Se,le),Kn++)}const st=bo?z8(ve):Ld;for(fn=st.length-1,se=La-1;se>=0;se--){const je=Lt+se,an=G[je],mi=je+1<xe?G[je+1].el:ue;ve[se]===0?p(null,an,Q,mi,fe,ge,De,Se,le):bo&&(fn<0||se!==st[fn]?Y(an,Q,mi,2):fn--)}}},Y=(V,G,Q,ue,fe=null)=>{const{el:ge,type:De,transition:Se,children:le,shapeFlag:se}=V;if(se&6){Y(V.component.subTree,G,Q,ue);return}if(se&128){V.suspense.move(G,Q,ue);return}if(se&64){De.move(V,G,Q,ce);return}if(De===Ae){r(ge,G,Q);for(let We=0;We<le.length;We++)Y(le[We],G,Q,ue);r(V.anchor,G,Q);return}if(De===Cy){x(V,G,Q);return}if(ue!==2&&se&1&&Se)if(ue===0)Se.beforeEnter(ge),r(ge,G,Q),ri(()=>Se.enter(ge),fe);else{const{leave:We,delayLeave:Ke,afterLeave:mt}=Se,Lt=()=>r(ge,G,Q),rn=()=>{We(ge,()=>{Lt(),mt&&mt()})};Ke?Ke(ge,Lt,rn):rn()}else r(ge,G,Q)},$=(V,G,Q,ue=!1,fe=!1)=>{const{type:ge,props:De,ref:Se,children:le,dynamicChildren:se,shapeFlag:xe,patchFlag:We,dirs:Ke}=V;if(Se!=null&&_S(Se,null,Q,V,!0),xe&256){G.ctx.deactivate(V);return}const mt=xe&1&&Ke,Lt=!np(V);let rn;if(Lt&&(rn=De&&De.onVnodeBeforeUnmount)&&Yo(rn,G,V),xe&6)H(V.component,Q,ue);else{if(xe&128){V.suspense.unmount(Q,ue);return}mt&&Eu(V,null,G,"beforeUnmount"),xe&64?V.type.remove(V,G,Q,fe,ce,ue):se&&(ge!==Ae||We>0&&We&64)?K(se,G,Q,!1,!0):(ge===Ae&&We&384||!fe&&xe&16)&&K(le,G,Q),ue&&F(V)}(Lt&&(rn=De&&De.onVnodeUnmounted)||mt)&&ri(()=>{rn&&Yo(rn,G,V),mt&&Eu(V,null,G,"unmounted")},Q)},F=V=>{const{type:G,el:Q,anchor:ue,transition:fe}=V;if(G===Ae){V.patchFlag>0&&V.patchFlag&2048&&fe&&!fe.persisted?V.children.forEach(De=>{De.type===Qr?a(De.el):F(De)}):N(Q,ue);return}if(G===Cy){w(V);return}const ge=()=>{a(Q),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(V.shapeFlag&1&&fe&&!fe.persisted){const{leave:De,delayLeave:Se}=fe,le=()=>De(Q,ge);Se?Se(V.el,ge,le):le()}else ge()},N=(V,G)=>{let Q;for(;V!==G;)Q=d(V),a(V),V=Q;a(G)},H=(V,G,Q)=>{V.type.__hmrId&&VW(V);const{bum:ue,scope:fe,update:ge,subTree:De,um:Se}=V;ue&&yd(ue),fe.stop(),ge&&(ge.active=!1,$(De,V,G,Q)),Se&&ri(Se,G),ri(()=>{V.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve()),WW(V)},K=(V,G,Q,ue=!1,fe=!1,ge=0)=>{for(let De=ge;De<V.length;De++)$(V[De],G,Q,ue,fe)},Z=V=>V.shapeFlag&6?Z(V.component.subTree):V.shapeFlag&128?V.suspense.next():d(V.anchor||V.el),q=(V,G,Q)=>{V==null?G._vnode&&$(G._vnode,null,null,!0):p(G._vnode||null,V,G,null,null,null,Q),_D(),YN(),G._vnode=V},ce={p,um:$,m:Y,r:F,mt:k,mc:A,pc:L,pbc:T,n:Z,o:e};let oe,ae;return t&&([oe,ae]=t(ce)),{render:q,hydrate:oe,createApp:C8(q,oe)}}function Du({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function g0(e,t,n=!1){const r=e.children,a=t.children;if(nt(r)&&nt(a))for(let i=0;i<r.length;i++){const o=r[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=ql(a[i]),s.el=o.el),n||g0(o,s)),s.type===vh&&(s.el=o.el),s.type===Qr&&!s.el&&(s.el=o.el)}}function z8(e){const t=e.slice(),n=[0];let r,a,i,o,s;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(a=n[n.length-1],e[a]<u){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)s=i+o>>1,e[n[s]]<u?i=s+1:o=s;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const H8=e=>e.__isTeleport,Rd=e=>e&&(e.disabled||e.disabled===""),OD=e=>typeof SVGElement<"u"&&e instanceof SVGElement,xS=(e,t)=>{const n=e&&e.to;if(Gn(n))if(t){const r=t(n);return r||Te(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return Te("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!Rd(e)&&Te(`Invalid Teleport target: ${n}`),n},$8={__isTeleport:!0,process(e,t,n,r,a,i,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:v,createText:p,createComment:m}}=u,g=Rd(t.props);let{shapeFlag:y,children:_,dynamicChildren:x}=t;if(iu&&(l=!1,x=null),e==null){const w=t.el=m("teleport start"),b=t.anchor=m("teleport end");h(w,n,r),h(b,n,r);const S=t.target=xS(t.props,v),C=t.targetAnchor=p("");S?(h(C,S),o=o||OD(S)):g||Te("Invalid Teleport target on mount:",S,`(${typeof S})`);const A=(M,T)=>{y&16&&c(_,M,T,a,i,o,s,l)};g?A(n,b):S&&A(S,C)}else{t.el=e.el;const w=t.anchor=e.anchor,b=t.target=e.target,S=t.targetAnchor=e.targetAnchor,C=Rd(e.props),A=C?n:b,M=C?w:S;if(o=o||OD(b),x?(d(e.dynamicChildren,x,A,a,i,o,s),g0(e,t,!0)):l||f(e,t,A,M,a,i,o,s,!1),g)C||Qm(t,n,w,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=xS(t.props,v);T?Qm(t,T,null,u,0):Te("Invalid Teleport target on update:",b,`(${typeof b})`)}else C&&Qm(t,b,S,u,1)}b3(t)},remove(e,t,n,r,{um:a,o:{remove:i}},o){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:f,props:d}=e;if(f&&i(c),(o||!Rd(d))&&(i(u),s&16))for(let h=0;h<l.length;h++){const v=l[h];a(v,t,n,!0,!!v.dynamicChildren)}},move:Qm,hydrate:G8};function Qm(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=i===2;if(f&&r(o,t,n),(!f||Rd(c))&&l&16)for(let d=0;d<u.length;d++)a(u[d],t,n,2);f&&r(s,t,n)}function G8(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:s,querySelector:l}},u){const c=t.target=xS(t.props,l);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(Rd(t.props))t.anchor=u(o(e),t,s(e),n,r,a,i),t.targetAnchor=f;else{t.anchor=o(e);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(f,t,c,n,r,a,i)}b3(t)}return t.anchor&&o(t.anchor)}const x3=$8;function b3(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Ae=Symbol.for("v-fgt"),vh=Symbol.for("v-txt"),Qr=Symbol.for("v-cmt"),Cy=Symbol.for("v-stc"),rp=[];let Lo=null;function J(e=!1){rp.push(Lo=e?null:[])}function W8(){rp.pop(),Lo=rp[rp.length-1]||null}let Ip=1;function kD(e){Ip+=e}function w3(e){return e.dynamicChildren=Ip>0?Lo||Ld:null,W8(),Ip>0&&Lo&&Lo.push(e),e}function we(e,t,n,r,a,i){return w3(Fe(e,t,n,r,a,i,!0))}function Ie(e,t,n,r,a){return w3(D(e,t,n,r,a,!0))}function $d(e){return e?e.__v_isVNode===!0:!1}function vc(e,t){return t.shapeFlag&6&&_d.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}const Y8=(...e)=>j8(...e),H_="__vInternal",S3=({key:e})=>e??null,Ay=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Gn(e)||sn(e)||gt(e)?{i:Pr,r:e,k:t,f:!!n}:e:null);function Fe(e,t=null,n=null,r=0,a=null,i=e===Ae?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&S3(t),ref:t&&Ay(t),scopeId:F_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Pr};return s?(S2(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Gn(n)?8:16),l.key!==l.key&&Te("VNode created with invalid key (NaN). VNode type:",l.type),Ip>0&&!o&&Lo&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Lo.push(l),l}const D=Y8;function j8(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===u3)&&(e||Te(`Invalid vnode type when creating vnode: ${e}.`),e=Qr),$d(e)){const s=Bo(e,t,!0);return n&&S2(s,n),Ip>0&&!i&&Lo&&(s.shapeFlag&6?Lo[Lo.indexOf(e)]=s:Lo.push(s)),s.patchFlag|=-2,s}if(D3(e)&&(e=e.__vccOpts),t){t=$i(t);let{class:s,style:l}=t;s&&!Gn(s)&&(t.class=jt(s)),mn(l)&&(f0(l)&&!nt(l)&&(l=Vn({},l)),t.style=qi(l))}const o=Gn(e)?1:r8(e)?128:H8(e)?64:mn(e)?4:gt(e)?2:0;return o&4&&f0(e)&&(e=it(e),Te("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),Fe(e,t,n,r,a,o,i,!0)}function $i(e){return e?f0(e)||H_ in e?Vn({},e):e:null}function Bo(e,t,n=!1){const{props:r,ref:a,patchFlag:i,children:o}=e,s=t?Ee(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&S3(s),ref:t&&t.ref?n&&a?nt(a)?a.concat(Ay(t)):[a,Ay(t)]:Ay(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i===-1&&nt(o)?o.map(T3):o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ae?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bo(e.ssContent),ssFallback:e.ssFallback&&Bo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function T3(e){const t=Bo(e);return nt(e.children)&&(t.children=e.children.map(T3)),t}function qe(e=" ",t=0){return D(vh,null,e,t)}function he(e="",t=!1){return t?(J(),Ie(Qr,null,e)):D(Qr,null,e)}function Po(e){return e==null||typeof e=="boolean"?D(Qr):nt(e)?D(Ae,null,e.slice()):typeof e=="object"?ql(e):D(vh,null,String(e))}function ql(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bo(e)}function S2(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(nt(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),S2(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(H_ in t)?t._ctx=Pr:a===3&&Pr&&(Pr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else gt(t)?(t={default:t,_ctx:Pr},n=32):(t=String(t),r&64?(n=16,t=[qe(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ee(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=jt([t.class,r.class]));else if(a==="style")t.style=qi([t.style,r.style]);else if(xm(a)){const i=t[a],o=r[a];o&&i!==o&&!(nt(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function Yo(e,t,n,r=null){Qi(e,t,7,[n,r])}const X8=h3();let q8=0;function Z8(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||X8,i={uid:q8++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new SN(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:p3(r,a),emitsOptions:QN(r,a),emit:null,emitted:null,propsDefaults:Ln,inheritAttrs:r.inheritAttrs,ctx:Ln,data:Ln,props:Ln,attrs:Ln,slots:Ln,refs:Ln,setupState:Ln,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx=v8(i),i.root=t?t.root:i,i.emit=qW.bind(null,i),e.ce&&e.ce(i),i}let Mr=null;const gu=()=>Mr||Pr;let T2,Pf,ND="__VUE_INSTANCE_SETTERS__";(Pf=s0()[ND])||(Pf=s0()[ND]=[]),Pf.push(e=>Mr=e),T2=e=>{Pf.length>1?Pf.forEach(t=>t(e)):Pf[0](e)};const Gd=e=>{T2(e),e.scope.on()},kc=()=>{Mr&&Mr.scope.off(),T2(null)},K8=mu("slot,component");function bS(e,t){const n=t.isNativeTag||gN;(K8(e)||n(e))&&Te("Do not use built-in or reserved HTML elements as component id: "+e)}function C3(e){return e.vnode.shapeFlag&4}let Rp=!1;function Q8(e,t=!1){Rp=t;const{props:n,children:r}=e.vnode,a=C3(e);E8(e,n,a,t),N8(e,r);const i=a?J8(e,t):void 0;return Rp=!1,i}function J8(e,t){var n;const r=e.type;{if(r.name&&bS(r.name,e.appContext.config),r.components){const i=Object.keys(r.components);for(let o=0;o<i.length;o++)bS(i[o],e.appContext.config)}if(r.directives){const i=Object.keys(r.directives);for(let o=0;o<i.length;o++)t3(i[o])}r.compilerOptions&&e6()&&Te('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=Ys(new Proxy(e.ctx,f3)),p8(e);const{setup:a}=r;if(a){const i=e.setupContext=a.length>1?E3(e):null;Gd(e),vf();const o=tl(a,e,0,[Nv(e.props),i]);if(pf(),kc(),n2(o)){if(o.then(kc,kc),t)return o.then(s=>{BD(e,s,t)}).catch(s=>{N_(s,e,0)});if(e.asyncDep=o,!e.suspense){const s=(n=r.name)!=null?n:"Anonymous";Te(`Component <${s}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else BD(e,o,t)}else A3(e,t)}function BD(e,t,n){gt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:mn(t)?($d(t)&&Te("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=UN(t),m8(e)):t!==void 0&&Te(`setup() should return an object. Received: ${t===null?"null":typeof t}`),A3(e,n)}let wS;const e6=()=>!wS;function A3(e,t,n){const r=e.type;if(!e.render){if(!t&&wS&&!r.render){const a=r.template||b2(e).template;if(a){ks(e,"compile");const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:l}=r,u=Vn(Vn({isCustomElement:i,delimiters:s},o),l);r.render=wS(a,u),Ns(e,"compile")}}e.render=r.render||si}Gd(e),vf(),_8(e),pf(),kc(),!r.render&&e.render===si&&!t&&(r.template?Te('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):Te("Component is missing template or render function."))}function t6(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return h0(),Sa(e,"get","$attrs"),t[n]},set(){return Te("setupContext.attrs is readonly."),!1},deleteProperty(){return Te("setupContext.attrs is readonly."),!1}}))}function n6(e){return e.slotsProxy||(e.slotsProxy=new Proxy(e.slots,{get(t,n){return Sa(e,"get","$slots"),t[n]}}))}function E3(e){return Object.freeze({get attrs(){return t6(e)},get slots(){return n6(e)},get emit(){return(n,...r)=>e.emit(n,...r)},expose:n=>{if(e.exposed&&Te("expose() should be called only once per setup()."),n!=null){let r=typeof n;r==="object"&&(nt(n)?r="array":sn(n)&&(r="ref")),r!=="object"&&Te(`expose() should be passed a plain object, received ${r}.`)}e.exposed=n||{}}})}function $_(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(UN(Ys(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Oc)return Oc[n](e)},has(t,n){return n in t||n in Oc}}))}const r6=/(?:^|[-_])(\w)/g,a6=e=>e.replace(r6,t=>t.toUpperCase()).replace(/[-_]/g,"");function C2(e,t=!0){return gt(e)?e.displayName||e.name:e.name||t&&e.__name}function G_(e,t,n=!1){let r=C2(t);if(!r&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(r=a[1])}if(!r&&e&&e.parent){const a=i=>{for(const o in i)if(i[o]===t)return o};r=a(e.components||e.parent.type.components)||a(e.appContext.components)}return r?a6(r):n?"App":"Anonymous"}function D3(e){return gt(e)&&"__vccOpts"in e}const O=(e,t)=>AW(e,t,Rp);function so(e,t,n){const r=arguments.length;return r===2?mn(t)&&!nt(t)?$d(t)?D(e,null,[t]):D(e,t):D(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&$d(n)&&(n=[n]),D(e,t,n))}const i6=Symbol.for("v-scx"),o6=()=>{{const e=It(i6);return e||Te("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function yx(e){return!!(e&&e.__v_isShallow)}function s6(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},n={style:"color:#b62e24"},r={style:"color:#9d288c"},a={header(f){return mn(f)?f.__isVue?["div",e,"VueInstance"]:sn(f)?["div",{},["span",e,c(f)],"<",s(f.value),">"]:hs(f)?["div",{},["span",e,yx(f)?"ShallowReactive":"Reactive"],"<",s(f),`>${uu(f)?" (readonly)":""}`]:uu(f)?["div",{},["span",e,yx(f)?"ShallowReadonly":"Readonly"],"<",s(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...i(f.$)]}};function i(f){const d=[];f.type.props&&f.props&&d.push(o("props",it(f.props))),f.setupState!==Ln&&d.push(o("setup",f.setupState)),f.data!==Ln&&d.push(o("data",it(f.data)));const h=l(f,"computed");h&&d.push(o("computed",h));const v=l(f,"inject");return v&&d.push(o("injected",v)),d.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),d}function o(f,d){return d=Vn({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(h=>["div",{},["span",r,h+": "],s(d[h],!1)])]]:["span",{}]}function s(f,d=!0){return typeof f=="number"?["span",t,f]:typeof f=="string"?["span",n,JSON.stringify(f)]:typeof f=="boolean"?["span",r,f]:mn(f)?["object",{object:d?it(f):f}]:["span",n,String(f)]}function l(f,d){const h=f.type;if(gt(h))return;const v={};for(const p in f.ctx)u(h,p,d)&&(v[p]=f.ctx[p]);return v}function u(f,d,h){const v=f[h];if(nt(v)&&v.includes(d)||mn(v)&&d in v||f.extends&&u(f.extends,d,h)||f.mixins&&f.mixins.some(p=>u(p,d,h)))return!0}function c(f){return yx(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(a):window.devtoolsFormatters=[a]}const VD="3.3.4",l6="http://www.w3.org/2000/svg",pc=typeof document<"u"?document:null,FD=pc&&pc.createElement("template"),u6={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t?pc.createElementNS(l6,e):pc.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>pc.createTextNode(e),createComment:e=>pc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{FD.innerHTML=r?`<svg>${e}</svg>`:e;const s=FD.content;if(r){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function c6(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function f6(e,t,n){const r=e.style,a=Gn(n);if(n&&!a){if(t&&!Gn(t))for(const i in t)n[i]==null&&SS(r,i,"");for(const i in n)SS(r,i,n[i])}else{const i=r.display;a?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const d6=/[^\\];\s*$/,UD=/\s*!important$/;function SS(e,t,n){if(nt(n))n.forEach(r=>SS(e,t,r));else if(n==null&&(n=""),d6.test(n)&&Te(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const r=h6(e,t);UD.test(n)?e.setProperty(ol(r),n.replace(UD,""),"important"):e[r]=n}}const zD=["Webkit","Moz","ms"],_x={};function h6(e,t){const n=_x[t];if(n)return n;let r=io(t);if(r!=="filter"&&r in e)return _x[t]=r;r=oo(r);for(let a=0;a<zD.length;a++){const i=zD[a]+r;if(i in e)return _x[t]=i}return t}const HD="http://www.w3.org/1999/xlink";function v6(e,t,n,r,a){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(HD,t.slice(6,t.length)):e.setAttributeNS(HD,t,n);else{const i=GG(t);n==null||i&&!bN(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function p6(e,t,n,r,a,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,a,i),e[t]=n??"";return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=n;const u=s==="OPTION"?e.getAttribute("value"):e.value,c=n??"";u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=bN(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch(u){l||Te(`Failed setting prop "${t}" on <${s.toLowerCase()}>: value ${n} is invalid.`,u)}l&&e.removeAttribute(t)}function xd(e,t,n,r){e.addEventListener(t,n,r)}function m6(e,t,n,r){e.removeEventListener(t,n,r)}function g6(e,t,n,r,a=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[s,l]=y6(t);if(r){const u=i[t]=b6(r,a);xd(e,s,u,l)}else o&&(m6(e,s,o,l),i[t]=void 0)}}const $D=/(?:Once|Passive|Capture)$/;function y6(e){let t;if($D.test(e)){t={};let r;for(;r=e.match($D);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ol(e.slice(2)),t]}let xx=0;const _6=Promise.resolve(),x6=()=>xx||(_6.then(()=>xx=0),xx=Date.now());function b6(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Qi(w6(r,n.value),t,5,[r])};return n.value=e,n.attached=x6(),n}function w6(e,t){if(nt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const GD=/^on[a-z]/,S6=(e,t,n,r,a=!1,i,o,s,l)=>{t==="class"?c6(e,r,a):t==="style"?f6(e,n,r):xm(t)?i0(t)||g6(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):T6(e,t,r,a))?p6(e,t,r,i,o,s,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),v6(e,t,r,a))};function T6(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&GD.test(t)&&gt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||GD.test(t)&&Gn(n)?!1:t in e}const El="transition",Yh="animation",Ta=(e,{slots:t})=>so(s8,P3(e),t);Ta.displayName="Transition";const M3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},C6=Ta.props=Vn({},r3,M3),Mu=(e,t=[])=>{nt(e)?e.forEach(n=>n(...t)):e&&e(...t)},WD=e=>e?nt(e)?e.some(t=>t.length>1):e.length>1:!1;function P3(e){const t={};for(const E in e)E in M3||(t[E]=e[E]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,v=A6(a),p=v&&v[0],m=v&&v[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:_,onLeave:x,onLeaveCancelled:w,onBeforeAppear:b=g,onAppear:S=y,onAppearCancelled:C=_}=t,A=(E,P,I)=>{Wl(E,P?c:s),Wl(E,P?u:o),I&&I()},M=(E,P)=>{E._isLeaving=!1,Wl(E,f),Wl(E,h),Wl(E,d),P&&P()},T=E=>(P,I)=>{const k=E?S:y,B=()=>A(P,E,I);Mu(k,[P,B]),YD(()=>{Wl(P,E?l:i),Bs(P,E?c:s),WD(k)||jD(P,r,p,B)})};return Vn(t,{onBeforeEnter(E){Mu(g,[E]),Bs(E,i),Bs(E,o)},onBeforeAppear(E){Mu(b,[E]),Bs(E,l),Bs(E,u)},onEnter:T(!1),onAppear:T(!0),onLeave(E,P){E._isLeaving=!0;const I=()=>M(E,P);Bs(E,f),I3(),Bs(E,d),YD(()=>{E._isLeaving&&(Wl(E,f),Bs(E,h),WD(x)||jD(E,r,m,I))}),Mu(x,[E,I])},onEnterCancelled(E){A(E,!1),Mu(_,[E])},onAppearCancelled(E){A(E,!0),Mu(C,[E])},onLeaveCancelled(E){M(E),Mu(w,[E])}})}function A6(e){if(e==null)return null;if(mn(e))return[bx(e.enter),bx(e.leave)];{const t=bx(e);return[t,t]}}function bx(e){const t=OG(e);return LW(t,"<transition> explicit duration"),t}function Bs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Wl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function YD(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let E6=0;function jD(e,t,n,r){const a=e._endId=++E6,i=()=>{a===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:s,propCount:l}=L3(e,t);if(!o)return r();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function L3(e,t){const n=window.getComputedStyle(e),r=v=>(n[v]||"").split(", "),a=r(`${El}Delay`),i=r(`${El}Duration`),o=XD(a,i),s=r(`${Yh}Delay`),l=r(`${Yh}Duration`),u=XD(s,l);let c=null,f=0,d=0;t===El?o>0&&(c=El,f=o,d=i.length):t===Yh?u>0&&(c=Yh,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?El:Yh:null,d=c?c===El?i.length:l.length:0);const h=c===El&&/\b(transform|all)(,|$)/.test(r(`${El}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function XD(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>qD(n)+qD(e[r])))}function qD(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function I3(){return document.body.offsetHeight}const R3=new WeakMap,O3=new WeakMap,k3={name:"TransitionGroup",props:Vn({},C6,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=gu(),r=n3();let a,i;return l3(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!R6(a[0].el,n.vnode.el,o))return;a.forEach(P6),a.forEach(L6);const s=a.filter(I6);I3(),s.forEach(l=>{const u=l.el,c=u.style;Bs(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u._moveCb=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,Wl(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=it(e),s=P3(o);let l=o.tag||Ae;a=i,i=t.default?p2(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null?Pp(c,Mp(c,s,r,n)):Te("<TransitionGroup> children must be keyed.")}if(a)for(let u=0;u<a.length;u++){const c=a[u];Pp(c,Mp(c,s,r,n)),R3.set(c,c.el.getBoundingClientRect())}return D(l,null,i)}}},D6=e=>delete e.mode;k3.props;const M6=k3;function P6(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function L6(e){O3.set(e,e.el.getBoundingClientRect())}function I6(e){const t=R3.get(e),n=O3.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${a}px)`,i.transitionDuration="0s",e}}function R6(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(s=>s&&r.classList.remove(s))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:i}=L3(r);return a.removeChild(r),i}const ZD=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?n=>yd(t,n):t};function O6(e){e.target.composing=!0}function KD(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const k6={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e._assign=ZD(a);const i=r||a.props&&a.props.type==="number";xd(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),i&&(s=sS(s)),e._assign(s)}),n&&xd(e,"change",()=>{e.value=e.value.trim()}),t||(xd(e,"compositionstart",O6),xd(e,"compositionend",KD),xd(e,"change",KD))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:a}},i){if(e._assign=ZD(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(a||e.type==="number")&&sS(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},N6=["ctrl","shift","alt","meta"],B6={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>N6.some(n=>e[`${n}Key`]&&!t.includes(n))},_a=(e,t)=>(n,...r)=>{for(let a=0;a<t.length;a++){const i=B6[t[a]];if(i&&i(n,t))return}return e(n,...r)},V6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},At=(e,t)=>n=>{if(!("key"in n))return;const r=ol(n.key);if(t.some(a=>a===r||V6[a]===r))return e(n)},ui={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):jh(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),jh(e,!0),r.enter(e)):r.leave(e,()=>{jh(e,!1)}):jh(e,t))},beforeUnmount(e,{value:t}){jh(e,t)}};function jh(e,t){e.style.display=t?e._vod:"none"}const F6=Vn({patchProp:S6},u6);let QD;function U6(){return QD||(QD=F8(F6))}const z6=(...e)=>{const t=U6().createApp(...e);H6(t),$6(t);const{mount:n}=t;return t.mount=r=>{const a=G6(r);if(!a)return;const i=t._component;!gt(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const o=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function H6(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>zG(t)||HG(t),writable:!1})}function $6(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){Te("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return Te(r),n},set(){Te(r)}})}}function G6(e){if(Gn(e)){const t=document.querySelector(e);return t||Te(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&Te('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}function W6(){s6()}W6();var Y6=!1;function Jm(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function Sx(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function j6(){return N3().__VUE_DEVTOOLS_GLOBAL_HOOK__}function N3(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const X6=typeof Proxy=="function",q6="devtools-plugin:setup",Z6="plugin:settings:set";let Lf,TS;function K6(){var e;return Lf!==void 0||(typeof window<"u"&&window.performance?(Lf=!0,TS=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Lf=!0,TS=global.perf_hooks.performance):Lf=!1),Lf}function Q6(){return K6()?TS.now():Date.now()}class J6{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const s=t.settings[o];r[o]=s.defaultValue}const a=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(a),s=JSON.parse(o);Object.assign(i,s)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(a,JSON.stringify(o))}catch{}i=o},now(){return Q6()}},n&&n.on(Z6,(o,s)=>{o===this.plugin.id&&this.fallbacks.setSettings(s)}),this.proxiedOn=new Proxy({},{get:(o,s)=>this.target?this.target.on[s]:(...l)=>{this.onQueue.push({method:s,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,s)=>this.target?this.target[s]:s==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(s)?(...l)=>(this.targetQueue.push({method:s,args:l,resolve:()=>{}}),this.fallbacks[s](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:s,args:l,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function A2(e,t){const n=e,r=N3(),a=j6(),i=X6&&n.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))a.emit(q6,e,t);else{const o=i?new J6(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let CS;const Op=e=>CS=e,B3=Symbol("pinia");function Zc(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var vs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vs||(vs={}));const W_=typeof window<"u",y0=W_,JD=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function eY(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function E2(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){U3(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function V3(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ey(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const Dy=typeof navigator=="object"?navigator:{userAgent:""},F3=(()=>/Macintosh/.test(Dy.userAgent)&&/AppleWebKit/.test(Dy.userAgent)&&!/Safari/.test(Dy.userAgent))(),U3=W_?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!F3?tY:"msSaveOrOpenBlob"in Dy?nY:rY:()=>{};function tY(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?V3(r.href)?E2(e,t,n):(r.target="_blank",Ey(r)):Ey(r)):(r.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ey(r)},0))}function nY(e,t="download",n){if(typeof e=="string")if(V3(e))E2(e,t,n);else{const r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ey(r)})}else navigator.msSaveOrOpenBlob(eY(e,n),t)}function rY(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return E2(e,t,n);const a=e.type==="application/octet-stream",i=/constructor/i.test(String(JD.HTMLElement))||"safari"in JD,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i||F3)&&typeof FileReader<"u"){const s=new FileReader;s.onloadend=function(){let l=s.result;if(typeof l!="string")throw r=null,new Error("Wrong reader.result type");l=o?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location.assign(l),r=null},s.readAsDataURL(e)}else{const s=URL.createObjectURL(e);r?r.location.assign(s):location.href=s,r=null,setTimeout(function(){URL.revokeObjectURL(s)},4e4)}}function Xr(e,t){const n="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function D2(e){return"_a"in e&&"install"in e}function z3(){if(!("clipboard"in navigator))return Xr("Your browser doesn't support the Clipboard API","error"),!0}function H3(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(Xr('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function aY(e){if(!z3())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),Xr("Global state copied to clipboard.")}catch(t){if(H3(t))return;Xr("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function iY(e){if(!z3())try{$3(e,JSON.parse(await navigator.clipboard.readText())),Xr("Global state pasted from clipboard.")}catch(t){if(H3(t))return;Xr("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function oY(e){try{U3(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){Xr("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let Ps;function sY(){Ps||(Ps=document.createElement("input"),Ps.type="file",Ps.accept=".json");function e(){return new Promise((t,n)=>{Ps.onchange=async()=>{const r=Ps.files;if(!r)return t(null);const a=r.item(0);return t(a?{text:await a.text(),file:a}:null)},Ps.oncancel=()=>t(null),Ps.onerror=n,Ps.click()})}return e}async function lY(e){try{const n=await sY()();if(!n)return;const{text:r,file:a}=n;$3(e,JSON.parse(r)),Xr(`Global state imported from "${a.name}".`)}catch(t){Xr("Failed to import the state from JSON. Check the console for more details.","error"),console.error(t)}}function $3(e,t){for(const n in t){const r=e.state.value[n];r&&Object.assign(r,t[n])}}function Ao(e){return{_custom:{display:e}}}const G3="🍍 Pinia (root)",AS="_root";function uY(e){return D2(e)?{id:AS,label:G3}:{id:e.$id,label:e.$id}}function cY(e){if(D2(e)){const n=Array.from(e._s.keys()),r=e._s;return{state:n.map(i=>({editable:!0,key:i,value:e.state.value[i]})),getters:n.filter(i=>r.get(i)._getters).map(i=>{const o=r.get(i);return{editable:!1,key:i,value:o._getters.reduce((s,l)=>(s[l]=o[l],s),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function fY(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Ao(e.type),key:Ao(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function dY(e){switch(e){case vs.direct:return"mutation";case vs.patchFunction:return"$patch";case vs.patchObject:return"$patch";default:return"unknown"}}let Td=!0;const My=[],uc="pinia:mutations",ha="pinia",{assign:hY}=Object,_0=e=>"🍍 "+e;function vY(e,t){A2({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:My,app:e},n=>{typeof n.now!="function"&&Xr("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:uc,label:"Pinia 🍍",color:15064968}),n.addInspector({id:ha,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{aY(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await iY(t),n.sendInspectorTree(ha),n.sendInspectorState(ha)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{oY(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await lY(t),n.sendInspectorTree(ha),n.sendInspectorState(ha)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const a=t._s.get(r);a?typeof a.$reset!="function"?Xr(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(a.$reset(),Xr(`Store "${r}" reset.`)):Xr(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((r,a)=>{const i=r.componentInstance&&r.componentInstance.proxy;if(i&&i._pStores){const o=r.componentInstance.proxy._pStores;Object.values(o).forEach(s=>{r.instanceData.state.push({type:_0(s.$id),key:"state",editable:!0,value:s._isOptionsAPI?{_custom:{value:it(s.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>s.$reset()}]}}:Object.keys(s.$state).reduce((l,u)=>(l[u]=s.$state[u],l),{})}),s._getters&&s._getters.length&&r.instanceData.state.push({type:_0(s.$id),key:"getters",editable:!1,value:s._getters.reduce((l,u)=>{try{l[u]=s[u]}catch(c){l[u]=c}return l},{})})})}}),n.on.getInspectorTree(r=>{if(r.app===e&&r.inspectorId===ha){let a=[t];a=a.concat(Array.from(t._s.values())),r.rootNodes=(r.filter?a.filter(i=>"$id"in i?i.$id.toLowerCase().includes(r.filter.toLowerCase()):G3.toLowerCase().includes(r.filter.toLowerCase())):a).map(uY)}}),n.on.getInspectorState(r=>{if(r.app===e&&r.inspectorId===ha){const a=r.nodeId===AS?t:t._s.get(r.nodeId);if(!a)return;a&&(r.state=cY(a))}}),n.on.editInspectorState((r,a)=>{if(r.app===e&&r.inspectorId===ha){const i=r.nodeId===AS?t:t._s.get(r.nodeId);if(!i)return Xr(`store "${r.nodeId}" not found`,"error");const{path:o}=r;D2(i)?o.unshift("state"):(o.length!==1||!i._customProperties.has(o[0])||o[0]in i.$state)&&o.unshift("$state"),Td=!1,r.set(i,o,r.state.value),Td=!0}}),n.on.editComponentState(r=>{if(r.type.startsWith("🍍")){const a=r.type.replace(/^🍍\s*/,""),i=t._s.get(a);if(!i)return Xr(`store "${a}" not found`,"error");const{path:o}=r;if(o[0]!=="state")return Xr(`Invalid path for store "${a}":
${o}
Only state can be modified.`);o[0]="$state",Td=!1,r.set(i,o,r.state.value),Td=!0}})})}function pY(e,t){My.includes(_0(t.$id))||My.push(_0(t.$id)),A2({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:My,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const r=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:o,onError:s,name:l,args:u})=>{const c=W3++;n.addTimelineEvent({layerId:uc,event:{time:r(),title:"🛫 "+l,subtitle:"start",data:{store:Ao(t.$id),action:Ao(l),args:u},groupId:c}}),o(f=>{Jl=void 0,n.addTimelineEvent({layerId:uc,event:{time:r(),title:"🛬 "+l,subtitle:"end",data:{store:Ao(t.$id),action:Ao(l),args:u,result:f},groupId:c}})}),s(f=>{Jl=void 0,n.addTimelineEvent({layerId:uc,event:{time:r(),logType:"error",title:"💥 "+l,subtitle:"end",data:{store:Ao(t.$id),action:Ao(l),args:u,error:f},groupId:c}})})},!0),t._customProperties.forEach(o=>{Le(()=>ie(t[o]),(s,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(ha),Td&&n.addTimelineEvent({layerId:uc,event:{time:r(),title:"Change",subtitle:o,data:{newValue:s,oldValue:l},groupId:Jl}})},{deep:!0})}),t.$subscribe(({events:o,type:s},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(ha),!Td)return;const u={time:r(),title:dY(s),data:hY({store:Ao(t.$id)},fY(o)),groupId:Jl};s===vs.patchFunction?u.subtitle="⤵️":s===vs.patchObject?u.subtitle="🧩":o&&!Array.isArray(o)&&(u.subtitle=o.type),o&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),n.addTimelineEvent({layerId:uc,event:u})},{detached:!0,flush:"sync"});const a=t._hotUpdate;t._hotUpdate=Ys(o=>{a(o),n.addTimelineEvent({layerId:uc,event:{time:r(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:Ao(t.$id),info:Ao("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(ha),n.sendInspectorState(ha)});const{$dispose:i}=t;t.$dispose=()=>{i(),n.notifyComponentUpdate(),n.sendInspectorTree(ha),n.sendInspectorState(ha),n.getSettings().logStoreChanges&&Xr(`Disposed "${t.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(ha),n.sendInspectorState(ha),n.getSettings().logStoreChanges&&Xr(`"${t.$id}" store installed 🆕`)})}let W3=0,Jl;function eM(e,t,n){const r=t.reduce((a,i)=>(a[i]=it(e)[i],a),{});for(const a in r)e[a]=function(){const i=W3,o=n?new Proxy(e,{get(...l){return Jl=i,Reflect.get(...l)},set(...l){return Jl=i,Reflect.set(...l)}}):e;Jl=i;const s=r[a].apply(o,arguments);return Jl=void 0,s}}function mY({app:e,store:t,options:n}){if(t.$id.startsWith("__hot:"))return;t._isOptionsAPI=!!n.state,eM(t,Object.keys(n.actions),t._isOptionsAPI);const r=t._hotUpdate;it(t)._hotUpdate=function(a){r.apply(this,arguments),eM(t,Object.keys(a._hmrPayload.actions),!!t._isOptionsAPI)},pY(e,t)}function gY(){const e=bm(!0),t=e.run(()=>te({}));let n=[],r=[];const a=Ys({install(i){Op(a),a._a=i,i.provide(B3,a),i.config.globalProperties.$pinia=a,y0&&vY(i,a),r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!Y6?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return y0&&typeof Proxy<"u"&&a.use(mY),a}function Y3(e,t){for(const n in t){const r=t[n];if(!(n in e))continue;const a=e[n];Zc(a)&&Zc(r)&&!sn(r)&&!hs(r)?e[n]=Y3(a,r):e[n]=r}return e}const yY=()=>{};function tM(e,t,n,r=yY){e.push(t);const a=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&i2()&&wa(a),a}function If(e,...t){e.slice().forEach(n=>{n(...t)})}const _Y=e=>e();function ES(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];Zc(a)&&Zc(r)&&e.hasOwnProperty(n)&&!sn(r)&&!hs(r)?e[n]=ES(a,r):e[n]=r}return e}const xY=Symbol("pinia:skipHydration");function bY(e){return!Zc(e)||!e.hasOwnProperty(xY)}const{assign:Ni}=Object;function nM(e){return!!(sn(e)&&e.effect)}function rM(e,t,n,r){const{state:a,actions:i,getters:o}=t,s=n.state.value[e];let l;function u(){!s&&!r&&(n.state.value[e]=a?a():{});const c=Hd(r?te(a?a():{}).value:n.state.value[e]);return Ni(c,i,Object.keys(o||{}).reduce((f,d)=>(d in c&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${e}".`),f[d]=Ys(O(()=>{Op(n);const h=n._s.get(e);return o[d].call(h,h)})),f),{}))}return l=DS(e,u,t,n,r,!0),l}function DS(e,t,n={},r,a,i){let o;const s=Ni({actions:{}},n);if(!r._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=M=>{u?h=M:u==!1&&!S._hotUpdating&&(Array.isArray(h)?h.push(M):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let u,c,f=[],d=[],h;const v=r.state.value[e];!i&&!v&&!a&&(r.state.value[e]={});const p=te({});let m;function g(M){let T;u=c=!1,h=[],typeof M=="function"?(M(r.state.value[e]),T={type:vs.patchFunction,storeId:e,events:h}):(ES(r.state.value[e],M),T={type:vs.patchObject,payload:M,storeId:e,events:h});const E=m=Symbol();Ot().then(()=>{m===E&&(u=!0)}),c=!0,If(f,T,r.state.value[e])}const y=i?function(){const{state:T}=n,E=T?T():{};this.$patch(P=>{Ni(P,E)})}:()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function _(){o.stop(),f=[],d=[],r._s.delete(e)}function x(M,T){return function(){Op(r);const E=Array.from(arguments),P=[],I=[];function k(R){P.push(R)}function B(R){I.push(R)}If(d,{args:E,name:M,store:S,after:k,onError:B});let U;try{U=T.apply(this&&this.$id===e?this:S,E)}catch(R){throw If(I,R),R}return U instanceof Promise?U.then(R=>(If(P,R),R)).catch(R=>(If(I,R),Promise.reject(R))):(If(P,U),U)}}const w=Ys({actions:{},getters:{},state:[],hotState:p}),b={_p:r,$id:e,$onAction:tM.bind(null,d),$patch:g,$reset:y,$subscribe(M,T={}){const E=tM(f,M,T.detached,()=>P()),P=o.run(()=>Le(()=>r.state.value[e],I=>{(T.flush==="sync"?c:u)&&M({storeId:e,type:vs.direct,events:h},I)},Ni({},l,T)));return E},$dispose:_},S=Rn(Ni({_hmrPayload:w,_customProperties:Ys(new Set)},b));r._s.set(e,S);const C=r._a&&r._a.runWithContext||_Y,A=r._e.run(()=>(o=bm(),C(()=>o.run(t))));for(const M in A){const T=A[M];if(sn(T)&&!nM(T)||hs(T))a?Jm(p.value,M,ye(A,M)):i||(v&&bY(T)&&(sn(T)?T.value=v[M]:ES(T,v[M])),r.state.value[e][M]=T),w.state.push(M);else if(typeof T=="function"){const E=a?T:x(M,T);A[M]=E,w.actions[M]=T,s.actions[M]=T}else nM(T)&&(w.getters[M]=i?n.getters[M]:T,W_&&(A._getters||(A._getters=Ys([]))).push(M))}if(Ni(S,A),Ni(it(S),A),Object.defineProperty(S,"$state",{get:()=>a?p.value:r.state.value[e],set:M=>{if(a)throw new Error("cannot set hotState");g(T=>{Ni(T,M)})}}),S._hotUpdate=Ys(M=>{S._hotUpdating=!0,M._hmrPayload.state.forEach(T=>{if(T in S.$state){const E=M.$state[T],P=S.$state[T];typeof E=="object"&&Zc(E)&&Zc(P)?Y3(E,P):M.$state[T]=P}Jm(S,T,ye(M.$state,T))}),Object.keys(S.$state).forEach(T=>{T in M.$state||Sx(S,T)}),u=!1,c=!1,r.state.value[e]=ye(M._hmrPayload,"hotState"),c=!0,Ot().then(()=>{u=!0});for(const T in M._hmrPayload.actions){const E=M[T];Jm(S,T,x(T,E))}for(const T in M._hmrPayload.getters){const E=M._hmrPayload.getters[T],P=i?O(()=>(Op(r),E.call(S,S))):E;Jm(S,T,P)}Object.keys(S._hmrPayload.getters).forEach(T=>{T in M._hmrPayload.getters||Sx(S,T)}),Object.keys(S._hmrPayload.actions).forEach(T=>{T in M._hmrPayload.actions||Sx(S,T)}),S._hmrPayload=M._hmrPayload,S._getters=M._getters,S._hotUpdating=!1}),y0){const M={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(T=>{Object.defineProperty(S,T,Ni({value:S[T]},M))})}return r._p.forEach(M=>{if(y0){const T=o.run(()=>M({store:S,app:r._a,pinia:r,options:s}));Object.keys(T||{}).forEach(E=>S._customProperties.add(E)),Ni(S,T)}else Ni(S,o.run(()=>M({store:S,app:r._a,pinia:r,options:s})))}),S.$state&&typeof S.$state=="object"&&typeof S.$state.constructor=="function"&&!S.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${S.$id}".`),v&&i&&n.hydrate&&n.hydrate(S.$state,v),u=!0,c=!0,S}function j3(e,t,n){let r,a;const i=typeof t=="function";if(typeof e=="string")r=e,a=i?n:t;else if(a=e,r=e.id,typeof r!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function o(s,l){const u=A8();if(s=s||(u?It(B3,null):null),s&&Op(s),!CS)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);s=CS,s._s.has(r)||(i?DS(r,t,a,s):rM(r,a,s),o._pinia=s);const c=s._s.get(r);if(l){const f="__hot:"+r,d=i?DS(f,t,a,s,!0):rM(f,Ni({},a),s,!0);l._hotUpdate(d),delete s.state.value[f],s._s.delete(f)}if(W_){const f=gu();if(f&&f.proxy&&!l){const d=f.proxy,h="_pStores"in d?d._pStores:d._pStores={};h[r]=c}}return c}return o.$id=r,o}function X3(e,t){return function(){return e.apply(t,arguments)}}const{toString:wY}=Object.prototype,{getPrototypeOf:M2}=Object,Y_=(e=>t=>{const n=wY.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ss=e=>(e=e.toLowerCase(),t=>Y_(t)===e),j_=e=>t=>typeof t===e,{isArray:ph}=Array,kp=j_("undefined");function SY(e){return e!==null&&!kp(e)&&e.constructor!==null&&!kp(e.constructor)&&Ji(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const q3=Ss("ArrayBuffer");function TY(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&q3(e.buffer),t}const CY=j_("string"),Ji=j_("function"),Z3=j_("number"),X_=e=>e!==null&&typeof e=="object",AY=e=>e===!0||e===!1,Py=e=>{if(Y_(e)!=="object")return!1;const t=M2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},EY=Ss("Date"),DY=Ss("File"),MY=Ss("Blob"),PY=Ss("FileList"),LY=e=>X_(e)&&Ji(e.pipe),IY=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ji(e.append)&&((t=Y_(e))==="formdata"||t==="object"&&Ji(e.toString)&&e.toString()==="[object FormData]"))},RY=Ss("URLSearchParams"),OY=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Am(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),ph(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function K3(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Q3=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),J3=e=>!kp(e)&&e!==Q3;function MS(){const{caseless:e}=J3(this)&&this||{},t={},n=(r,a)=>{const i=e&&K3(t,a)||a;Py(t[i])&&Py(r)?t[i]=MS(t[i],r):Py(r)?t[i]=MS({},r):ph(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Am(arguments[r],n);return t}const kY=(e,t,n,{allOwnKeys:r}={})=>(Am(t,(a,i)=>{n&&Ji(a)?e[i]=X3(a,n):e[i]=a},{allOwnKeys:r}),e),NY=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BY=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},VY=(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&M2(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},FY=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},UY=e=>{if(!e)return null;if(ph(e))return e;let t=e.length;if(!Z3(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},zY=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&M2(Uint8Array)),HY=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},$Y=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},GY=Ss("HTMLFormElement"),WY=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),aM=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),YY=Ss("RegExp"),eB=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Am(n,(a,i)=>{t(a,i,e)!==!1&&(r[i]=a)}),Object.defineProperties(e,r)},jY=e=>{eB(e,(t,n)=>{if(Ji(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ji(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},XY=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return ph(e)?r(e):r(String(e).split(t)),n},qY=()=>{},ZY=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Tx="abcdefghijklmnopqrstuvwxyz",iM="0123456789",tB={DIGIT:iM,ALPHA:Tx,ALPHA_DIGIT:Tx+Tx.toUpperCase()+iM},KY=(e=16,t=tB.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function QY(e){return!!(e&&Ji(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const JY=e=>{const t=new Array(10),n=(r,a)=>{if(X_(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=ph(r)?[]:{};return Am(r,(o,s)=>{const l=n(o,a+1);!kp(l)&&(i[s]=l)}),t[a]=void 0,i}}return r};return n(e,0)},ej=Ss("AsyncFunction"),tj=e=>e&&(X_(e)||Ji(e))&&Ji(e.then)&&Ji(e.catch),pe={isArray:ph,isArrayBuffer:q3,isBuffer:SY,isFormData:IY,isArrayBufferView:TY,isString:CY,isNumber:Z3,isBoolean:AY,isObject:X_,isPlainObject:Py,isUndefined:kp,isDate:EY,isFile:DY,isBlob:MY,isRegExp:YY,isFunction:Ji,isStream:LY,isURLSearchParams:RY,isTypedArray:zY,isFileList:PY,forEach:Am,merge:MS,extend:kY,trim:OY,stripBOM:NY,inherits:BY,toFlatObject:VY,kindOf:Y_,kindOfTest:Ss,endsWith:FY,toArray:UY,forEachEntry:HY,matchAll:$Y,isHTMLForm:GY,hasOwnProperty:aM,hasOwnProp:aM,reduceDescriptors:eB,freezeMethods:jY,toObjectSet:XY,toCamelCase:WY,noop:qY,toFiniteNumber:ZY,findKey:K3,global:Q3,isContextDefined:J3,ALPHABET:tB,generateString:KY,isSpecCompliantForm:QY,toJSONObject:JY,isAsyncFn:ej,isThenable:tj};function on(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}pe.inherits(on,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const nB=on.prototype,rB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rB[e]={value:e}});Object.defineProperties(on,rB);Object.defineProperty(nB,"isAxiosError",{value:!0});on.from=(e,t,n,r,a,i)=>{const o=Object.create(nB);return pe.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),on.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const nj=null;function PS(e){return pe.isPlainObject(e)||pe.isArray(e)}function aB(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function oM(e,t,n){return e?e.concat(t).map(function(a,i){return a=aB(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function rj(e){return pe.isArray(e)&&!e.some(PS)}const aj=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function q_(e,t,n){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,m){return!pe.isUndefined(m[p])});const r=n.metaTokens,a=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(pe.isDate(v))return v.toISOString();if(!l&&pe.isBlob(v))throw new on("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(v)||pe.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,p,m){let g=v;if(v&&!m&&typeof v=="object"){if(pe.endsWith(p,"{}"))p=r?p:p.slice(0,-2),v=JSON.stringify(v);else if(pe.isArray(v)&&rj(v)||(pe.isFileList(v)||pe.endsWith(p,"[]"))&&(g=pe.toArray(v)))return p=aB(p),g.forEach(function(_,x){!(pe.isUndefined(_)||_===null)&&t.append(o===!0?oM([p],x,i):o===null?p:p+"[]",u(_))}),!1}return PS(v)?!0:(t.append(oM(m,p,i),u(v)),!1)}const f=[],d=Object.assign(aj,{defaultVisitor:c,convertValue:u,isVisitable:PS});function h(v,p){if(!pe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),pe.forEach(v,function(g,y){(!(pe.isUndefined(g)||g===null)&&a.call(t,g,pe.isString(y)?y.trim():y,p,d))===!0&&h(g,p?p.concat(y):[y])}),f.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function sM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function P2(e,t){this._pairs=[],e&&q_(e,this,t)}const iB=P2.prototype;iB.append=function(t,n){this._pairs.push([t,n])};iB.toString=function(t){const n=t?function(r){return t.call(this,r,sM)}:sM;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function ij(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oB(e,t,n){if(!t)return e;const r=n&&n.encode||ij,a=n&&n.serialize;let i;if(a?i=a(t,n):i=pe.isURLSearchParams(t)?t.toString():new P2(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class oj{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const lM=oj,sB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sj=typeof URLSearchParams<"u"?URLSearchParams:P2,lj=typeof FormData<"u"?FormData:null,uj=typeof Blob<"u"?Blob:null,cj=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),fj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ls={isBrowser:!0,classes:{URLSearchParams:sj,FormData:lj,Blob:uj},isStandardBrowserEnv:cj,isStandardBrowserWebWorkerEnv:fj,protocols:["http","https","file","blob","url","data"]};function dj(e,t){return q_(e,new ls.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return ls.isNode&&pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function hj(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vj(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function lB(e){function t(n,r,a,i){let o=n[i++];const s=Number.isFinite(+o),l=i>=n.length;return o=!o&&pe.isArray(a)?a.length:o,l?(pe.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!s):((!a[o]||!pe.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&pe.isArray(a[o])&&(a[o]=vj(a[o])),!s)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const n={};return pe.forEachEntry(e,(r,a)=>{t(hj(r),a,n,0)}),n}return null}const pj={"Content-Type":void 0};function mj(e,t,n){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Z_={transitional:sB,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=pe.isObject(t);if(i&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return a&&a?JSON.stringify(lB(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return dj(t,this.formSerializer).toString();if((s=pe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return q_(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),mj(t)):t}],transformResponse:[function(t){const n=this.transitional||Z_.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(t&&pe.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?on.from(s,on.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ls.classes.FormData,Blob:ls.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};pe.forEach(["delete","get","head"],function(t){Z_.headers[t]={}});pe.forEach(["post","put","patch"],function(t){Z_.headers[t]=pe.merge(pj)});const L2=Z_,gj=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yj=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&gj[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},uM=Symbol("internals");function Xh(e){return e&&String(e).trim().toLowerCase()}function Ly(e){return e===!1||e==null?e:pe.isArray(e)?e.map(Ly):String(e)}function _j(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const xj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cx(e,t,n,r,a){if(pe.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!pe.isString(t)){if(pe.isString(r))return t.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(t)}}function bj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function wj(e,t){const n=pe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class K_{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(s,l,u){const c=Xh(l);if(!c)throw new Error("header name must be a non-empty string");const f=pe.findKey(a,c);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||l]=Ly(s))}const o=(s,l)=>pe.forEach(s,(u,c)=>i(u,c,l));return pe.isPlainObject(t)||t instanceof this.constructor?o(t,n):pe.isString(t)&&(t=t.trim())&&!xj(t)?o(yj(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=Xh(t),t){const r=pe.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return _j(a);if(pe.isFunction(n))return n.call(this,a,r);if(pe.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Xh(t),t){const r=pe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Cx(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=Xh(o),o){const s=pe.findKey(r,o);s&&(!n||Cx(r,r[s],s,n))&&(delete r[s],a=!0)}}return pe.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||Cx(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return pe.forEach(this,(a,i)=>{const o=pe.findKey(r,i);if(o){n[o]=Ly(a),delete n[i];return}const s=t?bj(i):String(i).trim();s!==i&&delete n[i],n[s]=Ly(a),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return pe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[uM]=this[uM]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=Xh(o);r[s]||(wj(a,o),r[s]=!0)}return pe.isArray(t)?t.forEach(i):i(t),this}}K_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.freezeMethods(K_.prototype);pe.freezeMethods(K_);const nl=K_;function Ax(e,t){const n=this||L2,r=t||n,a=nl.from(r.headers);let i=r.data;return pe.forEach(e,function(s){i=s.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function uB(e){return!!(e&&e.__CANCEL__)}function Em(e,t,n){on.call(this,e??"canceled",on.ERR_CANCELED,t,n),this.name="CanceledError"}pe.inherits(Em,on,{__CANCEL__:!0});function Sj(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new on("Request failed with status code "+n.status,[on.ERR_BAD_REQUEST,on.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Tj=ls.isStandardBrowserEnv?function(){return{write:function(n,r,a,i,o,s){const l=[];l.push(n+"="+encodeURIComponent(r)),pe.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),pe.isString(i)&&l.push("path="+i),pe.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Cj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Aj(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function cB(e,t){return e&&!Cj(t)?Aj(e,t):t}const Ej=ls.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const s=pe.isString(o)?a(o):o;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function Dj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Mj(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[a]=l,r[a]=u;let f=i,d=0;for(;f!==a;)d+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function cM(e,t){let n=0;const r=Mj(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,s=i-n,l=r(s),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:a};c[t?"download":"upload"]=!0,e(c)}}const Pj=typeof XMLHttpRequest<"u",Lj=Pj&&function(e){return new Promise(function(n,r){let a=e.data;const i=nl.from(e.headers).normalize(),o=e.responseType;let s;function l(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}pe.isFormData(a)&&(ls.isStandardBrowserEnv||ls.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(h+":"+v))}const c=cB(e.baseURL,e.url);u.open(e.method.toUpperCase(),oB(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function f(){if(!u)return;const h=nl.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:e,request:u};Sj(function(g){n(g),l()},function(g){r(g),l()},p),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new on("Request aborted",on.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new on("Network Error",on.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const p=e.transitional||sB;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),r(new on(v,p.clarifyTimeoutError?on.ETIMEDOUT:on.ECONNABORTED,e,u)),u=null},ls.isStandardBrowserEnv){const h=(e.withCredentials||Ej(c))&&e.xsrfCookieName&&Tj.read(e.xsrfCookieName);h&&i.set(e.xsrfHeaderName,h)}a===void 0&&i.setContentType(null),"setRequestHeader"in u&&pe.forEach(i.toJSON(),function(v,p){u.setRequestHeader(p,v)}),pe.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&o!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",cM(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",cM(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=h=>{u&&(r(!h||h.type?new Em(null,e,u):h),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const d=Dj(c);if(d&&ls.protocols.indexOf(d)===-1){r(new on("Unsupported protocol "+d+":",on.ERR_BAD_REQUEST,e));return}u.send(a||null)})},Iy={http:nj,xhr:Lj};pe.forEach(Iy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ij={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let a=0;a<t&&(n=e[a],!(r=pe.isString(n)?Iy[n.toLowerCase()]:n));a++);if(!r)throw r===!1?new on(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(pe.hasOwnProp(Iy,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!pe.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Iy};function Ex(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Em(null,e)}function fM(e){return Ex(e),e.headers=nl.from(e.headers),e.data=Ax.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ij.getAdapter(e.adapter||L2.adapter)(e).then(function(r){return Ex(e),r.data=Ax.call(e,e.transformResponse,r),r.headers=nl.from(r.headers),r},function(r){return uB(r)||(Ex(e),r&&r.response&&(r.response.data=Ax.call(e,e.transformResponse,r.response),r.response.headers=nl.from(r.response.headers))),Promise.reject(r)})}const dM=e=>e instanceof nl?e.toJSON():e;function Wd(e,t){t=t||{};const n={};function r(u,c,f){return pe.isPlainObject(u)&&pe.isPlainObject(c)?pe.merge.call({caseless:f},u,c):pe.isPlainObject(c)?pe.merge({},c):pe.isArray(c)?c.slice():c}function a(u,c,f){if(pe.isUndefined(c)){if(!pe.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function i(u,c){if(!pe.isUndefined(c))return r(void 0,c)}function o(u,c){if(pe.isUndefined(c)){if(!pe.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function s(u,c,f){if(f in t)return r(u,c);if(f in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c)=>a(dM(u),dM(c),!0)};return pe.forEach(Object.keys(Object.assign({},e,t)),function(c){const f=l[c]||a,d=f(e[c],t[c],c);pe.isUndefined(d)&&f!==s||(n[c]=d)}),n}const fB="1.4.0",I2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{I2[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const hM={};I2.transitional=function(t,n,r){function a(i,o){return"[Axios v"+fB+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(t===!1)throw new on(a(o," has been removed"+(n?" in "+n:"")),on.ERR_DEPRECATED);return n&&!hM[o]&&(hM[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};function Rj(e,t,n){if(typeof e!="object")throw new on("options must be an object",on.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const s=e[i],l=s===void 0||o(s,i,e);if(l!==!0)throw new on("option "+i+" must be "+l,on.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new on("Unknown option "+i,on.ERR_BAD_OPTION)}}const LS={assertOptions:Rj,validators:I2},Dl=LS.validators;class x0{constructor(t){this.defaults=t,this.interceptors={request:new lM,response:new lM}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Wd(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&LS.assertOptions(r,{silentJSONParsing:Dl.transitional(Dl.boolean),forcedJSONParsing:Dl.transitional(Dl.boolean),clarifyTimeoutError:Dl.transitional(Dl.boolean)},!1),a!=null&&(pe.isFunction(a)?n.paramsSerializer={serialize:a}:LS.assertOptions(a,{encode:Dl.function,serialize:Dl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&pe.merge(i.common,i[n.method]),o&&pe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=nl.concat(o,i);const s=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,s.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,f=0,d;if(!l){const v=[fM.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,u),d=v.length,c=Promise.resolve(n);f<d;)c=c.then(v[f++],v[f++]);return c}d=s.length;let h=n;for(f=0;f<d;){const v=s[f++],p=s[f++];try{h=v(h)}catch(m){p.call(this,m);break}}try{c=fM.call(this,h)}catch(v){return Promise.reject(v)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=Wd(this.defaults,t);const n=cB(t.baseURL,t.url);return oB(n,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){x0.prototype[t]=function(n,r){return this.request(Wd(r||{},{method:t,url:n,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,s){return this.request(Wd(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}x0.prototype[t]=n(),x0.prototype[t+"Form"]=n(!0)});const Ry=x0;class R2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{r.subscribe(s),i=s}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,s){r.reason||(r.reason=new Em(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new R2(function(a){t=a}),cancel:t}}}const Oj=R2;function kj(e){return function(n){return e.apply(null,n)}}function Nj(e){return pe.isObject(e)&&e.isAxiosError===!0}const IS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(IS).forEach(([e,t])=>{IS[t]=e});const Bj=IS;function dB(e){const t=new Ry(e),n=X3(Ry.prototype.request,t);return pe.extend(n,Ry.prototype,t,{allOwnKeys:!0}),pe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return dB(Wd(e,a))},n}const zr=dB(L2);zr.Axios=Ry;zr.CanceledError=Em;zr.CancelToken=Oj;zr.isCancel=uB;zr.VERSION=fB;zr.toFormData=q_;zr.AxiosError=on;zr.Cancel=zr.CanceledError;zr.all=function(t){return Promise.all(t)};zr.spread=kj;zr.isAxiosError=Nj;zr.mergeConfig=Wd;zr.AxiosHeaders=nl;zr.formToJSON=e=>lB(pe.isHTMLForm(e)?new FormData(e):e);zr.HttpStatusCode=Bj;zr.default=zr;const O2=zr,hB="localhost",vB="http://"+hB+":8080",Vj="ws://"+hB+":8080/ws",vM="authentication_done",Fj="Authorization",pB="Bearer ",Uj=vB+"/v1/login";O2.defaults.baseURL=vB;O2.defaults.withCredentials=!0;const ho=O2.create(),zj=e=>{const t=hl();return e.headers[Fj]=pB+t.state.accessToken,e};ho.interceptors.request.use(zj);ho.interceptors.response.use(e=>e,e=>{if(e.response.status!==401)return Promise.reject(e);const t=hl();t.clear(),t.loadUser()});const Hj=()=>{try{return ho.get("/v1/users")}catch(e){console.log(e)}},$j=()=>{try{return ho.delete("/v1/refresh-token")}catch(e){console.log(e)}},Gj=()=>{try{return ho.post("/v1/refresh-token/access-token")}catch(e){console.log(e)}},hl=j3("users",()=>{const e=Rn({id:"",email:"",name:"",picture:"",accessToken:""}),t=async()=>{const o=await Gj();n(o.data)},n=async o=>{if(o==""){a();return}e.accessToken=o.accessToken;const s=await Hj();r(s.data)},r=o=>{e.id=o.usersId,e.email=o.email,e.name=o.name,e.picture=o.picture},a=()=>{e.id="",e.email="",e.name="",e.picture="",e.accessToken=""},i=O(()=>e.accessToken!=""&&e.id!="");return{state:e,loadUser:t,clear:a,isLogin:i}});var pM={expireTimes:"1d",path:"; path=/",domain:"",secure:!1,sameSite:"; SameSite=Lax"},Wj=function(){function e(){this.current_default_config=pM}return e.prototype.config=function(t){for(var n in this.current_default_config)this.current_default_config[n]=t[n]?t[n]:pM[n]},e.prototype.get=function(t){var n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(n&&n.substring(0,1)==="{"&&n.substring(n.length-1,n.length)==="}")try{n=JSON.parse(n)}catch{return n}return n},e.prototype.set=function(t,n,r,a,i,o,s){if(t){if(/^(?:expires|max-age|path|domain|secure|SameSite)$/i.test(t))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+t)}else throw new Error("Cookie name is not found in the first argument.");n&&n.constructor===Object&&(n=JSON.stringify(n));var l="";if(r==null&&(r=this.current_default_config.expireTimes?this.current_default_config.expireTimes:""),r&&r!=0)switch(r.constructor){case Number:r===1/0||r===-1?l="; expires=Fri, 31 Dec 9999 23:59:59 GMT":l="; max-age="+r;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(r)){var u=r.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(r.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":l="; max-age="+ +u*2592e3;break;case"d":l="; max-age="+ +u*86400;break;case"h":l="; max-age="+ +u*3600;break;case"min":l="; max-age="+ +u*60;break;case"s":l="; max-age="+u;break;case"y":l="; max-age="+ +u*31104e3;break}}else l="; expires="+r;break;case Date:l="; expires="+r.toUTCString();break}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+l+(i?"; domain="+i:this.current_default_config.domain?this.current_default_config.domain:"")+(a?"; path="+a:this.current_default_config.path?this.current_default_config.path:"; path=/")+(o==null?this.current_default_config.secure?"; Secure":"":o?"; Secure":"")+(s==null?this.current_default_config.sameSite?"; SameSute="+this.current_default_config.sameSite:"":s?"; SameSite="+s:""),this},e.prototype.remove=function(t,n,r){return!t||!this.isKey(t)?!1:(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:this.current_default_config.domain?this.current_default_config.domain:"")+(n?"; path="+n:this.current_default_config.path?this.current_default_config.path:"; path=/")+"; SameSite=Lax",!0)},e.prototype.isKey=function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){if(!document.cookie)return[];for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=0;n<t.length;n++)t[n]=decodeURIComponent(t[n]);return t},e}(),Dx=null;function Yj(){Dx==null&&(Dx=new Wj);var e=Rn(Dx);return{cookies:e}}const{cookies:mM}=Yj(),Q_=e=>{const t=window.open(Uj,"_blank","width=400,height=600"),n=setInterval(()=>jj(t,n,e),1e3)},jj=(e,t,n)=>{mM.isKey(vM)&&(clearInterval(t),mM.remove(vM),e==null||e.close(),window.location.href=n)};/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const mB=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",mh=e=>mB?Symbol("[vue-router]: "+e):"[vue-router]: "+e,Xj=mh("router view location matched"),gM=mh("router view depth"),k2=mh("router"),N2=mh("route location"),RS=mh("router view location"),zs=typeof window<"u";function qj(e){return e.__esModule||mB&&e[Symbol.toStringTag]==="Module"}const Pn=Object.assign;function Mx(e,t){const n={};for(const r in t){const a=t[r];n[r]=Array.isArray(a)?a.map(e):e(a)}return n}const ap=()=>{};function pn(e){const t=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+e].concat(t))}const Zj=/\/$/,Kj=e=>e.replace(Zj,"");function Px(e,t,n="/"){let r,a={},i="",o="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(r=t.slice(0,s),i=t.slice(s+1,l>-1?l:t.length),a=e(i)),l>-1&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=e7(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:a,hash:o}}function Qj(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function yM(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function _M(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&cu(t.matched[r],n.matched[a])&&gB(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function cu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function gB(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Jj(e[n],t[n]))return!1;return!0}function Jj(e,t){return Array.isArray(e)?xM(e,t):Array.isArray(t)?xM(t,e):e===t}function xM(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function e7(e,t){if(e.startsWith("/"))return e;if(!t.startsWith("/"))return pn(`Cannot resolve a relative location without an absolute path. Trying to resolve "${e}" from "${t}". It should look like "/${t}".`),e;if(!e)return t;const n=t.split("/"),r=e.split("/");let a=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(a===1||o==="."))if(o==="..")a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Np;(function(e){e.pop="pop",e.push="push"})(Np||(Np={}));var ip;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ip||(ip={}));function t7(e){if(!e)if(zs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Kj(e)}const n7=/^[^#]+#/;function r7(e,t){return e.replace(n7,"#")+t}function a7(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const J_=()=>({left:window.pageXOffset,top:window.pageYOffset});function i7(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#");if(typeof e.el=="string"&&(!r||!document.getElementById(e.el.slice(1))))try{const i=document.querySelector(e.el);if(r&&i){pn(`The selector "${e.el}" should be passed as "el: document.querySelector('${e.el}')" because it starts with "#".`);return}}catch{pn(`The selector "${e.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a){pn(`Couldn't find element using selector "${e.el}" returned by scrollBehavior.`);return}t=a7(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function bM(e,t){return(history.state?history.state.position-t:-1)+e}const OS=new Map;function o7(e,t){OS.set(e,t)}function s7(e){const t=OS.get(e);return OS.delete(e),t}let l7=()=>location.protocol+"//"+location.host;function yB(e,t){const{pathname:n,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let s=a.includes(e.slice(i))?e.slice(i).length:1,l=a.slice(s);return l[0]!=="/"&&(l="/"+l),yM(l,"")}return yM(n,e)+r+a}function u7(e,t,n,r){let a=[],i=[],o=null;const s=({state:d})=>{const h=yB(e,location),v=n.value,p=t.value;let m=0;if(d){if(n.value=h,t.value=d,o&&o===v){o=null;return}m=p?d.position-p.position:0}else r(h);a.forEach(g=>{g(n.value,v,{delta:m,type:Np.pop,direction:m?m>0?ip.forward:ip.back:ip.unknown})})};function l(){o=n.value}function u(d){a.push(d);const h=()=>{const v=a.indexOf(d);v>-1&&a.splice(v,1)};return i.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(Pn({},d.state,{scroll:J_()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:f}}function wM(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?J_():null}}function c7(e){const{history:t,location:n}=window,r={value:yB(e,n)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:l7()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),a.value=u}catch(h){pn("Error with push/replace State",h),n[c?"replace":"assign"](d)}}function o(l,u){const c=Pn({},t.state,wM(a.value.back,l,a.value.forward,!0),u,{position:a.value.position});i(l,c,!0),r.value=l}function s(l,u){const c=Pn({},a.value,t.state,{forward:l,scroll:J_()});t.state||pn(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),i(c.current,c,!0);const f=Pn({},wM(r.value,l,null),{position:c.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:a,push:s,replace:o}}function f7(e){e=t7(e);const t=c7(e),n=u7(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const a=Pn({location:"",base:e,go:r,createHref:r7.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function d7(e){return typeof e=="string"||e&&typeof e=="object"}function _B(e){return typeof e=="string"||typeof e=="symbol"}const Ml={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xB=mh("navigation failure");var SM;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(SM||(SM={}));const h7={1({location:e,currentLocation:t}){return`No match for
 ${JSON.stringify(e)}${t?`
while being at
`+JSON.stringify(t):""}`},2({from:e,to:t}){return`Redirected from "${e.fullPath}" to "${p7(t)}" via a navigation guard.`},4({from:e,to:t}){return`Navigation aborted from "${e.fullPath}" to "${t.fullPath}" via a navigation guard.`},8({from:e,to:t}){return`Navigation cancelled from "${e.fullPath}" to "${t.fullPath}" with a new navigation.`},16({from:e,to:t}){return`Avoided redundant navigation to current location: "${e.fullPath}".`}};function Yd(e,t){return Pn(new Error(h7[e](t)),{type:e,[xB]:!0},t)}function Pl(e,t){return e instanceof Error&&xB in e&&(t==null||!!(e.type&t))}const v7=["params","query","hash"];function p7(e){if(typeof e=="string")return e;if("path"in e)return e.path;const t={};for(const n of v7)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}const TM="[^/]+?",m7={sensitive:!1,strict:!1,start:!0,end:!0},g7=/[.+*?^${}()[\]/\\]/g;function y7(e,t){const n=Pn({},m7,t),r=[];let a=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(a+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(a+="/"),a+=d.value.replace(g7,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:p,optional:m,regexp:g}=d;i.push({name:v,repeatable:p,optional:m});const y=g||TM;if(y!==TM){h+=10;try{new RegExp(`(${y})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${v}" (${y}): `+x.message)}}let _=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(_=m&&u.length<2?`(?:/${_})`:"/"+_),m&&(_+="?"),a+=_,h+=20,m&&(h+=-8),p&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function s(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",v=i[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:v,repeatable:p,optional:m}=h,g=v in u?u[v]:"";if(Array.isArray(g)&&!p)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const y=Array.isArray(g)?g.join("/"):g;if(!y)if(m)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=y}}return c}return{re:o,score:r,keys:i,parse:s,stringify:l}}function _7(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function x7(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const i=_7(r[n],a[n]);if(i)return i;n++}return a.length-r.length}const b7={type:0,value:""},w7=/[a-zA-Z0-9_]/;function S7(e){if(!e)return[[]];if(e==="/")return[[b7]];if(!e.startsWith("/"))throw new Error(`Route paths should start with a "/": "${e}" should be "/${e}".`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const a=[];let i;function o(){i&&a.push(i),i=[]}let s=0,l,u="",c="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:w7.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),a}function T7(e,t,n){const r=y7(S7(e.path),n);{const i=new Set;for(const o of r.keys)i.has(o.name)&&pn(`Found duplicated params with name "${o.name}" for path "${e.path}". Only the last one will be available on "$route.params".`),i.add(o.name)}const a=Pn(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function C7(e,t){const n=[],r=new Map;t=AM({strict:!1,end:!0,sensitive:!1},t);function a(c){return r.get(c)}function i(c,f,d){const h=!d,v=E7(c);v.aliasOf=d&&d.record;const p=AM(t,c),m=[v];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const x of _)m.push(Pn({},v,{components:d?d.record.components:v.components,path:x,aliasOf:d?d.record:v}))}let g,y;for(const _ of m){const{path:x}=_;if(f&&x[0]!=="/"){const w=f.record.path,b=w[w.length-1]==="/"?"":"/";_.path=f.record.path+(x&&b+x)}if(_.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(g=T7(_,f,p),f&&x[0]==="/"&&L7(g,f),d?(d.alias.push(g),P7(d,g)):(y=y||g,y!==g&&y.alias.push(g),h&&c.name&&!CM(g)&&o(c.name)),"children"in v){const w=v.children;for(let b=0;b<w.length;b++)i(w[b],g,d&&d.children[b])}d=d||g,l(g)}return y?()=>{o(y)}:ap}function o(c){if(_B(c)){const f=r.get(c);f&&(r.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function s(){return n}function l(c){let f=0;for(;f<n.length&&x7(c,n[f])>=0&&(c.record.path!==n[f].record.path||!bB(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!CM(c)&&r.set(c.record.name,c)}function u(c,f){let d,h={},v,p;if("name"in c&&c.name){if(d=r.get(c.name),!d)throw Yd(1,{location:c});p=d.record.name,h=Pn(A7(f.params,d.keys.filter(y=>!y.optional).map(y=>y.name)),c.params),v=d.stringify(h)}else if("path"in c)v=c.path,v.startsWith("/")||pn(`The Matcher cannot resolve relative paths but received "${v}". Unless you directly called \`matcher.resolve("${v}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),d=n.find(y=>y.re.test(v)),d&&(h=d.parse(v),p=d.record.name);else{if(d=f.name?r.get(f.name):n.find(y=>y.re.test(f.path)),!d)throw Yd(1,{location:c,currentLocation:f});p=d.record.name,h=Pn({},f.params,c.params),v=d.stringify(h)}const m=[];let g=d;for(;g;)m.unshift(g.record),g=g.parent;return{name:p,path:v,params:h,matched:m,meta:M7(m)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:s,getRecordMatcher:a}}function A7(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function E7(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:D7(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function D7(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function CM(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function M7(e){return e.reduce((t,n)=>Pn(t,n.meta),{})}function AM(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function kS(e,t){return e.name===t.name&&e.optional===t.optional&&e.repeatable===t.repeatable}function P7(e,t){for(const n of e.keys)if(!n.optional&&!t.keys.find(kS.bind(null,n)))return pn(`Alias "${t.record.path}" and the original record: "${e.record.path}" should have the exact same param named "${n.name}"`);for(const n of t.keys)if(!n.optional&&!e.keys.find(kS.bind(null,n)))return pn(`Alias "${t.record.path}" and the original record: "${e.record.path}" should have the exact same param named "${n.name}"`)}function L7(e,t){for(const n of t.keys)if(!e.keys.find(kS.bind(null,n)))return pn(`Absolute path "${e.record.path}" should have the exact same param named "${n.name}" as its parent "${t.record.path}".`)}function bB(e,t){return t.children.some(n=>n===e||bB(e,n))}const wB=/#/g,I7=/&/g,R7=/\//g,O7=/=/g,k7=/\?/g,SB=/\+/g,N7=/%5B/g,B7=/%5D/g,TB=/%5E/g,V7=/%60/g,CB=/%7B/g,F7=/%7C/g,AB=/%7D/g,U7=/%20/g;function B2(e){return encodeURI(""+e).replace(F7,"|").replace(N7,"[").replace(B7,"]")}function z7(e){return B2(e).replace(CB,"{").replace(AB,"}").replace(TB,"^")}function NS(e){return B2(e).replace(SB,"%2B").replace(U7,"+").replace(wB,"%23").replace(I7,"%26").replace(V7,"`").replace(CB,"{").replace(AB,"}").replace(TB,"^")}function H7(e){return NS(e).replace(O7,"%3D")}function $7(e){return B2(e).replace(wB,"%23").replace(k7,"%3F")}function G7(e){return e==null?"":$7(e).replace(R7,"%2F")}function Bp(e){try{return decodeURIComponent(""+e)}catch{pn(`Error decoding "${e}". Using original value`)}return""+e}function W7(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const i=r[a].replace(SB," "),o=i.indexOf("="),s=Bp(o<0?i:i.slice(0,o)),l=o<0?null:Bp(i.slice(o+1));if(s in t){let u=t[s];Array.isArray(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function EM(e){let t="";for(let n in e){const r=e[n];if(n=H7(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&NS(i)):[r&&NS(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Y7(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}function qh(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Zl(e,t,n,r,a){const i=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((o,s)=>{const l=f=>{f===!1?s(Yd(4,{from:n,to:t})):f instanceof Error?s(f):d7(f)?s(Yd(2,{from:t,to:f})):(i&&r.enterCallbacks[a]===i&&typeof f=="function"&&i.push(f),o())},u=e.call(r&&r.instances[a],t,n,j7(l,t,n));let c=Promise.resolve(u);if(e.length<3&&(c=c.then(l)),e.length>2){const f=`The "next" callback was never called inside of ${e.name?'"'+e.name+'"':""}:
${e.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof u=="object"&&"then"in u)c=c.then(d=>l._called?d:(pn(f),Promise.reject(new Error("Invalid navigation guard"))));else if(u!==void 0&&!l._called){pn(f),s(new Error("Invalid navigation guard"));return}}c.catch(f=>s(f))})}function j7(e,t,n){let r=0;return function(){r++===1&&pn(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${t.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),e._called=!0,r===1&&e.apply(null,arguments)}}function Lx(e,t,n,r){const a=[];for(const i of e)for(const o in i.components){let s=i.components[o];{if(!s||typeof s!="object"&&typeof s!="function")throw pn(`Component "${o}" in record with path "${i.path}" is not a valid component. Received "${String(s)}".`),new Error("Invalid route component");if("then"in s){pn(`Component "${o}" in record with path "${i.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const l=s;s=()=>l}else s.__asyncLoader&&!s.__warnedDefineAsync&&(s.__warnedDefineAsync=!0,pn(`Component "${o}" in record with path "${i.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(X7(s)){const u=(s.__vccOpts||s)[t];u&&a.push(Zl(u,n,r,i,o))}else{let l=s();"catch"in l||(pn(`Component "${o}" in record with path "${i.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),l=Promise.resolve(l)),a.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=qj(u)?u.default:u;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&Zl(d,n,r,i,o)()}))}}return a}function X7(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function DM(e){const t=It(k2),n=It(N2),r=O(()=>t.resolve(ie(e.to))),a=O(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(cu.bind(null,c));if(d>-1)return d;const h=MM(l[u-2]);return u>1&&MM(c)===h&&f[f.length-1].path!==h?f.findIndex(cu.bind(null,l[u-2])):d}),i=O(()=>a.value>-1&&Q7(n.params,r.value.params)),o=O(()=>a.value>-1&&a.value===n.matched.length-1&&gB(n.params,r.value.params));function s(l={}){return K7(l)?t[ie(e.replace)?"replace":"push"](ie(e.to)).catch(ap):Promise.resolve()}if(zs){const l=gu();if(l){const u={route:r.value,isActive:i.value,isExactActive:o.value};l.__vrl_devtools=l.__vrl_devtools||[],l.__vrl_devtools.push(u),qn(()=>{u.route=r.value,u.isActive=i.value,u.isExactActive=o.value},{flush:"post"})}}return{route:r,href:O(()=>r.value.href),isActive:i,isExactActive:o,navigate:s}}const q7=hn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:DM,setup(e,{slots:t}){const n=Rn(DM(e)),{options:r}=It(k2),a=O(()=>({[PM(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[PM(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:so("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),Z7=q7;function K7(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Q7(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Array.isArray(a)||a.length!==r.length||r.some((i,o)=>i!==a[o]))return!1}return!0}function MM(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const PM=(e,t,n)=>e??t??n,J7=hn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){tX();const r=It(RS),a=O(()=>e.route||r.value),i=It(gM,0),o=O(()=>a.value.matched[i]);dr(gM,i+1),dr(Xj,o),dr(RS,a);const s=te();return Le(()=>[s.value,o.value,e.name],([l,u,c],[f,d,h])=>{u&&(u.instances[c]=l,d&&d!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!cu(u,d)||!f)&&(u.enterCallbacks[c]||[]).forEach(v=>v(l))},{flush:"post"}),()=>{const l=a.value,u=o.value,c=u&&u.components[e.name],f=e.name;if(!c)return LM(n.default,{Component:c,route:l});const d=u.props[e.name],h=d?d===!0?l.params:typeof d=="function"?d(l):d:null,p=so(c,Pn({},h,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(u.instances[f]=null)},ref:s}));if(zs&&p.ref){const m={depth:i,name:u.name,path:u.path,meta:u.meta};(Array.isArray(p.ref)?p.ref.map(y=>y.i):[p.ref.i]).forEach(y=>{y.__vrv_devtools=m})}return LM(n.default,{Component:p,route:l})||p}}});function LM(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const eX=J7;function tX(){const e=gu(),t=e.parent&&e.parent.type.name;if(t&&(t==="KeepAlive"||t.includes("Transition"))){const n=t==="KeepAlive"?"keep-alive":"transition";pn(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${n}>
    <component :is="Component" />
  </${n}>
</router-view>`)}}function Zh(e,t){const n=Pn({},e,{matched:e.matched.map(r=>cX(r,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function eg(e){return{_custom:{display:e}}}let nX=0;function rX(e,t,n){if(t.__hasDevtools)return;t.__hasDevtools=!0;const r=nX++;A2({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},a=>{a.on.inspectComponent((c,f)=>{c.instanceData&&c.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Zh(t.currentRoute.value,"Current Route")})}),a.on.visitComponentTree(({treeNode:c,componentInstance:f})=>{if(f.__vrv_devtools){const d=f.__vrv_devtools;c.tags.push({label:(d.name?`${d.name.toString()}: `:"")+d.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:EB})}Array.isArray(f.__vrl_devtools)&&(f.__devtoolsApi=a,f.__vrl_devtools.forEach(d=>{let h=PB,v="";d.isExactActive?(h=MB,v="This is exactly active"):d.isActive&&(h=DB,v="This link is active"),c.tags.push({label:d.route.path,textColor:0,tooltip:v,backgroundColor:h})}))}),Le(t.currentRoute,()=>{l(),a.notifyComponentUpdate(),a.sendInspectorTree(s),a.sendInspectorState(s)});const i="router:navigations:"+r;a.addTimelineLayer({id:i,label:`Router${r?" "+r:""} Navigations`,color:4237508}),t.onError((c,f)=>{a.addTimelineEvent({layerId:i,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:Date.now(),data:{error:c},groupId:f.meta.__navigationId}})});let o=0;t.beforeEach((c,f)=>{const d={guard:eg("beforeEach"),from:Zh(f,"Current Location during this navigation"),to:Zh(c,"Target location")};Object.defineProperty(c.meta,"__navigationId",{value:o++}),a.addTimelineEvent({layerId:i,event:{time:Date.now(),title:"Start of navigation",subtitle:c.fullPath,data:d,groupId:c.meta.__navigationId}})}),t.afterEach((c,f,d)=>{const h={guard:eg("afterEach")};d?(h.failure={_custom:{type:Error,readOnly:!0,display:d?d.message:"",tooltip:"Navigation Failure",value:d}},h.status=eg("❌")):h.status=eg("✅"),h.from=Zh(f,"Current Location during this navigation"),h.to=Zh(c,"Target location"),a.addTimelineEvent({layerId:i,event:{title:"End of navigation",subtitle:c.fullPath,time:Date.now(),data:h,logType:d?"warning":"default",groupId:c.meta.__navigationId}})});const s="router-inspector:"+r;a.addInspector({id:s,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"});function l(){if(!u)return;const c=u;let f=n.getRoutes().filter(d=>!d.parent);f.forEach(RB),c.filter&&(f=f.filter(d=>BS(d,c.filter.toLowerCase()))),f.forEach(d=>IB(d,t.currentRoute.value)),c.rootNodes=f.map(LB)}let u;a.on.getInspectorTree(c=>{u=c,c.app===e&&c.inspectorId===s&&l()}),a.on.getInspectorState(c=>{if(c.app===e&&c.inspectorId===s){const d=n.getRoutes().find(h=>h.record.__vd_id===c.nodeId);d&&(c.state={options:iX(d)})}}),a.sendInspectorTree(s),a.sendInspectorState(s)})}function aX(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}function iX(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return t.name!=null&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map(r=>`${r.name}${aX(r)}`).join(" "),tooltip:"Param keys",value:e.keys}}}),t.redirect!=null&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map(r=>r.record.path)}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map(r=>r.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const EB=15485081,DB=2450411,MB=8702998,oX=2282478,PB=16486972,sX=6710886;function LB(e){const t=[],{record:n}=e;n.name!=null&&t.push({label:String(n.name),textColor:0,backgroundColor:oX}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:PB}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:EB}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:MB}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:DB}),n.redirect&&t.push({label:"redirect: "+(typeof n.redirect=="string"?n.redirect:"Object"),textColor:16777215,backgroundColor:sX});let r=n.__vd_id;return r==null&&(r=String(lX++),n.__vd_id=r),{id:r,label:n.path,tags:t,children:e.children.map(LB)}}let lX=0;const uX=/^\/(.*)\/([a-z]*)$/;function IB(e,t){const n=t.matched.length&&cu(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some(r=>cu(r,e.record))),e.children.forEach(r=>IB(r,t))}function RB(e){e.__vd_match=!1,e.children.forEach(RB)}function BS(e,t){const n=String(e.re).match(uX);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach(o=>BS(o,t)),e.record.path!=="/"||t==="/"?(e.__vd_match=e.re.test(t),!0):!1;const a=e.record.path.toLowerCase(),i=Bp(a);return!t.startsWith("/")&&(i.includes(t)||a.includes(t))||i.startsWith(t)||a.startsWith(t)||e.record.name&&String(e.record.name).includes(t)?!0:e.children.some(o=>BS(o,t))}function cX(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function fX(e){const t=C7(e.routes,e),n=e.parseQuery||W7,r=e.stringifyQuery||EM,a=e.history;if(!a)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const i=qh(),o=qh(),s=qh(),l=ke(Ml);let u=Ml;zs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Mx.bind(null,N=>""+N),f=Mx.bind(null,G7),d=Mx.bind(null,Bp);function h(N,H){let K,Z;return _B(N)?(K=t.getRecordMatcher(N),Z=H):Z=N,t.addRoute(Z,K)}function v(N){const H=t.getRecordMatcher(N);H?t.removeRoute(H):pn(`Cannot remove non-existent route "${String(N)}"`)}function p(){return t.getRoutes().map(N=>N.record)}function m(N){return!!t.getRecordMatcher(N)}function g(N,H){if(H=Pn({},H||l.value),typeof N=="string"){const ae=Px(n,N,H.path),V=t.resolve({path:ae.path},H),G=a.createHref(ae.fullPath);return G.startsWith("//")?pn(`Location "${N}" resolved to "${G}". A resolved location cannot start with multiple slashes.`):V.matched.length||pn(`No match found for location with path "${N}"`),Pn(ae,V,{params:d(V.params),hash:Bp(ae.hash),redirectedFrom:void 0,href:G})}let K;if("path"in N)"params"in N&&!("name"in N)&&Object.keys(N.params).length&&pn(`Path "${N.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),K=Pn({},N,{path:Px(n,N.path,H.path).path});else{const ae=Pn({},N.params);for(const V in ae)ae[V]==null&&delete ae[V];K=Pn({},N,{params:f(N.params)}),H.params=f(H.params)}const Z=t.resolve(K,H),q=N.hash||"";q&&!q.startsWith("#")&&pn(`A \`hash\` should always start with the character "#". Replace "${q}" with "#${q}".`),Z.params=c(d(Z.params));const ce=Qj(r,Pn({},N,{hash:z7(q),path:Z.path})),oe=a.createHref(ce);return oe.startsWith("//")?pn(`Location "${N}" resolved to "${oe}". A resolved location cannot start with multiple slashes.`):Z.matched.length||pn(`No match found for location with path "${"path"in N?N.path:N}"`),Pn({fullPath:ce,hash:q,query:r===EM?Y7(N.query):N.query||{}},Z,{redirectedFrom:void 0,href:oe})}function y(N){return typeof N=="string"?Px(n,N,l.value.path):Pn({},N)}function _(N,H){if(u!==N)return Yd(8,{from:H,to:N})}function x(N){return S(N)}function w(N){return x(Pn(y(N),{replace:!0}))}function b(N){const H=N.matched[N.matched.length-1];if(H&&H.redirect){const{redirect:K}=H;let Z=typeof K=="function"?K(N):K;if(typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=y(Z):{path:Z},Z.params={}),!("path"in Z)&&!("name"in Z))throw pn(`Invalid redirect found:
${JSON.stringify(Z,null,2)}
 when navigating to "${N.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return Pn({query:N.query,hash:N.hash,params:N.params},Z)}}function S(N,H){const K=u=g(N),Z=l.value,q=N.state,ce=N.force,oe=N.replace===!0,ae=b(K);if(ae)return S(Pn(y(ae),{state:q,force:ce,replace:oe}),H||K);const V=K;V.redirectedFrom=H;let G;return!ce&&_M(r,Z,K)&&(G=Yd(16,{to:V,from:Z}),z(Z,Z,!0,!1)),(G?Promise.resolve(G):A(V,Z)).catch(Q=>Pl(Q)?Pl(Q,2)?Q:L(Q):U(Q,V,Z)).then(Q=>{if(Q){if(Pl(Q,2))return _M(r,g(Q.to),V)&&H&&(H._count=H._count?H._count+1:1)>10?(pn(`Detected an infinite redirection in a navigation guard when going from "${Z.fullPath}" to "${V.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):S(Pn(y(Q.to),{state:q,force:ce,replace:oe}),H||V)}else Q=T(V,Z,!0,oe,q);return M(V,Z,Q),Q})}function C(N,H){const K=_(N,H);return K?Promise.reject(K):Promise.resolve()}function A(N,H){let K;const[Z,q,ce]=dX(N,H);K=Lx(Z.reverse(),"beforeRouteLeave",N,H);for(const ae of Z)ae.leaveGuards.forEach(V=>{K.push(Zl(V,N,H))});const oe=C.bind(null,N,H);return K.push(oe),Rf(K).then(()=>{K=[];for(const ae of i.list())K.push(Zl(ae,N,H));return K.push(oe),Rf(K)}).then(()=>{K=Lx(q,"beforeRouteUpdate",N,H);for(const ae of q)ae.updateGuards.forEach(V=>{K.push(Zl(V,N,H))});return K.push(oe),Rf(K)}).then(()=>{K=[];for(const ae of N.matched)if(ae.beforeEnter&&!H.matched.includes(ae))if(Array.isArray(ae.beforeEnter))for(const V of ae.beforeEnter)K.push(Zl(V,N,H));else K.push(Zl(ae.beforeEnter,N,H));return K.push(oe),Rf(K)}).then(()=>(N.matched.forEach(ae=>ae.enterCallbacks={}),K=Lx(ce,"beforeRouteEnter",N,H),K.push(oe),Rf(K))).then(()=>{K=[];for(const ae of o.list())K.push(Zl(ae,N,H));return K.push(oe),Rf(K)}).catch(ae=>Pl(ae,8)?ae:Promise.reject(ae))}function M(N,H,K){for(const Z of s.list())Z(N,H,K)}function T(N,H,K,Z,q){const ce=_(N,H);if(ce)return ce;const oe=H===Ml,ae=zs?history.state:{};K&&(Z||oe?a.replace(N.fullPath,Pn({scroll:oe&&ae&&ae.scroll},q)):a.push(N.fullPath,q)),l.value=N,z(N,H,K,oe),L()}let E;function P(){E=a.listen((N,H,K)=>{const Z=g(N),q=b(Z);if(q){S(Pn(q,{replace:!0}),Z).catch(ap);return}u=Z;const ce=l.value;zs&&o7(bM(ce.fullPath,K.delta),J_()),A(Z,ce).catch(oe=>Pl(oe,12)?oe:Pl(oe,2)?(S(oe.to,Z).then(ae=>{Pl(ae,20)&&!K.delta&&K.type===Np.pop&&a.go(-1,!1)}).catch(ap),Promise.reject()):(K.delta&&a.go(-K.delta,!1),U(oe,Z,ce))).then(oe=>{oe=oe||T(Z,ce,!1),oe&&(K.delta?a.go(-K.delta,!1):K.type===Np.pop&&Pl(oe,20)&&a.go(-1,!1)),M(Z,ce,oe)}).catch(ap)})}let I=qh(),k=qh(),B;function U(N,H,K){L(N);const Z=k.list();return Z.length?Z.forEach(q=>q(N,H,K)):(pn("uncaught error during route navigation:"),console.error(N)),Promise.reject(N)}function R(){return B&&l.value!==Ml?Promise.resolve():new Promise((N,H)=>{I.add([N,H])})}function L(N){return B||(B=!N,P(),I.list().forEach(([H,K])=>N?K(N):H()),I.reset()),N}function z(N,H,K,Z){const{scrollBehavior:q}=e;if(!zs||!q)return Promise.resolve();const ce=!K&&s7(bM(N.fullPath,0))||(Z||!K)&&history.state&&history.state.scroll||null;return Ot().then(()=>q(N,H,ce)).then(oe=>oe&&i7(oe)).catch(oe=>U(oe,N,H))}const X=N=>a.go(N);let Y;const $=new Set;return{currentRoute:l,addRoute:h,removeRoute:v,hasRoute:m,getRoutes:p,resolve:g,options:e,push:x,replace:w,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:i.add,beforeResolve:o.add,afterEach:s.add,onError:k.add,isReady:R,install(N){const H=this;N.component("RouterLink",Z7),N.component("RouterView",eX),N.config.globalProperties.$router=H,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>ie(l)}),zs&&!Y&&l.value===Ml&&(Y=!0,x(a.location).catch(q=>{pn("Unexpected error when starting the router:",q)}));const K={};for(const q in Ml)K[q]=O(()=>l.value[q]);N.provide(k2,H),N.provide(N2,Rn(K)),N.provide(RS,l);const Z=N.unmount;$.add(N),N.unmount=function(){$.delete(N),$.size<1&&(u=Ml,E&&E(),l.value=Ml,Y=!1,B=!1),Z()},zs&&rX(N,H,t)}}}function Rf(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function dX(e,t){const n=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const s=t.matched[o];s&&(e.matched.find(u=>cu(u,s))?r.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(u=>cu(u,l))||a.push(l))}return[n,r,a]}function vl(){return It(N2)}const hX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAMAAABNO5HnAAAAvVBMVEXh4eGjo6OkpKSpqamrq6vg4ODc3Nzd3d2lpaXf39/T09PU1NTBwcHOzs7ExMS8vLysrKy+vr7R0dHFxcXX19e5ubmzs7O6urrZ2dmnp6fLy8vHx8fY2NjMzMywsLDAwMDa2trV1dWysrLIyMi0tLTCwsLKysrNzc2mpqbJycnQ0NC/v7+tra2qqqrDw8OoqKjGxsa9vb3Pz8+1tbW3t7eurq7e3t62travr6+xsbHS0tK4uLi7u7vW1tbb29sZe/uLAAAG2UlEQVR4XuzcV47dSAyG0Z+KN+ccO+ecHfe/rBl4DMNtd/cNUtXD6DtLIAhCpMiSXwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIhHnfm0cVirHTam884sVu6Q1GvPkf0heq7VE+UF5bt2y97Vat+VlRniev/EVjjp12NlgdEytLWEy5G2hepDYOt7qGob2L23Dd3valPY6dsW+jvaBOKrkm2ldBVrbag+2tYeq1oX6RxYBsF6SY3vA8to8F0roRJaZmFFK2ASWA6CiT6EhuWkoQ9gablZ6l1oW47aWoF8dpvT6FrOunoD5pa7uf6CaslyV6rqD0guzYHLRK/hwJw40Cu4MUdu9Bt8C8yR4Jt+gRbmzEKvUTicFw8kY3NonOg/aJpTTf2AWWBOBTNBkvrmWF+QNDPnZoLUNOeagpKSOVdKhK550BVa5kGLOFfMCxY92ubFuYouNC9CFdyuebKrYrsyL9hcGpgnAxVaXDJPSrGKrGreVFVkU/NmykDJj1sV2Z55s0e74hwtS9k8KvNzxY8ZozvX+L67M4/uVFwT84Kt9CPz6EjFdUqgMyCjCTSHWD4cq7jOzKMzxtGu8ddwxzzaUXHFgXkTxCqwyLyJOON0j9POc/OCpbAj+hU/Zsz9Pbk2T65VbM/mybOKbd882VexjegLPXk0L154uvF/tR5N7RjJB9bvBsLEPJgI5dCcC2P5wL3QlSClJ+bYSSpIqpljh4IkpWNzapzqB3T9vCGBuGUOtWL9hDNPizMYmjND/QIloTkSJvKB4tHRK1iaE0u9hnhgDgxi/QFJZLmLEv0FvbHlbNzTG9ApWa5KHb0J9cByFNT1DhznGOngWO9CvWQ5KdX1AXweWy7Gn/Uh9CLLQdTTCkgPLLODVCshPrSMarHWgUpkGURrl2c83drWbp+0PlRebCsvFW0G+6FtLNzXxlDuXttGrrtlbQPlacvW1ppmCDPOHgJbQ/BwpmyQnh6siHVwcJoqB3iqNx/tHY/N+pPyg7Rz83Xv0n5zuff1ppPKCSS9audf1V6i9QAAAAAAAAAAAAAAAAAAAAAAEMdyAuVeZ9I4H95/uojGgf0QjKOLT/fD88ak0ysrI6SVo9qXRWgrhIsvtaNKqs2hXNlvD0LbSDho71fKWhsxvulf2NYu+jcro42d+e0isMyCxe18R2/D6HQYWY6i4elIryE9brbMgVbzONVP2G3sBeZMsNfYFf5h715302aDIADP2Lw+CIdDQhKcGuIgKKSIk1MSMND7v6zvBvqprdqY3bWfS1itRto/O+52t+KnW+2+OdSYK+5TViS9LxxqyX07p6xUeq7hXl+WPq/AX15QI+9fDryaw5d31EP7HPGqonMb5rmvYwow/upgWTDzKYQ/C2BV3o8oSNTPYVH26FEY7zGDNfnZo0DeOYclwc6jUN4ugBVxZ0HBFp0YJoxaFK41gn7ZGxWYZtDNrSOqEK0dFLscqMbhArXuIioS3UGnHw9U5uEHFCp9quOXUGfrUSFvC11cl0p1nbK+KwHs92yFYyo2DqFEsKdq+wAqhHsqtw+hQHykescY4rnvNOC7g3TPNOEZwt3QiBuINkxpRDqEZFOaMYVgTzTkCWKFGxqyCSHVkqYsIVQQ0ZQogEwJjUkgkvNpjO8g0ZzmzCHRieacIJBLaU7qIE+bBrUhz5YGbSHPmQadIc+EBk0gT48G9SDPPQ06QZ5gQ3M2AQQa0ZwRqtCExz1kClc0ZRVCqFuacguxEhqSQC53pBlHB8HyDY3Y5BDttgnoinRoQgfinZrTuxrxgeodYiiQ+1TOz6HCy4KqLV6gREHVCqjxSsVeociaaq2hyjOVeoYyXarUhTrdZs4VeaQ6j9DIdZsXEhXpU5U+1EqoSALFtlRjC9VGHlXwRlCuTKlAWkK9rEfxehkMCB8o3EMIE1yfovUdrHiKKFb0BEMuPQrVu8CU9xNFOr3DmtcFxVm8wqBsTGHGGUxya4+CeGsHqwZjijEewDAn5Rt9dOdgWzZt6kAqMm/xylpz1EI8i3hF0SxGXQxPvJrTEHXyMuVVTF9QN+WElZuUqKPiyEodC9RV+cbKvJWos0E1TbTe4wB1l89W/GSrWY4G4G4+NUHebhwEkGGYtPgpWskQAkjSXvr8x/xlGz/RKHcr/jOrXYn/1bh0Jh7/mjfpXPALjXC+O/Av7HfzEL+nERbJZME/tpgkRYg/1Mjms48Wf1PrYzbPIIBW8aDY9j/2vsef8vz9R39bDOL/2qlDIwCBGACCOMTLl4klOpP+i4MimFe7DZy7v3rcuaYqej+f3VE1K09+AgAAAAAAAAAAAAAAAAAAAAAAgBf6wsTW1jN3CAAAAABJRU5ErkJggg==",vX=hn({__name:"TheNav",setup(e){const t=hl(),n=vl(),r=te(n.path);return qn(()=>{r.value=n.path}),t.loadUser(),(a,i)=>{const o=Ue("v-list-item"),s=Ue("v-list-item-title"),l=Ue("v-list"),u=Ue("v-col"),c=Ue("v-row"),f=Ue("v-divider"),d=Ue("v-navigation-drawer");return J(),Ie(d,{"expand-on-hover":"",rail:"",app:""},{default:ne(()=>[D(c,null,{default:ne(()=>[D(u,null,{default:ne(()=>[D(l,null,{default:ne(()=>[ie(t).state.accessToken!=""?(J(),Ie(o,{key:0,"prepend-avatar":ie(t).state.picture,title:ie(t).state.name,subtitle:ie(t).state.email},null,8,["prepend-avatar","title","subtitle"])):(J(),Ie(o,{key:1,"prepend-avatar":ie(hX),onClick:i[0]||(i[0]=h=>ie(Q_)(r.value))},{default:ne(()=>[D(s,{class:"font-weight-bold"},{default:ne(()=>[qe("로그인")]),_:1})]),_:1},8,["prepend-avatar"]))]),_:1})]),_:1})]),_:1}),D(c,null,{default:ne(()=>[D(f)]),_:1})]),_:1})}}}),kr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},pX=kr(vX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/layouts/nav/TheNav.vue"]]),mX={};function gX(e,t){const n=Ue("v-spacer"),r=Ue("RouterView"),a=Ue("v-app-bar");return J(),Ie(a,{app:"",height:"100"},{default:ne(()=>[D(n),D(r,{name:"header"}),D(n)]),_:1})}const yX=kr(mX,[["render",gX],["__file","/Users/gimjinbeom/movierankchart/frontend/src/layouts/header/TheHeader.vue"]]),_X={};function xX(e,t){const n=Ue("RouterView"),r=Ue("v-main");return J(),Ie(r,{app:""},{default:ne(()=>[D(n)]),_:1})}const bX=kr(_X,[["render",xX],["__file","/Users/gimjinbeom/movierankchart/frontend/src/layouts/section/TheSection.vue"]]),wX=Fe("span",{class:"font-weight-bold"},"로그아웃",-1),SX=hn({__name:"TheFooter",setup(e){const t=hl(),n=async()=>{await $j(),t.clear(),window.location.href="/"};return(r,a)=>{const i=Ue("v-icon"),o=Ue("v-btn"),s=Ue("v-bottom-navigation");return ie(t).state.accessToken!=""?(J(),Ie(s,{key:0},{default:ne(()=>[D(o,{onClick:n},{default:ne(()=>[D(i,null,{default:ne(()=>[qe("mdi-exit-run")]),_:1}),wX]),_:1})]),_:1})):he("v-if",!0)}}}),TX=kr(SX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/layouts/footer/TheFooter.vue"]]),CX=hn({__name:"App",setup(e){return(t,n)=>{const r=Ue("v-app");return J(),Ie(r,null,{default:ne(()=>[D(yX),D(pX),D(bX,{class:"mt-7"}),D(TX)]),_:1})}}});const AX=kr(CX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/App.vue"]]),EX={};function DX(e,t){const n=Ue("v-progress-circular"),r=Ue("v-row");return J(),Ie(r,{justify:"center",class:"mt-15"},{default:ne(()=>[D(n,{indeterminate:"",color:"pink",size:"400"})]),_:1})}const OB=kr(EX,[["render",DX],["__file","/Users/gimjinbeom/movierankchart/frontend/src/components/common/LoadingSpinner.vue"]]),MX=hn({__name:"SearchBox",props:{searchBoxPlaceHolder:{type:String},movieTitleSearchResult:{type:Array}},emits:["search"],setup(e,{emit:t}){const n=te();return Le(n,()=>t("search",n.value)),(r,a)=>{const i=Ue("v-col"),o=Ue("v-autocomplete"),s=Ue("v-row");return J(),Ie(s,null,{default:ne(()=>[D(i,{cols:"2"}),D(i,null,{default:ne(()=>[D(o,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),items:e.movieTitleSearchResult,"item-value":"moviesId",placeholder:e.searchBoxPlaceHolder,"no-data-text":"검색 결과가 없습니다.","auto-select-first":"","prepend-inner-icon":"mdi-magnify",rounded:"",variant:"solo"},null,8,["modelValue","items","placeholder"])]),_:1}),D(i,{cols:"2"})]),_:1})}}}),kB=kr(MX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/components/common/SearchBox.vue"]]),NB=(e,t)=>{try{return ho.get("/v1/movies/",{params:{title:e,isConsiderSomeoneChatroom:t}})}catch(n){console.log(n)}},BB=e=>{try{return ho.get("/v1/movies/",{params:{id:e}})}catch(t){console.log(t)}},PX=hn({__name:"ChatView",setup(e){const t=hl(),n=a=>of.push(`/chat/${a}`),r=te([]);return t.isLogin||of.push("/"),nn(async()=>{const a=await NB("",!1);r.value=a.data.movies}),(a,i)=>{const o=Ue("v-container");return r.value.length==0?(J(),Ie(o,{key:0},{default:ne(()=>[D(OB)]),_:1})):(J(),Ie(kB,{key:1,searchBoxPlaceHolder:"채팅방 검색","movie-title-search-result":r.value,onSearch:n},null,8,["movie-title-search-result"]))}}}),LX=kr(PX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/views/chat/ChatView.vue"]]),IX=(e,t)=>{try{return ho.get("/v1/movie-rank/top-ten",{params:{date:e,movieRankType:t}})}catch(n){console.log(n)}},RX=e=>{try{return ho.get("/v1/movie-rank/line-chart/"+e)}catch(t){console.log(t)}},OX=(e,t)=>{try{return ho.get("/v1/movie-rank/line-chart",{params:{startDate:e,endDate:t}})}catch(n){console.log(n)}},kX=(e,t)=>{try{return ho.get("/v1/movie-rank/pie-chart",{params:{startDate:e,endDate:t}})}catch(n){console.log(n)}},bd=(e,t)=>e.length<=t?e:e.substring(0,t)+"...",VB="/assets/no_img-e31f16bd.jpeg",NX=["textContent"],BX={key:0,class:"font-weight-bold text-red"},VX=["textContent"],FX=["textContent"],UX=["textContent"],zX=["textContent"],HX=["textContent"],$X=hn({__name:"MovieInfoCard",props:{moviesId:{Type:Number,required:!0,default:0},audienceCount:{Type:Number,required:!0,default:1},newRank:{Type:Boolean,required:!0,default:!1},openingDate:{Type:String,required:!0,default:""},poster:{Type:String,required:!0,default:""},rank:{Type:Number,required:!0,default:0},rankIncrement:{Type:Number,required:!0,default:0},title:{Type:String,required:!0,default:""}},setup(e){const t=e,n=O(()=>bd(t.title,13)),r=O(()=>t.audienceCount+"명"),a=O(()=>`/movie-details/${t.moviesId}`);return(i,o)=>{const s=Ue("v-col"),l=Ue("v-row"),u=Ue("v-img"),c=Ue("RouterLink"),f=Ue("v-container");return J(),Ie(f,{class:"mt-3"},{default:ne(()=>[D(c,{to:a.value},{default:ne(()=>[D(l,{justify:"center",style:{"margin-top":"-50px"}},{default:ne(()=>[D(s,{cols:"4"}),D(s,{class:"text-center"},{default:ne(()=>[Fe("div",{textContent:Bt(e.rank),class:"text-h4 font-weight-bold"},null,8,NX)]),_:1}),D(s,{cols:"4",class:"mt-2"},{default:ne(()=>[e.newRank?(J(),we("div",BX,"NEW")):e.rankIncrement>0?(J(),we("div",{key:1,textContent:Bt(`▲${e.rankIncrement}`),class:"text-red"},null,8,VX)):e.rankIncrement<0?(J(),we("div",{key:2,textContent:Bt(`▼${-e.rankIncrement}`),class:"text-blue"},null,8,FX)):he("v-if",!0)]),_:1})]),_:1}),D(l,{style:{"margin-top":"-20px"}},{default:ne(()=>[D(s,null,{default:ne(()=>[e.poster==""?(J(),Ie(u,{key:0,src:ie(VB),height:"280px",width:"170px",cover:""},null,8,["src"])):(J(),Ie(u,{key:1,src:e.poster,height:"280px",width:"170px",cover:""},null,8,["src"]))]),_:1})]),_:1}),D(l,{style:{"margin-top":"-10px"}},{default:ne(()=>[Fe("div",{textContent:Bt(n.value),class:"ml-3 font-weight-bold"},null,8,UX)]),_:1}),D(l,{class:"font-weight-bold",style:{"margin-top":"-20px"}},{default:ne(()=>[D(s,{cols:"7"},{default:ne(()=>[Fe("div",{textContent:Bt(e.openingDate),class:"text-grey text-caption"},null,8,zX)]),_:1}),D(s,null,{default:ne(()=>[Fe("div",{textContent:Bt(r.value),class:"text-grey text-caption"},null,8,HX)]),_:1})]),_:1})]),_:1},8,["to"])]),_:1})}}}),IM=kr($X,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/components/rank/MovieInfoCard.vue"]]),jd=()=>{const e=new Date,t=e.getDay()==0?7:e.getDay();return new Date(e.setDate(e.getDate()-t))},e1=()=>new Date(jd().setDate(jd().getDate()-6)),GX=()=>{const e=new Date;return e.setDate(e.getDate()-1),e},b0=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}${n}${r}`},tg=e=>{const t=new Date(e),n={hour:"2-digit",minute:"2-digit",hour12:!1};return new Intl.DateTimeFormat("ko-KR",n).format(t)},WX=()=>{try{return ho.get("/v1/movie-open-api-history")}catch(e){console.log(e)}},FB=j3("movieRankDataRange",()=>{const e=Rn({startDate:"",endDateDaily:""});return{state:e,findMovieDataRange:async()=>{const n=await WX();e.startDate=n.data.startDate,e.endDateDaily=n.data.endDateDaily}}}),YX=hn({__name:"RankView",setup(e){const t=vl(),n=FB(),r=te(GX()),a=te([e1(),jd()]),i=te([]),o=te(t.path),s=()=>{const p=u.value==="daily"?r.value:a==null?void 0:a.value[0];return String(p==null?void 0:p.getFullYear()).padStart(2,"0")+String((p==null?void 0:p.getMonth())+1).padStart(2,"0")+String(p==null?void 0:p.getDate()).padStart(2,"0")},l=async()=>{o.value=t.path,n.state.startDate===""&&n.findMovieDataRange();const p=await IX(f.value,d.value);i.value=p.data.findMovieRankTopTenResponseDtos},u=O(()=>o.value.split("/")[3]),c=O(()=>o.value.split("/").slice(0,3).join("/")),f=O(s),d=O(()=>o.value.split("/").slice(2,4).join("_").toUpperCase()),h=O(()=>c.value+"/daily"),v=O(()=>c.value+"/weekly");return qn(l),(p,m)=>{const g=Ue("v-col"),y=Ue("VueDatePicker"),_=Ue("v-tab"),x=Ue("RouterLink"),w=Ue("v-tabs"),b=Ue("v-row");return J(),we(Ae,null,[D(b,null,{default:ne(()=>[D(g),D(g),D(g,null,{default:ne(()=>[u.value=="daily"?(J(),Ie(y,{key:0,modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=S=>r.value=S),"enable-time-picker":!1,"min-date":ie(n).state.startDate,"max-date":ie(n).state.endDateDaily},null,8,["modelValue","min-date","max-date"])):he("v-if",!0),u.value=="weekly"?(J(),Ie(y,{key:1,modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=S=>a.value=S),class:"vueDatePickerClass","week-picker":"","min-date":ie(n).state.startDate,"max-date":ie(n).state.endDateDaily},null,8,["modelValue","min-date","max-date"])):he("v-if",!0)]),_:1}),D(g),D(g,null,{default:ne(()=>[D(w,{modelValue:o.value,"onUpdate:modelValue":m[2]||(m[2]=S=>o.value=S),"selected-class":"text-pink"},{default:ne(()=>[D(x,{to:h.value},{default:ne(()=>[D(_,{class:"font-weight-bold text-h5",value:h.value},{default:ne(()=>[qe("일간")]),_:1},8,["value"])]),_:1},8,["to"]),D(x,{to:v.value},{default:ne(()=>[D(_,{class:"font-weight-bold text-h5",value:v.value},{default:ne(()=>[qe("주간")]),_:1},8,["value"])]),_:1},8,["to"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),i.value.length!=0?(J(),Ie(b,{key:0},{default:ne(()=>[D(g,{lg:"2",xl:"3"}),(J(),we(Ae,null,cr(5,S=>D(g,{key:S,style:{"margin-left":"-40px"}},{default:ne(()=>[i.value[S-1].moviesId?(J(),Ie(IM,{key:0,"movies-id":i.value[S-1].moviesId,title:i.value[S-1].title,"rank-increment":i.value[S-1].rankIncrement,rank:i.value[S-1].rank,poster:i.value[S-1].poster,"opening-date":i.value[S-1].openingDate,"new-rank":i.value[S-1].newRank,"audience-count":i.value[S-1].audienceCount},null,8,["movies-id","title","rank-increment","rank","poster","opening-date","new-rank","audience-count"])):he("v-if",!0)]),_:2},1024)),64)),D(g,{lg:"2",xl:"3"})]),_:1})):he("v-if",!0),i.value.length!=0?(J(),Ie(b,{key:1},{default:ne(()=>[D(g,{lg:"2",xl:"3"}),(J(),we(Ae,null,cr(5,S=>D(g,{key:S,style:{"margin-left":"-40px"}},{default:ne(()=>[i.value[S+4].moviesId?(J(),Ie(IM,{key:0,"movies-id":i.value[S+4].moviesId,title:i.value[S+4].title,"rank-increment":i.value[S+4].rankIncrement,rank:i.value[S+4].rank,poster:i.value[S+4].poster,"opening-date":i.value[S+4].openingDate,"new-rank":i.value[S+4].newRank,"audience-count":i.value[S+4].audienceCount},null,8,["movies-id","title","rank-increment","rank","poster","opening-date","new-rank","audience-count"])):he("v-if",!0)]),_:2},1024)),64)),D(g,{lg:"2",xl:"3"})]),_:1})):he("v-if",!0)],64)}}}),Of=kr(YX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/views/rank/RankView.vue"]]),jX=hn({__name:"TheStatisticsHeader",setup(e){const t=vl(),n=hl(),r=te(t.path);return qn(()=>r.value=t.path),(a,i)=>{const o=Ue("v-tab"),s=Ue("RouterLink"),l=Ue("v-row"),u=Ue("v-tabs");return J(),we(Ae,null,[D(o,{to:"/rank/total/daily",class:"font-weight-bold text-h4"},{default:ne(()=>[qe("랭킹")]),_:1}),Fe("div",null,[D(l,{justify:"center"},{default:ne(()=>[D(s,{to:"/statistics/line-chart",class:"font-weight-bold text-h4 text-pink mt-16"},{default:ne(()=>[qe("통계")]),_:1})]),_:1}),D(l,null,{default:ne(()=>[D(u,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=c=>r.value=c),"selected-class":"text-pink"},{default:ne(()=>[D(s,{to:"/statistics/line-chart"},{default:ne(()=>[D(o,{class:"font-weight-bold text-h5",height:"48",value:"/statistics/line-chart"},{default:ne(()=>[qe("라인차트")]),_:1})]),_:1}),D(s,{to:"/statistics/pie-chart"},{default:ne(()=>[D(o,{class:"font-weight-bold text-h5",height:"48",value:"/statistics/pie-chart"},{default:ne(()=>[qe("파이차트")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),ie(n).isLogin?(J(),Ie(o,{key:0,to:"/chat",class:"font-weight-bold text-h4",value:"/chat"},{default:ne(()=>[qe("채팅")]),_:1})):(J(),Ie(o,{key:1,class:"font-weight-bold text-h4",onClickCapture:i[1]||(i[1]=_a(c=>ie(Q_)("/chat"),["stop"]))},{default:ne(()=>[qe("채팅")]),_:1})),D(o,{to:"/movie-details",class:"font-weight-bold text-h4"},{default:ne(()=>[qe("영화상세")]),_:1})],64)}}}),RM=kr(jX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/layouts/header/TheStatisticsHeader.vue"]]),XX=hn({__name:"TheRankHeader",props:{periodType:{Type:String,default:"daily"}},setup(e){const t=vl(),n=te(t.path),r=hl();return qn(()=>n.value=t.path),(a,i)=>{const o=Ue("RouterLink"),s=Ue("v-row"),l=Ue("v-tab"),u=Ue("v-tabs");return J(),we(Ae,null,[Fe("div",null,[D(s,{justify:"center"},{default:ne(()=>[D(o,{to:`/rank/total/${e.periodType}`,class:"font-weight-bold text-h4 text-pink mt-16"},{default:ne(()=>[qe("랭킹")]),_:1},8,["to"])]),_:1}),D(s,null,{default:ne(()=>[D(u,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),"selected-class":"text-pink"},{default:ne(()=>[D(o,{to:`/rank/total/${e.periodType}`},{default:ne(()=>[D(l,{class:"font-weight-bold text-h5",height:"48",value:`/rank/total/${e.periodType}`},{default:ne(()=>[qe("전체")]),_:1},8,["value"])]),_:1},8,["to"]),D(o,{to:`/rank/korean/${e.periodType}`},{default:ne(()=>[D(l,{class:"font-weight-bold text-h5",height:"48",value:`/rank/korean/${e.periodType}`},{default:ne(()=>[qe("국내")]),_:1},8,["value"])]),_:1},8,["to"]),D(o,{to:`/rank/foreign/${e.periodType}`},{default:ne(()=>[D(l,{class:"font-weight-bold text-h5",height:"48",value:`/rank/foreign/${e.periodType}`},{default:ne(()=>[qe("해외")]),_:1},8,["value"])]),_:1},8,["to"])]),_:1},8,["modelValue"])]),_:1})]),D(l,{to:"/statistics/line-chart",class:"font-weight-bold text-h4"},{default:ne(()=>[qe("통계")]),_:1}),ie(r).isLogin?(J(),Ie(l,{key:0,to:"/chat",class:"font-weight-bold text-h4",value:"/chat"},{default:ne(()=>[qe("채팅")]),_:1})):(J(),Ie(l,{key:1,class:"font-weight-bold text-h4",onClickCapture:i[1]||(i[1]=_a(c=>ie(Q_)("/chat"),["stop"]))},{default:ne(()=>[qe("채팅")]),_:1})),D(l,{to:"/movie-details",class:"font-weight-bold text-h4"},{default:ne(()=>[qe("영화상세")]),_:1})],64)}}}),kf=kr(XX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/layouts/header/TheRankHeader.vue"]]),qX=hn({__name:"TheBasicHeader",setup(e){const t=vl(),n=te(t.path);qn(()=>{n.value!=t.path&&(n.value=t.path)});const a=O(()=>t.path.split("/")[1]=="chat"?n.value:""),o=O(()=>n.value.split("/")[1]=="movie-details"?n.value:""),s=hl();return(l,u)=>{const c=Ue("v-tab"),f=Ue("v-tabs");return J(),Ie(f,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=d=>n.value=d),"selected-class":"text-pink"},{default:ne(()=>[D(c,{to:"/rank/total/daily",class:"font-weight-bold text-h4",value:"/rank/total/daily"},{default:ne(()=>[qe("랭킹")]),_:1}),D(c,{to:"/statistics/line-chart",class:"font-weight-bold text-h4",value:"/statistics/line-chart"},{default:ne(()=>[qe("통계")]),_:1}),ie(s).isLogin?(J(),Ie(c,{key:0,to:"/chat",class:"font-weight-bold text-h4",value:a.value},{default:ne(()=>[qe("채팅")]),_:1},8,["value"])):(J(),Ie(c,{key:1,class:"font-weight-bold text-h4",onClickCapture:u[0]||(u[0]=_a(d=>ie(Q_)("/chat"),["stop"]))},{default:ne(()=>[qe("채팅")]),_:1})),D(c,{to:"/movie-details",class:"font-weight-bold text-h4",value:o.value},{default:ne(()=>[qe("영화상세")]),_:1},8,["value"])]),_:1},8,["modelValue"])}}}),ng=kr(qX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/layouts/header/TheBasicHeader.vue"]]),ZX=hn({__name:"MovieDetailsSearchView",setup(e){const t=te([]);nn(async()=>{const r=await NB("",!1);t.value=r.data.movies});const n=r=>of.push(`/movie-details/${r}`);return(r,a)=>{const i=Ue("v-container");return t.value.length==0?(J(),Ie(i,{key:0},{default:ne(()=>[D(OB)]),_:1})):(J(),Ie(kB,{key:1,searchBoxPlaceHolder:"영화명 검색","movie-title-search-result":t.value,onSearch:n},null,8,["movie-title-search-result"]))}}}),KX=kr(ZX,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/views/moviedetails/MovieDetailsSearchView.vue"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VS=function(e,t){return VS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},VS(e,t)};function dt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");VS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var QX=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),JX=function(){function e(){this.browser=new QX,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),cc=new JX;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(cc.wxa=!0,cc.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?cc.worker=!0:typeof navigator>"u"?(cc.node=!0,cc.svgSupported=!0):e9(navigator.userAgent,cc);function e9(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]),a&&(n.ie=!0,n.version=a[1]),i&&(n.edge=!0,n.version=i[1],n.newEdge=+i[1].split(".")[0]>18),o&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}const Vt=cc;var V2=12,t9="sans-serif",Kc=V2+"px "+t9,n9=20,r9=100,a9="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function i9(e){var t={};if(typeof JSON>"u")return t;for(var n=0;n<e.length;n++){var r=String.fromCharCode(n+32),a=(e.charCodeAt(n)-n9)/r9;t[r]=a}return t}var o9=i9(a9),gh={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,r){if(!e){var a=gh.createCanvas();e=a&&a.getContext("2d")}if(e)return t!==r&&(t=e.font=r||Kc),e.measureText(n);n=n||"",r=r||Kc;var i=/(\d+)px/.exec(r),o=i&&+i[1]||V2,s=0;if(r.indexOf("mono")>=0)s=o*n.length;else for(var l=0;l<n.length;l++){var u=o9[n[l]];s+=u==null?o:u*o}return{width:s}}}(),loadImage:function(e,t,n){var r=new Image;return r.onload=t,r.onerror=n,r.src=e,r}},UB=_s(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),zB=_s(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),yh=Object.prototype.toString,t1=Array.prototype,s9=t1.forEach,l9=t1.filter,F2=t1.slice,u9=t1.map,OM=(function(){}).constructor,rg=OM?OM.prototype:null,U2="__proto__",c9=2311;function HB(){return c9++}function Nc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function tn(e){if(e==null||typeof e!="object")return e;var t=e,n=yh.call(e);if(n==="[object Array]"){if(!op(e)){t=[];for(var r=0,a=e.length;r<a;r++)t[r]=tn(e[r])}}else if(zB[n]){if(!op(e)){var i=e.constructor;if(i.from)t=i.from(e);else{t=new i(e.length);for(var r=0,a=e.length;r<a;r++)t[r]=e[r]}}}else if(!UB[n]&&!op(e)&&!Vp(e)){t={};for(var o in e)e.hasOwnProperty(o)&&o!==U2&&(t[o]=tn(e[o]))}return t}function Ze(e,t,n){if(!lt(t)||!lt(e))return n?tn(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==U2){var a=e[r],i=t[r];lt(i)&&lt(a)&&!Be(i)&&!Be(a)&&!Vp(i)&&!Vp(a)&&!kM(i)&&!kM(a)&&!op(i)&&!op(a)?Ze(a,i,n):(n||!(r in e))&&(e[r]=tn(t[r]))}return e}function Pe(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==U2&&(e[n]=t[n]);return e}function Ft(e,t,n){for(var r=ln(t),a=0;a<r.length;a++){var i=r[a];(n?t[i]!=null:e[i]==null)&&(e[i]=t[i])}return e}function Xt(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function z2(e,t){var n=e.prototype;function r(){}r.prototype=t.prototype,e.prototype=new r;for(var a in n)n.hasOwnProperty(a)&&(e.prototype[a]=n[a]);e.prototype.constructor=e,e.superClass=t}function Si(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a];i!=="constructor"&&(n?t[i]!=null:e[i]==null)&&(e[i]=t[i])}else Ft(e,t,n)}function Za(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function j(e,t,n){if(e&&t)if(e.forEach&&e.forEach===s9)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function at(e,t,n){if(!e)return[];if(!t)return H2(e);if(e.map&&e.map===u9)return e.map(t,n);for(var r=[],a=0,i=e.length;a<i;a++)r.push(t.call(n,e[a],a,e));return r}function _s(e,t,n,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)n=t.call(r,n,e[a],a,e);return n}}function gr(e,t,n){if(!e)return[];if(!t)return H2(e);if(e.filter&&e.filter===l9)return e.filter(t,n);for(var r=[],a=0,i=e.length;a<i;a++)t.call(n,e[a],a,e)&&r.push(e[a]);return r}function ln(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function f9(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(F2.call(arguments)))}}var $n=rg&&yt(rg.bind)?rg.call.bind(rg.bind):f9;function jn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(F2.call(arguments)))}}function Be(e){return Array.isArray?Array.isArray(e):yh.call(e)==="[object Array]"}function yt(e){return typeof e=="function"}function ot(e){return typeof e=="string"}function w0(e){return yh.call(e)==="[object String]"}function En(e){return typeof e=="number"}function lt(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function kM(e){return!!UB[yh.call(e)]}function hi(e){return!!zB[yh.call(e)]}function Vp(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function n1(e){return e.colorStops!=null}function d9(e){return e.image!=null}function h9(e){return yh.call(e)==="[object RegExp]"}function Xd(e){return e!==e}function Qc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(e[n]!=null)return e[n]}function Ut(e,t){return e??t}function Bc(e,t,n){return e??t??n}function H2(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return F2.apply(e,t)}function $B(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function _t(e,t){if(!e)throw new Error(t)}function us(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var GB="__ec_primitive__";function S0(e){e[GB]=!0}function op(e){return e[GB]}var v9=function(){function e(){this.data={}}return e.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,n){return this.data[t]=n,this},e.prototype.keys=function(){return ln(this.data)},e.prototype.forEach=function(t){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)},e}(),WB=typeof Map=="function";function p9(){return WB?new Map:new v9}var m9=function(){function e(t){var n=Be(t);this.data=p9();var r=this;t instanceof e?t.each(a):t&&j(t,a);function a(i,o){n?r.set(i,o):r.set(o,i)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,n){return this.data.set(t,n),n},e.prototype.each=function(t,n){this.data.forEach(function(r,a){t.call(n,r,a)})},e.prototype.keys=function(){var t=this.data.keys();return WB?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Dt(e){return new m9(e)}function FS(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];for(var a=e.length,r=0;r<t.length;r++)n[r+a]=t[r];return n}function r1(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&Pe(n,t),n}function YB(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function bt(e,t){return e.hasOwnProperty(t)}function ci(){}var g9=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var US=function(e,t){return US=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},US(e,t)};function kn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");US(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function _h(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function y9(e){return[e[0],e[1]]}function NM(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function _9(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function x9(e){return Math.sqrt(b9(e))}function b9(e){return e[0]*e[0]+e[1]*e[1]}function Ix(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function w9(e,t){var n=x9(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function zS(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var HS=zS;function S9(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Od=S9;function Rx(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function ba(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function yc(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function _c(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var Nf=function(){function e(t,n){this.target=t,this.topTarget=n&&n.topTarget}return e}(),T9=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Nf(n,t),"dragstart",t.event))},e.prototype._drag=function(t){var n=this._draggingTarget;if(n){var r=t.offsetX,a=t.offsetY,i=r-this._x,o=a-this._y;this._x=r,this._y=a,n.drift(i,o,t),this.handler.dispatchToElement(new Nf(n,t),"drag",t.event);var s=this.handler.findHover(r,a,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Nf(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Nf(s,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Nf(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Nf(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}();const C9=T9;var A9=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,n,r,a){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof n=="function"&&(a=r,r=n,n=null),!r||!t)return this;var o=this._$eventProcessor;n!=null&&o&&o.normalizeQuery&&(n=o.normalizeQuery(n)),i[t]||(i[t]=[]);for(var s=0;s<i[t].length;s++)if(i[t][s].h===r)return this;var l={h:r,query:n,ctx:a||this,callAtLast:r.zrEventfulCallAtLast},u=i[t].length-1,c=i[t][u];return c&&c.callAtLast?i[t].splice(u,0,l):i[t].push(l),this},e.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},e.prototype.off=function(t,n){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(n){if(r[t]){for(var a=[],i=0,o=r[t].length;i<o;i++)r[t][i].h!==n&&a.push(r[t][i]);r[t]=a}r[t]&&r[t].length===0&&delete r[t]}else delete r[t];return this},e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var o=n.length,s=a.length,l=0;l<s;l++){var u=a[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,n[0]);break;case 2:u.h.call(u.ctx,n[0],n[1]);break;default:u.h.apply(u.ctx,n);break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var o=n.length,s=n[o-1],l=a.length,u=0;u<l;u++){var c=a[u];if(!(i&&i.filter&&c.query!=null&&!i.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,n[0]);break;case 2:c.h.call(s,n[0],n[1]);break;default:c.h.apply(s,n.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e}();const Ts=A9;var E9=Math.log(2);function $S(e,t,n,r,a,i){var o=r+"-"+a,s=e.length;if(i.hasOwnProperty(o))return i[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~a)/E9);return e[n][l]}for(var u=r|1<<n,c=n+1;r&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var v=1<<d;v&a||(f+=(h%2?-1:1)*e[n][d]*$S(e,t-1,c,u,a|v,i),h++)}return i[o]=f,f}function BM(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},a=$S(n,8,0,0,0,r);if(a!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*$S(n,7,o===0?1:0,1<<o,1<<s,r)/a*t[o];return function(l,u,c){var f=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/f,l[1]=(u*i[3]+c*i[4]+i[5])/f}}}var VM="___zrEVENTSAVED",Ox=[];function D9(e,t,n,r,a){return GS(Ox,t,r,a,!0)&&GS(e,n,Ox[0],Ox[1])}function GS(e,t,n,r,a){if(t.getBoundingClientRect&&Vt.domSupported&&!jB(t)){var i=t[VM]||(t[VM]={}),o=M9(t,i),s=P9(o,i,a);if(s)return s(e,n,r),!0}return!1}function M9(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],a=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",a[u]+":0",r[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function P9(e,t,n){for(var r=n?"invTrans":"trans",a=t[r],i=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;o.push(d,h),l=l&&i&&d===i[f]&&h===i[f+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&a?a:(t.srcCoords=o,t[r]=n?BM(s,o):BM(o,s))}function jB(e){return e.nodeName.toUpperCase()==="CANVAS"}var L9=/([&<>"'])/g,I9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qr(e){return e==null?"":(e+"").replace(L9,function(t,n){return I9[n]})}var R9=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kx=[],O9=Vt.browser.firefox&&+Vt.browser.version.split(".")[0]<39;function WS(e,t,n,r){return n=n||{},r?FM(e,t,n):O9&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):FM(e,t,n),n}function FM(e,t,n){if(Vt.domSupported&&e.getBoundingClientRect){var r=t.clientX,a=t.clientY;if(jB(e)){var i=e.getBoundingClientRect();n.zrX=r-i.left,n.zrY=a-i.top;return}else if(GS(kx,e,r,a)){n.zrX=kx[0],n.zrY=kx[1];return}}n.zrX=n.zrY=0}function $2(e){return e||window.event}function Bi(e,t,n){if(t=$2(t),t.zrX!=null)return t;var r=t.type,a=r&&r.indexOf("touch")>=0;if(a){var o=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&WS(e,o,t,n)}else{WS(e,t,t,n);var i=k9(t);t.zrDelta=i?i/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&R9.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function k9(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(n==null||r==null)return t;var a=Math.abs(r!==0?r:n),i=r>0?-1:r<0?1:n>0?-1:1;return 3*a*i}function N9(e,t,n,r){e.addEventListener(t,n,r)}function B9(e,t,n,r){e.removeEventListener(t,n,r)}var XB=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0},V9=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,n,r){return this._doTrack(t,n,r),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,n,r){var a=t.touches;if(a){for(var i={points:[],touches:[],target:n,event:t},o=0,s=a.length;o<s;o++){var l=a[o],u=WS(r,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},e.prototype._recognize=function(t){for(var n in Nx)if(Nx.hasOwnProperty(n)){var r=Nx[n](this._track,t);if(r)return r}},e}();function UM(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function F9(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var Nx={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,a=(e[n-2]||{}).points||r;if(a&&a.length>1&&r&&r.length>1){var i=UM(r)/UM(a);!isFinite(i)&&(i=1),t.pinchScale=i;var o=F9(r);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}};function qd(){return[1,0,0,1,0,0]}function a1(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function U9(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Vc(e,t,n){var r=t[0]*n[0]+t[2]*n[1],a=t[1]*n[0]+t[3]*n[1],i=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e}function YS(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function G2(e,t,n){var r=t[0],a=t[2],i=t[4],o=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=-r*u+o*c,e[2]=a*c+s*u,e[3]=-a*u+c*s,e[4]=c*i+u*l,e[5]=c*l-u*i,e}function z9(e,t,n){var r=n[0],a=n[1];return e[0]=t[0]*r,e[1]=t[1]*a,e[2]=t[2]*r,e[3]=t[3]*a,e[4]=t[4]*r,e[5]=t[5]*a,e}function xh(e,t){var n=t[0],r=t[2],a=t[4],i=t[1],o=t[3],s=t[5],l=n*o-i*r;return l?(l=1/l,e[0]=o*l,e[1]=-i*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-o*a)*l,e[5]=(i*a-n*s)*l,e):null}var H9=function(){function e(t,n){this.x=t||0,this.y=n||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,n){return this.x=t,this.y=n,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)},e.prototype.distanceSquare=function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var n=this.x,r=this.y;return this.x=t[0]*n+t[2]*r+t[4],this.y=t[1]*n+t[3]*r+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,n,r){t.x=n,t.y=r},e.copy=function(t,n){t.x=n.x,t.y=n.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,n){return t.x*n.x+t.y*n.y},e.add=function(t,n,r){t.x=n.x+r.x,t.y=n.y+r.y},e.sub=function(t,n,r){t.x=n.x-r.x,t.y=n.y-r.y},e.scale=function(t,n,r){t.x=n.x*r,t.y=n.y*r},e.scaleAndAdd=function(t,n,r,a){t.x=n.x+r.x*a,t.y=n.y+r.y*a},e.lerp=function(t,n,r,a){var i=1-a;t.x=i*n.x+a*r.x,t.y=i*n.y+a*r.y},e}();const wt=H9;var ag=Math.min,ig=Math.max,Pu=new wt,Lu=new wt,Iu=new wt,Ru=new wt,Kh=new wt,Qh=new wt,$9=function(){function e(t,n,r,a){r<0&&(t=t+r,r=-r),a<0&&(n=n+a,a=-a),this.x=t,this.y=n,this.width=r,this.height=a}return e.prototype.union=function(t){var n=ag(t.x,this.x),r=ag(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=ig(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=ig(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=n,this.y=r},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var n=this,r=t.width/n.width,a=t.height/n.height,i=qd();return YS(i,i,[-n.x,-n.y]),z9(i,i,[r,a]),YS(i,i,[t.x,t.y]),i},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,a=r.x,i=r.x+r.width,o=r.y,s=r.y+r.height,l=t.x,u=t.x+t.width,c=t.y,f=t.y+t.height,d=!(i<l||u<a||s<c||f<o);if(n){var h=1/0,v=0,p=Math.abs(i-l),m=Math.abs(u-a),g=Math.abs(s-c),y=Math.abs(f-o),_=Math.min(p,m),x=Math.min(g,y);i<l||u<a?_>v&&(v=_,p<m?wt.set(Qh,-p,0):wt.set(Qh,m,0)):_<h&&(h=_,p<m?wt.set(Kh,p,0):wt.set(Kh,-m,0)),s<c||f<o?x>v&&(v=x,g<y?wt.set(Qh,0,-g):wt.set(Qh,0,y)):_<h&&(h=_,g<y?wt.set(Kh,0,g):wt.set(Kh,0,-y))}return n&&wt.copy(n,d?Kh:Qh),d},e.prototype.contain=function(t,n){var r=this;return t>=r.x&&t<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},e.applyTransform=function(t,n,r){if(!r){t!==n&&e.copy(t,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var a=r[0],i=r[3],o=r[4],s=r[5];t.x=n.x*a+o,t.y=n.y*i+s,t.width=n.width*a,t.height=n.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Pu.x=Iu.x=n.x,Pu.y=Ru.y=n.y,Lu.x=Ru.x=n.x+n.width,Lu.y=Iu.y=n.y+n.height,Pu.transform(r),Ru.transform(r),Lu.transform(r),Iu.transform(r),t.x=ag(Pu.x,Lu.x,Iu.x,Ru.x),t.y=ag(Pu.y,Lu.y,Iu.y,Ru.y);var l=ig(Pu.x,Lu.x,Iu.x,Ru.x),u=ig(Pu.y,Lu.y,Iu.y,Ru.y);t.width=l-t.x,t.height=u-t.y},e}();const Wt=$9;var qB="silent";function G9(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:W9}}function W9(){XB(this.event)}var Y9=function(e){kn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Ts),Jh=function(){function e(t,n){this.x=t,this.y=n}return e}(),j9=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Bx=new Wt(0,0,0,0),ZB=function(e){kn(t,e);function t(n,r,a,i,o){var s=e.call(this)||this;return s._hovered=new Jh(0,0),s.storage=n,s.painter=r,s.painterRoot=i,s._pointerSize=o,a=a||new Y9,s.proxy=null,s.setHandlerProxy(a),s._draggingMgr=new C9(s),s}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(j(j9,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var r=n.zrX,a=n.zrY,i=KB(this,r,a),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=i?new Jh(r,a):this.findHover(r,a),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",n),this.dispatchToElement(l,"mousemove",n),u&&u!==s&&this.dispatchToElement(l,"mouseover",n)},t.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new Jh(0,0)},t.prototype.dispatch=function(n,r){var a=this[n];a&&a.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},t.prototype.dispatchToElement=function(n,r,a){n=n||{};var i=n.target;if(!(i&&i.silent)){for(var o="on"+r,s=G9(r,n,a);i&&(i[o]&&(s.cancelBubble=!!i[o].call(i,s)),i.trigger(r,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},t.prototype.findHover=function(n,r,a){var i=this.storage.getDisplayList(),o=new Jh(n,r);if(zM(i,o,n,r,a),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new Wt(n-u,r-u,l,l),f=i.length-1;f>=0;f--){var d=i[f];d!==a&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(Bx.copy(d.getBoundingRect()),d.transform&&Bx.applyTransform(d.transform),Bx.intersect(c)&&s.push(d))}if(s.length)for(var h=4,v=Math.PI/12,p=Math.PI*2,m=0;m<u;m+=h)for(var g=0;g<p;g+=v){var y=n+m*Math.cos(g),_=r+m*Math.sin(g);if(zM(s,o,y,_,a),o.target)return o}}return o},t.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new V9);var a=this._gestureMgr;r==="start"&&a.clear();var i=a.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&a.clear(),i){var o=i.type;n.gestureEvent=o;var s=new Jh;s.target=i.target,this.dispatchToElement(s,o,i.event)}},t}(Ts);j(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){ZB.prototype[e]=function(t){var n=t.zrX,r=t.zrY,a=KB(this,n,r),i,o;if((e!=="mouseup"||!a)&&(i=this.findHover(n,r),o=i.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||HS(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});function X9(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,a=void 0,i=!1;r;){if(r.ignoreClip&&(i=!0),!i){var o=r.getClipPath();if(o&&!o.contain(t,n))return!1;r.silent&&(a=!0)}var s=r.__hostTarget;r=s||r.parent}return a?qB:!0}return!1}function zM(e,t,n,r,a){for(var i=e.length-1;i>=0;i--){var o=e[i],s=void 0;if(o!==a&&!o.ignore&&(s=X9(o,n,r))&&(!t.topTarget&&(t.topTarget=o),s!==qB)){t.target=o;break}}}function KB(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}const q9=ZB;var QB=32,ev=7;function Z9(e){for(var t=0;e>=QB;)t|=e&1,e>>=1;return e+t}function HM(e,t,n,r){var a=t+1;if(a===n)return 1;if(r(e[a++],e[t])<0){for(;a<n&&r(e[a],e[a-1])<0;)a++;K9(e,t,a)}else for(;a<n&&r(e[a],e[a-1])>=0;)a++;return a-t}function K9(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function $M(e,t,n,r,a){for(r===t&&r++;r<n;r++){for(var i=e[r],o=t,s=r,l;o<s;)l=o+s>>>1,a(i,e[l])<0?s=l:o=l+1;var u=r-o;switch(u){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;u>0;)e[o+u]=e[o+u-1],u--}e[o]=i}}function Vx(e,t,n,r,a,i){var o=0,s=0,l=1;if(i(e,t[n+a])>0){for(s=r-a;l<s&&i(e,t[n+a+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}else{for(s=a+1;l<s&&i(e,t[n+a-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])>0?o=c+1:l=c}return l}function Fx(e,t,n,r,a,i){var o=0,s=0,l=1;if(i(e,t[n+a])<0){for(s=a+1;l<s&&i(e,t[n+a-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}else{for(s=r-a;l<s&&i(e,t[n+a+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])<0?l=c:o=c+1}return l}function Q9(e,t){var n=ev,r,a,i=0;e.length;var o=[];r=[],a=[];function s(h,v){r[i]=h,a[i]=v,i+=1}function l(){for(;i>1;){var h=i-2;if(h>=1&&a[h-1]<=a[h]+a[h+1]||h>=2&&a[h-2]<=a[h]+a[h-1])a[h-1]<a[h+1]&&h--;else if(a[h]>a[h+1])break;c(h)}}function u(){for(;i>1;){var h=i-2;h>0&&a[h-1]<a[h+1]&&h--,c(h)}}function c(h){var v=r[h],p=a[h],m=r[h+1],g=a[h+1];a[h]=p+g,h===i-3&&(r[h+1]=r[h+2],a[h+1]=a[h+2]),i--;var y=Fx(e[m],e,v,p,0,t);v+=y,p-=y,p!==0&&(g=Vx(e[v+p-1],e,m,g,g-1,t),g!==0&&(p<=g?f(v,p,m,g):d(v,p,m,g)))}function f(h,v,p,m){var g=0;for(g=0;g<v;g++)o[g]=e[h+g];var y=0,_=p,x=h;if(e[x++]=e[_++],--m===0){for(g=0;g<v;g++)e[x+g]=o[y+g];return}if(v===1){for(g=0;g<m;g++)e[x+g]=e[_+g];e[x+m]=o[y];return}for(var w=n,b,S,C;;){b=0,S=0,C=!1;do if(t(e[_],o[y])<0){if(e[x++]=e[_++],S++,b=0,--m===0){C=!0;break}}else if(e[x++]=o[y++],b++,S=0,--v===1){C=!0;break}while((b|S)<w);if(C)break;do{if(b=Fx(e[_],o,y,v,0,t),b!==0){for(g=0;g<b;g++)e[x+g]=o[y+g];if(x+=b,y+=b,v-=b,v<=1){C=!0;break}}if(e[x++]=e[_++],--m===0){C=!0;break}if(S=Vx(o[y],e,_,m,0,t),S!==0){for(g=0;g<S;g++)e[x+g]=e[_+g];if(x+=S,_+=S,m-=S,m===0){C=!0;break}}if(e[x++]=o[y++],--v===1){C=!0;break}w--}while(b>=ev||S>=ev);if(C)break;w<0&&(w=0),w+=2}if(n=w,n<1&&(n=1),v===1){for(g=0;g<m;g++)e[x+g]=e[_+g];e[x+m]=o[y]}else{if(v===0)throw new Error;for(g=0;g<v;g++)e[x+g]=o[y+g]}}function d(h,v,p,m){var g=0;for(g=0;g<m;g++)o[g]=e[p+g];var y=h+v-1,_=m-1,x=p+m-1,w=0,b=0;if(e[x--]=e[y--],--v===0){for(w=x-(m-1),g=0;g<m;g++)e[w+g]=o[g];return}if(m===1){for(x-=v,y-=v,b=x+1,w=y+1,g=v-1;g>=0;g--)e[b+g]=e[w+g];e[x]=o[_];return}for(var S=n;;){var C=0,A=0,M=!1;do if(t(o[_],e[y])<0){if(e[x--]=e[y--],C++,A=0,--v===0){M=!0;break}}else if(e[x--]=o[_--],A++,C=0,--m===1){M=!0;break}while((C|A)<S);if(M)break;do{if(C=v-Fx(o[_],e,h,v,v-1,t),C!==0){for(x-=C,y-=C,v-=C,b=x+1,w=y+1,g=C-1;g>=0;g--)e[b+g]=e[w+g];if(v===0){M=!0;break}}if(e[x--]=o[_--],--m===1){M=!0;break}if(A=m-Vx(e[y],o,0,m,m-1,t),A!==0){for(x-=A,_-=A,m-=A,b=x+1,w=_+1,g=0;g<A;g++)e[b+g]=o[w+g];if(m<=1){M=!0;break}}if(e[x--]=e[y--],--v===0){M=!0;break}S--}while(C>=ev||A>=ev);if(M)break;S<0&&(S=0),S+=2}if(n=S,n<1&&(n=1),m===1){for(x-=v,y-=v,b=x+1,w=y+1,g=v-1;g>=0;g--)e[b+g]=e[w+g];e[x]=o[_]}else{if(m===0)throw new Error;for(w=x-(m-1),g=0;g<m;g++)e[w+g]=o[g]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function Oy(e,t,n,r){n||(n=0),r||(r=e.length);var a=r-n;if(!(a<2)){var i=0;if(a<QB){i=HM(e,n,r,t),$M(e,n,r,n+i,t);return}var o=Q9(e,t),s=Z9(a);do{if(i=HM(e,n,r,t),i<s){var l=a;l>s&&(l=s),$M(e,n,n+l,n+i,t),i=l}o.pushRun(n,i),o.mergeRuns(),a-=i,n+=i}while(a!==0);o.forceMergeRuns()}}var xi=1,Fv=2,wd=4,GM=!1;function Ux(){GM||(GM=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function WM(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var J9=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=WM}return e.prototype.traverse=function(t,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,n)},e.prototype.getDisplayList=function(t,n){n=n||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(n),r},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,r=this._displayList,a=0,i=n.length;a<i;a++)this._updateAndAddDisplayable(n[a],null,t);r.length=this._displayListLen,Oy(r,WM)},e.prototype._updateAndAddDisplayable=function(t,n,r){if(!(t.ignore&&!r)){t.beforeUpdate(),t.update(),t.afterUpdate();var a=t.getClipPath();if(t.ignoreClip)n=null;else if(a){n?n=n.slice():n=[];for(var i=a,o=t;i;)i.parent=o,i.updateTransform(),n.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=xi),this._updateAndAddDisplayable(u,n,r)}t.__dirty=0}else{var c=t;n&&n.length?c.__clipPaths=n:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(Ux(),c.z=0),isNaN(c.z2)&&(Ux(),c.z2=0),isNaN(c.zlevel)&&(Ux(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=t.getDecalElement&&t.getDecalElement();f&&this._updateAndAddDisplayable(f,n,r);var d=t.getTextGuideLine();d&&this._updateAndAddDisplayable(d,n,r);var h=t.getTextContent();h&&this._updateAndAddDisplayable(h,n,r)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);return}var a=Xt(this._roots,t);a>=0&&this._roots.splice(a,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();const eq=J9;var JB;JB=Vt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};const Zd=JB;var ky={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},elasticOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-ky.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?ky.bounceIn(e*2)*.5:ky.bounceOut(e*2-1)*.5+.5}};const eV=ky;var og=Math.pow,ou=Math.sqrt,T0=1e-8,tV=1e-4,YM=ou(3),sg=1/3,rs=_h(),Gi=_h(),kd=_h();function eu(e){return e>-T0&&e<T0}function nV(e){return e>T0||e<-T0}function Nr(e,t,n,r,a){var i=1-a;return i*i*(i*e+3*a*t)+a*a*(a*r+3*i*n)}function jM(e,t,n,r,a){var i=1-a;return 3*(((t-e)*i+2*(n-t)*a)*i+(r-n)*a*a)}function C0(e,t,n,r,a,i){var o=r+3*(t-n)-e,s=3*(n-t*2+e),l=3*(t-e),u=e-a,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(eu(c)&&eu(f))if(eu(s))i[0]=0;else{var v=-l/s;v>=0&&v<=1&&(i[h++]=v)}else{var p=f*f-4*c*d;if(eu(p)){var m=f/c,v=-s/o+m,g=-m/2;v>=0&&v<=1&&(i[h++]=v),g>=0&&g<=1&&(i[h++]=g)}else if(p>0){var y=ou(p),_=c*s+1.5*o*(-f+y),x=c*s+1.5*o*(-f-y);_<0?_=-og(-_,sg):_=og(_,sg),x<0?x=-og(-x,sg):x=og(x,sg);var v=(-s-(_+x))/(3*o);v>=0&&v<=1&&(i[h++]=v)}else{var w=(2*c*s-3*o*f)/(2*ou(c*c*c)),b=Math.acos(w)/3,S=ou(c),C=Math.cos(b),v=(-s-2*S*C)/(3*o),g=(-s+S*(C+YM*Math.sin(b)))/(3*o),A=(-s+S*(C-YM*Math.sin(b)))/(3*o);v>=0&&v<=1&&(i[h++]=v),g>=0&&g<=1&&(i[h++]=g),A>=0&&A<=1&&(i[h++]=A)}}return h}function rV(e,t,n,r,a){var i=6*n-12*t+6*e,o=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(eu(o)){if(nV(i)){var u=-s/i;u>=0&&u<=1&&(a[l++]=u)}}else{var c=i*i-4*o*s;if(eu(c))a[0]=-i/(2*o);else if(c>0){var f=ou(c),u=(-i+f)/(2*o),d=(-i-f)/(2*o);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function A0(e,t,n,r,a,i){var o=(t-e)*a+e,s=(n-t)*a+t,l=(r-n)*a+n,u=(s-o)*a+o,c=(l-s)*a+s,f=(c-u)*a+u;i[0]=e,i[1]=o,i[2]=u,i[3]=f,i[4]=f,i[5]=c,i[6]=l,i[7]=r}function aV(e,t,n,r,a,i,o,s,l,u,c){var f,d=.005,h=1/0,v,p,m,g;rs[0]=l,rs[1]=u;for(var y=0;y<1;y+=.05)Gi[0]=Nr(e,n,a,o,y),Gi[1]=Nr(t,r,i,s,y),m=Od(rs,Gi),m<h&&(f=y,h=m);h=1/0;for(var _=0;_<32&&!(d<tV);_++)v=f-d,p=f+d,Gi[0]=Nr(e,n,a,o,v),Gi[1]=Nr(t,r,i,s,v),m=Od(Gi,rs),v>=0&&m<h?(f=v,h=m):(kd[0]=Nr(e,n,a,o,p),kd[1]=Nr(t,r,i,s,p),g=Od(kd,rs),p<=1&&g<h?(f=p,h=g):d*=.5);return c&&(c[0]=Nr(e,n,a,o,f),c[1]=Nr(t,r,i,s,f)),ou(h)}function tq(e,t,n,r,a,i,o,s,l){for(var u=e,c=t,f=0,d=1/l,h=1;h<=l;h++){var v=h*d,p=Nr(e,n,a,o,v),m=Nr(t,r,i,s,v),g=p-u,y=m-c;f+=Math.sqrt(g*g+y*y),u=p,c=m}return f}function va(e,t,n,r){var a=1-r;return a*(a*e+2*r*t)+r*r*n}function XM(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function nq(e,t,n,r,a){var i=e-2*t+n,o=2*(t-e),s=e-r,l=0;if(eu(i)){if(nV(o)){var u=-s/o;u>=0&&u<=1&&(a[l++]=u)}}else{var c=o*o-4*i*s;if(eu(c)){var u=-o/(2*i);u>=0&&u<=1&&(a[l++]=u)}else if(c>0){var f=ou(c),u=(-o+f)/(2*i),d=(-o-f)/(2*i);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function iV(e,t,n){var r=e+n-2*t;return r===0?.5:(e-t)/r}function E0(e,t,n,r,a){var i=(t-e)*r+e,o=(n-t)*r+t,s=(o-i)*r+i;a[0]=e,a[1]=i,a[2]=s,a[3]=s,a[4]=o,a[5]=n}function oV(e,t,n,r,a,i,o,s,l){var u,c=.005,f=1/0;rs[0]=o,rs[1]=s;for(var d=0;d<1;d+=.05){Gi[0]=va(e,n,a,d),Gi[1]=va(t,r,i,d);var h=Od(rs,Gi);h<f&&(u=d,f=h)}f=1/0;for(var v=0;v<32&&!(c<tV);v++){var p=u-c,m=u+c;Gi[0]=va(e,n,a,p),Gi[1]=va(t,r,i,p);var h=Od(Gi,rs);if(p>=0&&h<f)u=p,f=h;else{kd[0]=va(e,n,a,m),kd[1]=va(t,r,i,m);var g=Od(kd,rs);m<=1&&g<f?(u=m,f=g):c*=.5}}return l&&(l[0]=va(e,n,a,u),l[1]=va(t,r,i,u)),ou(f)}function rq(e,t,n,r,a,i,o){for(var s=e,l=t,u=0,c=1/o,f=1;f<=o;f++){var d=f*c,h=va(e,n,a,d),v=va(t,r,i,d),p=h-s,m=v-l;u+=Math.sqrt(p*p+m*m),s=h,l=v}return u}var aq=/cubic-bezier\(([0-9,\.e ]+)\)/;function sV(e){var t=e&&aq.exec(e);if(t){var n=t[1].split(","),r=+us(n[0]),a=+us(n[1]),i=+us(n[2]),o=+us(n[3]);if(isNaN(r+a+i+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:C0(0,r,i,1,l,s)&&Nr(0,a,o,1,s[0])}}}var iq=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||ci,this.ondestroy=t.ondestroy||ci,this.onrestart=t.onrestart||ci,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,a=t-this._startTime-this._pausedTime,i=a/r;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,s=o?o(i):i;if(this.onframe(s),i===1)if(this.loop){var l=a%r;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=yt(t)?t:eV[t]||sV(t)},e}();const oq=iq;var lV=function(){function e(t){this.value=t}return e}(),sq=function(){function e(){this._len=0}return e.prototype.insert=function(t){var n=new lV(t);return this.insertEntry(n),n},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var n=t.prev,r=t.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),lq=function(){function e(t){this._list=new sq,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,n){var r=this._list,a=this._map,i=null;if(a[t]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete a[l.key],i=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new lV(n),s.key=t,r.insertEntry(s),a[t]=s}return i},e.prototype.get=function(t){var n=this._map[t],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();const bh=lq;var qM={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function su(e){return e=Math.round(e),e<0?0:e>255?255:e}function jS(e){return e<0?0:e>1?1:e}function zx(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?su(parseFloat(t)/100*255):su(parseInt(t,10))}function sp(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?jS(parseFloat(t)/100):jS(parseFloat(t))}function Hx(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function lg(e,t,n){return e+(t-e)*n}function ki(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function XS(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var uV=new bh(20),ug=null;function Bf(e,t){ug&&XS(ug,t),ug=uV.put(e,ug||t.slice())}function ko(e,t){if(e){t=t||[];var n=uV.get(e);if(n)return XS(t,n);e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in qM)return XS(t,qM[r]),Bf(e,t),t;var a=r.length;if(r.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(r.slice(1,4),16);if(!(i>=0&&i<=4095)){ki(t,0,0,0,1);return}return ki(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(r.slice(4),16)/15:1),Bf(e,t),t}else if(a===7||a===9){var i=parseInt(r.slice(1,7),16);if(!(i>=0&&i<=16777215)){ki(t,0,0,0,1);return}return ki(t,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(r.slice(7),16)/255:1),Bf(e,t),t}return}var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===a){var l=r.substr(0,o),u=r.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?ki(t,+u[0],+u[1],+u[2],1):ki(t,0,0,0,1);c=sp(u.pop());case"rgb":if(u.length>=3)return ki(t,zx(u[0]),zx(u[1]),zx(u[2]),u.length===3?c:sp(u[3])),Bf(e,t),t;ki(t,0,0,0,1);return;case"hsla":if(u.length!==4){ki(t,0,0,0,1);return}return u[3]=sp(u[3]),ZM(u,t),Bf(e,t),t;case"hsl":if(u.length!==3){ki(t,0,0,0,1);return}return ZM(u,t),Bf(e,t),t;default:return}}ki(t,0,0,0,1)}}function ZM(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=sp(e[1]),a=sp(e[2]),i=a<=.5?a*(r+1):a+r-a*r,o=a*2-i;return t=t||[],ki(t,su(Hx(o,i,n+1/3)*255),su(Hx(o,i,n)*255),su(Hx(o,i,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function Fp(e,t){var n=ko(e);if(n){for(var r=0;r<3;r++)t<0?n[r]=n[r]*(1-t)|0:n[r]=(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return i1(n,n.length===4?"rgba":"rgb")}}function uq(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=ko(t[a]),s=ko(t[i]),l=r-a,u=i1([su(lg(o[0],s[0],l)),su(lg(o[1],s[1],l)),su(lg(o[2],s[2],l)),jS(lg(o[3],s[3],l))],"rgba");return n?{color:u,leftIndex:a,rightIndex:i,value:r}:u}}function i1(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}}function D0(e,t){var n=ko(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}function cq(e){return e.type==="linear"}function fq(e){return e.type==="radial"}(function(){return Vt.hasGlobalWindow&&yt(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return Nc("Base64 isn't natively supported in the current environment."),null}})();var qS=Array.prototype.slice;function Vs(e,t,n){return(t-e)*n+e}function $x(e,t,n,r){for(var a=t.length,i=0;i<a;i++)e[i]=Vs(t[i],n[i],r);return e}function dq(e,t,n,r){for(var a=t.length,i=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=Vs(t[o][s],n[o][s],r)}return e}function cg(e,t,n,r){for(var a=t.length,i=0;i<a;i++)e[i]=t[i]+n[i]*r;return e}function KM(e,t,n,r){for(var a=t.length,i=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=t[o][s]+n[o][s]*r}return e}function hq(e,t){for(var n=e.length,r=t.length,a=n>r?t:e,i=Math.min(n,r),o=a[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(n,r);s++)a.push({offset:o.offset,color:o.color.slice()})}function vq(e,t,n){var r=e,a=t;if(!(!r.push||!a.push)){var i=r.length,o=a.length;if(i!==o){var s=i>o;if(s)r.length=o;else for(var l=i;l<o;l++)r.push(n===1?a[l]:qS.call(a[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(n===1)isNaN(r[l])&&(r[l]=a[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=a[l][c])}}function lp(e){if(Za(e)){var t=e.length;if(Za(e[0])){for(var n=[],r=0;r<t;r++)n.push(qS.call(e[r]));return n}return qS.call(e)}return e}function Ny(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function pq(e){return Za(e&&e[0])?2:1}var fg=0,By=1,cV=2,Uv=3,ZS=4,KS=5,QM=6;function JM(e){return e===ZS||e===KS}function dg(e){return e===By||e===cV}var tv=[0,0,0,0],mq=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,n,r){this._needsSort=!0;var a=this.keyframes,i=a.length,o=!1,s=QM,l=n;if(Za(n)){var u=pq(n);s=u,(u===1&&!En(n[0])||u===2&&!En(n[0][0]))&&(o=!0)}else if(En(n)&&!Xd(n))s=fg;else if(ot(n))if(!isNaN(+n))s=fg;else{var c=ko(n);c&&(l=c,s=Uv)}else if(n1(n)){var f=Pe({},l);f.colorStops=at(n.colorStops,function(h){return{offset:h.offset,color:ko(h.color)}}),cq(n)?s=ZS:fq(n)&&(s=KS),l=f}i===0?this.valType=s:(s!==this.valType||s===QM)&&(o=!0),this.discrete=this.discrete||o;var d={time:t,value:l,rawValue:n,percent:0};return r&&(d.easing=r,d.easingFunc=yt(r)?r:eV[r]||sV(r)),a.push(d),d},e.prototype.prepare=function(t,n){var r=this.keyframes;this._needsSort&&r.sort(function(p,m){return p.time-m.time});for(var a=this.valType,i=r.length,o=r[i-1],s=this.discrete,l=dg(a),u=JM(a),c=0;c<i;c++){var f=r[c],d=f.value,h=o.value;f.percent=f.time/t,s||(l&&c!==i-1?vq(d,h,a):u&&hq(d.colorStops,h.colorStops))}if(!s&&a!==KS&&n&&this.needsAnimate()&&n.needsAnimate()&&a===n.valType&&!n._finished){this._additiveTrack=n;for(var v=r[0].value,c=0;c<i;c++)a===fg?r[c].additiveValue=r[c].value-v:a===Uv?r[c].additiveValue=cg([],r[c].value,v,-1):dg(a)&&(r[c].additiveValue=a===By?cg([],r[c].value,v,-1):KM([],r[c].value,v,-1))}},e.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,a=r?"additiveValue":"value",i=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=i===Uv,c,f=this._lastFr,d=Math.min,h,v;if(s===1)h=v=o[0];else{if(n<0)c=0;else if(n<this._lastFrP){var p=d(f+1,s-1);for(c=p;c>=0&&!(o[c].percent<=n);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>n);c++);c=d(c-1,s-2)}v=o[c+1],h=o[c]}if(h&&v){this._lastFr=c,this._lastFrP=n;var m=v.percent-h.percent,g=m===0?1:d((n-h.percent)/m,1);v.easingFunc&&(g=v.easingFunc(g));var y=r?this._additiveValue:u?tv:t[l];if((dg(i)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)t[l]=g<1?h.rawValue:v.rawValue;else if(dg(i))i===By?$x(y,h[a],v[a],g):dq(y,h[a],v[a],g);else if(JM(i)){var _=h[a],x=v[a],w=i===ZS;t[l]={type:w?"linear":"radial",x:Vs(_.x,x.x,g),y:Vs(_.y,x.y,g),colorStops:at(_.colorStops,function(S,C){var A=x.colorStops[C];return{offset:Vs(S.offset,A.offset,g),color:Ny($x([],S.color,A.color,g))}}),global:x.global},w?(t[l].x2=Vs(_.x2,x.x2,g),t[l].y2=Vs(_.y2,x.y2,g)):t[l].r=Vs(_.r,x.r,g)}else if(u)$x(y,h[a],v[a],g),r||(t[l]=Ny(y));else{var b=Vs(h[a],v[a],g);r?this._additiveValue=b:t[l]=b}r&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var n=this.valType,r=this.propName,a=this._additiveValue;n===fg?t[r]=t[r]+a:n===Uv?(ko(t[r],tv),cg(tv,tv,a,1),t[r]=Ny(tv)):n===By?cg(t[r],t[r],a,1):n===cV&&KM(t[r],t[r],a,1)},e}(),gq=function(){function e(t,n,r,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&a){Nc("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=r}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,n,r){return this.whenWithKeys(t,n,ln(n),r)},e.prototype.whenWithKeys=function(t,n,r,a){for(var i=this._tracks,o=0;o<r.length;o++){var s=r[o],l=i[s];if(!l){l=i[s]=new mq(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===Uv&&u&&(u=Ny(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,lp(u),a),this._trackKeys.push(s)}l.addKeyframe(t,lp(n[s]),a)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,r=0;r<n;r++)t[r].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)t[n[r]].setFinished()},e.prototype._getAdditiveTrack=function(t){var n,r=this._additiveAnimators;if(r)for(var a=0;a<r.length;a++){var i=r[a].getTrack(t);i&&(n=i)}return n},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],a=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(a,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(n._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var d=new oq({life:a,loop:this._loop,delay:this._delay||0,onframe:function(h){n._started=2;var v=n._additiveAnimators;if(v){for(var p=!1,m=0;m<v.length;m++)if(v[m]._clip){p=!0;break}p||(n._additiveAnimators=null)}for(var m=0;m<r.length;m++)r[m].step(n._target,h);var g=n._onframeCbs;if(g)for(var m=0;m<g.length;m++)g[m](n._target,h)},ondestroy:function(){n._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return at(this._trackKeys,function(n){return t._tracks[n]})},e.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var r=this._tracks,a=this._trackKeys,i=0;i<t.length;i++){var o=r[t[i]];o&&!o.isFinished()&&(n?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,i=0;i<a.length;i++)if(!r[a[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,n,r){if(t){n=n||this._trackKeys;for(var a=0;a<n.length;a++){var i=n[a],o=this._tracks[i];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[r?0:s.length-1];l&&(t[i]=lp(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,n){n=n||ln(t);for(var r=0;r<n.length;r++){var a=n[r],i=this._tracks[a];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,t[a]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},e}();const o1=gq;function Cd(){return new Date().getTime()}var yq=function(e){kn(t,e);function t(n){var r=e.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(n){if(n.animation){var r=n.prev,a=n.next;r?r.next=a:this._head=a,a?a.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},t.prototype.update=function(n){for(var r=Cd()-this._pausedTime,a=r-this._time,i=this._head;i;){var o=i.next,s=i.step(r,a);s&&(i.ondestroy(),this.removeClip(i)),i=o}this._time=r,n||(this.trigger("frame",a),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(Zd(r),!n._paused&&n.update())}Zd(r)},t.prototype.start=function(){this._running||(this._time=Cd(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Cd(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Cd()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,r){r=r||{},this.start();var a=new o1(n,r.loop);return this.addAnimator(a),a},t}(Ts);const _q=yq;var xq=300,Gx=Vt.domSupported,Wx=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=at(e,function(a){var i=a.replace("mouse","pointer");return n.hasOwnProperty(i)?i:a});return{mouse:e,touch:t,pointer:r}}(),eP={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},tP=!1;function QS(e){var t=e.pointerType;return t==="pen"||t==="touch"}function bq(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Yx(e){e&&(e.zrByTouch=!0)}function wq(e,t){return Bi(e.dom,new Sq(e,t),!0)}function fV(e,t){for(var n=t,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}var Sq=function(){function e(t,n){this.stopPropagation=ci,this.stopImmediatePropagation=ci,this.preventDefault=ci,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return e}(),Eo={mousedown:function(e){e=Bi(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Bi(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Bi(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=Bi(this.dom,e);var t=e.toElement||e.relatedTarget;fV(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){tP=!0,e=Bi(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){tP||(e=Bi(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=Bi(this.dom,e),Yx(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Eo.mousemove.call(this,e),Eo.mousedown.call(this,e)},touchmove:function(e){e=Bi(this.dom,e),Yx(e),this.handler.processGesture(e,"change"),Eo.mousemove.call(this,e)},touchend:function(e){e=Bi(this.dom,e),Yx(e),this.handler.processGesture(e,"end"),Eo.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<xq&&Eo.click.call(this,e)},pointerdown:function(e){Eo.mousedown.call(this,e)},pointermove:function(e){QS(e)||Eo.mousemove.call(this,e)},pointerup:function(e){Eo.mouseup.call(this,e)},pointerout:function(e){QS(e)||Eo.mouseout.call(this,e)}};j(["click","dblclick","contextmenu"],function(e){Eo[e]=function(t){t=Bi(this.dom,t),this.trigger(e,t)}});var JS={pointermove:function(e){QS(e)||JS.mousemove.call(this,e)},pointerup:function(e){JS.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function Tq(e,t){var n=t.domHandlers;Vt.pointerEventsSupported?j(Wx.pointer,function(r){Vy(t,r,function(a){n[r].call(e,a)})}):(Vt.touchEventsSupported&&j(Wx.touch,function(r){Vy(t,r,function(a){n[r].call(e,a),bq(t)})}),j(Wx.mouse,function(r){Vy(t,r,function(a){a=$2(a),t.touching||n[r].call(e,a)})}))}function Cq(e,t){Vt.pointerEventsSupported?j(eP.pointer,n):Vt.touchEventsSupported||j(eP.mouse,n);function n(r){function a(i){i=$2(i),fV(e,i.target)||(i=wq(e,i),t.domHandlers[r].call(e,i))}Vy(t,r,a,{capture:!0})}}function Vy(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,N9(e.domTarget,t,n,r)}function jx(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&B9(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var nP=function(){function e(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return e}(),Aq=function(e){kn(t,e);function t(n,r){var a=e.call(this)||this;return a.__pointerCapturing=!1,a.dom=n,a.painterRoot=r,a._localHandlerScope=new nP(n,Eo),Gx&&(a._globalHandlerScope=new nP(document,JS)),Tq(a,a._localHandlerScope),a}return t.prototype.dispose=function(){jx(this._localHandlerScope),Gx&&jx(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,Gx&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?Cq(this,r):jx(r)}},t}(Ts);const Eq=Aq;var dV=1;Vt.hasGlobalWindow&&(dV=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var M0=dV,eT=.4,tT="#333",nT="#ccc",Dq="#eee",rP=a1,aP=5e-5;function Ou(e){return e>aP||e<-aP}var ku=[],Vf=[],Xx=qd(),qx=Math.abs,Mq=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Ou(this.rotation)||Ou(this.x)||Ou(this.y)||Ou(this.scaleX-1)||Ou(this.scaleY-1)||Ou(this.skewX)||Ou(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||t)){r&&(rP(r),this.invTransform=null);return}r=r||qd(),n?this.getLocalTransform(r):rP(r),t&&(n?Vc(r,t,r):U9(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)},e.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(ku);var r=ku[0]<0?-1:1,a=ku[1]<0?-1:1,i=((ku[0]-r)*n+r)/ku[0]||0,o=((ku[1]-a)*n+a)/ku[1]||0;t[0]*=i,t[1]*=i,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||qd(),xh(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],a=Math.atan2(t[1],t[0]),i=Math.PI/2+a-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(i),n=Math.sqrt(n),this.skewX=i,this.skewY=0,this.rotation=-a,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(Vc(Vf,t.invTransform,n),n=Vf);var r=this.originX,a=this.originY;(r||a)&&(Xx[4]=r,Xx[5]=a,Vc(Vf,n,Xx),Vf[4]-=r,Vf[5]-=a,n=Vf),this.setLocalTransform(n)}},e.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,n){var r=[t,n],a=this.invTransform;return a&&ba(r,r,a),r},e.prototype.transformCoordToGlobal=function(t,n){var r=[t,n],a=this.transform;return a&&ba(r,r,a),r},e.prototype.getLineScale=function(){var t=this.transform;return t&&qx(t[0]-1)>1e-10&&qx(t[3]-1)>1e-10?Math.sqrt(qx(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){Pq(this,t)},e.getLocalTransform=function(t,n){n=n||[];var r=t.originX||0,a=t.originY||0,i=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,d=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;if(r||a||s||l){var v=r+s,p=a+l;n[4]=-v*i-d*p*o,n[5]=-p*o-h*v*i}else n[4]=n[5]=0;return n[0]=i,n[3]=o,n[1]=h*i,n[2]=d*o,u&&G2(n,n,u),n[4]+=r+c,n[5]+=a+f,n},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),xs=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Pq(e,t){for(var n=0;n<xs.length;n++){var r=xs[n];e[r]=t[r]}}const s1=Mq;var iP={};function wi(e,t){t=t||Kc;var n=iP[t];n||(n=iP[t]=new bh(500));var r=n.get(e);return r==null&&(r=gh.measureText(e,t).width,n.put(e,r)),r}function oP(e,t,n,r){var a=wi(e,t),i=Y2(t),o=zv(0,a,n),s=Sd(0,i,r),l=new Wt(o,s,a,i);return l}function W2(e,t,n,r){var a=((e||"")+"").split(`
`),i=a.length;if(i===1)return oP(a[0],t,n,r);for(var o=new Wt(0,0,0,0),s=0;s<a.length;s++){var l=oP(a[s],t,n,r);s===0?o.copy(l):o.union(l)}return o}function zv(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function Sd(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function Y2(e){return wi("国",e)}function fu(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function P0(e,t,n){var r=t.position||"inside",a=t.distance!=null?t.distance:5,i=n.height,o=n.width,s=i/2,l=n.x,u=n.y,c="left",f="top";if(r instanceof Array)l+=fu(r[0],n.width),u+=fu(r[1],n.height),c=null,f=null;else switch(r){case"left":l-=a,u+=s,c="right",f="middle";break;case"right":l+=a+o,u+=s,f="middle";break;case"top":l+=o/2,u-=a,c="center",f="bottom";break;case"bottom":l+=o/2,u+=i+a,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=a,u+=s,f="middle";break;case"insideRight":l+=o-a,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=a,c="center";break;case"insideBottom":l+=o/2,u+=i-a,c="center",f="bottom";break;case"insideTopLeft":l+=a,u+=a;break;case"insideTopRight":l+=o-a,u+=a,c="right";break;case"insideBottomLeft":l+=a,u+=i-a,f="bottom";break;case"insideBottomRight":l+=o-a,u+=i-a,c="right",f="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=f,e}var Zx="__zr_normal__",Kx=xs.concat(["ignore"]),Lq=_s(xs,function(e,t){return e[t]=!0,e},{ignore:!1}),Ff={},Iq=new Wt(0,0,0,0),j2=function(){function e(t){this.id=HB(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=n,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,a=r.local,i=n.innerTransformable,o=void 0,s=void 0,l=!1;i.parent=a?this:null;var u=!1;if(i.copyTransform(n),r.position!=null){var c=Iq;r.layoutRect?c.copy(r.layoutRect):c.copy(this.getBoundingRect()),a||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Ff,r,c):P0(Ff,r,c),i.x=Ff.x,i.y=Ff.y,o=Ff.align,s=Ff.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var d=void 0,h=void 0;f==="center"?(d=c.width*.5,h=c.height*.5):(d=fu(f[0],c.width),h=fu(f[1],c.height)),u=!0,i.originX=-i.x+d+(a?0:c.x),i.originY=-i.y+h+(a?0:c.y)}}r.rotation!=null&&(i.rotation=r.rotation);var v=r.offset;v&&(i.x+=v[0],i.y+=v[1],u||(i.originX=-v[0],i.originY=-v[1]));var p=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,y=void 0,_=void 0;p&&this.canBeInsideText()?(g=r.insideFill,y=r.insideStroke,(g==null||g==="auto")&&(g=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(g),_=!0)):(g=r.outsideFill,y=r.outsideStroke,(g==null||g==="auto")&&(g=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(g),_=!0)),g=g||"#000",(g!==m.fill||y!==m.stroke||_!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(l=!0,m.fill=g,m.stroke=y,m.autoStroke=_,m.align=o,m.verticalAlign=s,n.setDefaultTextStyle(m)),n.__dirty|=xi,l&&n.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?nT:tT},e.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&ko(n);r||(r=[255,255,255,1]);for(var a=r[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*a+(i?0:255)*(1-a);return r[3]=1,i1(r,"rgba")},e.prototype.traverse=function(t,n){},e.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},Pe(this.extra,n)):this[t]=n},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(lt(t))for(var r=t,a=ln(r),i=0;i<a.length;i++){var o=a[i];this.attrKV(o,t[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,r=0;r<this.animators.length;r++){var a=this.animators[r],i=a.__fromStateTransition;if(!(a.getLoop()||i&&i!==Zx)){var o=a.targetName,s=o?n[o]:n;a.saveTo(s)}}},e.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,Kx)},e.prototype._savePrimaryToNormal=function(t,n,r){for(var a=0;a<r.length;a++){var i=r[a];t[i]!=null&&!(i in n)&&(n[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},e.prototype.clearStates=function(t){this.useState(Zx,!1,t)},e.prototype.useState=function(t,n,r,a){var i=t===Zx,o=this.hasState();if(!(!o&&i)){var s=this.currentStates,l=this.stateTransition;if(!(Xt(s,t)>=0&&(n||s.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!i){Nc("State "+t+" not exists.");return}i||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||a);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,n,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(t,n,r,c),d&&d.useState(t,n,r,c),i?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~xi),u}}},e.prototype.useStates=function(t,n,r){if(!t.length)this.clearStates();else{var a=[],i=this.currentStates,o=t.length,s=o===i.length;if(s){for(var l=0;l<o;l++)if(t[l]!==i[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&a.push(c)}var f=a[o-1],d=!!(f&&f.hoverLayer||r);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(a),v=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!n&&!this.__inHover&&v&&v.duration>0,v);var p=this._textContent,m=this._textGuide;p&&p.useStates(t,n,d),m&&m.useStates(t,n,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~xi)}},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},e.prototype.removeState=function(t){var n=Xt(this.currentStates,t);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},e.prototype.replaceState=function(t,n,r){var a=this.currentStates.slice(),i=Xt(a,t),o=Xt(a,n)>=0;i>=0?o?a.splice(i,1):a[i]=n:r&&!o&&a.push(n),this.useStates(a)},e.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var n={},r,a=0;a<t.length;a++){var i=t[a];Pe(n,i),i.textConfig&&(r=r||{},Pe(r,i.textConfig))}return r&&(n.textConfig=r),n},e.prototype._applyStateObj=function(t,n,r,a,i,o){var s=!(n&&a);n&&n.textConfig?(this.textConfig=Pe({},a?this.textConfig:r.textConfig),Pe(this.textConfig,n.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<Kx.length;c++){var f=Kx[c],d=i&&Lq[f];n&&n[f]!=null?d?(u=!0,l[f]=n[f]):this[f]=n[f]:s&&r[f]!=null&&(d?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!i)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],v=h.targetName;h.getLoop()||h.__changeFinalValue(v?(n||r)[v]:n||r)}u&&this._transitionState(t,l,o)},e.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var n=this._textContent;if(n!==t){if(n&&n!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.innerTransformable=new s1,this._attachComponent(t),this._textContent=t,this.markRedraw()}},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Pe(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=xi;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=t),r&&(r.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,n,r){var a=t?this[t]:this;if(!a){Nc('Property "'+t+'" is not existed in element '+this.id);return}var i=new o1(a,n,r);return t&&(i.targetName=t),this.addAnimator(i,t),i},e.prototype.addAnimator=function(t,n){var r=this.__zr,a=this;t.during(function(){a.updateDuringAnimation(n)}).done(function(){var i=a.animators,o=Xt(i,t);o>=0&&i.splice(o,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,n){for(var r=this.animators,a=r.length,i=[],o=0;o<a;o++){var s=r[o];!t||t===s.scope?s.stop(n):i.push(s)}return this.animators=i,this},e.prototype.animateTo=function(t,n,r){Qx(this,t,n,r)},e.prototype.animateFrom=function(t,n,r){Qx(this,t,n,r,!0)},e.prototype._transitionState=function(t,n,r,a){for(var i=Qx(this,n,r,a),o=0;o<i.length;o++)i[o].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=xi;var n={};function r(i,o,s){n[i+o+s]||(console.warn("DEPRECATED: '"+i+"' has been deprecated. use '"+o+"', '"+s+"' instead"),n[i+o+s]=!0)}function a(i,o,s,l){Object.defineProperty(t,i,{get:function(){if(r(i,s,l),!this[o]){var c=this[o]=[];u(this,c)}return this[o]},set:function(c){r(i,s,l),this[s]=c[0],this[l]=c[1],this[o]=c,u(this,c)}});function u(c,f){Object.defineProperty(f,0,{get:function(){return c[s]},set:function(d){c[s]=d}}),Object.defineProperty(f,1,{get:function(){return c[l]},set:function(d){c[l]=d}})}}Object.defineProperty&&(a("position","_legacyPos","x","y"),a("scale","_legacyScale","scaleX","scaleY"),a("origin","_legacyOrigin","originX","originY"))}(),e}();Si(j2,Ts);Si(j2,s1);function Qx(e,t,n,r,a){n=n||{};var i=[];hV(e,"",e,t,n,r,i,a);var o=i.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),i.length>0&&n.during&&i[0].during(function(v,p){n.during(p)});for(var d=0;d<i.length;d++){var h=i[d];c&&h.done(c),f&&h.aborted(f),n.force&&h.duration(n.duration),h.start(n.easing)}return i}function Jx(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function Rq(e){return Za(e[0])}function Oq(e,t,n){if(Za(t[n]))if(Za(e[n])||(e[n]=[]),hi(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),Jx(e[n],t[n],r))}else{var a=t[n],i=e[n],o=a.length;if(Rq(a))for(var s=a[0].length,l=0;l<o;l++)i[l]?Jx(i[l],a[l],s):i[l]=Array.prototype.slice.call(a[l]);else Jx(i,a,o);i.length=a.length}else e[n]=t[n]}function kq(e,t){return e===t||Za(e)&&Za(t)&&Nq(e,t)}function Nq(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function hV(e,t,n,r,a,i,o,s){for(var l=ln(r),u=a.duration,c=a.delay,f=a.additive,d=a.setToFinal,h=!lt(i),v=e.animators,p=[],m=0;m<l.length;m++){var g=l[m],y=r[g];if(y!=null&&n[g]!=null&&(h||i[g]))if(lt(y)&&!Za(y)&&!n1(y)){if(t){s||(n[g]=y,e.updateDuringAnimation(t));continue}hV(e,g,n[g],y,a,i&&i[g],o,s)}else p.push(g);else s||(n[g]=y,e.updateDuringAnimation(t),p.push(g))}var _=p.length;if(!f&&_)for(var x=0;x<v.length;x++){var w=v[x];if(w.targetName===t){var b=w.stopTracks(p);if(b){var S=Xt(v,w);v.splice(S,1)}}}if(a.force||(p=gr(p,function(T){return!kq(r[T],n[T])}),_=p.length),_>0||a.force&&!o.length){var C=void 0,A=void 0,M=void 0;if(s){A={},d&&(C={});for(var x=0;x<_;x++){var g=p[x];A[g]=n[g],d?C[g]=r[g]:n[g]=r[g]}}else if(d){M={};for(var x=0;x<_;x++){var g=p[x];M[g]=lp(n[g]),Oq(n,r,g)}}var w=new o1(n,!1,!1,f?gr(v,function(E){return E.targetName===t}):null);w.targetName=t,a.scope&&(w.scope=a.scope),d&&C&&w.whenWithKeys(0,C,p),M&&w.whenWithKeys(0,M,p),w.whenWithKeys(u??500,s?A:r,p).delay(c||0),e.addAnimator(w,t),o.push(w)}}const vV=j2;var pV=function(e){kn(t,e);function t(n){var r=e.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var r=this._children,a=0;a<r.length;a++)if(r[a].name===n)return r[a]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){if(n&&(n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),n.__hostTarget))throw"This elemenet has been used as an attachment";return this},t.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var a=this._children,i=a.indexOf(r);i>=0&&(a.splice(i,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,r){var a=Xt(this._children,n);return a>=0&&this.replaceAt(r,a),this},t.prototype.replaceAt=function(n,r){var a=this._children,i=a[r];if(n&&n!==this&&n.parent!==this&&n!==i){a[r]=n,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(n){var r=this.__zr,a=this._children,i=Xt(a,n);return i<0?this:(a.splice(i,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,a=0;a<n.length;a++){var i=n[a];r&&i.removeSelfFromZr(r),i.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,r){for(var a=this._children,i=0;i<a.length;i++){var o=a[i];n.call(r,o,i)}return this},t.prototype.traverse=function(n,r){for(var a=0;a<this._children.length;a++){var i=this._children[a],o=n.call(r,i);i.isGroup&&!o&&i.traverse(n,r)}return this},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var a=this._children[r];a.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var a=this._children[r];a.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var r=new Wt(0,0,0,0),a=n||this._children,i=[],o=null,s=0;s<a.length;s++){var l=a[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(i);c?(Wt.applyTransform(r,u,c),o=o||r.clone(),o.union(r)):(o=o||u.clone(),o.union(u))}}return o||r},t}(vV);pV.prototype.type="group";const oa=pV;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Hv={},mV={};function Bq(e){delete mV[e]}function Vq(e){if(!e)return!1;if(typeof e=="string")return D0(e,1)<eT;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,a=0;a<r;a++)n+=D0(t[a].color,1);return n/=r,n<eT}return!1}var Fq=function(){function e(t,n,r){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=t;var i=new eq,o=r.renderer||"canvas";if(Hv[o]||(o=ln(Hv)[0]),!Hv[o])throw new Error("Renderer '"+o+"' is not imported. Please import it first.");r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new Hv[o](n,i,r,t),l=r.ssr||s.ssrOnly;this.storage=i,this.painter=s;var u=!Vt.node&&!Vt.worker&&!l?new Eq(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,f=c==null||c==="auto"?Vt.touchEventsSupported:!!c,d=44,h;f&&(h=Ut(r.pointerSize,d)),this.handler=new q9(i,s,u,s.root,h),this.animation=new _q({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,n){this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh()},e.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=Vq(t)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(t){var n,r=Cd();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var a=Cd();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},e.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,n){return this.handler.findHover(t,n)},e.prototype.on=function(t,n,r){return this.handler.on(t,n,r),this},e.prototype.off=function(t,n){this.handler.off(t,n)},e.prototype.trigger=function(t,n){this.handler.trigger(t,n)},e.prototype.clear=function(){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof oa&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Bq(this.id)},e}();function rT(e,t){var n=new Fq(HB(),e,t);return mV[n.id]=n,n}function Uq(e,t){Hv[e]=t}var sP=1e-4,gV=20;function zq(e){return e.replace(/^\s+|\s+$/g,"")}function Up(e,t,n,r){var a=t[0],i=t[1],o=n[0],s=n[1],l=i-a,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(r)if(l>0){if(e<=a)return o;if(e>=i)return s}else{if(e>=a)return o;if(e<=i)return s}else{if(e===a)return o;if(e===i)return s}return(e-a)/l*u+o}function In(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return ot(e)?zq(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function er(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),gV),e=(+e).toFixed(t),n?e:+e}function js(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n}return zp(e)}function zp(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),r=n>0?+t.slice(n+1):0,a=n>0?n:t.length,i=t.indexOf("."),o=i<0?0:a-1-i;return Math.max(0,o-r)}function Hq(e,t){var n=Math.log,r=Math.LN10,a=Math.floor(n(e[1]-e[0])/r),i=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-a+i,0),20);return isFinite(o)?o:20}function $q(e,t){var n=_s(e,function(h,v){return h+(isNaN(v)?0:v)},0);if(n===0)return[];for(var r=Math.pow(10,t),a=at(e,function(h){return(isNaN(h)?0:h)/n*r*100}),i=r*100,o=at(a,function(h){return Math.floor(h)}),s=_s(o,function(h,v){return h+v},0),l=at(a,function(h,v){return h-o[v]});s<i;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return at(o,function(h){return h/r})}function Gq(e,t){var n=Math.max(js(e),js(t)),r=e+t;return n>gV?r:er(r,n)}function yV(e){var t=Math.PI*2;return(e%t+t)%t}function L0(e){return e>-sP&&e<sP}var Wq=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Vo(e){if(e instanceof Date)return e;if(ot(e)){var t=Wq.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function Yq(e){return Math.pow(10,l1(e))}function l1(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function _V(e,t){var n=l1(e),r=Math.pow(10,n),a=e/r,i;return t?a<1.5?i=1:a<2.5?i=2:a<4?i=3:a<7?i=5:i=10:a<1?i=1:a<2?i=2:a<3?i=3:a<5?i=5:i=10,e=i*r,n>=-20?+e.toFixed(n<0?-n:0):e}function I0(e){var t=parseFloat(e);return t==e&&(t!==0||!ot(e)||e.indexOf("x")<=0)?t:NaN}function xV(e){return!isNaN(I0(e))}function bV(){return Math.round(Math.random()*9)}function wV(e,t){return t===0?e:wV(t,e%t)}function lP(e,t){return e==null?t:t==null?e:e*t/wV(e,t)}var jq="[ECharts] ",uP={},Xq=typeof console<"u"&&console.warn&&console.log;function u1(e,t,n){if(Xq){if(n){if(uP[t])return;uP[t]=!0}console[e](jq+t)}}function qq(e,t){u1("log",e,t)}function Vr(e,t){u1("warn",e,t)}function Ca(e,t){u1("error",e,t)}function bs(e){u1("warn","DEPRECATED: "+e,!0)}function Dr(e,t,n){bs((n?"["+n+"]":"")+(e+" is deprecated, use "+t+" instead."))}function R0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";{var r=function(a){return a===void 0?"undefined":a===1/0?"Infinity":a===-1/0?"-Infinity":Xd(a)?"NaN":a instanceof Date?"Date("+a.toISOString()+")":yt(a)?"function () { ... }":h9(a)?a+"":null};n=at(e,function(a){if(ot(a))return a;var i=r(a);if(i!=null)return i;if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(a,function(o,s){var l=r(s);return l??s})}catch{return"?"}else return"?"}).join(" ")}return n}function ai(e){throw new Error(e)}function cP(e,t,n){return(t-e)*n+e}var SV="series\0",Zq="\0_ec_\0";function Jr(e){return e instanceof Array?e:e==null?[]:[e]}function aT(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,a=n.length;r<a;r++){var i=n[r];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var fP=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Dm(e){return lt(e)&&!Be(e)&&!(e instanceof Date)?e.value:e}function Kq(e){return lt(e)&&!(e instanceof Array)}function TV(e,t,n){var r=n==="normalMerge",a=n==="replaceMerge",i=n==="replaceAll";e=e||[],t=(t||[]).slice();var o=Dt();j(t,function(l,u){if(!lt(l)){t[u]=null;return}l.id!=null&&!hP(l.id)&&dP(l.id),l.name!=null&&!hP(l.name)&&dP(l.name)});var s=Qq(e,o,n);return(r||a)&&Jq(s,e,o,t),r&&eZ(s,t),r||a?tZ(s,t,a):i&&nZ(s,t),rZ(s),s}function Qq(e,t,n){var r=[];if(n==="replaceAll")return r;for(var a=0;a<e.length;a++){var i=e[a];i&&i.id!=null&&t.set(i.id,a),r.push({existing:n==="replaceMerge"||Kd(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return r}function Jq(e,t,n,r){j(r,function(a,i){if(!(!a||a.id==null)){var o=up(a.id),s=n.get(o);if(s!=null){var l=e[s];_t(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=a,l.existing=t[s],r[i]=null}}})}function eZ(e,t){j(t,function(n,r){if(!(!n||n.name==null))for(var a=0;a<e.length;a++){var i=e[a].existing;if(!e[a].newOption&&i&&(i.id==null||n.id==null)&&!Kd(n)&&!Kd(i)&&CV("name",i,n)){e[a].newOption=n,t[r]=null;return}}})}function tZ(e,t,n){j(t,function(r){if(r){for(var a,i=0;(a=e[i])&&(a.newOption||Kd(a.existing)||a.existing&&r.id!=null&&!CV("id",r,a.existing));)i++;a?(a.newOption=r,a.brandNew=n):e.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),i++}})}function nZ(e,t){j(t,function(n){e.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function rZ(e){var t=Dt();j(e,function(n){var r=n.existing;r&&t.set(r.id,n)}),j(e,function(n){var r=n.newOption;_t(!r||r.id==null||!t.get(r.id)||t.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&t.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),j(e,function(n,r){var a=n.existing,i=n.newOption,o=n.keyInfo;if(lt(i)){if(o.name=i.name!=null?up(i.name):a?a.name:SV+r,a)o.id=up(a.id);else if(i.id!=null)o.id=up(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,n)}})}function CV(e,t,n){var r=li(t[e],null),a=li(n[e],null);return r!=null&&a!=null&&r===a}function up(e){if(e==null)throw new Error;return li(e,"")}function li(e,t){return e==null?t:ot(e)?e:En(e)||w0(e)?e+"":t}function dP(e){Vr("`"+e+"` is invalid id or name. Must be a string or number.")}function hP(e){return w0(e)||xV(e)}function X2(e){var t=e.name;return!!(t&&t.indexOf(SV))}function Kd(e){return e&&e.id!=null&&up(e.id).indexOf(Zq)===0}function aZ(e,t,n){j(e,function(r){var a=r.newOption;lt(a)&&(r.keyInfo.mainType=t,r.keyInfo.subType=iZ(t,a,r.existing,n))})}function iZ(e,t,n,r){var a=t.type?t.type:n?n.subType:r.determineSubType(e,t);return a}function Jc(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Be(t.dataIndex)?at(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Be(t.name)?at(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}function Fn(){var e="__ec_inner_"+oZ++;return function(t){return t[e]||(t[e]={})}}var oZ=bV();function eb(e,t,n){var r=q2(t,n),a=r.mainTypeSpecified,i=r.queryOptionMap,o=r.others,s=o,l=n?n.defaultMainType:null;return!a&&l&&i.set(l,{}),i.each(function(u,c){var f=Mm(e,c,u,{useDefault:l===c,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function q2(e,t){var n;if(ot(e)){var r={};r[e+"Index"]=0,n=r}else n=e;var a=Dt(),i={},o=!1;return j(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&Xt(t.includeMainTypes,c)<0)){o=o||!!c;var d=a.get(c)||a.set(c,{});d[f]=s}}),{mainTypeSpecified:o,queryOptionMap:a,others:i}}var Io={useDefault:!0,enableAll:!1,enableNone:!1};function Mm(e,t,n,r){r=r||Io;var a=n.index,i=n.id,o=n.name,s={models:null,specified:a!=null||i!=null||o!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=e.getComponent(t))?[l]:[],s}return a==="none"||a===!1?(_t(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(a==="all"&&(_t(r.enableAll,'`"all"` is not a valid value on index option.'),a=i=o=null),s.models=e.queryComponents({mainType:t,index:a,id:i,name:o}),s)}function AV(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function sZ(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function lZ(e){return e==="auto"?Vt.domSupported?"html":"richText":e||"html"}function EV(e,t,n,r,a){var i=t==null||t==="auto";if(r==null)return r;if(En(r)){var o=cP(n||0,r,a);return er(o,i?Math.max(js(n||0),js(r)):t)}else{if(ot(r))return a<1?n:r;for(var s=[],l=n,u=r,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=e.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(a<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,v=u[f],o=cP(h,v,a);s[f]=er(o,i?Math.max(js(h),js(v)):t)}}return s}}var uZ=".",Nu="___EC__COMPONENT__CONTAINER___",DV="___EC__EXTENDED_CLASS___";function cs(e){var t={main:"",sub:""};if(e){var n=e.split(uZ);t.main=n[0]||"",t.sub=n[1]||""}return t}function cZ(e){_t(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function fZ(e){return!!(e&&e[DV])}function Z2(e,t){e.$constructor=e,e.extend=function(n){j(t,function(i){n[i]||console.warn("Method `"+i+"` should be implemented"+(n.type?" in "+n.type:"")+".")});var r=this,a;return dZ(r)?a=function(i){dt(o,i);function o(){return i.apply(this,arguments)||this}return o}(r):(a=function(){(n.$constructor||r).apply(this,arguments)},z2(a,this)),Pe(a.prototype,n),a[DV]=!0,a.extend=this.extend,a.superCall=pZ,a.superApply=mZ,a.superClass=r,a}}function dZ(e){return yt(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function MV(e,t){e.extend=t.extend}var hZ=Math.round(Math.random()*10);function vZ(e){var t=["__\0is_clz",hZ++].join("_");e.prototype[t]=!0,_t(!e.isInstance,'The method "is" can not be defined.'),e.isInstance=function(n){return!!(n&&n[t])}}function pZ(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function mZ(e,t,n){return this.superClass.prototype[t].apply(e,n)}function c1(e){var t={};e.registerClass=function(r){var a=r.type||r.prototype.type;if(a){cZ(a),r.prototype.type=a;var i=cs(a);if(!i.sub)t[i.main]&&console.warn(i.main+" exists."),t[i.main]=r;else if(i.sub!==Nu){var o=n(i);o[i.sub]=r}}return r},e.getClass=function(r,a,i){var o=t[r];if(o&&o[Nu]&&(o=a?o[a]:null),i&&!o)throw new Error(a?"Component "+r+"."+(a||"")+" is used but not imported.":r+".type should be specified.");return o},e.getClassesByMainType=function(r){var a=cs(r),i=[],o=t[a.main];return o&&o[Nu]?j(o,function(s,l){l!==Nu&&i.push(s)}):i.push(o),i},e.hasClass=function(r){var a=cs(r);return!!t[a.main]},e.getAllClassMainTypes=function(){var r=[];return j(t,function(a,i){r.push(i)}),r},e.hasSubTypes=function(r){var a=cs(r),i=t[a.main];return i&&i[Nu]};function n(r){var a=t[r.main];return(!a||!a[Nu])&&(a=t[r.main]={},a[Nu]=!0),a}}function Hp(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(r,a,i){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(a&&Xt(a,l)>=0||i&&Xt(i,l)<0)){var u=r.getShallow(l,t);u!=null&&(o[e[s][0]]=u)}}return o}}var gZ=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],yZ=Hp(gZ),_Z=function(){function e(){}return e.prototype.getAreaStyle=function(t,n){return yZ(this,t,n)},e}(),iT=new bh(50);function xZ(e){if(typeof e=="string"){var t=iT.get(e);return t&&t.image}else return e}function PV(e,t,n,r,a){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var i=iT.get(e),o={hostEl:n,cb:r,cbPayload:a};return i?(t=i.image,!f1(t)&&i.pending.push(o)):(t=gh.loadImage(e,vP,vP),t.__zrImageSrc=e,iT.put(e,t.__cachedImgObj={image:t,pending:[o]})),t}else return e;else return t}function vP(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function f1(e){return e&&e.width&&e.height}var tb=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function bZ(e,t,n,r,a){if(!t)return"";var i=(e+"").split(`
`);a=LV(t,n,r,a);for(var o=0,s=i.length;o<s;o++)i[o]=IV(i[o],a);return i.join(`
`)}function LV(e,t,n,r){r=r||{};var a=Pe({},r);a.font=t,n=Ut(n,"..."),a.maxIterations=Ut(r.maxIterations,2);var i=a.minChar=Ut(r.minChar,0);a.cnCharWidth=wi("国",t);var o=a.ascCharWidth=wi("a",t);a.placeholder=Ut(r.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<i&&s>=o;l++)s-=o;var u=wi(n,t);return u>s&&(n="",u=0),s=e-u,a.ellipsis=n,a.ellipsisWidth=u,a.contentWidth=s,a.containerWidth=e,a}function IV(e,t){var n=t.containerWidth,r=t.font,a=t.contentWidth;if(!n)return"";var i=wi(e,r);if(i<=n)return e;for(var o=0;;o++){if(i<=a||o>=t.maxIterations){e+=t.ellipsis;break}var s=o===0?wZ(e,a,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(e.length*a/i):0;e=e.substr(0,s),i=wi(e,r)}return e===""&&(e=t.placeholder),e}function wZ(e,t,n,r){for(var a=0,i=0,o=e.length;i<o&&a<t;i++){var s=e.charCodeAt(i);a+=0<=s&&s<=127?n:r}return i}function SZ(e,t){e!=null&&(e+="");var n=t.overflow,r=t.padding,a=t.font,i=n==="truncate",o=Y2(a),s=Ut(t.lineHeight,o),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",c=t.width,f;c!=null&&(n==="break"||n==="breakAll")?f=e?RV(e,t.font,c,n==="breakAll",0).lines:[]:f=e?e.split(`
`):[];var d=f.length*s,h=Ut(t.height,d);if(d>h&&u){var v=Math.floor(h/s);f=f.slice(0,v)}if(e&&i&&c!=null)for(var p=LV(c,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m=0;m<f.length;m++)f[m]=IV(f[m],p);for(var g=h,y=0,m=0;m<f.length;m++)y=Math.max(wi(f[m],a),y);c==null&&(c=y);var _=y;return r&&(g+=r[0]+r[2],_+=r[1]+r[3],c+=r[1]+r[3]),l&&(_=c),{lines:f,height:h,outerWidth:_,outerHeight:g,lineHeight:s,calculatedLineHeight:o,contentWidth:y,contentHeight:d,width:c}}var TZ=function(){function e(){}return e}(),pP=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),CZ=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function AZ(e,t){var n=new CZ;if(e!=null&&(e+=""),!e)return n;for(var r=t.width,a=t.height,i=t.overflow,o=(i==="break"||i==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:i==="breakAll"}:null,s=tb.lastIndex=0,l;(l=tb.exec(e))!=null;){var u=l.index;u>s&&nb(n,e.substring(s,u),t,o),nb(n,l[2],t,o,l[1]),s=tb.lastIndex}s<e.length&&nb(n,e.substring(s,e.length),t,o);var c=[],f=0,d=0,h=t.padding,v=i==="truncate",p=t.lineOverflow==="truncate";function m(R,L,z){R.width=L,R.lineHeight=z,f+=z,d=Math.max(d,L)}e:for(var g=0;g<n.lines.length;g++){for(var y=n.lines[g],_=0,x=0,w=0;w<y.tokens.length;w++){var b=y.tokens[w],S=b.styleName&&t.rich[b.styleName]||{},C=b.textPadding=S.padding,A=C?C[1]+C[3]:0,M=b.font=S.font||t.font;b.contentHeight=Y2(M);var T=Ut(S.height,b.contentHeight);if(b.innerHeight=T,C&&(T+=C[0]+C[2]),b.height=T,b.lineHeight=Bc(S.lineHeight,t.lineHeight,T),b.align=S&&S.align||t.align,b.verticalAlign=S&&S.verticalAlign||"middle",p&&a!=null&&f+b.lineHeight>a){w>0?(y.tokens=y.tokens.slice(0,w),m(y,x,_),n.lines=n.lines.slice(0,g+1)):n.lines=n.lines.slice(0,g);break e}var E=S.width,P=E==null||E==="auto";if(typeof E=="string"&&E.charAt(E.length-1)==="%")b.percentWidth=E,c.push(b),b.contentWidth=wi(b.text,M);else{if(P){var I=S.backgroundColor,k=I&&I.image;k&&(k=xZ(k),f1(k)&&(b.width=Math.max(b.width,k.width*T/k.height)))}var B=v&&r!=null?r-x:null;B!=null&&B<b.width?!P||B<A?(b.text="",b.width=b.contentWidth=0):(b.text=bZ(b.text,B-A,M,t.ellipsis,{minChar:t.truncateMinChar}),b.width=b.contentWidth=wi(b.text,M)):b.contentWidth=wi(b.text,M)}b.width+=A,x+=b.width,S&&(_=Math.max(_,b.lineHeight))}m(y,x,_)}n.outerWidth=n.width=Ut(r,d),n.outerHeight=n.height=Ut(a,f),n.contentHeight=f,n.contentWidth=d,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var g=0;g<c.length;g++){var b=c[g],U=b.percentWidth;b.width=parseInt(U,10)/100*n.width}return n}function nb(e,t,n,r,a){var i=t==="",o=a&&n.rich[a]||{},s=e.lines,l=o.font||n.font,u=!1,c,f;if(r){var d=o.padding,h=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var v=fu(o.width,r.width)+h;s.length>0&&v+r.accumWidth>r.width&&(c=t.split(`
`),u=!0),r.accumWidth=v}else{var p=RV(t,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=p.accumWidth+h,f=p.linesWidths,c=p.lines}}else c=t.split(`
`);for(var m=0;m<c.length;m++){var g=c[m],y=new TZ;if(y.styleName=a,y.text=g,y.isLineHolder=!g&&!i,typeof o.width=="number"?y.width=o.width:y.width=f?f[m]:wi(g,l),!m&&!u){var _=(s[s.length-1]||(s[0]=new pP)).tokens,x=_.length;x===1&&_[0].isLineHolder?_[0]=y:(g||!x||i)&&_.push(y)}else s.push(new pP([y]))}}function EZ(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var DZ=_s(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function MZ(e){return EZ(e)?!!DZ[e]:!0}function RV(e,t,n,r,a){for(var i=[],o=[],s="",l="",u=0,c=0,f=0;f<e.length;f++){var d=e.charAt(f);if(d===`
`){l&&(s+=l,c+=u),i.push(s),o.push(c),s="",l="",u=0,c=0;continue}var h=wi(d,t),v=r?!1:!MZ(d);if(i.length?c+h>n:a+c+h>n){c?(s||l)&&(v?(s||(s=l,l="",u=0,c=u),i.push(s),o.push(c-u),l+=d,u+=h,s="",c=u):(l&&(s+=l,l="",u=0),i.push(s),o.push(c),s=d,c=h)):v?(i.push(l),o.push(u),l=d,u=h):(i.push(d),o.push(h));continue}c+=h,v?(l+=d,u+=h):(l&&(s+=l,l="",u=0),s+=d)}return!i.length&&!s&&(s=e,l="",u=0),l&&(s+=l),s&&(i.push(s),o.push(c)),i.length===1&&(c+=a),{accumWidth:c,lines:i,linesWidths:o}}var oT="__zr_style_"+Math.round(Math.random()*10),Fc={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},d1={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Fc[oT]=!0;var mP=["z","z2","invisible"],PZ=["invisible"],LZ=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype._init=function(n){for(var r=ln(n),a=0;a<r.length;a++){var i=r[a];i==="style"?this.useStyle(n[i]):e.prototype.attrKV.call(this,i,n[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,r,a,i){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&IZ(this,n,r)||o&&!o[0]&&!o[3])return!1;if(a&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(n,r){return this.rectContain(n,r)},t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.rectContain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();return i.contain(a[0],a[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,a=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,s=i.shadowOffsetX||0,l=i.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new Wt(0,0,0,0)),r?Wt.applyTransform(n,a,r):n.copy(a),(o||s||l)&&(n.width+=o*2+Math.abs(s),n.height+=o*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-o),n.y=Math.min(n.y,n.y+l-o));var u=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-u),n.y=Math.floor(n.y-u),n.width=Math.ceil(n.width+1+u*2),n.height=Math.ceil(n.height+1+u*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new Wt(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,r){n!=="style"?e.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:Pe(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=Fv,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Fv)},t.prototype.styleUpdated=function(){this.__dirty&=~Fv},t.prototype.createStyle=function(n){return r1(Fc,n)},t.prototype.useStyle=function(n){n[oT]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[oT]},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,mP)},t.prototype._applyStateObj=function(n,r,a,i,o,s){e.prototype._applyStateObj.call(this,n,r,a,i,o,s);var l=!(r&&i),u;if(r&&r.style?o?i?u=r.style:(u=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:a.style),this._mergeStyle(u,r.style)):l&&(u=a.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=ln(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var v=ln(u),d=0;d<v.length;d++){var h=v[d];this.style[h]=this.style[h]}this._transitionState(n,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var p=this.__inHover?PZ:mP,d=0;d<p.length;d++){var h=p[d];r&&r[h]!=null?this[h]=r[h]:l&&a[h]!=null&&(this[h]=a[h])}},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),a,i=0;i<n.length;i++){var o=n[i];o.style&&(a=a||{},this._mergeStyle(a,o.style))}return a&&(r.style=a),r},t.prototype._mergeStyle=function(n,r){return Pe(n,r),n},t.prototype.getAnimationStyleProps=function(){return d1},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=xi|Fv}(),t}(vV),rb=new Wt(0,0,0,0),ab=new Wt(0,0,0,0);function IZ(e,t,n){return rb.copy(e.getBoundingRect()),e.transform&&rb.applyTransform(e.transform),ab.width=t,ab.height=n,!rb.intersect(ab)}const mf=LZ;var Wi=Math.min,Yi=Math.max,ib=Math.sin,ob=Math.cos,Bu=Math.PI*2,hg=_h(),vg=_h(),pg=_h();function gP(e,t,n,r,a,i){a[0]=Wi(e,n),a[1]=Wi(t,r),i[0]=Yi(e,n),i[1]=Yi(t,r)}var yP=[],_P=[];function RZ(e,t,n,r,a,i,o,s,l,u){var c=rV,f=Nr,d=c(e,n,a,o,yP);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var v=f(e,n,a,o,yP[h]);l[0]=Wi(v,l[0]),u[0]=Yi(v,u[0])}d=c(t,r,i,s,_P);for(var h=0;h<d;h++){var p=f(t,r,i,s,_P[h]);l[1]=Wi(p,l[1]),u[1]=Yi(p,u[1])}l[0]=Wi(e,l[0]),u[0]=Yi(e,u[0]),l[0]=Wi(o,l[0]),u[0]=Yi(o,u[0]),l[1]=Wi(t,l[1]),u[1]=Yi(t,u[1]),l[1]=Wi(s,l[1]),u[1]=Yi(s,u[1])}function OZ(e,t,n,r,a,i,o,s){var l=iV,u=va,c=Yi(Wi(l(e,n,a),1),0),f=Yi(Wi(l(t,r,i),1),0),d=u(e,n,a,c),h=u(t,r,i,f);o[0]=Wi(e,a,d),o[1]=Wi(t,i,h),s[0]=Yi(e,a,d),s[1]=Yi(t,i,h)}function kZ(e,t,n,r,a,i,o,s,l){var u=yc,c=_c,f=Math.abs(a-i);if(f%Bu<1e-4&&f>1e-4){s[0]=e-n,s[1]=t-r,l[0]=e+n,l[1]=t+r;return}if(hg[0]=ob(a)*n+e,hg[1]=ib(a)*r+t,vg[0]=ob(i)*n+e,vg[1]=ib(i)*r+t,u(s,hg,vg),c(l,hg,vg),a=a%Bu,a<0&&(a=a+Bu),i=i%Bu,i<0&&(i=i+Bu),a>i&&!o?i+=Bu:a<i&&o&&(a+=Bu),o){var d=i;i=a,a=d}for(var h=0;h<i;h+=Math.PI/2)h>a&&(pg[0]=ob(h)*n+e,pg[1]=ib(h)*r+t,u(s,pg,s),c(l,pg,l))}var xn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Vu=[],Fu=[],jo=[],Ll=[],Xo=[],qo=[],sb=Math.min,lb=Math.max,Uu=Math.cos,zu=Math.sin,Ls=Math.abs,sT=Math.PI,Yl=sT*2,ub=typeof Float32Array<"u",nv=[];function cb(e){var t=Math.round(e/sT*1e8)/1e8;return t%2*sT}function NZ(e,t){var n=cb(e[0]);n<0&&(n+=Yl);var r=n-e[0],a=e[1];a+=r,!t&&a-n>=Yl?a=n+Yl:t&&n-a>=Yl?a=n-Yl:!t&&n>a?a=n+(Yl-cb(n-a)):t&&n<a&&(a=n-(Yl-cb(a-n))),e[0]=n,e[1]=a}var BZ=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,n,r){r=r||0,r>0&&(this._ux=Ls(r/M0/t)||0,this._uy=Ls(r/M0/n)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(xn.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},e.prototype.lineTo=function(t,n){var r=Ls(t-this._xi),a=Ls(n-this._yi),i=r>this._ux||a>this._uy;if(this.addData(xn.L,t,n),this._ctx&&i&&this._ctx.lineTo(t,n),i)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var o=r*r+a*a;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(t,n,r,a,i,o){return this._drawPendingPt(),this.addData(xn.C,t,n,r,a,i,o),this._ctx&&this._ctx.bezierCurveTo(t,n,r,a,i,o),this._xi=i,this._yi=o,this},e.prototype.quadraticCurveTo=function(t,n,r,a){return this._drawPendingPt(),this.addData(xn.Q,t,n,r,a),this._ctx&&this._ctx.quadraticCurveTo(t,n,r,a),this._xi=r,this._yi=a,this},e.prototype.arc=function(t,n,r,a,i,o){this._drawPendingPt(),nv[0]=a,nv[1]=i,NZ(nv,o),a=nv[0],i=nv[1];var s=i-a;return this.addData(xn.A,t,n,r,r,a,s,0,o?0:1),this._ctx&&this._ctx.arc(t,n,r,a,i,o),this._xi=Uu(i)*r+t,this._yi=zu(i)*r+n,this},e.prototype.arcTo=function(t,n,r,a,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,r,a,i),this},e.prototype.rect=function(t,n,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,r,a),this.addData(xn.R,t,n,r,a),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(xn.Z);var t=this._ctx,n=this._x0,r=this._y0;return t&&t.closePath(),this._xi=n,this._yi=r,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&ub&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=t[r];this._len=n},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,r=0,a=this._len,i=0;i<n;i++)r+=t[i].len();ub&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<n;i++)for(var o=t[i].data,s=0;s<o.length;s++)this.data[a++]=o[s];this._len=a},e.prototype.addData=function(t,n,r,a,i,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,ub&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){jo[0]=jo[1]=Xo[0]=Xo[1]=Number.MAX_VALUE,Ll[0]=Ll[1]=qo[0]=qo[1]=-Number.MAX_VALUE;var t=this.data,n=0,r=0,a=0,i=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(n=t[o],r=t[o+1],a=n,i=r),s){case xn.M:n=a=t[o++],r=i=t[o++],Xo[0]=a,Xo[1]=i,qo[0]=a,qo[1]=i;break;case xn.L:gP(n,r,t[o],t[o+1],Xo,qo),n=t[o++],r=t[o++];break;case xn.C:RZ(n,r,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],Xo,qo),n=t[o++],r=t[o++];break;case xn.Q:OZ(n,r,t[o++],t[o++],t[o],t[o+1],Xo,qo),n=t[o++],r=t[o++];break;case xn.A:var u=t[o++],c=t[o++],f=t[o++],d=t[o++],h=t[o++],v=t[o++]+h;o+=1;var p=!t[o++];l&&(a=Uu(h)*f+u,i=zu(h)*d+c),kZ(u,c,f,d,h,v,p,Xo,qo),n=Uu(v)*f+u,r=zu(v)*d+c;break;case xn.R:a=n=t[o++],i=r=t[o++];var m=t[o++],g=t[o++];gP(a,i,a+m,i+g,Xo,qo);break;case xn.Z:n=a,r=i;break}yc(jo,jo,Xo),_c(Ll,Ll,qo)}return o===0&&(jo[0]=jo[1]=Ll[0]=Ll[1]=0),new Wt(jo[0],jo[1],Ll[0]-jo[0],Ll[1]-jo[1])},e.prototype._calculateLength=function(){var t=this.data,n=this._len,r=this._ux,a=this._uy,i=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<n;){var h=t[d++],v=d===1;v&&(i=t[d],o=t[d+1],s=i,l=o);var p=-1;switch(h){case xn.M:i=s=t[d++],o=l=t[d++];break;case xn.L:{var m=t[d++],g=t[d++],y=m-i,_=g-o;(Ls(y)>r||Ls(_)>a||d===n-1)&&(p=Math.sqrt(y*y+_*_),i=m,o=g);break}case xn.C:{var x=t[d++],w=t[d++],m=t[d++],g=t[d++],b=t[d++],S=t[d++];p=tq(i,o,x,w,m,g,b,S,10),i=b,o=S;break}case xn.Q:{var x=t[d++],w=t[d++],m=t[d++],g=t[d++];p=rq(i,o,x,w,m,g,10),i=m,o=g;break}case xn.A:var C=t[d++],A=t[d++],M=t[d++],T=t[d++],E=t[d++],P=t[d++],I=P+E;d+=1,t[d++],v&&(s=Uu(E)*M+C,l=zu(E)*T+A),p=lb(M,T)*sb(Yl,Math.abs(P)),i=Uu(I)*M+C,o=zu(I)*T+A;break;case xn.R:{s=i=t[d++],l=o=t[d++];var k=t[d++],B=t[d++];p=k*2+B*2;break}case xn.Z:{var y=s-i,_=l-o;p=Math.sqrt(y*y+_*_),i=s,o=l;break}}p>=0&&(u[f++]=p,c+=p)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,n){var r=this.data,a=this._ux,i=this._uy,o=this._len,s,l,u,c,f,d,h=n<1,v,p,m=0,g=0,y,_=0,x,w;if(!(h&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,p=this._pathLen,y=n*p,!y)))e:for(var b=0;b<o;){var S=r[b++],C=b===1;switch(C&&(u=r[b],c=r[b+1],s=u,l=c),S!==xn.L&&_>0&&(t.lineTo(x,w),_=0),S){case xn.M:s=u=r[b++],l=c=r[b++],t.moveTo(u,c);break;case xn.L:{f=r[b++],d=r[b++];var A=Ls(f-u),M=Ls(d-c);if(A>a||M>i){if(h){var T=v[g++];if(m+T>y){var E=(y-m)/T;t.lineTo(u*(1-E)+f*E,c*(1-E)+d*E);break e}m+=T}t.lineTo(f,d),u=f,c=d,_=0}else{var P=A*A+M*M;P>_&&(x=f,w=d,_=P)}break}case xn.C:{var I=r[b++],k=r[b++],B=r[b++],U=r[b++],R=r[b++],L=r[b++];if(h){var T=v[g++];if(m+T>y){var E=(y-m)/T;A0(u,I,B,R,E,Vu),A0(c,k,U,L,E,Fu),t.bezierCurveTo(Vu[1],Fu[1],Vu[2],Fu[2],Vu[3],Fu[3]);break e}m+=T}t.bezierCurveTo(I,k,B,U,R,L),u=R,c=L;break}case xn.Q:{var I=r[b++],k=r[b++],B=r[b++],U=r[b++];if(h){var T=v[g++];if(m+T>y){var E=(y-m)/T;E0(u,I,B,E,Vu),E0(c,k,U,E,Fu),t.quadraticCurveTo(Vu[1],Fu[1],Vu[2],Fu[2]);break e}m+=T}t.quadraticCurveTo(I,k,B,U),u=B,c=U;break}case xn.A:var z=r[b++],X=r[b++],Y=r[b++],$=r[b++],F=r[b++],N=r[b++],H=r[b++],K=!r[b++],Z=Y>$?Y:$,q=Ls(Y-$)>.001,ce=F+N,oe=!1;if(h){var T=v[g++];m+T>y&&(ce=F+N*(y-m)/T,oe=!0),m+=T}if(q&&t.ellipse?t.ellipse(z,X,Y,$,H,F,ce,K):t.arc(z,X,Z,F,ce,K),oe)break e;C&&(s=Uu(F)*Y+z,l=zu(F)*$+X),u=Uu(ce)*Y+z,c=zu(ce)*$+X;break;case xn.R:s=u=r[b],l=c=r[b+1],f=r[b++],d=r[b++];var ae=r[b++],V=r[b++];if(h){var T=v[g++];if(m+T>y){var G=y-m;t.moveTo(f,d),t.lineTo(f+sb(G,ae),d),G-=ae,G>0&&t.lineTo(f+ae,d+sb(G,V)),G-=V,G>0&&t.lineTo(f+lb(ae-G,0),d+V),G-=ae,G>0&&t.lineTo(f,d+lb(V-G,0));break e}m+=T}t.rect(f,d,ae,V);break;case xn.Z:if(h){var T=v[g++];if(m+T>y){var E=(y-m)/T;t.lineTo(u*(1-E)+s*E,c*(1-E)+l*E);break e}m+=T}t.closePath(),u=s,c=l}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=xn,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();const du=BZ;function fc(e,t,n,r,a,i,o){if(a===0)return!1;var s=a,l=0,u=e;if(o>t+s&&o>r+s||o<t-s&&o<r-s||i>e+s&&i>n+s||i<e-s&&i<n-s)return!1;if(e!==n)l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);else return Math.abs(i-e)<=s/2;var c=l*i-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function VZ(e,t,n,r,a,i,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>r+f&&c>i+f&&c>s+f||c<t-f&&c<r-f&&c<i-f&&c<s-f||u>e+f&&u>n+f&&u>a+f&&u>o+f||u<e-f&&u<n-f&&u<a-f&&u<o-f)return!1;var d=aV(e,t,n,r,a,i,o,s,u,c,null);return d<=f/2}function FZ(e,t,n,r,a,i,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>r+u&&l>i+u||l<t-u&&l<r-u&&l<i-u||s>e+u&&s>n+u&&s>a+u||s<e-u&&s<n-u&&s<a-u)return!1;var c=oV(e,t,n,r,a,i,s,l,null);return c<=u/2}var xP=Math.PI*2;function Xs(e){return e%=xP,e<0&&(e+=xP),e}var rv=Math.PI*2;function UZ(e,t,n,r,a,i,o,s,l){if(o===0)return!1;var u=o;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(r-a)%rv<1e-4)return!0;if(i){var f=r;r=Xs(a),a=Xs(f)}else r=Xs(r),a=Xs(a);r>a&&(a+=rv);var d=Math.atan2(l,s);return d<0&&(d+=rv),d>=r&&d<=a||d+rv>=r&&d+rv<=a}function Fs(e,t,n,r,a,i){if(i>t&&i>r||i<t&&i<r||r===t)return 0;var o=(i-t)/(r-t),s=r<t?1:-1;(o===1||o===0)&&(s=r<t?.5:-.5);var l=o*(n-e)+e;return l===a?1/0:l>a?s:0}var Il=du.CMD,Hu=Math.PI*2,zZ=1e-4;function HZ(e,t){return Math.abs(e-t)<zZ}var Ba=[-1,-1,-1],zi=[-1,-1];function $Z(){var e=zi[0];zi[0]=zi[1],zi[1]=e}function GZ(e,t,n,r,a,i,o,s,l,u){if(u>t&&u>r&&u>i&&u>s||u<t&&u<r&&u<i&&u<s)return 0;var c=C0(t,r,i,s,u,Ba);if(c===0)return 0;for(var f=0,d=-1,h=void 0,v=void 0,p=0;p<c;p++){var m=Ba[p],g=m===0||m===1?.5:1,y=Nr(e,n,a,o,m);y<l||(d<0&&(d=rV(t,r,i,s,zi),zi[1]<zi[0]&&d>1&&$Z(),h=Nr(t,r,i,s,zi[0]),d>1&&(v=Nr(t,r,i,s,zi[1]))),d===2?m<zi[0]?f+=h<t?g:-g:m<zi[1]?f+=v<h?g:-g:f+=s<v?g:-g:m<zi[0]?f+=h<t?g:-g:f+=s<h?g:-g)}return f}function WZ(e,t,n,r,a,i,o,s){if(s>t&&s>r&&s>i||s<t&&s<r&&s<i)return 0;var l=nq(t,r,i,s,Ba);if(l===0)return 0;var u=iV(t,r,i);if(u>=0&&u<=1){for(var c=0,f=va(t,r,i,u),d=0;d<l;d++){var h=Ba[d]===0||Ba[d]===1?.5:1,v=va(e,n,a,Ba[d]);v<o||(Ba[d]<u?c+=f<t?h:-h:c+=i<f?h:-h)}return c}else{var h=Ba[0]===0||Ba[0]===1?.5:1,v=va(e,n,a,Ba[0]);return v<o?0:i<t?h:-h}}function YZ(e,t,n,r,a,i,o,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Ba[0]=-l,Ba[1]=l;var u=Math.abs(r-a);if(u<1e-4)return 0;if(u>=Hu-1e-4){r=0,a=Hu;var c=i?1:-1;return o>=Ba[0]+e&&o<=Ba[1]+e?c:0}if(r>a){var f=r;r=a,a=f}r<0&&(r+=Hu,a+=Hu);for(var d=0,h=0;h<2;h++){var v=Ba[h];if(v+e>o){var p=Math.atan2(s,v),c=i?1:-1;p<0&&(p=Hu+p),(p>=r&&p<=a||p+Hu>=r&&p+Hu<=a)&&(p>Math.PI/2&&p<Math.PI*1.5&&(c=-c),d+=c)}}return d}function OV(e,t,n,r,a){for(var i=e.data,o=e.len(),s=0,l=0,u=0,c=0,f=0,d,h,v=0;v<o;){var p=i[v++],m=v===1;switch(p===Il.M&&v>1&&(n||(s+=Fs(l,u,c,f,r,a))),m&&(l=i[v],u=i[v+1],c=l,f=u),p){case Il.M:c=i[v++],f=i[v++],l=c,u=f;break;case Il.L:if(n){if(fc(l,u,i[v],i[v+1],t,r,a))return!0}else s+=Fs(l,u,i[v],i[v+1],r,a)||0;l=i[v++],u=i[v++];break;case Il.C:if(n){if(VZ(l,u,i[v++],i[v++],i[v++],i[v++],i[v],i[v+1],t,r,a))return!0}else s+=GZ(l,u,i[v++],i[v++],i[v++],i[v++],i[v],i[v+1],r,a)||0;l=i[v++],u=i[v++];break;case Il.Q:if(n){if(FZ(l,u,i[v++],i[v++],i[v],i[v+1],t,r,a))return!0}else s+=WZ(l,u,i[v++],i[v++],i[v],i[v+1],r,a)||0;l=i[v++],u=i[v++];break;case Il.A:var g=i[v++],y=i[v++],_=i[v++],x=i[v++],w=i[v++],b=i[v++];v+=1;var S=!!(1-i[v++]);d=Math.cos(w)*_+g,h=Math.sin(w)*x+y,m?(c=d,f=h):s+=Fs(l,u,d,h,r,a);var C=(r-g)*x/_+g;if(n){if(UZ(g,y,x,w,w+b,S,t,C,a))return!0}else s+=YZ(g,y,x,w,w+b,S,C,a);l=Math.cos(w+b)*_+g,u=Math.sin(w+b)*x+y;break;case Il.R:c=l=i[v++],f=u=i[v++];var A=i[v++],M=i[v++];if(d=c+A,h=f+M,n){if(fc(c,f,d,f,t,r,a)||fc(d,f,d,h,t,r,a)||fc(d,h,c,h,t,r,a)||fc(c,h,c,f,t,r,a))return!0}else s+=Fs(d,f,d,h,r,a),s+=Fs(c,h,c,f,r,a);break;case Il.Z:if(n){if(fc(l,u,c,f,t,r,a))return!0}else s+=Fs(l,u,c,f,r,a);l=c,u=f;break}}return!n&&!HZ(u,f)&&(s+=Fs(l,u,c,f,r,a)||0),s!==0}function jZ(e,t,n){return OV(e,0,!1,t,n)}function XZ(e,t,n,r){return OV(e,t,!0,n,r)}var kV=Ft({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Fc),qZ={style:Ft({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},d1.style)},fb=xs.concat(["invisible","culling","z","z2","zlevel","parent"]),ZZ=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var a=this._decalEl=this._decalEl||new t;a.buildPath===t.prototype.buildPath&&(a.buildPath=function(l){n.buildPath(l,n.shape)}),a.silent=!0;var i=a.style;for(var o in r)i[o]!==r[o]&&(i[o]=r[o]);i.fill=r.fill?r.decal:null,i.decal=null,i.shadowColor=null,r.strokeFirst&&(i.stroke=null);for(var s=0;s<fb.length;++s)a[fb[s]]=this[fb[s]];a.__dirty|=xi}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var r=ln(n);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var i=0;i<r.length;i++){var o=r[i],s=n[o];o==="style"?this.style?Pe(this.style,s):this.useStyle(s):o==="shape"?Pe(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(ot(n)){var r=D0(n,0);return r>.5?tT:r>.2?Dq:nT}else if(n)return nT}return tT},t.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(ot(r)){var a=this.__zr,i=!!(a&&a.isDarkMode()),o=D0(n,0)<eT;if(i===o)return r}},t.prototype.buildPath=function(n,r,a){},t.prototype.pathUpdated=function(){this.__dirty&=~wd},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new du(!1)},t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,a=!n;if(a){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||this.__dirty&wd)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),n=o.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||a){s.copy(n);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return n},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect(),o=this.style;if(n=a[0],r=a[1],i.contain(n,r)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),XZ(s,l/u,n,r)))return!0}if(this.hasFill())return jZ(s,n,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=wd,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):e.prototype.attrKV.call(this,n,r)},t.prototype.setShape=function(n,r){var a=this.shape;return a||(a=this.shape={}),typeof n=="string"?a[n]=r:Pe(a,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&wd)},t.prototype.createStyle=function(n){return r1(kV,n)},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=Pe({},this.shape))},t.prototype._applyStateObj=function(n,r,a,i,o,s){e.prototype._applyStateObj.call(this,n,r,a,i,o,s);var l=!(r&&i),u;if(r&&r.shape?o?i?u=r.shape:(u=Pe({},a.shape),Pe(u,r.shape)):(u=Pe({},i?this.shape:a.shape),Pe(u,r.shape)):l&&(u=a.shape),u)if(o){this.shape=Pe({},this.shape);for(var c={},f=ln(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(n,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),a,i=0;i<n.length;i++){var o=n[i];o.shape&&(a=a||{},this._mergeStyle(a,o.shape))}return a&&(r.shape=a),r},t.prototype.getAnimationStyleProps=function(){return qZ},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var r=function(i){kn(o,i);function o(s){var l=i.call(this,s)||this;return n.init&&n.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return tn(n.style)},o.prototype.getDefaultShape=function(){return tn(n.shape)},o}(t);for(var a in n)typeof n[a]=="function"&&(r.prototype[a]=n[a]);return r},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=xi|Fv|wd}(),t}(mf);const gn=ZZ;var KZ=Ft({strokeFirst:!0,font:Kc,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},kV),NV=function(e){kn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.createStyle=function(n){return r1(KZ,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var a=W2(r,n.font,n.textAlign,n.textBaseline);if(a.x+=n.x||0,a.y+=n.y||0,this.hasStroke()){var i=n.lineWidth;a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i}this._rect=a}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(mf);NV.prototype.type="tspan";const lT=NV;var QZ=Ft({x:0,y:0},Fc),JZ={style:Ft({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},d1.style)};function eK(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var BV=function(e){kn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return r1(QZ,n)},t.prototype._getSize=function(n){var r=this.style,a=r[n];if(a!=null)return a;var i=eK(r.image)?r.image:this.__image;if(!i)return 0;var o=n==="width"?"height":"width",s=r[o];return s==null?i[n]:i[n]/i[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return JZ},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new Wt(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(mf);BV.prototype.type="image";const pl=BV;function tK(e,t){var n=t.x,r=t.y,a=t.width,i=t.height,o=t.r,s,l,u,c;a<0&&(n=n+a,a=-a),i<0&&(r=r+i,i=-i),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>a&&(f=s+l,s*=a/f,l*=a/f),u+c>a&&(f=u+c,u*=a/f,c*=a/f),l+u>i&&(f=l+u,l*=i/f,u*=i/f),s+c>i&&(f=s+c,s*=i/f,c*=i/f),e.moveTo(n+s,r),e.lineTo(n+a-l,r),l!==0&&e.arc(n+a-l,r+l,l,-Math.PI/2,0),e.lineTo(n+a,r+i-u),u!==0&&e.arc(n+a-u,r+i-u,u,0,Math.PI/2),e.lineTo(n+c,r+i),c!==0&&e.arc(n+c,r+i-c,c,Math.PI/2,Math.PI),e.lineTo(n,r+s),s!==0&&e.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var Ad=Math.round;function VV(e,t,n){if(t){var r=t.x1,a=t.x2,i=t.y1,o=t.y2;e.x1=r,e.x2=a,e.y1=i,e.y2=o;var s=n&&n.lineWidth;return s&&(Ad(r*2)===Ad(a*2)&&(e.x1=e.x2=xc(r,s,!0)),Ad(i*2)===Ad(o*2)&&(e.y1=e.y2=xc(i,s,!0))),e}}function FV(e,t,n){if(t){var r=t.x,a=t.y,i=t.width,o=t.height;e.x=r,e.y=a,e.width=i,e.height=o;var s=n&&n.lineWidth;return s&&(e.x=xc(r,s,!0),e.y=xc(a,s,!0),e.width=Math.max(xc(r+i,s,!1)-e.x,i===0?0:1),e.height=Math.max(xc(a+o,s,!1)-e.y,o===0?0:1)),e}}function xc(e,t,n){if(!t)return e;var r=Ad(e*2);return(r+Ad(t))%2===0?r/2:(r+(n?1:-1))/2}var nK=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),rK={},UV=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new nK},t.prototype.buildPath=function(n,r){var a,i,o,s;if(this.subPixelOptimize){var l=FV(rK,r,this.style);a=l.x,i=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else a=r.x,i=r.y,o=r.width,s=r.height;r.r?tK(n,r):n.rect(a,i,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(gn);UV.prototype.type="rect";const wr=UV;var bP={fill:"#000"},wP=2,aK={style:Ft({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},d1.style)},zV=function(e){kn(t,e);function t(n){var r=e.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=bP,r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):e.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,uK(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new Wt(0,0,0,0),r=this._children,a=[],i=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),u=s.getLocalTransform(a);u?(n.copy(l),n.applyTransform(u),i=i||n.clone(),i.union(n)):(i=i||l.clone(),i.union(l))}this._rect=i||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||bP},t.prototype.setTextContent=function(n){throw new Error("Can't attach text on another text")},t.prototype._mergeStyle=function(n,r){if(!r)return n;var a=r.rich,i=n.rich||a&&{};return Pe(n,r),a&&i?(this._mergeRich(i,a),n.rich=i):i&&(n.rich=i),n},t.prototype._mergeRich=function(n,r){for(var a=ln(r),i=0;i<a.length;i++){var o=a[i];n[o]=n[o]||{},Pe(n[o],r[o])}},t.prototype.getAnimationStyleProps=function(){return aK},t.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||Kc,a=n.padding,i=MP(n),o=SZ(i,n),s=db(n),l=!!n.backgroundColor,u=o.outerHeight,c=o.outerWidth,f=o.contentWidth,d=o.lines,h=o.lineHeight,v=this._defaultStyle,p=n.x||0,m=n.y||0,g=n.align||v.align||"left",y=n.verticalAlign||v.verticalAlign||"top",_=p,x=Sd(m,o.contentHeight,y);if(s||a){var w=zv(p,c,g),b=Sd(m,u,y);s&&this._renderBackground(n,n,w,b,c,u)}x+=h/2,a&&(_=DP(p,g,a),y==="top"?x+=a[0]:y==="bottom"&&(x-=a[2]));for(var S=0,C=!1,A=EP("fill"in n?n.fill:(C=!0,v.fill)),M=AP("stroke"in n?n.stroke:!l&&(!v.autoStroke||C)?(S=wP,v.stroke):null),T=n.textShadowBlur>0,E=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),P=o.calculatedLineHeight,I=0;I<d.length;I++){var k=this._getOrCreateChild(lT),B=k.createStyle();k.useStyle(B),B.text=d[I],B.x=_,B.y=x,g&&(B.textAlign=g),B.textBaseline="middle",B.opacity=n.opacity,B.strokeFirst=!0,T&&(B.shadowBlur=n.textShadowBlur||0,B.shadowColor=n.textShadowColor||"transparent",B.shadowOffsetX=n.textShadowOffsetX||0,B.shadowOffsetY=n.textShadowOffsetY||0),B.stroke=M,B.fill=A,M&&(B.lineWidth=n.lineWidth||S,B.lineDash=n.lineDash,B.lineDashOffset=n.lineDashOffset||0),B.font=r,TP(B,n),x+=h,E&&k.setBoundingRect(new Wt(zv(B.x,n.width,B.textAlign),Sd(B.y,P,B.textBaseline),f,P))}},t.prototype._updateRichTexts=function(){var n=this.style,r=MP(n),a=AZ(r,n),i=a.width,o=a.outerWidth,s=a.outerHeight,l=n.padding,u=n.x||0,c=n.y||0,f=this._defaultStyle,d=n.align||f.align,h=n.verticalAlign||f.verticalAlign,v=zv(u,o,d),p=Sd(c,s,h),m=v,g=p;l&&(m+=l[3],g+=l[0]);var y=m+i;db(n)&&this._renderBackground(n,n,v,p,o,s);for(var _=!!n.backgroundColor,x=0;x<a.lines.length;x++){for(var w=a.lines[x],b=w.tokens,S=b.length,C=w.lineHeight,A=w.width,M=0,T=m,E=y,P=S-1,I=void 0;M<S&&(I=b[M],!I.align||I.align==="left");)this._placeToken(I,n,C,g,T,"left",_),A-=I.width,T+=I.width,M++;for(;P>=0&&(I=b[P],I.align==="right");)this._placeToken(I,n,C,g,E,"right",_),A-=I.width,E-=I.width,P--;for(T+=(i-(T-m)-(y-E)-A)/2;M<=P;)I=b[M],this._placeToken(I,n,C,g,T+I.width/2,"center",_),T+=I.width,M++;g+=C}},t.prototype._placeToken=function(n,r,a,i,o,s,l){var u=r.rich[n.styleName]||{};u.text=n.text;var c=n.verticalAlign,f=i+a/2;c==="top"?f=i+n.height/2:c==="bottom"&&(f=i+a-n.height/2);var d=!n.isLineHolder&&db(u);d&&this._renderBackground(u,r,s==="right"?o-n.width:s==="center"?o-n.width/2:o,f-n.height/2,n.width,n.height);var h=!!u.backgroundColor,v=n.textPadding;v&&(o=DP(o,s,v),f-=n.height/2-v[0]-n.innerHeight/2);var p=this._getOrCreateChild(lT),m=p.createStyle();p.useStyle(m);var g=this._defaultStyle,y=!1,_=0,x=EP("fill"in u?u.fill:"fill"in r?r.fill:(y=!0,g.fill)),w=AP("stroke"in u?u.stroke:"stroke"in r?r.stroke:!h&&!l&&(!g.autoStroke||y)?(_=wP,g.stroke):null),b=u.textShadowBlur>0||r.textShadowBlur>0;m.text=n.text,m.x=o,m.y=f,b&&(m.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,m.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",m.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,m.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=n.font||Kc,m.opacity=Bc(u.opacity,r.opacity,1),TP(m,u),w&&(m.lineWidth=Bc(u.lineWidth,r.lineWidth,_),m.lineDash=Ut(u.lineDash,r.lineDash),m.lineDashOffset=r.lineDashOffset||0,m.stroke=w),x&&(m.fill=x);var S=n.contentWidth,C=n.contentHeight;p.setBoundingRect(new Wt(zv(m.x,S,m.textAlign),Sd(m.y,C,m.textBaseline),S,C))},t.prototype._renderBackground=function(n,r,a,i,o,s){var l=n.backgroundColor,u=n.borderWidth,c=n.borderColor,f=l&&l.image,d=l&&!f,h=n.borderRadius,v=this,p,m;if(d||n.lineHeight||u&&c){p=this._getOrCreateChild(wr),p.useStyle(p.createStyle()),p.style.fill=null;var g=p.shape;g.x=a,g.y=i,g.width=o,g.height=s,g.r=h,p.dirtyShape()}if(d){var y=p.style;y.fill=l||null,y.fillOpacity=Ut(n.fillOpacity,1)}else if(f){m=this._getOrCreateChild(pl),m.onload=function(){v.dirtyStyle()};var _=m.style;_.image=l.image,_.x=a,_.y=i,_.width=o,_.height=s}if(u&&c){var y=p.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=Ut(n.strokeOpacity,1),y.lineDash=n.borderDash,y.lineDashOffset=n.borderDashOffset||0,p.strokeContainThreshold=0,p.hasFill()&&p.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var x=(p||m).style;x.shadowBlur=n.shadowBlur||0,x.shadowColor=n.shadowColor||"transparent",x.shadowOffsetX=n.shadowOffsetX||0,x.shadowOffsetY=n.shadowOffsetY||0,x.opacity=Bc(n.opacity,r.opacity,1)},t.makeFont=function(n){var r="";return lK(n)&&(r=[n.fontStyle,n.fontWeight,sK(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&us(r)||n.textFont||n.font},t}(mf),iK={left:!0,right:1,center:1},oK={top:1,bottom:1,middle:1},SP=["fontStyle","fontWeight","fontSize","fontFamily"];function sK(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?V2+"px":e+"px"}function TP(e,t){for(var n=0;n<SP.length;n++){var r=SP[n],a=t[r];a!=null&&(e[r]=a)}}function lK(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function uK(e){return CP(e),j(e.rich,CP),e}function CP(e){if(e){e.font=zV.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||iK[t]?t:"left";var n=e.verticalAlign;n==="center"&&(n="middle"),e.verticalAlign=n==null||oK[n]?n:"top";var r=e.padding;r&&(e.padding=$B(e.padding))}}function AP(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function EP(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function DP(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function MP(e){var t=e.text;return t!=null&&(t+=""),t}function db(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}const rr=zV;var qt=Fn(),cK=function(e,t,n,r){if(r){var a=qt(r);a.dataIndex=n,a.dataType=t,a.seriesIndex=e,r.type==="group"&&r.traverse(function(i){var o=qt(i);o.seriesIndex=e,o.dataIndex=n,o.dataType=t})}},PP=1,LP={},HV=Fn(),K2=Fn(),Q2=0,h1=1,v1=2,lo=["emphasis","blur","select"],O0=["normal","emphasis","blur","select"],fK=10,dK=9,Uc="highlight",Fy="downplay",cp="select",Uy="unselect",fp="toggleSelect";function Uf(e){return e!=null&&e!=="none"}var IP=new bh(100);function RP(e){if(ot(e)){var t=IP.get(e);return t||(t=Fp(e,-.1),IP.put(e,t)),t}else if(n1(e)){var n=Pe({},e);return n.colorStops=at(e.colorStops,function(r){return{offset:r.offset,color:Fp(r.color,-.1)}}),n}return e}function p1(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function $V(e){p1(e,"emphasis",v1)}function GV(e){e.hoverState===v1&&p1(e,"normal",Q2)}function J2(e){p1(e,"blur",h1)}function WV(e){e.hoverState===h1&&p1(e,"normal",Q2)}function hK(e){e.selected=!0}function vK(e){e.selected=!1}function OP(e,t,n){t(e,n)}function ml(e,t,n){OP(e,t,n),e.isGroup&&e.traverse(function(r){OP(r,t,n)})}function kP(e,t){switch(t){case"emphasis":e.hoverState=v1;break;case"normal":e.hoverState=Q2;break;case"blur":e.hoverState=h1;break;case"select":e.selected=!0}}function pK(e,t,n,r){for(var a=e.style,i={},o=0;o<t.length;o++){var s=t[o],l=a[s];i[s]=l??(r&&r[s])}for(var o=0;o<e.animators.length;o++){var u=e.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&u.targetName==="style"&&u.saveTo(i,t)}return i}function mK(e,t,n,r){var a=n&&Xt(n,"select")>=0,i=!1;if(e instanceof gn){var o=HV(e),s=a&&o.selectFill||o.normalFill,l=a&&o.selectStroke||o.normalStroke;if(Uf(s)||Uf(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(i=!0,r=Pe({},r),u=Pe({},u),u.fill=s):!Uf(u.fill)&&Uf(s)?(i=!0,r=Pe({},r),u=Pe({},u),u.fill=RP(s)):!Uf(u.stroke)&&Uf(l)&&(i||(r=Pe({},r),u=Pe({},u)),u.stroke=RP(l)),r.style=u}}if(r&&r.z2==null){i||(r=Pe({},r));var c=e.z2EmphasisLift;r.z2=e.z2+(c??fK)}return r}function gK(e,t,n){if(n&&n.z2==null){n=Pe({},n);var r=e.z2SelectLift;n.z2=e.z2+(r??dK)}return n}function yK(e,t,n){var r=Xt(e.currentStates,t)>=0,a=e.style.opacity,i=r?null:pK(e,["opacity"],t,{opacity:1});n=n||{};var o=n.style||{};return o.opacity==null&&(n=Pe({},n),o=Pe({opacity:r?a:i.opacity*.1},o),n.style=o),n}function hb(e,t){var n=this.states[e];if(this.style){if(e==="emphasis")return mK(this,e,t,n);if(e==="blur")return yK(this,e,n);if(e==="select")return gK(this,e,n)}return n}function _K(e){e.stateProxy=hb;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=hb),n&&(n.stateProxy=hb)}function NP(e,t){!qV(e,t)&&!e.__highByOuter&&ml(e,$V)}function BP(e,t){!qV(e,t)&&!e.__highByOuter&&ml(e,GV)}function k0(e,t){e.__highByOuter|=1<<(t||0),ml(e,$V)}function N0(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&ml(e,GV)}function xK(e){ml(e,J2)}function YV(e){ml(e,WV)}function jV(e){ml(e,hK)}function XV(e){ml(e,vK)}function qV(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function ZV(e){var t=e.getModel(),n=[],r=[];t.eachComponent(function(a,i){var o=K2(i),s=a==="series",l=s?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(u){WV(u)}),s&&n.push(i)),o.isBlured=!1}),j(r,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(n,!1,t)})}function uT(e,t,n,r){var a=r.getModel();n=n||"coordinateSystem";function i(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&YV(d)}}if(e!=null&&!(!t||t==="none")){var o=a.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];a.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(n==="series"&&!c||n==="coordinateSystem"&&!d||t==="series"&&c)){var h=r.getViewOfSeriesModel(u);if(h.group.traverse(function(m){m.__highByOuter&&c&&t==="self"||J2(m)}),Za(t))i(u.getData(),t);else if(lt(t))for(var v=ln(t),p=0;p<v.length;p++)i(u.getData(v[p]),t[v[p]]);l.push(u),K2(u).isBlured=!0}}),a.eachComponent(function(u,c){if(u!=="series"){var f=r.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,a)}})}}function cT(e,t,n){if(!(e==null||t==null)){var r=n.getModel().getComponent(e,t);if(r){K2(r).isBlured=!0;var a=n.getViewOfComponentModel(r);!a||!a.focusBlurEnabled||a.group.traverse(function(i){J2(i)})}}}function bK(e,t,n){var r=e.seriesIndex,a=e.getData(t.dataType);if(!a){Ca("Unknown dataType "+t.dataType);return}var i=Jc(a,t);i=(Be(i)?i[0]:i)||0;var o=a.getItemGraphicEl(i);if(!o)for(var s=a.count(),l=0;!o&&l<s;)o=a.getItemGraphicEl(l++);if(o){var u=qt(o);uT(r,u.focus,u.blurScope,n)}else{var c=e.get(["emphasis","focus"]),f=e.get(["emphasis","blurScope"]);c!=null&&uT(r,c,f,n)}}function eA(e,t,n,r){var a={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||n==null)return a;var i=r.getModel().getComponent(e,t);if(!i)return a;var o=r.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return a;for(var s=o.findHighDownDispatchers(n),l,u=0;u<s.length;u++)if(Qd(s[u])||Ca("param should be highDownDispatcher"),qt(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function wK(e,t,n){Qd(e)||Ca("param should be highDownDispatcher");var r=qt(e),a=eA(r.componentMainType,r.componentIndex,r.componentHighDownName,n),i=a.dispatchers,o=a.focusSelf;i?(o&&cT(r.componentMainType,r.componentIndex,n),j(i,function(s){return NP(s,t)})):(uT(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&cT(r.componentMainType,r.componentIndex,n),NP(e,t))}function SK(e,t,n){Qd(e)||Ca("param should be highDownDispatcher"),ZV(n);var r=qt(e),a=eA(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;a?j(a,function(i){return BP(i,t)}):BP(e,t)}function TK(e,t,n){if(dT(t)){var r=t.dataType,a=e.getData(r),i=Jc(a,t);Be(i)||(i=[i]),e[t.type===fp?"toggleSelect":t.type===cp?"select":"unselect"](i,r)}}function VP(e){var t=e.getAllData();j(t,function(n){var r=n.data,a=n.type;r.eachItemGraphicEl(function(i,o){e.isSelected(o,a)?jV(i):XV(i)})})}function CK(e){var t=[];return e.eachSeries(function(n){var r=n.getAllData();j(r,function(a){a.data;var i=a.type,o=n.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:n.seriesIndex};i!=null&&(s.dataType=i),t.push(s)}})}),t}function fT(e,t,n){KV(e,!0),ml(e,_K),EK(e,t,n)}function AK(e){KV(e,!1)}function $p(e,t,n,r){r?AK(e):fT(e,t,n)}function EK(e,t,n){var r=qt(e);t!=null?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var FP=["emphasis","blur","select"],DK={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function B0(e,t,n,r){n=n||"itemStyle";for(var a=0;a<FP.length;a++){var i=FP[a],o=t.getModel([i,n]),s=e.ensureState(i);s.style=r?r(o):o[DK[n]]()}}function KV(e,t){var n=t===!1,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function Qd(e){return!!(e&&e.__highDownDispatcher)}function MK(e){var t=LP[e];return t==null&&PP<=32&&(t=LP[e]=PP++),t}function dT(e){var t=e.type;return t===cp||t===Uy||t===fp}function UP(e){var t=e.type;return t===Uc||t===Fy}function PK(e){var t=HV(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var zf=du.CMD,LK=[[],[],[]],zP=Math.sqrt,IK=Math.atan2;function RK(e,t){if(t){var n=e.data,r=e.len(),a,i,o,s,l,u,c=zf.M,f=zf.C,d=zf.L,h=zf.R,v=zf.A,p=zf.Q;for(o=0,s=0;o<r;){switch(a=n[o++],s=o,i=0,a){case c:i=1;break;case d:i=1;break;case f:i=3;break;case p:i=2;break;case v:var m=t[4],g=t[5],y=zP(t[0]*t[0]+t[1]*t[1]),_=zP(t[2]*t[2]+t[3]*t[3]),x=IK(-t[1]/_,t[0]/y);n[o]*=y,n[o++]+=m,n[o]*=_,n[o++]+=g,n[o++]*=y,n[o++]*=_,n[o++]+=x,n[o++]+=x,o+=2,s=o;break;case h:u[0]=n[o++],u[1]=n[o++],ba(u,u,t),n[s++]=u[0],n[s++]=u[1],u[0]+=n[o++],u[1]+=n[o++],ba(u,u,t),n[s++]=u[0],n[s++]=u[1]}for(l=0;l<i;l++){var w=LK[l];w[0]=n[o++],w[1]=n[o++],ba(w,w,t),n[s++]=w[0],n[s++]=w[1]}}e.increaseVersion()}}var vb=Math.sqrt,mg=Math.sin,gg=Math.cos,av=Math.PI;function HP(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function hT(e,t){return(e[0]*t[0]+e[1]*t[1])/(HP(e)*HP(t))}function $P(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(hT(e,t))}function GP(e,t,n,r,a,i,o,s,l,u,c){var f=l*(av/180),d=gg(f)*(e-n)/2+mg(f)*(t-r)/2,h=-1*mg(f)*(e-n)/2+gg(f)*(t-r)/2,v=d*d/(o*o)+h*h/(s*s);v>1&&(o*=vb(v),s*=vb(v));var p=(a===i?-1:1)*vb((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)))||0,m=p*o*h/s,g=p*-s*d/o,y=(e+n)/2+gg(f)*m-mg(f)*g,_=(t+r)/2+mg(f)*m+gg(f)*g,x=$P([1,0],[(d-m)/o,(h-g)/s]),w=[(d-m)/o,(h-g)/s],b=[(-1*d-m)/o,(-1*h-g)/s],S=$P(w,b);if(hT(w,b)<=-1&&(S=av),hT(w,b)>=1&&(S=0),S<0){var C=Math.round(S/av*1e6)/1e6;S=av*2+C%2*av}c.addData(u,y,_,o,s,x,S,f,i)}var OK=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,kK=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function NK(e){var t=new du;if(!e)return t;var n=0,r=0,a=n,i=r,o,s=du.CMD,l=e.match(OK);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(kK)||[],v=h.length,p=0;p<v;p++)h[p]=parseFloat(h[p]);for(var m=0;m<v;){var g=void 0,y=void 0,_=void 0,x=void 0,w=void 0,b=void 0,S=void 0,C=n,A=r,M=void 0,T=void 0;switch(f){case"l":n+=h[m++],r+=h[m++],d=s.L,t.addData(d,n,r);break;case"L":n=h[m++],r=h[m++],d=s.L,t.addData(d,n,r);break;case"m":n+=h[m++],r+=h[m++],d=s.M,t.addData(d,n,r),a=n,i=r,f="l";break;case"M":n=h[m++],r=h[m++],d=s.M,t.addData(d,n,r),a=n,i=r,f="L";break;case"h":n+=h[m++],d=s.L,t.addData(d,n,r);break;case"H":n=h[m++],d=s.L,t.addData(d,n,r);break;case"v":r+=h[m++],d=s.L,t.addData(d,n,r);break;case"V":r=h[m++],d=s.L,t.addData(d,n,r);break;case"C":d=s.C,t.addData(d,h[m++],h[m++],h[m++],h[m++],h[m++],h[m++]),n=h[m-2],r=h[m-1];break;case"c":d=s.C,t.addData(d,h[m++]+n,h[m++]+r,h[m++]+n,h[m++]+r,h[m++]+n,h[m++]+r),n+=h[m-2],r+=h[m-1];break;case"S":g=n,y=r,M=t.len(),T=t.data,o===s.C&&(g+=n-T[M-4],y+=r-T[M-3]),d=s.C,C=h[m++],A=h[m++],n=h[m++],r=h[m++],t.addData(d,g,y,C,A,n,r);break;case"s":g=n,y=r,M=t.len(),T=t.data,o===s.C&&(g+=n-T[M-4],y+=r-T[M-3]),d=s.C,C=n+h[m++],A=r+h[m++],n+=h[m++],r+=h[m++],t.addData(d,g,y,C,A,n,r);break;case"Q":C=h[m++],A=h[m++],n=h[m++],r=h[m++],d=s.Q,t.addData(d,C,A,n,r);break;case"q":C=h[m++]+n,A=h[m++]+r,n+=h[m++],r+=h[m++],d=s.Q,t.addData(d,C,A,n,r);break;case"T":g=n,y=r,M=t.len(),T=t.data,o===s.Q&&(g+=n-T[M-4],y+=r-T[M-3]),n=h[m++],r=h[m++],d=s.Q,t.addData(d,g,y,n,r);break;case"t":g=n,y=r,M=t.len(),T=t.data,o===s.Q&&(g+=n-T[M-4],y+=r-T[M-3]),n+=h[m++],r+=h[m++],d=s.Q,t.addData(d,g,y,n,r);break;case"A":_=h[m++],x=h[m++],w=h[m++],b=h[m++],S=h[m++],C=n,A=r,n=h[m++],r=h[m++],d=s.A,GP(C,A,n,r,b,S,_,x,w,d,t);break;case"a":_=h[m++],x=h[m++],w=h[m++],b=h[m++],S=h[m++],C=n,A=r,n+=h[m++],r+=h[m++],d=s.A,GP(C,A,n,r,b,S,_,x,w,d,t);break}}(f==="z"||f==="Z")&&(d=s.Z,t.addData(d),n=a,r=i),o=d}return t.toStatic(),t}var QV=function(e){kn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(gn);function JV(e){return e.setData!=null}function eF(e,t){var n=NK(e),r=Pe({},t);return r.buildPath=function(a){if(JV(a)){a.setData(n.data);var i=a.getContext();i&&a.rebuildPath(i,1)}else{var i=a;n.rebuildPath(i,1)}},r.applyTransform=function(a){RK(n,a),this.dirtyShape()},r}function BK(e,t){return new QV(eF(e,t))}function VK(e,t){var n=eF(e,t),r=function(a){kn(i,a);function i(o){var s=a.call(this,o)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return i}(QV);return r}function FK(e,t){for(var n=[],r=e.length,a=0;a<r;a++){var i=e[a];n.push(i.getUpdatedPathProxy(!0))}var o=new gn(t);return o.createPathProxy(),o.buildPath=function(s){if(JV(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}var UK=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),tF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new UK},t.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},t}(gn);tF.prototype.type="circle";const tA=tF;var zK=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),nF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new zK},t.prototype.buildPath=function(n,r){var a=.5522848,i=r.cx,o=r.cy,s=r.rx,l=r.ry,u=s*a,c=l*a;n.moveTo(i-s,o),n.bezierCurveTo(i-s,o-c,i-u,o-l,i,o-l),n.bezierCurveTo(i+u,o-l,i+s,o-c,i+s,o),n.bezierCurveTo(i+s,o+c,i+u,o+l,i,o+l),n.bezierCurveTo(i-u,o+l,i-s,o+c,i-s,o),n.closePath()},t}(gn);nF.prototype.type="ellipse";const rF=nF;var aF=Math.PI,pb=aF*2,$u=Math.sin,Hf=Math.cos,HK=Math.acos,ca=Math.atan2,WP=Math.abs,dp=Math.sqrt,$v=Math.max,Zo=Math.min,To=1e-4;function $K(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=f*l-c*u;if(!(d*d<To))return d=(c*(t-i)-f*(e-a))/d,[e+d*l,t+d*u]}function yg(e,t,n,r,a,i,o){var s=e-n,l=t-r,u=(o?i:-i)/dp(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,v=n+c,p=r+f,m=(d+v)/2,g=(h+p)/2,y=v-d,_=p-h,x=y*y+_*_,w=a-i,b=d*p-v*h,S=(_<0?-1:1)*dp($v(0,w*w*x-b*b)),C=(b*_-y*S)/x,A=(-b*y-_*S)/x,M=(b*_+y*S)/x,T=(-b*y+_*S)/x,E=C-m,P=A-g,I=M-m,k=T-g;return E*E+P*P>I*I+k*k&&(C=M,A=T),{cx:C,cy:A,x0:-c,y0:-f,x1:C*(a/w-1),y1:A*(a/w-1)}}function GK(e){var t;if(Be(e)){var n=e.length;if(!n)return e;n===1?t=[e[0],e[0],0,0]:n===2?t=[e[0],e[0],e[1],e[1]]:n===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function WK(e,t){var n,r=$v(t.r,0),a=$v(t.r0||0,0),i=r>0,o=a>0;if(!(!i&&!o)){if(i||(r=a,a=0),a>r){var s=r;r=a,a=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,d=!!t.clockwise,h=WP(u-l),v=h>pb&&h%pb;if(v>To&&(h=v),!(r>To))e.moveTo(c,f);else if(h>pb-To)e.moveTo(c+r*Hf(l),f+r*$u(l)),e.arc(c,f,r,l,u,!d),a>To&&(e.moveTo(c+a*Hf(u),f+a*$u(u)),e.arc(c,f,a,u,l,d));else{var p=void 0,m=void 0,g=void 0,y=void 0,_=void 0,x=void 0,w=void 0,b=void 0,S=void 0,C=void 0,A=void 0,M=void 0,T=void 0,E=void 0,P=void 0,I=void 0,k=r*Hf(l),B=r*$u(l),U=a*Hf(u),R=a*$u(u),L=h>To;if(L){var z=t.cornerRadius;z&&(n=GK(z),p=n[0],m=n[1],g=n[2],y=n[3]);var X=WP(r-a)/2;if(_=Zo(X,g),x=Zo(X,y),w=Zo(X,p),b=Zo(X,m),A=S=$v(_,x),M=C=$v(w,b),(S>To||C>To)&&(T=r*Hf(u),E=r*$u(u),P=a*Hf(l),I=a*$u(l),h<aF)){var Y=$K(k,B,P,I,T,E,U,R);if(Y){var $=k-Y[0],F=B-Y[1],N=T-Y[0],H=E-Y[1],K=1/$u(HK(($*N+F*H)/(dp($*$+F*F)*dp(N*N+H*H)))/2),Z=dp(Y[0]*Y[0]+Y[1]*Y[1]);A=Zo(S,(r-Z)/(K+1)),M=Zo(C,(a-Z)/(K-1))}}}if(!L)e.moveTo(c+k,f+B);else if(A>To){var q=Zo(g,A),ce=Zo(y,A),oe=yg(P,I,k,B,r,q,d),ae=yg(T,E,U,R,r,ce,d);e.moveTo(c+oe.cx+oe.x0,f+oe.cy+oe.y0),A<S&&q===ce?e.arc(c+oe.cx,f+oe.cy,A,ca(oe.y0,oe.x0),ca(ae.y0,ae.x0),!d):(q>0&&e.arc(c+oe.cx,f+oe.cy,q,ca(oe.y0,oe.x0),ca(oe.y1,oe.x1),!d),e.arc(c,f,r,ca(oe.cy+oe.y1,oe.cx+oe.x1),ca(ae.cy+ae.y1,ae.cx+ae.x1),!d),ce>0&&e.arc(c+ae.cx,f+ae.cy,ce,ca(ae.y1,ae.x1),ca(ae.y0,ae.x0),!d))}else e.moveTo(c+k,f+B),e.arc(c,f,r,l,u,!d);if(!(a>To)||!L)e.lineTo(c+U,f+R);else if(M>To){var q=Zo(p,M),ce=Zo(m,M),oe=yg(U,R,T,E,a,-ce,d),ae=yg(k,B,P,I,a,-q,d);e.lineTo(c+oe.cx+oe.x0,f+oe.cy+oe.y0),M<C&&q===ce?e.arc(c+oe.cx,f+oe.cy,M,ca(oe.y0,oe.x0),ca(ae.y0,ae.x0),!d):(ce>0&&e.arc(c+oe.cx,f+oe.cy,ce,ca(oe.y0,oe.x0),ca(oe.y1,oe.x1),!d),e.arc(c,f,a,ca(oe.cy+oe.y1,oe.cx+oe.x1),ca(ae.cy+ae.y1,ae.cx+ae.x1),d),q>0&&e.arc(c+ae.cx,f+ae.cy,q,ca(ae.y1,ae.x1),ca(ae.y0,ae.x0),!d))}else e.lineTo(c+U,f+R),e.arc(c,f,a,u,l,d)}e.closePath()}}}var YK=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),iF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new YK},t.prototype.buildPath=function(n,r){WK(n,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(gn);iF.prototype.type="sector";const gf=iF;var jK=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),oF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new jK},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.PI*2;n.moveTo(a+r.r,i),n.arc(a,i,r.r,0,o,!1),n.moveTo(a+r.r0,i),n.arc(a,i,r.r0,0,o,!0)},t}(gn);oF.prototype.type="ring";const sF=oF;function XK(e,t,n,r){var a=[],i=[],o=[],s=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=e.length;d<h;d++)yc(c,c,e[d]),_c(f,f,e[d]);yc(c,c,r[0]),_c(f,f,r[1])}for(var d=0,h=e.length;d<h;d++){var v=e[d];if(n)l=e[d?d-1:h-1],u=e[(d+1)%h];else if(d===0||d===h-1){a.push(y9(e[d]));continue}else l=e[d-1],u=e[d+1];_9(i,u,l),Ix(i,i,t);var p=zS(v,l),m=zS(v,u),g=p+m;g!==0&&(p/=g,m/=g),Ix(o,i,-p),Ix(s,i,m);var y=NM([],v,o),_=NM([],v,s);r&&(_c(y,y,c),yc(y,y,f),_c(_,_,c),yc(_,_,f)),a.push(y),a.push(_)}return n&&a.push(a.shift()),a}function lF(e,t,n){var r=t.smooth,a=t.points;if(a&&a.length>=2){if(r){var i=XK(a,r,n,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var o=a.length,s=0;s<(n?o:o-1);s++){var l=i[s*2],u=i[s*2+1],c=a[(s+1)%o];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(a[0][0],a[0][1]);for(var s=1,f=a.length;s<f;s++)e.lineTo(a[s][0],a[s][1])}n&&e.closePath()}}var qK=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),uF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new qK},t.prototype.buildPath=function(n,r){lF(n,r,!0)},t}(gn);uF.prototype.type="polygon";const cF=uF;var ZK=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),fF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ZK},t.prototype.buildPath=function(n,r){lF(n,r,!1)},t}(gn);fF.prototype.type="polyline";const m1=fF;var KK={},QK=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),dF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new QK},t.prototype.buildPath=function(n,r){var a,i,o,s;if(this.subPixelOptimize){var l=VV(KK,r,this.style);a=l.x1,i=l.y1,o=l.x2,s=l.y2}else a=r.x1,i=r.y1,o=r.x2,s=r.y2;var u=r.percent;u!==0&&(n.moveTo(a,i),u<1&&(o=a*(1-u)+o*u,s=i*(1-u)+s*u),n.lineTo(o,s))},t.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},t}(gn);dF.prototype.type="line";const ef=dF;var Ja=[],JK=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function YP(e,t,n){var r=e.cpx2,a=e.cpy2;return r!=null||a!=null?[(n?jM:Nr)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?jM:Nr)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?XM:va)(e.x1,e.cpx1,e.x2,t),(n?XM:va)(e.y1,e.cpy1,e.y2,t)]}var hF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new JK},t.prototype.buildPath=function(n,r){var a=r.x1,i=r.y1,o=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,f=r.cpy2,d=r.percent;d!==0&&(n.moveTo(a,i),c==null||f==null?(d<1&&(E0(a,l,o,d,Ja),l=Ja[1],o=Ja[2],E0(i,u,s,d,Ja),u=Ja[1],s=Ja[2]),n.quadraticCurveTo(l,u,o,s)):(d<1&&(A0(a,l,c,o,d,Ja),l=Ja[1],c=Ja[2],o=Ja[3],A0(i,u,f,s,d,Ja),u=Ja[1],f=Ja[2],s=Ja[3]),n.bezierCurveTo(l,u,c,f,o,s)))},t.prototype.pointAt=function(n){return YP(this.shape,n,!1)},t.prototype.tangentAt=function(n){var r=YP(this.shape,n,!0);return w9(r,r)},t}(gn);hF.prototype.type="bezier-curve";const vF=hF;var eQ=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),pF=function(e){kn(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new eQ},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),f=Math.sin(s);n.moveTo(c*o+a,f*o+i),n.arc(a,i,o,s,l,!u)},t}(gn);pF.prototype.type="arc";const nA=pF;var tQ=function(e){kn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),a=0;a<n.length;a++)r=r||n[a].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),a=0;a<n.length;a++)n[a].path||n[a].createPathProxy(),n[a].path.setScale(r[0],r[1],n[a].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,r){for(var a=r.paths||[],i=0;i<a.length;i++)a[i].buildPath(n,a[i].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),gn.prototype.getBoundingRect.call(this)},t}(gn);const nQ=tQ;var rQ=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},e}();const mF=rQ;var aQ=function(e){kn(t,e);function t(n,r,a,i,o,s){var l=e.call(this,o)||this;return l.x=n??0,l.y=r??0,l.x2=a??1,l.y2=i??0,l.type="linear",l.global=s||!1,l}return t}(mF);const gF=aQ;var iQ=function(e){kn(t,e);function t(n,r,a,i,o){var s=e.call(this,i)||this;return s.x=n??.5,s.y=r??.5,s.r=a??.5,s.type="radial",s.global=o||!1,s}return t}(mF);const oQ=iQ;var Gu=[0,0],Wu=[0,0],_g=new wt,xg=new wt,sQ=function(){function e(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new wt;for(var r=0;r<2;r++)this._axes[r]=new wt;t&&this.fromBoundingRect(t,n)}return e.prototype.fromBoundingRect=function(t,n){var r=this._corners,a=this._axes,i=t.x,o=t.y,s=i+t.width,l=o+t.height;if(r[0].set(i,o),r[1].set(s,o),r[2].set(s,l),r[3].set(i,l),n)for(var u=0;u<4;u++)r[u].transform(n);wt.sub(a[0],r[1],r[0]),wt.sub(a[1],r[3],r[0]),a[0].normalize(),a[1].normalize();for(var u=0;u<2;u++)this._origin[u]=a[u].dot(r[0])},e.prototype.intersect=function(t,n){var r=!0,a=!n;return _g.set(1/0,1/0),xg.set(0,0),!this._intersectCheckOneSide(this,t,_g,xg,a,1)&&(r=!1,a)||!this._intersectCheckOneSide(t,this,_g,xg,a,-1)&&(r=!1,a)||a||wt.copy(n,r?_g:xg),r},e.prototype._intersectCheckOneSide=function(t,n,r,a,i,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Gu),this._getProjMinMaxOnAxis(l,n._corners,Wu),Gu[1]<Wu[0]||Gu[0]>Wu[1]){if(s=!1,i)return s;var c=Math.abs(Wu[0]-Gu[1]),f=Math.abs(Gu[0]-Wu[1]);Math.min(c,f)>a.len()&&(c<f?wt.scale(a,u,-c*o):wt.scale(a,u,f*o))}else if(r){var c=Math.abs(Wu[0]-Gu[1]),f=Math.abs(Gu[0]-Wu[1]);Math.min(c,f)<r.len()&&(c<f?wt.scale(r,u,c*o):wt.scale(r,u,-f*o))}}return s},e.prototype._getProjMinMaxOnAxis=function(t,n,r){for(var a=this._axes[t],i=this._origin,o=n[0].dot(a)+i[t],s=o,l=o,u=1;u<n.length;u++){var c=n[u].dot(a)+i[t];s=Math.min(c,s),l=Math.max(c,l)}r[0]=s,r[1]=l},e}();const V0=sQ;var lQ=[],uQ=function(e){kn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,r){r=r||!1;for(var a=0;a<n.length;a++)this.addDisplayable(n[a],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new Wt(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var a=this._displayables[r],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(lQ)),n.union(i)}this._rect=n}return this._rect},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();if(i.contain(a[0],a[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(n,r))return!0}return!1},t}(mf);const cQ=uQ;var fQ=Fn();function rA(e,t,n,r,a){var i;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();i=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=e==="update";if(s){var u=void 0,c=void 0,f=void 0;r?(u=Ut(r.duration,200),c=Ut(r.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(f=i.delay)),yt(f)&&(f=f(n,a)),yt(u)&&(u=u(n));var d={duration:u||0,delay:f,easing:c};return d}else return null}function aA(e,t,n,r,a,i,o){var s=!1,l;yt(a)?(o=i,i=a,a=null):lt(a)&&(i=a.cb,o=a.during,s=a.isFrom,l=a.removeOpt,a=a.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=rA(e,r,a,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,a):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,v={duration:f,delay:d||0,easing:h,done:i,force:!!i||!!o,setToFinal:!u,scope:e,during:o};s?t.animateFrom(n,v):t.animateTo(n,v)}else t.stopAnimation(),!s&&t.attr(n),o&&o(1),i&&i()}function Hr(e,t,n,r,a,i){aA("update",e,t,n,r,a,i)}function Xa(e,t,n,r,a,i){aA("enter",e,t,n,r,a,i)}function Nd(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if(n.scope==="leave")return!0}return!1}function F0(e,t,n,r,a,i){Nd(e)||aA("leave",e,t,n,r,a,i)}function jP(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),F0(e,{style:{opacity:0}},t,n,r)}function U0(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(a){a.isGroup||jP(a,t,n,r)}):jP(e,t,n,r)}function iA(e){fQ(e).oldStyle=e.style}var z0=Math.max,H0=Math.min,vT={};function dQ(e){return gn.extend(e)}var hQ=VK;function vQ(e,t){return hQ(e,t)}function zo(e,t){vT[e]=t}function yF(e){if(vT.hasOwnProperty(e))return vT[e]}function oA(e,t,n,r){var a=BK(e,t);return n&&(r==="center"&&(n=xF(n,a.getBoundingRect())),bF(a,n)),a}function _F(e,t,n){var r=new pl({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(n==="center"){var i={width:a.width,height:a.height};r.setStyle(xF(t,i))}}});return r}function xF(e,t){var n=t.width/t.height,r=e.height*n,a;r<=e.width?a=e.height:(r=e.width,a=r/n);var i=e.x+e.width/2,o=e.y+e.height/2;return{x:i-r/2,y:o-a/2,width:r,height:a}}var pQ=FK;function bF(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function Gp(e,t){return VV(e,e,{lineWidth:t}),e}function mQ(e){return FV(e.shape,e.shape,e.style),e}var gQ=xc;function yQ(e,t){for(var n=a1([]);e&&e!==t;)Vc(n,e.getLocalTransform(),n),e=e.parent;return n}function sA(e,t,n){return t&&!Za(t)&&(t=s1.getLocalTransform(t)),n&&(t=xh([],t)),ba([],e,t)}function _Q(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),i=[e==="left"?-r:e==="right"?r:0,e==="top"?-a:e==="bottom"?a:0];return i=sA(i,t,n),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function XP(e){return!e.isGroup}function xQ(e){return e.shape!=null}function wF(e,t,n){if(!e||!t)return;function r(o){var s={};return o.traverse(function(l){XP(l)&&l.anid&&(s[l.anid]=l)}),s}function a(o){var s={x:o.x,y:o.y,rotation:o.rotation};return xQ(o)&&(s.shape=Pe({},o.shape)),s}var i=r(e);t.traverse(function(o){if(XP(o)&&o.anid){var s=i[o.anid];if(s){var l=a(o);o.attr(a(s)),Hr(o,l,n,qt(o).dataIndex)}}})}function bQ(e,t){return at(e,function(n){var r=n[0];r=z0(r,t.x),r=H0(r,t.x+t.width);var a=n[1];return a=z0(a,t.y),a=H0(a,t.y+t.height),[r,a]})}function wQ(e,t){var n=z0(e.x,t.x),r=H0(e.x+e.width,t.x+t.width),a=z0(e.y,t.y),i=H0(e.y+e.height,t.y+t.height);if(r>=n&&i>=a)return{x:n,y:a,width:r-n,height:i-a}}function lA(e,t,n){var r=Pe({rectHover:!0},t),a=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Ft(a,n),new pl(r)):oA(e.replace("path://",""),r,n,"center")}function SQ(e,t,n,r,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var s=a[i];if(SF(e,t,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function SF(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=mb(c,f,l,u);if(TQ(d))return!1;var h=e-a,v=t-i,p=mb(h,v,l,u)/d;if(p<0||p>1)return!1;var m=mb(h,v,c,f)/d;return!(m<0||m>1)}function mb(e,t,n,r){return e*r-n*t}function TQ(e){return e<=1e-6&&e>=-1e-6}function g1(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,a=ot(t)?{formatter:t}:t,i=n.mainType,o=n.componentIndex,s={componentType:i,name:r,$vars:["name"]};s[i+"Index"]=o;var l=e.formatterParamsExtra;l&&j(ln(l),function(c){bt(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=qt(e.el);u.componentMainType=i,u.componentIndex=o,u.tooltipConfig={name:r,option:Ft({content:r,formatterParams:s},a)}}function qP(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function y1(e,t){if(e)if(Be(e))for(var n=0;n<e.length;n++)qP(e[n],t);else qP(e,t)}zo("circle",tA);zo("ellipse",rF);zo("sector",gf);zo("ring",sF);zo("polygon",cF);zo("polyline",m1);zo("rect",wr);zo("line",ef);zo("bezierCurve",vF);zo("arc",nA);const CQ=Object.freeze(Object.defineProperty({__proto__:null,Arc:nA,BezierCurve:vF,BoundingRect:Wt,Circle:tA,CompoundPath:nQ,Ellipse:rF,Group:oa,Image:pl,IncrementalDisplayable:cQ,Line:ef,LinearGradient:gF,OrientedBoundingRect:V0,Path:gn,Point:wt,Polygon:cF,Polyline:m1,RadialGradient:oQ,Rect:wr,Ring:sF,Sector:gf,Text:rr,applyTransform:sA,clipPointsByRect:bQ,clipRectByRect:wQ,createIcon:lA,extendPath:vQ,extendShape:dQ,getShapeClass:yF,getTransform:yQ,groupTransition:wF,initProps:Xa,isElementRemoved:Nd,lineLineIntersect:SF,linePolygonIntersect:SQ,makeImage:_F,makePath:oA,mergePath:pQ,registerShape:zo,removeElement:F0,removeElementWithFadeOut:U0,resizePath:bF,setTooltipConfig:g1,subPixelOptimize:gQ,subPixelOptimizeLine:Gp,subPixelOptimizeRect:mQ,transformDirection:_Q,traverseElements:y1,updateProps:Hr},Symbol.toStringTag,{value:"Module"}));var _1={};function TF(e,t){for(var n=0;n<lo.length;n++){var r=lo[n],a=t[r],i=e.ensureState(r);i.style=i.style||{},i.style.text=a}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function pT(e,t,n){var r=e.labelFetcher,a=e.labelDataIndex,i=e.labelDimIndex,o=t.normal,s;r&&(s=r.getFormattedLabel(a,"normal",null,i,o&&o.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=yt(e.defaultText)?e.defaultText(a,e,n):e.defaultText);for(var l={normal:s},u=0;u<lo.length;u++){var c=lo[u],f=t[c];l[c]=Ut(r?r.getFormattedLabel(a,c,null,i,f&&f.get("formatter")):null,s)}return l}function Pm(e,t,n,r){n=n||_1;for(var a=e instanceof rr,i=!1,o=0;o<O0.length;o++){var s=t[O0[o]];if(s&&s.getShallow("show")){i=!0;break}}var l=a?e:e.getTextContent();if(i){a||(l||(l=new rr,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=pT(n,t),c=t.normal,f=!!c.getShallow("show"),d=uo(c,r&&r.normal,n,!1,!a);d.text=u.normal,a||e.setTextConfig(ZP(c,n,!1));for(var o=0;o<lo.length;o++){var h=lo[o],s=t[h];if(s){var v=l.ensureState(h),p=!!Ut(s.getShallow("show"),f);if(p!==f&&(v.ignore=!p),v.style=uo(s,r&&r[h],n,!0,!a),v.style.text=u[h],!a){var m=e.ensureState(h);m.textConfig=ZP(s,n,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),n.enableTextSetter&&(wh(l).setLabelText=function(g){var y=pT(n,t,g);TF(l,y)})}else l&&(l.ignore=!0);e.dirty()}function Lm(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<lo.length;r++){var a=lo[r];n[a]=e.getModel([a,t])}return n}function uo(e,t,n,r,a){var i={};return AQ(i,e,n,r,a),t&&Pe(i,t),i}function ZP(e,t,n){t=t||{};var r={},a,i=e.getShallow("rotate"),o=Ut(e.getShallow("distance"),n?null:5),s=e.getShallow("offset");return a=e.getShallow("position")||(n?null:"inside"),a==="outside"&&(a=t.defaultOutsidePosition||"top"),a!=null&&(r.position=a),s!=null&&(r.offset=s),i!=null&&(i*=Math.PI/180,r.rotation=i),o!=null&&(r.distance=o),r.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",r}function AQ(e,t,n,r,a){n=n||_1;var i=t.ecModel,o=i&&i.option.textStyle,s=EQ(t),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);eL(l[u]={},c,o,n,r,a,!1,!0)}}l&&(e.rich=l);var f=t.get("overflow");f&&(e.overflow=f);var d=t.get("minMargin");d!=null&&(e.margin=d),eL(e,t,o,n,r,a,!0,!1)}function EQ(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||_1).rich;if(n){t=t||{};for(var r=ln(n),a=0;a<r.length;a++){var i=r[a];t[i]=1}}e=e.parentModel}return t}var KP=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],QP=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],JP=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function eL(e,t,n,r,a,i,o,s){n=!a&&n||_1;var l=r&&r.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),f=Ut(t.getShallow("opacity"),n.opacity);(u==="inherit"||u==="auto")&&(u==="auto"&&Dr("color: 'auto'","color: 'inherit'"),l?u=l:u=null),(c==="inherit"||c==="auto")&&(c==="auto"&&Dr("color: 'auto'","color: 'inherit'"),l?c=l:c=null),i||(u=u||n.color,c=c||n.textBorderColor),u!=null&&(e.fill=u),c!=null&&(e.stroke=c);var d=Ut(t.getShallow("textBorderWidth"),n.textBorderWidth);d!=null&&(e.lineWidth=d);var h=Ut(t.getShallow("textBorderType"),n.textBorderType);h!=null&&(e.lineDash=h);var v=Ut(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);v!=null&&(e.lineDashOffset=v),!a&&f==null&&!s&&(f=r&&r.defaultOpacity),f!=null&&(e.opacity=f),!a&&!i&&e.fill==null&&r.inheritColor&&(e.fill=r.inheritColor);for(var p=0;p<KP.length;p++){var m=KP[p],g=Ut(t.getShallow(m),n[m]);g!=null&&(e[m]=g)}for(var p=0;p<QP.length;p++){var m=QP[p],g=t.getShallow(m);g!=null&&(e[m]=g)}if(e.verticalAlign==null){var y=t.getShallow("baseline");y!=null&&(e.verticalAlign=y)}if(!o||!r.disableBox){for(var p=0;p<JP.length;p++){var m=JP[p],g=t.getShallow(m);g!=null&&(e[m]=g)}var _=t.getShallow("borderType");_!=null&&(e.borderDash=_),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor==="auto"&&Dr("backgroundColor: 'auto'","backgroundColor: 'inherit'"),e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor==="auto"&&Dr("borderColor: 'auto'","borderColor: 'inherit'"),e.borderColor=l)}}function DQ(e,t){var n=t&&t.getModel("textStyle");return us([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var wh=Fn();function MQ(e,t,n,r){if(e){var a=wh(e);a.prevValue=a.value,a.value=n;var i=t.normal;a.valueAnimation=i.get("valueAnimation"),a.valueAnimation&&(a.precision=i.get("precision"),a.defaultInterpolatedText=r,a.statesModels=t)}}function PQ(e,t,n,r,a){var i=wh(e);if(!i.valueAnimation||i.prevValue===i.value)return;var o=i.defaultInterpolatedText,s=Ut(i.interpolatedValue,i.prevValue),l=i.value;function u(c){var f=EV(n,i.precision,s,l,c);i.interpolatedValue=c===1?null:f;var d=pT({labelDataIndex:t,labelFetcher:a,defaultText:o?o(f):f+""},i.statesModels,f);TF(e,d)}e.percent=0,(i.prevValue==null?Xa:Hr)(e,{percent:1},r,t,null,u)}var LQ=["textStyle","color"],gb=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],yb=new rr,IQ=function(){function e(){}return e.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(LQ):null)},e.prototype.getFont=function(){return DQ({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<gb.length;r++)n[gb[r]]=this.getShallow(gb[r]);return yb.useStyle(n),yb.update(),yb.getBoundingRect()},e}();const RQ=IQ;var CF=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],OQ=Hp(CF),kQ=function(){function e(){}return e.prototype.getLineStyle=function(t){return OQ(this,t)},e}(),AF=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],NQ=Hp(AF),BQ=function(){function e(){}return e.prototype.getItemStyle=function(t,n){return NQ(this,t,n)},e}(),yf=function(){function e(t,n,r){this.parentModel=n,this.ecModel=r,this.option=t}return e.prototype.init=function(t,n,r){},e.prototype.mergeOption=function(t,n){Ze(this.option,t,!0)},e.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},e.prototype.getShallow=function(t,n){var r=this.option,a=r==null?r:r[t];if(a==null&&!n){var i=this.parentModel;i&&(a=i.getShallow(t))}return a},e.prototype.getModel=function(t,n){var r=t!=null,a=r?this.parsePath(t):null,i=r?this._doGet(a):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new e(i,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(tn(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Vt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,n){var r=this.option;if(!t)return r;for(var a=0;a<t.length&&!(t[a]&&(r=r&&typeof r=="object"?r[t[a]]:null,r==null));a++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(t),n.parentModel)),r},e}();Z2(yf);vZ(yf);Si(yf,kQ);Si(yf,BQ);Si(yf,_Z);Si(yf,RQ);const fr=yf;var VQ=Math.round(Math.random()*10);function x1(e){return[e||"",VQ++].join("_")}function FQ(e){var t={};e.registerSubTypeDefaulter=function(n,r){var a=cs(n);t[a.main]=r},e.determineSubType=function(n,r){var a=r.type;if(!a){var i=cs(n).main;e.hasSubTypes(n)&&t[i]&&(a=t[i](r))}return a}}function UQ(e,t){e.topologicalTravel=function(i,o,s,l){if(!i.length)return;var u=n(o),c=u.graph,f=u.noEntryList,d={};for(j(i,function(y){d[y]=!0});f.length;){var h=f.pop(),v=c[h],p=!!d[h];p&&(s.call(l,h,v.originalDeps.slice()),delete d[h]),j(v.successor,p?g:m)}j(d,function(){var y="";throw y=R0("Circular dependency may exists: ",d,i,o),new Error(y)});function m(y){c[y].entryCount--,c[y].entryCount===0&&f.push(y)}function g(y){d[y]=!0,m(y)}};function n(i){var o={},s=[];return j(i,function(l){var u=r(o,l),c=u.originalDeps=t(l),f=a(c,i);u.entryCount=f.length,u.entryCount===0&&s.push(l),j(f,function(d){Xt(u.predecessor,d)<0&&u.predecessor.push(d);var h=r(o,d);Xt(h.successor,d)<0&&h.successor.push(l)})}),{graph:o,noEntryList:s}}function r(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var s=[];return j(i,function(l){Xt(o,l)>=0&&s.push(l)}),s}}function EF(e,t){return Ze(Ze({},e,!0),t,!0)}const zQ={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},HQ={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var $0="ZH",uA="EN",Wp=uA,zy={},cA={},DF=Vt.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return e.indexOf($0)>-1?$0:Wp}():Wp;function MF(e,t){e=e.toUpperCase(),cA[e]=new fr(t),zy[e]=t}function $Q(e){if(ot(e)){var t=zy[e.toUpperCase()]||{};return e===$0||e===uA?tn(t):Ze(tn(t),tn(zy[Wp]),!1)}else return Ze(tn(e),tn(zy[Wp]),!1)}function GQ(e){return cA[e]}function WQ(){return cA[Wp]}MF(uA,zQ);MF($0,HQ);var fA=1e3,dA=fA*60,hp=dA*60,Zi=hp*24,tL=Zi*365,Gv={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},bg="{yyyy}-{MM}-{dd}",nL={year:"{yyyy}",month:"{yyyy}-{MM}",day:bg,hour:bg+" "+Gv.hour,minute:bg+" "+Gv.minute,second:bg+" "+Gv.second,millisecond:Gv.none},_b=["year","month","day","hour","minute","second","millisecond"],PF=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Va(e,t){return e+="","0000".substr(0,t-e.length)+e}function Bd(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function YQ(e){return e===Bd(e)}function jQ(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function b1(e,t,n,r){var a=Vo(e),i=a[hA(n)](),o=a[Vd(n)]()+1,s=Math.floor((o-1)/3)+1,l=a[w1(n)](),u=a["get"+(n?"UTC":"")+"Day"](),c=a[Yp(n)](),f=(c-1)%12+1,d=a[S1(n)](),h=a[T1(n)](),v=a[C1(n)](),p=r instanceof fr?r:GQ(r||DF)||WQ(),m=p.getModel("time"),g=m.get("month"),y=m.get("monthAbbr"),_=m.get("dayOfWeek"),x=m.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,Va(i%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,g[o-1]).replace(/{MMM}/g,y[o-1]).replace(/{MM}/g,Va(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Va(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Va(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Va(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Va(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Va(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Va(v,3)).replace(/{S}/g,v+"")}function XQ(e,t,n,r,a){var i=null;if(ot(n))i=n;else if(yt(n))i=n(e.value,t,{level:e.level});else{var o=Pe({},Gv);if(e.level>0)for(var s=0;s<_b.length;++s)o[_b[s]]="{primary|"+o[_b[s]]+"}";var l=n?n.inherit===!1?n:Ft(n,o):o,u=LF(e.value,a);if(l[u])i=l[u];else if(l.inherit){for(var c=PF.indexOf(u),s=c-1;s>=0;--s)if(l[u]){i=l[u];break}i=i||o.none}if(Be(i)){var f=e.level==null?0:e.level>=0?e.level:i.length+e.level;f=Math.min(f,i.length-1),i=i[f]}}return b1(new Date(e.value),i,a,r)}function LF(e,t){var n=Vo(e),r=n[Vd(t)]()+1,a=n[w1(t)](),i=n[Yp(t)](),o=n[S1(t)](),s=n[T1(t)](),l=n[C1(t)](),u=l===0,c=u&&s===0,f=c&&o===0,d=f&&i===0,h=d&&a===1,v=h&&r===1;return v?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function rL(e,t,n){var r=En(e)?Vo(e):e;switch(t=t||LF(e,n),t){case"year":return r[hA(n)]();case"half-year":return r[Vd(n)]()>=6?1:0;case"quarter":return Math.floor((r[Vd(n)]()+1)/4);case"month":return r[Vd(n)]();case"day":return r[w1(n)]();case"half-day":return r[Yp(n)]()/24;case"hour":return r[Yp(n)]();case"minute":return r[S1(n)]();case"second":return r[T1(n)]();case"millisecond":return r[C1(n)]()}}function hA(e){return e?"getUTCFullYear":"getFullYear"}function Vd(e){return e?"getUTCMonth":"getMonth"}function w1(e){return e?"getUTCDate":"getDate"}function Yp(e){return e?"getUTCHours":"getHours"}function S1(e){return e?"getUTCMinutes":"getMinutes"}function T1(e){return e?"getUTCSeconds":"getSeconds"}function C1(e){return e?"getUTCMilliseconds":"getMilliseconds"}function qQ(e){return e?"setUTCFullYear":"setFullYear"}function IF(e){return e?"setUTCMonth":"setMonth"}function RF(e){return e?"setUTCDate":"setDate"}function OF(e){return e?"setUTCHours":"setHours"}function kF(e){return e?"setUTCMinutes":"setMinutes"}function NF(e){return e?"setUTCSeconds":"setSeconds"}function BF(e){return e?"setUTCMilliseconds":"setMilliseconds"}function G0(e){if(!xV(e))return ot(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function VF(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var A1=$B;function mT(e,t,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(c){return c&&us(c)?c:"-"}function i(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=e instanceof Date;if(o||s){var l=o?Vo(e):e;if(isNaN(+l)){if(s)return"-"}else return b1(l,r,n)}if(t==="ordinal")return w0(e)?a(e):En(e)&&i(e)?e+"":"-";var u=I0(e);return i(u)?G0(u):w0(e)?a(e):typeof e=="boolean"?e+"":"-"}var aL=["a","b","c","d","e","f","g"],xb=function(e,t){return"{"+e+(t??"")+"}"};function vA(e,t,n){Be(t)||(t=[t]);var r=t.length;if(!r)return"";for(var a=t[0].$vars||[],i=0;i<a.length;i++){var o=aL[i];e=e.replace(xb(o),xb(o,0))}for(var s=0;s<r;s++)for(var l=0;l<a.length;l++){var u=t[s][a[l]];e=e.replace(xb(aL[l],s),n?qr(u):u)}return e}function FF(e,t){var n=ot(e)?{color:e,extraCssText:t}:e||{},r=n.color,a=n.type;t=n.extraCssText;var i=n.renderMode||"html";if(!r)return"";if(i==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+qr(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+qr(r)+";"+(t||"")+'"></span>';var o=n.markerId||"markerX";return{renderMode:i,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function ZQ(e,t,n){Dr("echarts.format.formatTime","echarts.time.format"),(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var r=Vo(t),a=n?"getUTC":"get",i=r[a+"FullYear"](),o=r[a+"Month"]()+1,s=r[a+"Date"](),l=r[a+"Hours"](),u=r[a+"Minutes"](),c=r[a+"Seconds"](),f=r[a+"Milliseconds"]();return e=e.replace("MM",Va(o,2)).replace("M",o).replace("yyyy",i).replace("yy",Va(i%100+"",2)).replace("dd",Va(s,2)).replace("d",s).replace("hh",Va(l,2)).replace("h",l).replace("mm",Va(u,2)).replace("m",u).replace("ss",Va(c,2)).replace("s",c).replace("SSS",Va(f,3)),e}function tf(e,t){return t=t||"transparent",ot(e)?e:lt(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function iL(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var Hy=j,UF=["left","right","top","bottom","width","height"],wg=[["width","left","right"],["height","top","bottom"]];function pA(e,t,n,r,a){var i=0,o=0;r==null&&(r=1/0),a==null&&(a=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),d=f&&f.getBoundingRect(),h,v;if(e==="horizontal"){var p=c.width+(d?-d.x+c.x:0);h=i+p,h>r||l.newline?(i=0,h=p,o+=s+n,s=c.height):s=Math.max(s,c.height)}else{var m=c.height+(d?-d.y+c.y:0);v=o+m,v>a||l.newline?(i+=s+n,o=0,v=m,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=i,l.y=o,l.markRedraw(),e==="horizontal"?i=h+n:o=v+n)})}var vp=pA;jn(pA,"vertical");jn(pA,"horizontal");function Fo(e,t,n){n=A1(n||0);var r=t.width,a=t.height,i=In(e.left,r),o=In(e.top,a),s=In(e.right,r),l=In(e.bottom,a),u=In(e.width,r),c=In(e.height,a),f=n[2]+n[0],d=n[1]+n[3],h=e.aspect;switch(isNaN(u)&&(u=r-s-d-i),isNaN(c)&&(c=a-l-f-o),h!=null&&(isNaN(u)&&isNaN(c)&&(h>r/a?u=r*.8:c=a*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(i)&&(i=r-s-u-d),isNaN(o)&&(o=a-l-c-f),e.left||e.right){case"center":i=r/2-u/2-n[3];break;case"right":i=r-u-d;break}switch(e.top||e.bottom){case"middle":case"center":o=a/2-c/2-n[0];break;case"bottom":o=a-c-f;break}i=i||0,o=o||0,isNaN(u)&&(u=r-d-i-(s||0)),isNaN(c)&&(c=a-f-o-(l||0));var v=new Wt(i+n[3],o+n[0],u,c);return v.margin=n,v}function KQ(e,t,n,r,a,i){var o=!a||!a.hv||a.hv[0],s=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all";if(i=i||e,i.x=e.x,i.y=e.y,!o&&!s)return!1;var u;if(l==="raw")u=e.type==="group"?new Wt(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Fo(Ft({width:u.width,height:u.height},t),n,r),d=o?f.x-u.x:0,h=s?f.y-u.y:0;return l==="raw"?(i.x=d,i.y=h):(i.x+=d,i.y+=h),i===e&&e.markRedraw(),!0}function jp(e){var t=e.layoutMode||e.constructor.layoutMode;return lt(t)?t:t?{type:t}:null}function nf(e,t,n){var r=n&&n.ignoreSize;!Be(r)&&(r=[r,r]);var a=o(wg[0],0),i=o(wg[1],1);u(wg[0],e,a),u(wg[1],e,i);function o(c,f){var d={},h=0,v={},p=0,m=2;if(Hy(c,function(_){v[_]=e[_]}),Hy(c,function(_){s(t,_)&&(d[_]=v[_]=t[_]),l(d,_)&&h++,l(v,_)&&p++}),r[f])return l(t,c[1])?v[c[2]]=null:l(t,c[2])&&(v[c[1]]=null),v;if(p===m||!h)return v;if(h>=m)return d;for(var g=0;g<c.length;g++){var y=c[g];if(!s(d,y)&&s(e,y)){d[y]=e[y];break}}return d}function s(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,d){Hy(c,function(h){f[h]=d[h]})}}function E1(e){return zF({},e)}function zF(e,t){return t&&e&&Hy(UF,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var QQ=Fn(),Sh=function(e){dt(t,e);function t(n,r,a){var i=e.call(this,n,r,a)||this;return i.uid=x1("ec_cpt_model"),i}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a)},t.prototype.mergeDefaultAndTheme=function(n,r){var a=jp(this),i=a?E1(n):{},o=r.getTheme();Ze(n,o.get(this.mainType)),Ze(n,this.getDefaultOption()),a&&nf(n,i,a)},t.prototype.mergeOption=function(n,r){Ze(this.option,n,!0);var a=jp(this);a&&nf(this.option,n,a)},t.prototype.optionUpdated=function(n,r){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!fZ(n))return n.defaultOption;var r=QQ(this);if(!r.defaultOption){for(var a=[],i=n;i;){var o=i.prototype.defaultOption;o&&a.push(o),i=i.superClass}for(var s={},l=a.length-1;l>=0;l--)s=Ze(s,a[l],!0);r.defaultOption=s}return r.defaultOption},t.prototype.getReferringComponents=function(n,r){var a=n+"Index",i=n+"Id";return Mm(this.ecModel,n,{index:this.get(a,!0),id:this.get(i,!0)},r)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(fr);MV(Sh,fr);c1(Sh);FQ(Sh);UQ(Sh,JQ);function JQ(e){var t=[];return j(Sh.getClassesByMainType(e),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=at(t,function(n){return cs(n).main}),e!=="dataset"&&Xt(t,"dataset")<=0&&t.unshift("dataset"),t}const en=Sh;var HF="";typeof navigator<"u"&&(HF=navigator.platform||"");var $f="rgba(0, 0, 0, 0.2)";const eJ={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:$f,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:$f,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:$f,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:$f,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:$f,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:$f,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:HF.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var gT=Dt(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),vo="original",vi="arrayRows",Ho="objectRows",Cs="keyedColumns",rl="typedArray",$F="unknown",ps="column",Th="row",ia={Must:1,Might:2,Not:3},GF=Fn();function tJ(e){GF(e).datasetMap=Dt()}function nJ(e,t,n){var r={},a=mA(t);if(!a||!e)return r;var i=[],o=[],s=t.ecModel,l=GF(s).datasetMap,u=a.uid+"_"+n.seriesLayoutBy,c,f;e=e.slice(),j(e,function(p,m){var g=lt(p)?p:e[m]={name:p};g.type==="ordinal"&&c==null&&(c=m,f=v(g)),r[g.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});j(e,function(p,m){var g=p.name,y=v(p);if(c==null){var _=d.valueWayDim;h(r[g],_,y),h(o,_,y),d.valueWayDim+=y}else if(c===m)h(r[g],0,y),h(i,0,y);else{var _=d.categoryWayDim;h(r[g],_,y),h(o,_,y),d.categoryWayDim+=y}});function h(p,m,g){for(var y=0;y<g;y++)p.push(m+y)}function v(p){var m=p.dimsDef;return m?m.length:1}return i.length&&(r.itemName=i),o.length&&(r.seriesName=o),r}function rJ(e,t,n){var r={},a=mA(e);if(!a)return r;var i=t.sourceFormat,o=t.dimensionsDefine,s;(i===Ho||i===Cs)&&j(o,function(c,f){(lt(c)?c.name:c)==="name"&&(s=f)});var l=function(){for(var c={},f={},d=[],h=0,v=Math.min(5,n);h<v;h++){var p=YF(t.data,i,t.seriesLayoutBy,o,t.startIndex,h);d.push(p);var m=p===ia.Not;if(m&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!m&&d[c.n]===ia.Not)&&(c.n=h),g(c)&&d[c.n]!==ia.Not)return c;m||(p===ia.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function g(y){return y.v!=null&&y.n!=null}return g(c)?c:g(f)?f:null}();if(l){r.value=[l.v];var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function mA(e){var t=e.get("data",!0);if(!t)return Mm(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Io).models[0]}function aJ(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:Mm(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Io).models}function WF(e,t){return YF(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function YF(e,t,n,r,a,i){var o,s=5;if(hi(e))return ia.Not;var l,u;if(r){var c=r[i];lt(c)?(l=c.name,u=c.type):ot(c)&&(l=c)}if(u!=null)return u==="ordinal"?ia.Must:ia.Not;if(t===vi){var f=e;if(n===Th){for(var d=f[i],h=0;h<(d||[]).length&&h<s;h++)if((o=x(d[a+h]))!=null)return o}else for(var h=0;h<f.length&&h<s;h++){var v=f[a+h];if(v&&(o=x(v[i]))!=null)return o}}else if(t===Ho){var p=e;if(!l)return ia.Not;for(var h=0;h<p.length&&h<s;h++){var m=p[h];if(m&&(o=x(m[l]))!=null)return o}}else if(t===Cs){var g=e;if(!l)return ia.Not;var d=g[l];if(!d||hi(d))return ia.Not;for(var h=0;h<d.length&&h<s;h++)if((o=x(d[h]))!=null)return o}else if(t===vo)for(var y=e,h=0;h<y.length&&h<s;h++){var m=y[h],_=Dm(m);if(!Be(_))return ia.Not;if((o=x(_[i]))!=null)return o}function x(w){var b=ot(w);if(w!=null&&isFinite(w)&&w!=="")return b?ia.Might:ia.Not;if(b&&w!=="-")return ia.Must}return ia.Not}var iJ=Dt();function oJ(e,t,n){var r=iJ.get(t);if(!r)return n;var a=r(e);if(!a)return n;for(var i=0;i<a.length;i++)_t(Kd(a[i]));return n.concat(a)}var oL=Fn();Fn();var gA=function(){function e(){}return e.prototype.getColorFromPalette=function(t,n,r){var a=Jr(this.get("color",!0)),i=this.get("colorLayer",!0);return lJ(this,oL,a,i,t,n,r)},e.prototype.clearColorPalette=function(){uJ(this,oL)},e}();function sJ(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function lJ(e,t,n,r,a,i,o){i=i||e;var s=t(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a))return u[a];var c=o==null||!r?n:sJ(r,o);if(c=c||n,!(!c||!c.length)){var f=c[l];return a&&(u[a]=f),s.paletteIdx=(l+1)%c.length,f}}function uJ(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var Sg,iv,sL,bb="\0_ec_inner",lL=1,cJ={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},fJ={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},W0={};function dJ(e){j(e,function(t,n){if(!en.hasClass(n)){var r=cJ[n];r&&!W0[r]&&(Ca("Component "+n+` is used but not imported.
import { `+r+` } from 'echarts/components';
echarts.use([`+r+"]);"),W0[r]=!0)}})}var jF=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n,r,a,i,o,s){i=i||{},this.option=null,this._theme=new fr(i),this._locale=new fr(o),this._optionManager=s},t.prototype.setOption=function(n,r,a){_t(n!=null,"option is null/undefined"),_t(n[bb]!==lL,"please use chart.getOption()");var i=fL(r);this._optionManager.setOption(n,a,i),this._resetOption(null,i)},t.prototype.resetOption=function(n,r){return this._resetOption(n,fL(r))},t.prototype._resetOption=function(n,r){var a=!1,i=this._optionManager;if(!n||n==="recreate"){var o=i.mountOption(n==="recreate");dJ(o),!this.option||n==="recreate"?sL(this,o):(this.restoreData(),this._mergeOption(o,r)),a=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=i.getTimelineOption(this);s&&(a=!0,this._mergeOption(s,r))}if(!n||n==="recreate"||n==="media"){var l=i.getMediaOption(this);l.length&&j(l,function(u){a=!0,this._mergeOption(u,r)},this)}return a},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,r){var a=this.option,i=this._componentsMap,o=this._componentsCount,s=[],l=Dt(),u=r&&r.replaceMergeMainTypeMap;tJ(this),j(n,function(f,d){f!=null&&(en.hasClass(d)?d&&(s.push(d),l.set(d,!0)):a[d]=a[d]==null?tn(f):Ze(a[d],f,!0))}),u&&u.each(function(f,d){en.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),en.topologicalTravel(s,en.getAllClassMainTypes(),c,this);function c(f){var d=oJ(this,f,Jr(n[f])),h=i.get(f),v=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",p=TV(h,d,v);aZ(p,f,en),a[f]=null,i.set(f,null),o.set(f,0);var m=[],g=[],y=0,_,x;j(p,function(w,b){var S=w.existing,C=w.newOption;if(!C)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var A=f==="series",M=en.getClass(f,w.keyInfo.subType,!A);if(!M){{var T=w.keyInfo.subType,E=fJ[T];W0[T]||(W0[T]=!0,Ca(E?"Series "+T+` is used but not imported.
import { `+E+` } from 'echarts/charts';
echarts.use([`+E+"]);":"Unknown series "+T))}return}if(f==="tooltip"){if(_){x||(Vr("Currently only one tooltip component is allowed."),x=!0);return}_=!0}if(S&&S.constructor===M)S.name=w.keyInfo.name,S.mergeOption(C,this),S.optionUpdated(C,!1);else{var P=Pe({componentIndex:b},w.keyInfo);S=new M(C,this,this,P),Pe(S,P),w.brandNew&&(S.__requireNewView=!0),S.init(C,this,this),S.optionUpdated(null,!0)}}S?(m.push(S.option),g.push(S),y++):(m.push(void 0),g.push(void 0))},this),a[f]=m,i.set(f,g),o.set(f,y),f==="series"&&Sg(this)}this._seriesIndices||Sg(this)},t.prototype.getOption=function(){var n=tn(this.option);return j(n,function(r,a){if(en.hasClass(a)){for(var i=Jr(r),o=i.length,s=!1,l=o-1;l>=0;l--)i[l]&&!Kd(i[l])?s=!0:(i[l]=null,!s&&o--);i.length=o,n[a]=i}}),delete n[bb],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,r){var a=this._componentsMap.get(n);if(a){var i=a[r||0];if(i)return i;if(r==null){for(var o=0;o<a.length;o++)if(a[o])return a[o]}}},t.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var a=n.index,i=n.id,o=n.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return a!=null?(l=[],j(Jr(a),function(u){s[u]&&l.push(s[u])})):i!=null?l=uL("id",i,s):o!=null?l=uL("name",o,s):l=gr(s,function(u){return!!u}),cL(l,n)},t.prototype.findComponents=function(n){var r=n.query,a=n.mainType,i=s(r),o=i?this.queryComponents(i):gr(this._componentsMap.get(a),function(u){return!!u});return l(cL(o,n));function s(u){var c=a+"Index",f=a+"Id",d=a+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:a,index:u[c],id:u[f],name:u[d]}:null}function l(u){return n.filter?gr(u,n.filter):u}},t.prototype.eachComponent=function(n,r,a){var i=this._componentsMap;if(yt(n)){var o=r,s=n;i.each(function(f,d){for(var h=0;f&&h<f.length;h++){var v=f[h];v&&s.call(o,d,v,v.componentIndex)}})}else for(var l=ot(n)?i.get(n):lt(n)?this.findComponents(n):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(a,c,c.componentIndex)}},t.prototype.getSeriesByName=function(n){var r=li(n,null);return gr(this._componentsMap.get("series"),function(a){return!!a&&r!=null&&a.name===r})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return gr(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},t.prototype.getSeries=function(){return gr(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,r){iv(this),j(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];n.call(r,i,a)},this)},t.prototype.eachRawSeries=function(n,r){j(this._componentsMap.get("series"),function(a){a&&n.call(r,a,a.componentIndex)})},t.prototype.eachSeriesByType=function(n,r,a){iv(this),j(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===n&&r.call(a,o,i)},this)},t.prototype.eachRawSeriesByType=function(n,r,a){return j(this.getSeriesByType(n),r,a)},t.prototype.isSeriesFiltered=function(n){return iv(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,r){iv(this);var a=[];j(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];n.call(r,o,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=Dt(a)},t.prototype.restoreData=function(n){Sg(this);var r=this._componentsMap,a=[];r.each(function(i,o){en.hasClass(o)&&a.push(o)}),en.topologicalTravel(a,en.getAllClassMainTypes(),function(i){j(r.get(i),function(o){o&&(i!=="series"||!hJ(o,n))&&o.restoreData()})})},t.internalField=function(){Sg=function(n){var r=n._seriesIndices=[];j(n._componentsMap.get("series"),function(a){a&&r.push(a.componentIndex)}),n._seriesIndicesMap=Dt(r)},iv=function(n){if(!n._seriesIndices)throw new Error("Option should contains series.")},sL=function(n,r){n.option={},n.option[bb]=lL,n._componentsMap=Dt({series:[]}),n._componentsCount=Dt();var a=r.aria;lt(a)&&a.enabled==null&&(a.enabled=!0),vJ(r,n._theme.option),Ze(r,eJ,!1),n._mergeOption(r,null)}}(),t}(fr);function hJ(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,a=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||a!=null&&e.name!==a}}function vJ(e,t){var n=e.color&&!e.colorLayer;j(t,function(r,a){a==="colorLayer"&&n||en.hasClass(a)||(typeof r=="object"?e[a]=e[a]?Ze(e[a],r,!1):tn(r):e[a]==null&&(e[a]=r))})}function uL(e,t,n){if(Be(t)){var r=Dt();return j(t,function(i){if(i!=null){var o=li(i,null);o!=null&&r.set(i,!0)}}),gr(n,function(i){return i&&r.get(i[e])})}else{var a=li(t,null);return gr(n,function(i){return i&&a!=null&&i[e]===a})}}function cL(e,t){return t.hasOwnProperty("subType")?gr(e,function(n){return n&&n.subType===t.subType}):e}function fL(e){var t=Dt();return e&&j(Jr(e.replaceMerge),function(n){_t(en.hasClass(n),'"'+n+'" is not valid component main type in "replaceMerge"'),t.set(n,!0)}),{replaceMergeMainTypeMap:t}}Si(jF,gA);const XF=jF;var pJ=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],mJ=function(){function e(t){j(pJ,function(n){this[n]=$n(t[n],t)},this)}return e}();const qF=mJ;var wb={},gJ=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,n){var r=[];j(wb,function(a,i){var o=a.create(t,n);r=r.concat(o||[])}),this._coordinateSystems=r},e.prototype.update=function(t,n){j(this._coordinateSystems,function(r){r.update&&r.update(t,n)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,n){wb[t]=n},e.get=function(t){return wb[t]},e}();const D1=gJ;var yJ=/^(min|max)?(.+)$/,_J=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,n,r){t&&(j(Jr(t.series),function(o){o&&o.data&&hi(o.data)&&S0(o.data)}),j(Jr(t.dataset),function(o){o&&o.source&&hi(o.source)&&S0(o.source)})),t=tn(t);var a=this._optionBackup,i=xJ(t,n,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],tn(t?n.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var n,r=this._timelineOptions;if(r.length){var a=t.getComponent("timeline");a&&(n=tn(r[a.getCurrentIndex()]))}return n},e.prototype.getMediaOption=function(t){var n=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!a.length&&!i)return s;for(var l=0,u=a.length;l<u;l++)bJ(a[l].query,n,r)&&o.push(l);return!o.length&&i&&(o=[-1]),o.length&&!SJ(o,this._currentMediaIndices)&&(s=at(o,function(c){return tn(c===-1?i.option:a[c].option)})),this._currentMediaIndices=o,s},e}();function xJ(e,t,n){var r=[],a,i,o=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,f=!!(l||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((f||c)&&(e.options=e.media=null),i=e),c&&(Be(u)?j(u,function(h){h&&!h.option&&lt(h.query)&&lt(h.query.option)&&Ca("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),h&&h.option&&(h.query?r.push(h):a||(a=h))}):Ca("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),d(i),j(l,function(h){return d(h)}),j(r,function(h){return d(h.option)});function d(h){j(t,function(v){v(h,n)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:a,mediaList:r}}function bJ(e,t,n){var r={width:t,height:n,aspectratio:t/n},a=!0;return j(e,function(i,o){var s=o.match(yJ);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();wJ(r[u],i,l)||(a=!1)}}),a}function wJ(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function SJ(e,t){return e.join(",")===t.join(",")}const TJ=_J;var Li=j,Xp=lt,dL=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Sb(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=dL.length;n<r;n++){var a=dL[n],i=t.normal,o=t.emphasis;i&&i[a]&&(Dr("itemStyle.normal."+a,a),e[a]=e[a]||{},e[a].normal?Ze(e[a].normal,i[a]):e[a].normal=i[a],i[a]=null),o&&o[a]&&(Dr("itemStyle.emphasis."+a,"emphasis."+a),e[a]=e[a]||{},e[a].emphasis?Ze(e[a].emphasis,o[a]):e[a].emphasis=o[a],o[a]=null)}}function pa(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,a=e[t].emphasis;r&&(bs("'normal' hierarchy in "+t+" has been removed since 4.0. All style properties are configured in "+t+" directly now."),n?(e[t].normal=e[t].emphasis=null,Ft(e[t],r)):e[t]=r),a&&(bs(t+".emphasis has been changed to emphasis."+t+" since 4.0"),e.emphasis=e.emphasis||{},e.emphasis[t]=a,a.focus&&(e.emphasis.focus=a.focus),a.blurScope&&(e.emphasis.blurScope=a.blurScope))}}function Wv(e){pa(e,"itemStyle"),pa(e,"lineStyle"),pa(e,"areaStyle"),pa(e,"label"),pa(e,"labelLine"),pa(e,"upperLabel"),pa(e,"edgeLabel")}function mr(e,t){var n=Xp(e)&&e[t],r=Xp(n)&&n.textStyle;if(r){bs("textStyle hierarchy in "+t+" has been removed since 4.0. All textStyle properties are configured in "+t+" directly now.");for(var a=0,i=fP.length;a<i;a++){var o=fP[a];r.hasOwnProperty(o)&&(n[o]=r[o])}}}function Vi(e){e&&(Wv(e),mr(e,"label"),e.emphasis&&mr(e.emphasis,"label"))}function CJ(e){if(Xp(e)){Sb(e),Wv(e),mr(e,"label"),mr(e,"upperLabel"),mr(e,"edgeLabel"),e.emphasis&&(mr(e.emphasis,"label"),mr(e.emphasis,"upperLabel"),mr(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(Sb(t),Vi(t));var n=e.markLine;n&&(Sb(n),Vi(n));var r=e.markArea;r&&Vi(r);var a=e.data;if(e.type==="graph"){a=a||e.nodes;var i=e.links||e.edges;if(i&&!hi(i))for(var o=0;o<i.length;o++)Vi(i[o]);j(e.categories,function(u){Wv(u)})}if(a&&!hi(a))for(var o=0;o<a.length;o++)Vi(a[o]);if(t=e.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)Vi(s[o]);if(n=e.markLine,n&&n.data)for(var l=n.data,o=0;o<l.length;o++)Be(l[o])?(Vi(l[o][0]),Vi(l[o][1])):Vi(l[o]);e.type==="gauge"?(mr(e,"axisLabel"),mr(e,"title"),mr(e,"detail")):e.type==="treemap"?(pa(e.breadcrumb,"itemStyle"),j(e.levels,function(u){Wv(u)})):e.type==="tree"&&Wv(e.leaves)}}function Is(e){return Be(e)?e:e?[e]:[]}function hL(e){return(Be(e)?e[0]:e)||{}}function AJ(e,t){Li(Is(e.series),function(r){Xp(r)&&CJ(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Li(n,function(r){Li(Is(e[r]),function(a){a&&(mr(a,"axisLabel"),mr(a.axisPointer,"label"))})}),Li(Is(e.parallel),function(r){var a=r&&r.parallelAxisDefault;mr(a,"axisLabel"),mr(a&&a.axisPointer,"label")}),Li(Is(e.calendar),function(r){pa(r,"itemStyle"),mr(r,"dayLabel"),mr(r,"monthLabel"),mr(r,"yearLabel")}),Li(Is(e.radar),function(r){mr(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name,bs("name property in radar component has been changed to axisName")),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap,bs("nameGap property in radar component has been changed to axisNameGap")),Li(r.indicator,function(a){a.text&&Dr("text","name","radar.indicator")})}),Li(Is(e.geo),function(r){Xp(r)&&(Vi(r),Li(Is(r.regions),function(a){Vi(a)}))}),Li(Is(e.timeline),function(r){Vi(r),pa(r,"label"),pa(r,"itemStyle"),pa(r,"controlStyle",!0);var a=r.data;Be(a)&&j(a,function(i){lt(i)&&(pa(i,"label"),pa(i,"itemStyle"))})}),Li(Is(e.toolbox),function(r){pa(r,"iconStyle"),Li(r.feature,function(a){pa(a,"iconStyle")})}),mr(hL(e.axisPointer),"label"),mr(hL(e.tooltip).axisPointer,"label")}function EJ(e,t){for(var n=t.split(","),r=e,a=0;a<n.length&&(r=r&&r[n[a]],r!=null);a++);return r}function DJ(e,t,n,r){for(var a=t.split(","),i=e,o,s=0;s<a.length-1;s++)o=a[s],i[o]==null&&(i[o]={}),i=i[o];(r||i[a[s]]==null)&&(i[a[s]]=n)}function vL(e){e&&j(MJ,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var MJ=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],PJ=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Tb=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ov(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<Tb.length;n++){var r=Tb[n][1],a=Tb[n][0];t[r]!=null&&(t[a]=t[r],Dr(r,a))}}function pL(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(Dr("label.margin","label.edgeDistance","pie"),e.edgeDistance=e.margin)}function mL(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay,Dr("downplay","blur","sunburst"))}function LJ(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(Dr("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),e.emphasis.focus="adjacency"))}function ZF(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&ZF(e[n].children,t)}function KF(e,t){AJ(e,t),e.series=Jr(e.series),j(e.series,function(n){if(lt(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow,Dr("clipOverflow","clip","line"));else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise,Dr("clockWise","clockwise")),pL(n.label);var a=n.data;if(a&&!hi(a))for(var i=0;i<a.length;i++)pL(a[i]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(Dr("hoverOffset","emphasis.scaleSize"),n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var o=EJ(n,"pointer.color");o!=null&&DJ(n,"itemStyle.color",o)}else if(r==="bar"){ov(n),ov(n.backgroundStyle),ov(n.emphasis);var a=n.data;if(a&&!hi(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(ov(a[i]),ov(a[i]&&a[i].emphasis))}else if(r==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s,Dr("highlightPolicy","emphasis.focus","sunburst"))),mL(n),ZF(n.data,mL)}else r==="graph"||r==="sankey"?LJ(n):r==="map"&&(n.mapType&&!n.map&&(Dr("mapType","map","map"),n.map=n.mapType),n.mapLocation&&(bs("`mapLocation` is not used anymore."),Ft(n,n.mapLocation)));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(Dr("hoverAnimation","emphasis.scale"),n.emphasis.scale=n.hoverAnimation)),vL(n)}}),e.dataRange&&(e.visualMap=e.dataRange),j(PJ,function(n){var r=e[n];r&&(Be(r)||(r=[r]),j(r,function(a){vL(a)}))})}function IJ(e){var t=Dt();e.eachSeries(function(n){var r=n.get("stack");if(r){var a=t.get(r)||t.set(r,[]),i=n.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:n};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),t.each(RJ)}function RJ(e){j(e,function(t,n){var r=[],a=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(u,c,f){var d=o.get(t.stackedDimension,f);if(isNaN(d))return a;var h,v;s?v=o.getRawIndex(f):h=o.get(t.stackedByDimension,f);for(var p=NaN,m=n-1;m>=0;m--){var g=e[m];if(s||(v=g.data.rawIndexOf(g.stackedByDimension,h)),v>=0){var y=g.data.getByRawIndex(g.stackResultDimension,v);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&d>=0&&y>0||l==="samesign"&&d<=0&&y<0){d=Gq(d,y),p=y;break}}}return r[0]=d,r[1]=p,r})})}var M1=function(){function e(t){this.data=t.data||(t.sourceFormat===Cs?{}:[]),this.sourceFormat=t.sourceFormat||$F,this.seriesLayoutBy=t.seriesLayoutBy||ps,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var a=n[r];a.type==null&&WF(this,r)===ia.Must&&(a.type="ordinal")}}return e}();function yA(e){return e instanceof M1}function yT(e,t,n){n=n||QF(e);var r=t.seriesLayoutBy,a=kJ(e,n,r,t.sourceHeader,t.dimensions),i=new M1({data:e,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:tn(t)});return i}function _A(e){return new M1({data:e,sourceFormat:hi(e)?rl:vo})}function OJ(e){return new M1({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:tn(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function QF(e){var t=$F;if(hi(e))t=rl;else if(Be(e)){e.length===0&&(t=vi);for(var n=0,r=e.length;n<r;n++){var a=e[n];if(a!=null){if(Be(a)){t=vi;break}else if(lt(a)){t=Ho;break}}}}else if(lt(e)){for(var i in e)if(bt(e,i)&&Za(e[i])){t=Cs;break}}return t}function kJ(e,t,n,r,a){var i,o;if(!e)return{dimensionsDefine:gL(a),startIndex:o,dimensionsDetectedCount:i};if(t===vi){var s=e;r==="auto"||r==null?yL(function(u){u!=null&&u!=="-"&&(ot(u)?o==null&&(o=1):o=0)},n,s,10):o=En(r)?r:r?1:0,!a&&o===1&&(a=[],yL(function(u,c){a[c]=u!=null?u+"":""},n,s,1/0)),i=a?a.length:n===Th?s.length:s[0]?s[0].length:null}else if(t===Ho)a||(a=NJ(e));else if(t===Cs)a||(a=[],j(e,function(u,c){a.push(c)}));else if(t===vo){var l=Dm(e[0]);i=Be(l)&&l.length||1}else t===rl&&_t(!!a,"dimensions must be given if data is TypedArray.");return{startIndex:o,dimensionsDefine:gL(a),dimensionsDetectedCount:i}}function NJ(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n)return ln(n)}function gL(e){if(e){var t=Dt();return at(e,function(n,r){n=lt(n)?n:{name:n};var a={name:n.name,displayName:n.displayName,type:n.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=t.get(a.name);return i?a.name+="-"+i.count++:t.set(a.name,{count:1}),a})}}function yL(e,t,n,r){if(t===Th)for(var a=0;a<n.length&&a<r;a++)e(n[a]?n[a][0]:null,a);else for(var i=n[0]||[],a=0;a<i.length&&a<r;a++)e(i[a],a)}function JF(e){var t=e.sourceFormat;return t===Ho||t===Cs}var Yu,ju,Xu,_L,xL,e5=function(){function e(t,n){var r=yA(t)?t:_A(t);this._source=r;var a=this._data=r.data;if(r.sourceFormat===rl){if(n==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=n,this._data=a}xL(this,a,r)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,n){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;xL=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=_L[xA(u,c)];if(_t(h,"Invalide sourceFormat: "+u),Pe(o,h),u===rl)o.getItem=n,o.count=a,o.fillStorage=r;else{var v=t5(u,c);o.getItem=$n(v,null,s,f,d);var p=n5(u,c);o.count=$n(p,null,s,f,d)}};var n=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},r=function(o,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],v=h[0]==null?1/0:h[0],p=h[1]==null?-1/0:h[1],m=s-o,g=l[d],y=0;y<m;y++){var _=c[y*f+d];g[o+y]=_,_<v&&(v=_),_>p&&(p=_)}h[0]=v,h[1]=p}},a=function(){return this._data?this._data.length/this._dimSize:0};_L=(t={},t[vi+"_"+ps]={pure:!0,appendData:i},t[vi+"_"+Th]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Ho]={pure:!0,appendData:i},t[Cs]={pure:!0,appendData:function(o){var s=this._data;j(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[vo]={appendData:i},t[rl]={persistent:!1,pure:!0,appendData:function(o){_t(hi(o),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),e}(),bL=function(e,t,n,r){return e[r]},BJ=(Yu={},Yu[vi+"_"+ps]=function(e,t,n,r){return e[r+t]},Yu[vi+"_"+Th]=function(e,t,n,r,a){r+=t;for(var i=a||[],o=e,s=0;s<o.length;s++){var l=o[s];i[s]=l?l[r]:null}return i},Yu[Ho]=bL,Yu[Cs]=function(e,t,n,r,a){for(var i=a||[],o=0;o<n.length;o++){var s=n[o].name;if(s==null)throw new Error;var l=e[s];i[o]=l?l[r]:null}return i},Yu[vo]=bL,Yu);function t5(e,t){var n=BJ[xA(e,t)];return _t(n,'Do not support get item on "'+e+'", "'+t+'".'),n}var wL=function(e,t,n){return e.length},VJ=(ju={},ju[vi+"_"+ps]=function(e,t,n){return Math.max(0,e.length-t)},ju[vi+"_"+Th]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},ju[Ho]=wL,ju[Cs]=function(e,t,n){var r=n[0].name;if(r==null)throw new Error;var a=e[r];return a?a.length:0},ju[vo]=wL,ju);function n5(e,t){var n=VJ[xA(e,t)];return _t(n,'Do not support count on "'+e+'", "'+t+'".'),n}var Cb=function(e,t,n){return e[t]},FJ=(Xu={},Xu[vi]=Cb,Xu[Ho]=function(e,t,n){return e[n]},Xu[Cs]=Cb,Xu[vo]=function(e,t,n){var r=Dm(e);return r instanceof Array?r[t]:r},Xu[rl]=Cb,Xu);function r5(e){var t=FJ[e];return _t(t,'Do not support get value on "'+e+'".'),t}function xA(e,t){return e===vi?e+"_"+t:e}function Jd(e,t,n){if(e){var r=e.getRawDataItem(t);if(r!=null){var a=e.getStore(),i=a.getSource().sourceFormat;if(n!=null){var o=e.getDimensionIndex(n),s=a.getDimensionProperty(o);return r5(i)(r,o,s)}else{var l=r;return i===vo&&(l=Dm(r)),l}}}}var UJ=/\{@(.+?)\}/g,zJ=function(){function e(){}return e.prototype.getDataParams=function(t,n){var r=this.getData(n),a=this.getRawValue(t,n),i=r.getRawIndex(t),o=r.getName(t),s=r.getRawDataItem(t),l=r.getItemVisual(t,"style"),u=l&&l[r.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:i,data:s,dataType:n,value:a,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,n,r,a,i,o){n=n||"normal";var s=this.getData(r),l=this.getDataParams(t,r);if(o&&(l.value=o.interpolatedValue),a!=null&&Be(l.value)&&(l.value=l.value[a]),!i){var u=s.getItemModel(t);i=u.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(yt(i))return l.status=n,l.dimensionIndex=a,i(l);if(ot(i)){var c=vA(i,l);return c.replace(UJ,function(f,d){var h=d.length,v=d;v.charAt(0)==="["&&v.charAt(h-1)==="]"&&(v=+v.slice(1,h-1),isNaN(v)&&Ca("Invalide label formatter: @"+d+", only support @[0], @[1], @[2], ..."));var p=Jd(s,t,v);if(o&&Be(o.interpolatedValue)){var m=s.getDimensionIndex(v);m>=0&&(p=o.interpolatedValue[m])}return p!=null?p+"":""})}},e.prototype.getRawValue=function(t,n){return Jd(this.getData(n),t)},e.prototype.formatTooltip=function(t,n,r){},e}();function SL(e){var t,n;return lt(e)?e.type?n=e:console.warn("The return type of `formatTooltip` is not supported: "+R0(e)):t=e,{text:t,frag:n}}function pp(e){return new HJ(e)}var HJ=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(i="reset");function c(y){return!(y>=1)&&(y=1),y}var f;(this._dirty||i==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var d=t&&t.step;if(n?(_t(n._outputDueEnd!=null),this._dueEnd=n._outputDueEnd):(_t(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var h=this._dueIndex,v=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(f||h<v)){var p=this._progress;if(Be(p))for(var m=0;m<p.length;m++)this._doProgress(p[m],h,v,l,u);else this._doProgress(p,h,v,l,u)}this._dueIndex=v;var g=this._settedOutputEnd!=null?this._settedOutputEnd:v;_t(g>=this._outputDueEnd),this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,n,r,a,i){TL.reset(n,r,a,i),this._callingProgress=t,this._callingProgress({start:n,end:r,count:r-n,next:TL.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),Be(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),r},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){_t(t&&!t._disposed&&t!==this),(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),TL=function(){var e,t,n,r,a,i={reset:function(l,u,c,f){t=l,e=u,n=c,r=f,a=Math.ceil(r/n),i.next=n>1&&r>0?s:o}};return i;function o(){return t<e?t++:null}function s(){var l=t%a*n+Math.ceil(t/a),u=t>=e?null:l<r?l:t;return t++,u}}();function $y(e,t){var n=t&&t.type;return n==="ordinal"?e:(n==="time"&&!En(e)&&e!=null&&e!=="-"&&(e=+Vo(e)),e==null||e===""?NaN:+e)}Dt({number:function(e){return parseFloat(e)},time:function(e){return+Vo(e)},trim:function(e){return ot(e)?us(e):e}});var $J=function(){function e(t,n){var r=t==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,n){var r=En(t)?t:I0(t),a=En(n)?n:I0(n),i=isNaN(r),o=isNaN(a);if(i&&(r=this._incomparable),o&&(a=this._incomparable),i&&o){var s=ot(t),l=ot(n);s&&(r=l?t:0),l&&(a=s?n:0)}return r<a?this._resultLT:r>a?-this._resultLT:0},e}(),GJ=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,n){},e.prototype.retrieveValueFromItem=function(t,n){},e.prototype.convertValue=function(t,n){return $y(t,n)},e}();function WJ(e,t){var n=new GJ,r=e.data,a=n.sourceFormat=e.sourceFormat,i=e.startIndex,o="";e.seriesLayoutBy!==ps&&(o='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',ai(o));var s=[],l={},u=e.dimensionsDefine;if(u)j(u,function(p,m){var g=p.name,y={index:m,name:g,displayName:p.displayName};if(s.push(y),g!=null){var _="";bt(l,g)&&(_='dimension name "'+g+'" duplicated.',ai(_)),l[g]=y}});else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var f=t5(a,ps);t.__isBuiltIn&&(n.getRawDataItem=function(p){return f(r,i,s,p)},n.getRawData=$n(YJ,null,e)),n.cloneRawData=$n(jJ,null,e);var d=n5(a,ps);n.count=$n(d,null,r,i,s);var h=r5(a);n.retrieveValue=function(p,m){var g=f(r,i,s,p);return v(g,m)};var v=n.retrieveValueFromItem=function(p,m){if(p!=null){var g=s[m];if(g)return h(p,m,g.name)}};return n.getDimensionInfo=$n(XJ,null,s,l),n.cloneAllDimensionInfo=$n(qJ,null,s),n}function YJ(e){var t=e.sourceFormat;if(!bA(t)){var n="";n="`getRawData` is not supported in source format "+t,ai(n)}return e.data}function jJ(e){var t=e.sourceFormat,n=e.data;if(!bA(t)){var r="";r="`cloneRawData` is not supported in source format "+t,ai(r)}if(t===vi){for(var a=[],i=0,o=n.length;i<o;i++)a.push(n[i].slice());return a}else if(t===Ho){for(var a=[],i=0,o=n.length;i<o;i++)a.push(Pe({},n[i]));return a}}function XJ(e,t,n){if(n!=null){if(En(n)||!isNaN(n)&&!bt(t,n))return e[n];if(bt(t,n))return t[n]}}function qJ(e){return tn(e)}var a5=Dt();function ZJ(e){e=tn(e);var t=e.type,n="";t||(n="Must have a `type` when `registerTransform`.",ai(n));var r=t.split(":");r.length!==2&&(n='Name must include namespace like "ns:regression".',ai(n));var a=!1;r[0]==="echarts"&&(t=r[1],a=!0),e.__isBuiltIn=a,a5.set(t,e)}function KJ(e,t,n){var r=Jr(e),a=r.length,i="";a||(i="If `transform` declared, it should at least contain one transform.",ai(i));for(var o=0,s=a;o<s;o++){var l=r[o];t=QJ(l,t,n,a===1?null:o),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function QJ(e,t,n,r){var a="";t.length||(a="Must have at least one upstream dataset.",ai(a)),lt(e)||(a="transform declaration must be an object rather than "+typeof e+".",ai(a));var i=e.type,o=a5.get(i);o||(a='Can not find transform on type "'+i+'".',ai(a));var s=at(t,function(c){return WJ(c,o)}),l=Jr(o.transform({upstream:s[0],upstreamList:s,config:tn(e.config)}));if(e.print){var u=at(l,function(c){var f=r!=null?" === pipe index: "+r:"";return["=== dataset index: "+n.datasetIndex+f+" ===","- transform result data:",R0(c.data),"- transform result dimensions:",R0(c.dimensions)].join(`
`)}).join(`
`);qq(u)}return at(l,function(c,f){var d="";lt(c)||(d="A transform should not return some empty results.",ai(d)),c.data||(d="Transform result data should be not be null or undefined",ai(d));var h=QF(c.data);bA(h)||(d="Transform result data should be array rows or object rows.",ai(d));var v,p=t[0];if(p&&f===0&&!c.dimensions){var m=p.startIndex;m&&(c.data=p.data.slice(0,m).concat(c.data)),v={seriesLayoutBy:ps,sourceHeader:m,dimensions:p.metaRawOption.dimensions}}else v={seriesLayoutBy:ps,sourceHeader:0,dimensions:c.dimensions};return yT(c.data,v,null)})}function bA(e){return e===vi||e===Ho}var P1="undefined",JJ=typeof Uint32Array===P1?Array:Uint32Array,eee=typeof Uint16Array===P1?Array:Uint16Array,i5=typeof Int32Array===P1?Array:Int32Array,CL=typeof Float64Array===P1?Array:Float64Array,o5={float:CL,int:i5,ordinal:Array,number:Array,time:CL},Ab;function sv(e){return e>65535?JJ:eee}function Gf(){return[1/0,-1/0]}function tee(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function AL(e,t,n,r,a){var i=o5[n||"float"];if(a){var o=e[t],s=o&&o.length;if(s!==r){for(var l=new i(r),u=0;u<s;u++)l[u]=o[u];e[t]=l}}else e[t]=new i(r)}var _T=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Dt()}return e.prototype.initData=function(t,n,r){_t(yt(t.getItem)&&yt(t.count),"Invalid data provider."),this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=t.getSource(),i=this.defaultDimValueGetter=Ab[a.sourceFormat];this._dimValueGetter=r||i,this._rawExtent=[];var o=JF(a);this._dimensions=at(n,function(s){return o&&_t(s.property!=null),{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,n){var r=this._calcDimNameToIdx,a=this._dimensions,i=r.get(t);if(i!=null){if(a[i].type===n)return i}else i=a.length;return a[i]={type:n},r.set(t,i),this._chunks[i]=new o5[n||"float"](this._rawCount),this._rawExtent[i]=Gf(),i},e.prototype.collectOrdinalMeta=function(t,n){var r=this._chunks[t],a=this._dimensions[t],i=this._rawExtent,o=a.ordinalOffset||0,s=r.length;o===0&&(i[t]=Gf());for(var l=i[t],u=o;u<s;u++){var c=r[u]=n.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}a.ordinalMeta=n,a.ordinalOffset=s,a.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],r=n.ordinalMeta;return r},e.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},e.prototype.appendData=function(t){_t(!this._indices,"appendData can only be called on raw data.");var n=this._provider,r=this.count();n.appendData(t);var a=n.count();return n.persistent||(a+=r),r<a&&this._initDataFromProvider(r,a,!0),[r,a]},e.prototype.appendValues=function(t,n){for(var r=this._chunks,a=this._dimensions,i=a.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,n||0),u=0;u<i;u++){var c=a[u];AL(r,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,v=0;v<i;v++){var c=a[v],p=Ab.arrayRows.call(this,t[h]||f,c.property,h,v);r[v][d]=p;var m=o[v];p<m[0]&&(m[0]=p),p>m[1]&&(m[1]=p)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(t,n,r){for(var a=this._provider,i=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=at(o,function(y){return y.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=Gf()),AL(i,c,f.type,n,r)}if(a.fillStorage)a.fillStorage(t,n,i,l);else for(var d=[],h=t;h<n;h++){d=a.getItem(h,d);for(var v=0;v<s;v++){var p=i[v],m=this._dimValueGetter(d,u[v],h,v);p[h]=m;var g=l[v];m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=n,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(n)]:NaN},e.prototype.getValues=function(t,n){var r=[],a=[];if(n==null){n=t,t=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=t;for(var i=0,o=a.length;i<o;i++)r.push(this.get(a[i],n));return r},e.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[t];return r?r[n]:NaN},e.prototype.getSum=function(t){var n=this._chunks[t],r=0;if(n)for(var a=0,i=this.count();a<i;a++){var o=this.get(t,a);isNaN(o)||(r+=o)}return r},e.prototype.getMedian=function(t){var n=[];this.each([t],function(i){isNaN(i)||n.push(i)});var r=n.sort(function(i,o){return i-o}),a=this.count();return a===0?0:a%2===1?r[(a-1)/2]:(r[a/2]+r[a/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,r=n[t];if(r!=null&&r<this._count&&r===t)return t;for(var a=0,i=this._count-1;a<=i;){var o=(a+i)/2|0;if(n[o]<t)a=o+1;else if(n[o]>t)i=o-1;else return o}return-1},e.prototype.indicesOfNearest=function(t,n,r){var a=this._chunks,i=a[t],o=[];if(!i)return o;r==null&&(r=1/0);for(var s=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var d=this.getRawIndex(c),h=n-i[d],v=Math.abs(h);v<=r&&((v<s||v===s&&h>=0&&l<0)&&(s=v,l=h,u=0),h===l&&(o[u++]=c))}return o.length=u,o},e.prototype.getIndices=function(){var t,n=this._indices;if(n){var r=n.constructor,a=this._count;if(r===Array){t=new r(a);for(var i=0;i<a;i++)t[i]=n[i]}else t=new r(n.buffer,0,a)}else{var r=sv(this._rawCount);t=new r(this.count());for(var i=0;i<t.length;i++)t[i]=i}return t},e.prototype.filter=function(t,n){if(!this._count)return this;for(var r=this.clone(),a=r.count(),i=sv(r._rawCount),o=new i(a),s=[],l=t.length,u=0,c=t[0],f=r._chunks,d=0;d<a;d++){var h=void 0,v=r.getRawIndex(d);if(l===0)h=n(d);else if(l===1){var p=f[c][v];h=n(p,d)}else{for(var m=0;m<l;m++)s[m]=f[t[m]][v];s[m]=d,h=n.apply(null,s)}h&&(o[u++]=v)}return u<a&&(r._indices=o),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.selectRange=function(t){var n=this.clone(),r=n._count;if(!r)return this;var a=ln(t),i=a.length;if(!i)return this;var o=n.count(),s=sv(n._rawCount),l=new s(o),u=0,c=a[0],f=t[c][0],d=t[c][1],h=n._chunks,v=!1;if(!n._indices){var p=0;if(i===1){for(var m=h[a[0]],g=0;g<r;g++){var y=m[g];(y>=f&&y<=d||isNaN(y))&&(l[u++]=p),p++}v=!0}else if(i===2){for(var m=h[a[0]],_=h[a[1]],x=t[a[1]][0],w=t[a[1]][1],g=0;g<r;g++){var y=m[g],b=_[g];(y>=f&&y<=d||isNaN(y))&&(b>=x&&b<=w||isNaN(b))&&(l[u++]=p),p++}v=!0}}if(!v)if(i===1)for(var g=0;g<o;g++){var S=n.getRawIndex(g),y=h[a[0]][S];(y>=f&&y<=d||isNaN(y))&&(l[u++]=S)}else for(var g=0;g<o;g++){for(var C=!0,S=n.getRawIndex(g),A=0;A<i;A++){var M=a[A],y=h[M][S];(y<t[M][0]||y>t[M][1])&&(C=!1)}C&&(l[u++]=n.getRawIndex(g))}return u<o&&(n._indices=l),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.map=function(t,n){var r=this.clone(t);return this._updateDims(r,t,n),r},e.prototype.modify=function(t,n){this._updateDims(this,t,n)},e.prototype._updateDims=function(t,n,r){for(var a=t._chunks,i=[],o=n.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<n.length;c++)u[n[c]]=Gf();for(var f=0;f<s;f++){for(var d=t.getRawIndex(f),h=0;h<o;h++)l[h]=a[n[h]][d];l[o]=f;var v=r&&r.apply(null,l);if(v!=null){typeof v!="object"&&(i[0]=v,v=i);for(var c=0;c<v.length;c++){var p=n[c],m=v[c],g=u[p],y=a[p];y&&(y[d]=m),m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}}},e.prototype.lttbDownSample=function(t,n){var r=this.clone([t],!0),a=r._chunks,i=a[t],o=this.count(),s=0,l=Math.floor(1/n),u=this.getRawIndex(0),c,f,d,h=new(sv(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));h[s++]=u;for(var v=1;v<o-1;v+=l){for(var p=Math.min(v+l,o-1),m=Math.min(v+l*2,o),g=(m+p)/2,y=0,_=p;_<m;_++){var x=this.getRawIndex(_),w=i[x];isNaN(w)||(y+=w)}y/=m-p;var b=v,S=Math.min(v+l,o),C=v-1,A=i[u];c=-1,d=b;for(var M=-1,T=0,_=b;_<S;_++){var x=this.getRawIndex(_),w=i[x];if(isNaN(w)){T++,M<0&&(M=x);continue}f=Math.abs((C-g)*(w-A)-(C-_)*(y-A)),f>c&&(c=f,d=x)}T>0&&T<S-b&&(h[s++]=Math.min(M,d),d=Math.max(M,d)),h[s++]=d,u=d}return h[s++]=this.getRawIndex(o-1),r._count=s,r._indices=h,r.getRawIndex=this._getRawIdx,r},e.prototype.downSample=function(t,n,r,a){for(var i=this.clone([t],!0),o=i._chunks,s=[],l=Math.floor(1/n),u=o[t],c=this.count(),f=i._rawExtent[t]=Gf(),d=new(sv(this._rawCount))(Math.ceil(c/l)),h=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,s.length=l);for(var p=0;p<l;p++){var m=this.getRawIndex(v+p);s[p]=u[m]}var g=r(s),y=this.getRawIndex(Math.min(v+a(s,g)||0,c-1));u[y]=g,g<f[0]&&(f[0]=g),g>f[1]&&(f[1]=g),d[h++]=y}return i._count=h,i._indices=d,i._updateGetRawIdx(),i},e.prototype.each=function(t,n){if(this._count)for(var r=t.length,a=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(r){case 0:n(i);break;case 1:n(a[t[0]][s],i);break;case 2:n(a[t[0]][s],a[t[1]][s],i);break;default:for(var l=0,u=[];l<r;l++)u[l]=a[t[l]][s];u[l]=i,n.apply(null,u)}}},e.prototype.getDataExtent=function(t){var n=this._chunks[t],r=Gf();if(!n)return r;var a=this.count(),i=!this._indices,o;if(i)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=r;for(var s=o[0],l=o[1],u=0;u<a;u++){var c=this.getRawIndex(u),f=n[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[t]=o,o},e.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],a=this._chunks,i=0;i<a.length;i++)r.push(a[i][n]);return r},e.prototype.clone=function(t,n){var r=new e,a=this._chunks,i=t&&_s(t,function(s,l){return s[l]=!0,s},{});if(i)for(var o=0;o<a.length;o++)r._chunks[o]=i[o]?tee(a[o]):a[o];else r._chunks=a;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=tn(this._extent),t._rawExtent=tn(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var r=this._indices.length;n=new t(r);for(var a=0;a<r;a++)n[a]=this._indices[a]}else n=new t(this._indices);return n}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(n,r,a,i){return $y(n[i],this._dimensions[i])}Ab={arrayRows:t,objectRows:function(n,r,a,i){return $y(n[r],this._dimensions[i])},keyedColumns:t,original:function(n,r,a,i){var o=n&&(n.value==null?n:n.value);return $y(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(n,r,a,i){return n[i]}}}(),e}(),s5=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,a,i;if(lv(t)){var o=t,s=void 0,l=void 0,u=void 0;if(r){var c=n[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,i=[c._getVersionSign()]}else s=o.get("data",!0),l=hi(s)?rl:vo,i=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=Ut(f.seriesLayoutBy,d.seriesLayoutBy)||null,v=Ut(f.sourceHeader,d.sourceHeader),p=Ut(f.dimensions,d.dimensions),m=h!==d.seriesLayoutBy||!!v!=!!d.sourceHeader||p;a=m?[yT(s,{seriesLayoutBy:h,sourceHeader:v,dimensions:p},l)]:[]}else{var g=t;if(r){var y=this._applyTransform(n);a=y.sourceList,i=y.upstreamSignList}else{var _=g.get("source",!0);a=[yT(_,this._getSourceMetaRawOption(),null)],i=[]}}_t(a&&i),this._setLocalSource(a,i)},e.prototype._applyTransform=function(t){var n=this._sourceHost,r=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(_t(a!=null||r!=null),a!=null){var i="";t.length!==1&&(i="When using `fromTransformResult`, there should be only one upstream dataset",DL(i))}var o,s=[],l=[];return j(t,function(u){u.prepareSource();var c=u.getSource(a||0),f="";a!=null&&!c&&(f="Can not retrieve result by `fromTransformResult`: "+a,DL(f)),s.push(c),l.push(u._getVersionSign())}),r?o=KJ(r,s,{datasetIndex:n.componentIndex}):a!=null&&(o=[OJ(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return n},e.prototype.getSharedDataStore=function(t){_t(lv(this._sourceHost),"Can only call getDataStore on series source manager.");var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},e.prototype._innerGetDataStore=function(t,n,r){var a=0,i=this._storeList,o=i[a];o||(o=i[a]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];lv(this._sourceHost)&&l?s=l._innerGetDataStore(t,n,r):(s=new _T,s.initData(new e5(n,t.length),t)),o[r]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(lv(t)){var n=mA(t);return n?[n.getSourceManager()]:[]}else return at(aJ(t),function(r){return r.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,r,a;if(lv(t))n=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),a=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=t;n=i.get("seriesLayoutBy",!0),r=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:a}},e}();function EL(e){var t=e.option.transform;t&&S0(e.option.transform)}function lv(e){return e.mainType==="series"}function DL(e){throw new Error(e)}var l5="line-height:1";function u5(e,t){var n=e.color||"#6e7079",r=e.fontSize||12,a=e.fontWeight||"400",i=e.color||"#464646",o=e.fontSize||14,s=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+qr(r+"")+"px;color:"+qr(n)+";font-weight:"+qr(a+""),valueStyle:"font-size:"+qr(o+"")+"px;color:"+qr(i)+";font-weight:"+qr(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:a},valueStyle:{fontSize:o,fill:i,fontWeight:s}}}var nee=[0,10,20,30],ree=["",`
`,`

`,`


`];function qp(e,t){return t.type=e,t}function xT(e){return e.type==="section"}function c5(e){return xT(e)?aee:iee}function f5(e){if(xT(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return j(e.blocks,function(a){var i=f5(a);i>=t&&(t=i+ +(r&&(!i||xT(a)&&!a.noHeader)))}),t}return 0}function aee(e,t,n,r){var a=t.noHeader,i=oee(f5(t)),o=[],s=t.blocks||[];_t(!s||Be(s)),s=s||[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(bt(u,l)){var c=new $J(u[l],null);s.sort(function(v,p){return c.evaluate(v.sortParam,p.sortParam)})}else l==="seriesDesc"&&s.reverse()}j(s,function(v,p){var m=t.valueFormatter,g=c5(v)(m?Pe(Pe({},e),{valueFormatter:m}):e,v,p>0?i.html:0,r);g!=null&&o.push(g)});var f=e.renderMode==="richText"?o.join(i.richText):bT(o.join(""),a?n:i.html);if(a)return f;var d=mT(t.header,"ordinal",e.useUTC),h=u5(r,e.renderMode).nameStyle;return e.renderMode==="richText"?d5(e,d,h)+i.richText+f:bT('<div style="'+h+";"+l5+';">'+qr(d)+"</div>"+f,n)}function iee(e,t,n,r){var a=e.renderMode,i=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(x){return x=Be(x)?x:[x],at(x,function(w,b){return mT(w,Be(h)?h[b]:h,u)})};if(!(i&&o)){var f=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",a),d=i?"":mT(l,"ordinal",u),h=t.valueType,v=o?[]:c(t.value),p=!s||!i,m=!s&&i,g=u5(r,a),y=g.nameStyle,_=g.valueStyle;return a==="richText"?(s?"":f)+(i?"":d5(e,d,y))+(o?"":uee(e,v,p,m,_)):bT((s?"":f)+(i?"":see(d,!s,y))+(o?"":lee(v,p,m,_)),n)}}function ML(e,t,n,r,a,i){if(e){var o=c5(e),s={useUTC:a,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter};return o(s,e,0,i)}}function oee(e){return{html:nee[e],richText:ree[e]}}function bT(e,t){var n='<div style="clear:both"></div>',r="margin: "+t+"px 0 0";return'<div style="'+r+";"+l5+';">'+e+n+"</div>"}function see(e,t,n){var r=t?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+qr(e)+"</span>"}function lee(e,t,n,r){var a=n?"10px":"20px",i=t?"float:right;margin-left:"+a:"";return e=Be(e)?e:[e],'<span style="'+i+";"+r+'">'+at(e,function(o){return qr(o)}).join("&nbsp;&nbsp;")+"</span>"}function d5(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function uee(e,t,n,r,a){var i=[a],o=r?10:20;return n&&i.push({padding:[0,0,0,o],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(Be(t)?t.join("  "):t,i)}function cee(e,t){var n=e.getData().getItemVisual(t,"style"),r=n[e.visualDrawType];return tf(r)}function h5(e,t){var n=e.get("padding");return n??(t==="richText"?[8,10]:10)}var Eb=function(){function e(){this.richTextStyles={},this._nextStyleNameId=bV()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,n,r){var a=r==="richText"?this._generateStyleName():null,i=FF({color:n,type:t,renderMode:r,markerId:a});return ot(i)?i:(_t(a),this.richTextStyles[a]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(t,n){var r={};Be(n)?j(n,function(i){return Pe(r,i)}):Pe(r,n);var a=this._generateStyleName();return this.richTextStyles[a]=r,"{"+a+"|"+t+"}"},e}();function fee(e){var t=e.series,n=e.dataIndex,r=e.multipleSeries,a=t.getData(),i=a.mapDimensionsAll("defaultedTooltip"),o=i.length,s=t.getRawValue(n),l=Be(s),u=cee(t,n),c,f,d,h;if(o>1||l&&!o){var v=dee(s,t,n,i,u);c=v.inlineValues,f=v.inlineValueTypes,d=v.blocks,h=v.inlineValues[0]}else if(o){var p=a.getDimensionInfo(i[0]);h=c=Jd(a,n,i[0]),f=p.type}else h=c=l?s[0]:s;var m=X2(t),g=m&&t.name||"",y=a.getName(n),_=r?g:y;return qp("section",{header:g,noHeader:r||!m,sortParam:h,blocks:[qp("nameValue",{markerType:"item",markerColor:u,name:_,noName:!us(_),value:c,valueType:f})].concat(d||[])})}function dee(e,t,n,r,a){var i=t.getData(),o=_s(e,function(f,d,h){var v=i.getDimensionInfo(h);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],l=[],u=[];r.length?j(r,function(f){c(Jd(i,n,f),f)}):j(e,c);function c(f,d){var h=i.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(o?u.push(qp("nameValue",{markerType:"subItem",markerColor:a,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Rl=Fn();function Tg(e,t){return e.getName(t)||e.getId(t)}var hee="__universalTransitionEnabled",L1=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,r,a){this.seriesIndex=this.componentIndex,this.dataTask=pp({count:pee,reset:mee}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,a);var i=Rl(this).sourceManager=new s5(this);i.prepareSource();var o=this.getInitialData(n,a);LL(o,this),this.dataTask.context.data=o,_t(o,"getInitialData returned invalid data."),Rl(this).dataBeforeProcessed=o,PL(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(n,r){var a=jp(this),i=a?E1(n):{},o=this.subType;en.hasClass(o)&&(o+="Series"),Ze(n,r.getTheme().get(this.subType)),Ze(n,this.getDefaultOption()),aT(n,"label",["show"]),this.fillDataTextStyle(n.data),a&&nf(n,i,a)},t.prototype.mergeOption=function(n,r){n=Ze(this.option,n,!0),this.fillDataTextStyle(n.data);var a=jp(this);a&&nf(this.option,n,a);var i=Rl(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(n,r);LL(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Rl(this).dataBeforeProcessed=o,PL(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(n){if(n&&!hi(n))for(var r=["show"],a=0;a<n.length;a++)n[a]&&n[a].label&&aT(n[a],"label",r)},t.prototype.getInitialData=function(n,r){},t.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},t.prototype.getData=function(n){var r=wT(this);if(r){var a=r.context.data;return n==null?a:a.getLinkedData(n)}else return Rl(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var r=wT(this);if(r){var a=r.context;a.outputData=n,r!==this.dataTask&&(a.data=n)}Rl(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return Dt(n)},t.prototype.getSourceManager=function(){return Rl(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Rl(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,r,a){return fee({series:this,dataIndex:n,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(Vt.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,r,a){var i=this.ecModel,o=gA.prototype.getColorFromPalette.call(this,n,r,a);return o||(o=i.getColorFromPalette(n,r,a)),o},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},t.prototype.unselect=function(n,r){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,o=this.getData(r);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],u=Tg(o,l);a[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(n,r){for(var a=[],i=0;i<n.length;i++)a[0]=n[i],this.isSelected(n[i],r)?this.unselect(a,r):this.select(a,r)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=ln(n),a=[],i=0;i<r.length;i++){var o=n[r[i]];o>=0&&a.push(o)}return a},t.prototype.isSelected=function(n,r){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(r);return(a==="all"||a[Tg(i,n)])&&!i.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[hee])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,r){var a,i,o=this.option,s=o.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){lt(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=r[c],d=Tg(n,f);u[d]=!0,this._selectedDataIndicesMap[d]=n.getRawIndex(f)}}else if(s==="single"||s===!0){var h=r[l-1],d=Tg(n,h);o.selectedMap=(a={},a[d]=!0,a),this._selectedDataIndicesMap=(i={},i[d]=n.getRawIndex(h),i)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(a){var i=n.getRawDataItem(a);i&&i.selected&&r.push(a)}),r.length>0&&this._innerSelect(n,r)}},t.registerClass=function(n){return en.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(en);Si(L1,zJ);Si(L1,gA);MV(L1,en);function PL(e){var t=e.name;X2(e)||(e.name=vee(e)||t)}function vee(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return j(n,function(a){var i=t.getDimensionInfo(a);i.displayName&&r.push(i.displayName)}),r.join(" ")}function pee(e){return e.model.getRawData().count()}function mee(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),gee}function gee(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function LL(e,t){j(FS(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,jn(yee,t))})}function yee(e,t){var n=wT(e);return n&&n.setOutputEnd((t||this).count()),t}function wT(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var a=r.agentStubMap;a&&(r=a.get(e.uid))}return r}}const $r=L1;var wA=function(){function e(){this.group=new oa,this.uid=x1("viewComponent")}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,a){},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,a){},e.prototype.updateLayout=function(t,n,r,a){},e.prototype.updateVisual=function(t,n,r,a){},e.prototype.toggleBlurSeries=function(t,n,r){},e.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},e}();Z2(wA);c1(wA);const Aa=wA;function SA(){var e=Fn();return function(t){var n=e(t),r=t.pipelineContext,a=!!n.large,i=!!n.progressiveRender,o=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(a!==o||i!==s)&&"reset"}}var v5=Fn(),_ee=SA(),TA=function(){function e(){this.group=new oa,this.uid=x1("viewChart"),this.renderTask=pp({plan:xee,reset:bee}),this.renderTask.context={view:this}}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,a){throw new Error("render method must been implemented")},e.prototype.highlight=function(t,n,r,a){var i=t.getData(a&&a.dataType);if(!i){Ca("Unknown dataType "+a.dataType);return}RL(i,a,"emphasis")},e.prototype.downplay=function(t,n,r,a){var i=t.getData(a&&a.dataType);if(!i){Ca("Unknown dataType "+a.dataType);return}RL(i,a,"normal")},e.prototype.remove=function(t,n){this.group.removeAll()},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.updateLayout=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.updateVisual=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.eachRendered=function(t){y1(this.group,t)},e.markUpdateMethod=function(t,n){v5(t).updateMethod=n},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function IL(e,t,n){e&&Qd(e)&&(t==="emphasis"?k0:N0)(e,n)}function RL(e,t,n){var r=Jc(e,t),a=t&&t.highlightKey!=null?MK(t.highlightKey):null;r!=null?j(Jr(r),function(i){IL(e.getItemGraphicEl(i),n,a)}):e.eachItemGraphicEl(function(i){IL(i,n,a)})}Z2(TA,["dispose"]);c1(TA);function xee(e){return _ee(e.model)}function bee(e){var t=e.model,n=e.ecModel,r=e.api,a=e.payload,i=t.pipelineContext.progressiveRender,o=e.view,s=a&&v5(a).updateMethod,l=i?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,n,r,a),wee[l]}var wee={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const Sr=TA;var Y0="\0__throttleOriginMethod",OL="\0__throttleRate",kL="\0__throttleType";function I1(e,t,n){var r,a=0,i=0,o=null,s,l,u,c;t=t||0;function f(){i=new Date().getTime(),o=null,e.apply(l,u||[])}var d=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];r=new Date().getTime(),l=this,u=h;var p=c||t,m=c||n;c=null,s=r-(m?a:i)-p,clearTimeout(o),m?o=setTimeout(f,p):s>=0?f():o=setTimeout(f,-s),a=r};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(h){c=h},d}function p5(e,t,n,r){var a=e[t];if(a){var i=a[Y0]||a,o=a[kL],s=a[OL];if(s!==n||o!==r){if(n==null||!r)return e[t]=i;a=e[t]=I1(i,n,r==="debounce"),a[Y0]=i,a[kL]=r,a[OL]=n}return a}}function ST(e,t){var n=e[t];n&&n[Y0]&&(n.clear&&n.clear(),e[t]=n[Y0])}var NL=Fn(),BL={itemStyle:Hp(AF,!0),lineStyle:Hp(CF,!0)},See={lineStyle:"stroke",itemStyle:"fill"};function m5(e,t){var n=e.visualStyleMapper||BL[t];return n||(console.warn("Unknown style type '"+t+"'."),BL.itemStyle)}function g5(e,t){var n=e.visualDrawType||See[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var Tee={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",a=e.getModel(r),i=m5(e,r),o=i(a),s=a.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=g5(e,r),u=o[l],c=yt(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var d=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[l]||(o[l]=d,n.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||yt(o.fill)?d:o.fill,o.stroke=o.stroke==="auto"||yt(o.stroke)?d:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(h,v){var p=e.getDataParams(v),m=Pe({},o);m[l]=c(p),h.setItemVisual(v,"style",m)}}}},uv=new fr,Cee={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",a=m5(e,r),i=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){uv.option=l[r];var u=a(uv),c=o.ensureUniqueItemVisual(s,"style");Pe(c,u),uv.option.decal&&(o.setItemVisual(s,"decal",uv.option.decal),uv.option.decal.dirty=!0),i in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},Aee={performRawSeries:!0,overallReset:function(e){var t=Dt();e.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var a=n.type+"-"+r,i=t.get(a);i||(i={},t.set(a,i)),NL(n).scope=i}}),e.eachSeries(function(n){if(!(n.isColorBySeries()||e.isSeriesFiltered(n))){var r=n.getRawData(),a={},i=n.getData(),o=NL(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=g5(n,s);i.each(function(u){var c=i.getRawIndex(u);a[c]=u}),r.each(function(u){var c=a[u],f=i.getItemVisual(c,"colorFromPalette");if(f){var d=i.ensureUniqueItemVisual(c,"style"),h=r.getName(u)||u+"",v=r.count();d[l]=n.getColorFromPalette(h,o,v)}})}})}},Cg=Math.PI;function Eee(e,t){t=t||{},Ft(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new oa,r=new wr({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var a=new rr({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),i=new wr({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(i);var o;return t.showSpinner&&(o=new nA({shape:{startAngle:-Cg/2,endAngle:-Cg/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Cg*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Cg*3/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var s=a.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=e.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var Dee=function(){function e(t,n,r,a){this._stageTaskMap=Dt(),this.ecInstance=t,this.api=n,r=this._dataProcessorHandlers=r.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=r.concat(a)}return e.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})},e.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),a=r.context,i=!n&&r.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>r.blockIndex,o=i?r.step:null,s=a&&a.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,n){var r=this._pipelineMap.get(t.uid),a=t.getData(),i=a.count(),o=r.progressiveEnabled&&n.incrementalPrepareRender&&i>=r.threshold,s=t.get("large")&&i>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?i:null;t.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(t){var n=this,r=n._pipelineMap=Dt();t.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;r.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),n._pipe(a,a.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),r=this.api;j(this._allHandlers,function(a){var i=t.get(a.uid)||t.set(a.uid,{}),o="";o='"reset" and "overallReset" must not be both specified.',_t(!(a.reset&&a.overallReset),o),a.reset&&this._createSeriesStageTask(a,i,n,r),a.overallReset&&this._createOverallStageTask(a,i,n,r)},this)},e.prototype.prepareView=function(t,n,r,a){var i=t.renderTask,o=i.context;o.model=n,o.ecModel=r,o.api=a,i.__block=!t.incrementalPrepareRender,this._pipe(n,i)},e.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},e.prototype.performVisualTasks=function(t,n,r){this._performStageTasks(this._visualHandlers,t,n,r)},e.prototype._performStageTasks=function(t,n,r,a){a=a||{};var i=!1,o=this;j(t,function(l,u){if(!(a.visualType&&a.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,v=d.agentStubMap;v.each(function(m){s(a,m)&&(m.dirty(),h=!0)}),h&&d.dirty(),o.updatePayload(d,r);var p=o.getPerformArgs(d,a.block);v.each(function(m){m.perform(p)}),d.perform(p)&&(i=!0)}else f&&f.each(function(m,g){s(a,m)&&m.dirty();var y=o.getPerformArgs(m,a.block);y.skip=!l.performRawSeries&&n.isSeriesFiltered(m.context.model),o.updatePayload(m,r),m.perform(y)&&(i=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},e.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},e.prototype._createSeriesStageTask=function(t,n,r,a){var i=this,o=n.seriesTaskMap,s=n.seriesTaskMap=Dt(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,a).each(c);function c(f){var d=f.uid,h=s.set(d,o&&o.get(d)||pp({plan:Ree,reset:Oee,count:Nee}));h.context={model:f,ecModel:r,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(f,h)}},e.prototype._createOverallStageTask=function(t,n,r,a){var i=this,o=n.overallTask=n.overallTask||pp({reset:Mee});o.context={ecModel:r,api:a,overallReset:t.overallReset,scheduler:i};var s=o.agentStubMap,l=o.agentStubMap=Dt(),u=t.seriesType,c=t.getTargetSeries,f=!0,d=!1,h="";h='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.',_t(!t.createOnAllSeries,h),u?r.eachRawSeriesByType(u,v):c?c(r,a).each(v):(f=!1,j(r.getSeries(),v));function v(p){var m=p.uid,g=l.set(m,s&&s.get(m)||(d=!0,pp({reset:Pee,onDirty:Iee})));g.context={model:p,overallProgress:f},g.agent=o,g.__block=f,i._pipe(p,g)}d&&o.dirty()},e.prototype._pipe=function(t,n){var r=t.uid,a=this._pipelineMap.get(r);!a.head&&(a.head=n),a.tail&&a.tail.pipe(n),a.tail=n,n.__idxInPipeline=a.count++,n.__pipeline=a},e.wrapStageHandler=function(t,n){return yt(t)&&(t={overallReset:t,seriesType:Bee(t)}),t.uid=x1("stageHandler"),n&&(t.visualType=n),t},e}();function Mee(e){e.overallReset(e.ecModel,e.api,e.payload)}function Pee(e){return e.overallProgress&&Lee}function Lee(){this.agent.dirty(),this.getDownstream().dirty()}function Iee(){this.agent&&this.agent.dirty()}function Ree(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Oee(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Jr(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?at(t,function(n,r){return y5(r)}):kee}var kee=y5(0);function y5(e){return function(t,n){var r=n.data,a=n.resetDefines[e];if(a&&a.dataEach)for(var i=t.start;i<t.end;i++)a.dataEach(r,i);else a&&a.progress&&a.progress(t,r)}}function Nee(e){return e.data.count()}function Bee(e){j0=null;try{e(Zp,_5)}catch{}return j0}var Zp={},_5={},j0;x5(Zp,XF);x5(_5,qF);Zp.eachSeriesByType=Zp.eachRawSeriesByType=function(e){j0=e};Zp.eachComponent=function(e){e.mainType==="series"&&e.subType&&(j0=e.subType)};function x5(e,t){for(var n in t.prototype)e[n]=ci}const b5=Dee;var VL=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Vee={color:VL,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],VL]};var Na="#B9B8CE",FL="#100C2A",Ag=function(){return{axisLine:{lineStyle:{color:Na}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},UL=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],w5={darkMode:!0,color:UL,backgroundColor:FL,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Na}},textStyle:{color:Na},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Na}},dataZoom:{borderColor:"#71708A",textStyle:{color:Na},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Na}},timeline:{lineStyle:{color:Na},label:{color:Na},controlStyle:{color:Na,borderColor:Na}},calendar:{itemStyle:{color:FL},dayLabel:{color:Na},monthLabel:{color:Na},yearLabel:{color:Na}},timeAxis:Ag(),logAxis:Ag(),valueAxis:Ag(),categoryAxis:Ag(),line:{symbol:"circle"},graph:{color:UL},gauge:{title:{color:Na},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Na},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};w5.categoryAxis.splitLine.show=!1;const Fee=w5;var Uee=function(){function e(){}return e.prototype.normalizeQuery=function(t){var n={},r={},a={};if(ot(t)){var i=cs(t);n.mainType=i.main||null,n.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};j(t,function(l,u){for(var c=!1,f=0;f<o.length;f++){var d=o[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var v=u.slice(0,h);v!=="data"&&(n.mainType=v,n[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(a[u]=l)})}return{cptQuery:n,dataQuery:r,otherQuery:a}},e.prototype.filter=function(t,n){var r=this.eventInfo;if(!r)return!0;var a=r.targetEl,i=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=n.cptQuery,u=n.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,n.otherQuery,a,i));function c(f,d,h,v){return f[h]==null||d[v||h]===f[h]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),TT=["symbol","symbolSize","symbolRotate","symbolOffset"],zL=TT.concat(["symbolKeepAspect"]),zee={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var r={},a={},i=!1,o=0;o<TT.length;o++){var s=TT[o],l=e.get(s);yt(l)?(i=!0,a[s]=l):r[s]=l}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(Pe({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),t.isSeriesFiltered(e))return;var u=ln(a);function c(f,d){for(var h=e.getRawValue(d),v=e.getDataParams(d),p=0;p<u.length;p++){var m=u[p];f.setItemVisual(d,m,a[m](h,v))}}return{dataEach:i?c:null}}},Hee={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var n=e.getData();function r(a,i){for(var o=a.getItemModel(i),s=0;s<zL.length;s++){var l=zL[s],u=o.getShallow(l,!0);u!=null&&a.setItemVisual(i,l,u)}}return{dataEach:n.hasItemOption?r:null}}};function $ee(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n);default:console.warn("Unknown visual type "+n)}}function Gee(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t);default:console.warn("Unknown visual type "+t)}}function Wee(e,t){function n(r,a){var i=[];return r.eachComponent({mainType:"series",subType:e,query:a},function(o){i.push(o.seriesIndex)}),i}j([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(r){t(r[0],function(a,i,o){a=Pe({},a),Dr(a.type,r[1]),o.dispatchAction(Pe(a,{type:r[1],seriesIndex:n(i,a)}))})})}function Wf(e,t,n,r,a){var i=e+t;n.isSilent(i)||(bs("event "+i+" is deprecated."),r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=a.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),d=Jc(f,a.fromActionPayload);n.trigger(i,{type:i,seriesId:o.id,name:Be(d)?f.getName(d[0]):f.getName(d),selected:ot(l)?l:Pe({},l)})}}))}function Yee(e,t,n){e.on("selectchanged",function(r){var a=n.getModel();r.isFromClick?(Wf("map","selectchanged",t,a,r),Wf("pie","selectchanged",t,a,r)):r.fromAction==="select"?(Wf("map","selected",t,a,r),Wf("pie","selected",t,a,r)):r.fromAction==="unselect"&&(Wf("map","unselected",t,a,r),Wf("pie","unselected",t,a,r))})}function Yv(e,t,n){for(var r;e&&!(t(e)&&(r=e,n));)e=e.__hostTarget||e.parent;return r}var jee=Math.round(Math.random()*9),Xee=typeof Object.defineProperty=="function",qee=function(){function e(){this._id="__ec_inner_"+jee++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,n){var r=this._guard(t);return Xee?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}();const Zee=qee;var Kee=gn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,a=t.width/2,i=t.height/2;e.moveTo(n,r-i),e.lineTo(n+a,r+i),e.lineTo(n-a,r+i),e.closePath()}}),Qee=gn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,a=t.width/2,i=t.height/2;e.moveTo(n,r-i),e.lineTo(n+a,r),e.lineTo(n,r+i),e.lineTo(n-a,r),e.closePath()}}),Jee=gn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,a=t.width/5*3,i=Math.max(a,t.height),o=a/2,s=o*o/(i-o),l=r-i+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),d=Math.cos(u),h=o*.6,v=o*.7;e.moveTo(n-c,l+s),e.arc(n,l,o,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(n+c-f*h,l+s+d*h,n,r-v,n,r),e.bezierCurveTo(n,r-v,n-c+f*h,l+s+d*h,n-c,l+s),e.closePath()}}),ete=gn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,a=t.x,i=t.y,o=r/3*2;e.moveTo(a,i),e.lineTo(a+o,i+n),e.lineTo(a,i+n/4*3),e.lineTo(a-o,i+n),e.lineTo(a,i),e.closePath()}}),tte={line:ef,rect:wr,roundRect:wr,square:wr,circle:tA,diamond:Qee,pin:Jee,arrow:ete,triangle:Kee},nte={line:function(e,t,n,r,a){a.x1=e,a.y1=t+r/2,a.x2=e+n,a.y2=t+r/2},rect:function(e,t,n,r,a){a.x=e,a.y=t,a.width=n,a.height=r},roundRect:function(e,t,n,r,a){a.x=e,a.y=t,a.width=n,a.height=r,a.r=Math.min(n,r)/4},square:function(e,t,n,r,a){var i=Math.min(n,r);a.x=e,a.y=t,a.width=i,a.height=i},circle:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.r=Math.min(n,r)/2},diamond:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.width=n,a.height=r},pin:function(e,t,n,r,a){a.x=e+n/2,a.y=t+r/2,a.width=n,a.height=r},arrow:function(e,t,n,r,a){a.x=e+n/2,a.y=t+r/2,a.width=n,a.height=r},triangle:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.width=n,a.height=r}},CT={};j(tte,function(e,t){CT[t]=new e});var rte=gn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=P0(e,t,n),a=this.shape;return a&&a.symbolType==="pin"&&t.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(e,t,n){var r=t.symbolType;if(r!=="none"){var a=CT[r];a||(r="rect",a=CT[r]),nte[r](t.x,t.y,t.width,t.height,a.shape),a.buildPath(e,a.shape,n)}}});function ate(e,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=e:n.fill=e,this.markRedraw()}}function rf(e,t,n,r,a,i,o){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=_F(e.slice(8),new Wt(t,n,r,a),o?"center":"cover"):e.indexOf("path://")===0?l=oA(e.slice(7),{},new Wt(t,n,r,a),o?"center":"cover"):l=new rte({shape:{symbolType:e,x:t,y:n,width:r,height:a}}),l.__isEmptyBrush=s,l.setColor=ate,i&&l.setColor(i),l}function ite(e){return Be(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function S5(e,t){if(e!=null)return Be(e)||(e=[e,e]),[In(e[0],t[0])||0,In(Ut(e[1],e[0]),t[1])||0]}function bc(e){return isFinite(e)}function ote(e,t,n){var r=t.x==null?0:t.x,a=t.x2==null?1:t.x2,i=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(r=r*n.width+n.x,a=a*n.width+n.x,i=i*n.height+n.y,o=o*n.height+n.y),r=bc(r)?r:0,a=bc(a)?a:1,i=bc(i)?i:0,o=bc(o)?o:0;var s=e.createLinearGradient(r,i,a,o);return s}function ste(e,t,n){var r=n.width,a=n.height,i=Math.min(r,a),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*r+n.x,s=s*a+n.y,l=l*i),o=bc(o)?o:.5,s=bc(s)?s:.5,l=l>=0&&bc(l)?l:.5;var u=e.createRadialGradient(o,s,0,o,s,l);return u}function AT(e,t,n){for(var r=t.type==="radial"?ste(e,t,n):ote(e,t,n),a=t.colorStops,i=0;i<a.length;i++)r.addColorStop(a[i].offset,a[i].color);return r}function lte(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function Eg(e){return parseInt(e,10)}function Dg(e,t,n){var r=["width","height"][t],a=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(e);return(e[a]||Eg(s[r])||Eg(e.style[r]))-(Eg(s[i])||0)-(Eg(s[o])||0)|0}function ute(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:En(e)?[e]:Be(e)?e:null}function T5(e){var t=e.style,n=t.lineDash&&t.lineWidth>0&&ute(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(n){var a=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;a&&a!==1&&(n=at(n,function(i){return i/a}),r/=a)}return[n,r]}var cte=new du(!0);function X0(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function HL(e){return typeof e=="string"&&e!=="none"}function q0(e){var t=e.fill;return t!=null&&t!=="none"}function $L(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function GL(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function ET(e,t,n){var r=PV(t.image,t.__image,n);if(f1(r)){var a=e.createPattern(r,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var i=new DOMMatrix;i.translateSelf(t.x||0,t.y||0),i.rotateSelf(0,0,(t.rotation||0)*g9),i.scaleSelf(t.scaleX||1,t.scaleY||1),a.setTransform(i)}return a}}function fte(e,t,n,r){var a,i=X0(n),o=q0(n),s=n.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||cte,f=t.__dirty;if(!r){var d=n.fill,h=n.stroke,v=o&&!!d.colorStops,p=i&&!!h.colorStops,m=o&&!!d.image,g=i&&!!h.image,y=void 0,_=void 0,x=void 0,w=void 0,b=void 0;(v||p)&&(b=t.getBoundingRect()),v&&(y=f?AT(e,d,b):t.__canvasFillGradient,t.__canvasFillGradient=y),p&&(_=f?AT(e,h,b):t.__canvasStrokeGradient,t.__canvasStrokeGradient=_),m&&(x=f||!t.__canvasFillPattern?ET(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=x),g&&(w=f||!t.__canvasStrokePattern?ET(e,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=x),v?e.fillStyle=y:m&&(x?e.fillStyle=x:o=!1),p?e.strokeStyle=_:g&&(w?e.strokeStyle=w:i=!1)}var S=t.getGlobalScale();c.setScale(S[0],S[1],t.segmentIgnoreThreshold);var C,A;e.setLineDash&&n.lineDash&&(a=T5(t),C=a[0],A=a[1]);var M=!0;(u||f&wd)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),M=!1),c.reset(),t.buildPath(c,t.shape,r),c.toStatic(),t.pathUpdated()),M&&c.rebuildPath(e,l?s:1),C&&(e.setLineDash(C),e.lineDashOffset=A),r||(n.strokeFirst?(i&&GL(e,n),o&&$L(e,n)):(o&&$L(e,n),i&&GL(e,n))),C&&e.setLineDash([])}function dte(e,t,n){var r=t.__image=PV(n.image,t.__image,t,t.onload);if(!(!r||!f1(r))){var a=n.x||0,i=n.y||0,o=t.getWidth(),s=t.getHeight(),l=r.width/r.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=r.width,s=r.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;e.drawImage(r,u,c,n.sWidth,n.sHeight,a,i,o,s)}else if(n.sx&&n.sy){var u=n.sx,c=n.sy,f=o-u,d=s-c;e.drawImage(r,u,c,f,d,a,i,o,s)}else e.drawImage(r,a,i,o,s)}}function hte(e,t,n){var r,a=n.text;if(a!=null&&(a+=""),a){e.font=n.font||Kc,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var i=void 0,o=void 0;e.setLineDash&&n.lineDash&&(r=T5(t),i=r[0],o=r[1]),i&&(e.setLineDash(i),e.lineDashOffset=o),n.strokeFirst?(X0(n)&&e.strokeText(a,n.x,n.y),q0(n)&&e.fillText(a,n.x,n.y)):(q0(n)&&e.fillText(a,n.x,n.y),X0(n)&&e.strokeText(a,n.x,n.y)),i&&e.setLineDash([])}}var WL=["shadowBlur","shadowOffsetX","shadowOffsetY"],YL=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function C5(e,t,n,r,a){var i=!1;if(!r&&(n=n||{},t===n))return!1;if(r||t.opacity!==n.opacity){oi(e,a),i=!0;var o=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(o)?Fc.opacity:o}(r||t.blend!==n.blend)&&(i||(oi(e,a),i=!0),e.globalCompositeOperation=t.blend||Fc.blend);for(var s=0;s<WL.length;s++){var l=WL[s];(r||t[l]!==n[l])&&(i||(oi(e,a),i=!0),e[l]=e.dpr*(t[l]||0))}return(r||t.shadowColor!==n.shadowColor)&&(i||(oi(e,a),i=!0),e.shadowColor=t.shadowColor||Fc.shadowColor),i}function jL(e,t,n,r,a){var i=Kp(t,a.inHover),o=r?null:n&&Kp(n,a.inHover)||{};if(i===o)return!1;var s=C5(e,i,o,r,a);if((r||i.fill!==o.fill)&&(s||(oi(e,a),s=!0),HL(i.fill)&&(e.fillStyle=i.fill)),(r||i.stroke!==o.stroke)&&(s||(oi(e,a),s=!0),HL(i.stroke)&&(e.strokeStyle=i.stroke)),(r||i.opacity!==o.opacity)&&(s||(oi(e,a),s=!0),e.globalAlpha=i.opacity==null?1:i.opacity),t.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(oi(e,a),s=!0),e.lineWidth=u)}for(var c=0;c<YL.length;c++){var f=YL[c],d=f[0];(r||i[d]!==o[d])&&(s||(oi(e,a),s=!0),e[d]=i[d]||f[1])}return s}function vte(e,t,n,r,a){return C5(e,Kp(t,a.inHover),n&&Kp(n,a.inHover),r,a)}function A5(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function pte(e,t,n){for(var r=!1,a=0;a<e.length;a++){var i=e[a];r=r||i.isZeroArea(),A5(t,i),t.beginPath(),i.buildPath(t,i.shape),t.clip()}n.allClipped=r}function mte(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var XL=1,qL=2,ZL=3,KL=4;function gte(e){var t=q0(e),n=X0(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!="string"||n&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function oi(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Kp(e,t){return t&&e.__hoverStyle||e.style}function R1(e,t){wc(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function wc(e,t,n,r){var a=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~xi,t.__isRendered=!1;return}var i=t.__clipPaths,o=n.prevElClipPaths,s=!1,l=!1;if((!o||lte(i,o))&&(o&&o.length&&(oi(e,n),e.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),i&&i.length&&(oi(e,n),e.save(),pte(i,e,n),s=!0),n.prevElClipPaths=i),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var c=t instanceof gn&&t.autoBatch&&gte(t.style);s||mte(a,u.transform)?(oi(e,n),A5(e,t)):c||oi(e,n);var f=Kp(t,n.inHover);t instanceof gn?(n.lastDrawType!==XL&&(l=!0,n.lastDrawType=XL),jL(e,t,u,l,n),(!c||!n.batchFill&&!n.batchStroke)&&e.beginPath(),fte(e,t,f,c),c&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):t instanceof lT?(n.lastDrawType!==ZL&&(l=!0,n.lastDrawType=ZL),jL(e,t,u,l,n),hte(e,t,f)):t instanceof pl?(n.lastDrawType!==qL&&(l=!0,n.lastDrawType=qL),vte(e,t,u,l,n),dte(e,t,f)):t.getTemporalDisplayables&&(n.lastDrawType!==KL&&(l=!0,n.lastDrawType=KL),yte(e,t,n)),c&&r&&oi(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function yte(e,t,n){var r=t.getDisplayables(),a=t.getTemporalDisplayables();e.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},o,s;for(o=t.getCursor(),s=r.length;o<s;o++){var l=r[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),wc(e,l,i,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,c=a.length;u<c;u++){var l=a[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),wc(e,l,i,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var Db=new Zee,QL=new bh(100),JL=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function DT(e,t){if(e==="none")return null;var n=t.getDevicePixelRatio(),r=t.getZr(),a=r.painter.type==="svg";e.dirty&&Db.delete(e);var i=Db.get(e);if(i)return i;var o=Ft(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=a?1:1/n,Db.set(e,s),e.dirty=!1,s;function l(u){for(var c=[n],f=!0,d=0;d<JL.length;++d){var h=o[JL[d]];if(h!=null&&!Be(h)&&!ot(h)&&!En(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var v;if(f){v=c.join(",")+(a?"-svg":"");var p=QL.get(v);p&&(a?u.svgElement=p:u.image=p)}var m=D5(o.dashArrayX),g=_te(o.dashArrayY),y=E5(o.symbol),_=xte(m),x=M5(g),w=!a&&gh.createCanvas(),b=a&&{tag:"g",attrs:{},key:"dcl",children:[]},S=A(),C;w&&(w.width=S.width*n,w.height=S.height*n,C=w.getContext("2d")),M(),f&&QL.put(v,w||b),u.image=w,u.svgElement=b,u.svgWidth=S.width,u.svgHeight=S.height;function A(){for(var T=1,E=0,P=_.length;E<P;++E)T=lP(T,_[E]);for(var I=1,E=0,P=y.length;E<P;++E)I=lP(I,y[E].length);T*=I;var k=x*_.length*y.length;{var B=function(U){console.warn("Calculated decal size is greater than "+U+" due to decal option settings so "+U+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+U+" to be larger to avoid incontinuity.")};T>o.maxTileWidth&&B("maxTileWidth"),k>o.maxTileHeight&&B("maxTileHeight")}return{width:Math.max(1,Math.min(T,o.maxTileWidth)),height:Math.max(1,Math.min(k,o.maxTileHeight))}}function M(){C&&(C.clearRect(0,0,w.width,w.height),o.backgroundColor&&(C.fillStyle=o.backgroundColor,C.fillRect(0,0,w.width,w.height)));for(var T=0,E=0;E<g.length;++E)T+=g[E];if(T<=0)return;for(var P=-x,I=0,k=0,B=0;P<S.height;){if(I%2===0){for(var U=k/2%y.length,R=0,L=0,z=0;R<S.width*2;){for(var X=0,E=0;E<m[B].length;++E)X+=m[B][E];if(X<=0)break;if(L%2===0){var Y=(1-o.symbolSize)*.5,$=R+m[B][L]*Y,F=P+g[I]*Y,N=m[B][L]*o.symbolSize,H=g[I]*o.symbolSize,K=z/2%y[U].length;Z($,F,N,H,y[U][K])}R+=m[B][L],++z,++L,L===m[B].length&&(L=0)}++B,B===m.length&&(B=0)}P+=g[I],++k,++I,I===g.length&&(I=0)}function Z(q,ce,oe,ae,V){var G=a?1:n,Q=rf(V,q*G,ce*G,oe*G,ae*G,o.color,o.symbolKeepAspect);if(a){var ue=r.painter.renderOneToVNode(Q);ue&&b.children.push(ue)}else R1(C,Q)}}}}function E5(e){if(!e||e.length===0)return[["rect"]];if(ot(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!ot(e[n])){t=!1;break}if(t)return E5([e]);for(var r=[],n=0;n<e.length;++n)ot(e[n])?r.push([e[n]]):r.push(e[n]);return r}function D5(e){if(!e||e.length===0)return[[0,0]];if(En(e)){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if(!En(e[r])){n=!1;break}if(n)return D5([e]);for(var a=[],r=0;r<e.length;++r)if(En(e[r])){var t=Math.ceil(e[r]);a.push([t,t])}else{var t=at(e[r],function(s){return Math.ceil(s)});t.length%2===1?a.push(t.concat(t)):a.push(t)}return a}function _te(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(En(e)){var t=Math.ceil(e);return[t,t]}var n=at(e,function(r){return Math.ceil(r)});return e.length%2?n.concat(n):n}function xte(e){return at(e,function(t){return M5(t)})}function M5(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?t*2:t}function bte(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");if(s){var l=r.ensureUniqueItemVisual(o,"style");l.decal=DT(s,t)}});var a=r.getVisual("decal");if(a){var i=r.getVisual("style");i.decal=DT(a,t)}}})}var wte=new Ts;const Do=wte;var Z0={};function Ste(e,t){Z0[e]&&Ca("Already has an implementation of "+e+"."),Z0[e]=t}function P5(e){return Z0[e]||Ca("Implementation of "+e+" doesn't exists."),Z0[e]}var Tte=1,Cte=800,Ate=900,Ete=1e3,Dte=2e3,Mte=5e3,L5=1e3,Pte=1100,CA=2e3,I5=3e3,Lte=4e3,O1=4500,Ite=4600,Rte=5e3,Ote=6e3,R5=7e3,kte={PROCESSOR:{FILTER:Ete,SERIES_FILTER:Cte,STATISTIC:Mte},VISUAL:{LAYOUT:L5,PROGRESSIVE_LAYOUT:Pte,GLOBAL:CA,CHART:I5,POST_CHART_LAYOUT:Ite,COMPONENT:Lte,BRUSH:Rte,CHART_ITEM:O1,ARIA:Ote,DECAL:R5}},fa="__flagInMainProcess",ei="__pendingUpdate",Mb="__needsUpdateStatus",eI=/^[a-zA-Z0-9_]+$/,Pb="__connectUpdateStatus",tI=0,Nte=1,Bte=2;function O5(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){gi(this.id);return}return N5(this,e,t)}}function k5(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return N5(this,e,t)}}function N5(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Ts.prototype[t].apply(e,n)}var B5=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ts),V5=B5.prototype;V5.on=k5("on");V5.off=k5("off");var Yf,Lb,Mg,Ol,Ib,Rb,Ob,cv,fv,nI,rI,kb,aI,Pg,iI,F5,Ii,oI,U5=function(e){dt(t,e);function t(n,r,a){var i=e.call(this,new Uee)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},ot(r)&&(r=z5[r]),i._dom=n;var o="canvas",s="auto",l=!1;{var u=Vt.hasGlobalWindow?window:global;o=u.__ECHARTS__DEFAULT__RENDERER__||o,s=Ut(u.__ECHARTS__DEFAULT__COARSE_POINTER,s);var c=u.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;l=c??l}var f=i._zr=rT(n,{renderer:a.renderer||o,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:Ut(a.useDirtyRect,l),useCoarsePointer:Ut(a.useCoarsePointer,s),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=I1($n(f.flush,f),17),r=tn(r),r&&KF(r,!0),i._theme=r,i._locale=$Q(a.locale||DF),i._coordSysMgr=new D1;var d=i._api=iI(i);function h(v,p){return v.__prio-p.__prio}return Oy(Q0,h),Oy(MT,h),i._scheduler=new b5(i,d,MT,Q0),i._messageCenter=new B5,i._initEvents(),i.resize=$n(i.resize,i),f.animation.on("frame",i._onframe,i),nI(f,i),rI(f,i),S0(i),i}return t.prototype._onframe=function(){if(!this._disposed){oI(this);var n=this._scheduler;if(this[ei]){var r=this[ei].silent;this[fa]=!0;try{Yf(this),Ol.update.call(this,null,this[ei].updateParams)}catch(l){throw this[fa]=!1,this[ei]=null,l}this._zr.flush(),this[fa]=!1,this[ei]=null,cv.call(this,r),fv.call(this,r)}else if(n.unfinished){var a=Tte,i=this._model,o=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(i),n.performDataProcessorTasks(i),Rb(this,i),n.performVisualTasks(i),Pg(this,this._model,o,"remain",{}),a-=+new Date-s}while(a>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,r,a){if(this[fa]){Ca("`setOption` should not be called during main process.");return}if(this._disposed){gi(this.id);return}var i,o,s;if(lt(r)&&(a=r.lazyUpdate,i=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[fa]=!0,!this._model||r){var l=new TJ(this._api),u=this._theme,c=this._model=new XF;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(n,{replaceMerge:o},PT);var f={seriesTransition:s,optionChanged:!0};if(a)this[ei]={silent:i,updateParams:f},this[fa]=!1,this.getZr().wakeUp();else{try{Yf(this),Ol.update.call(this,null,f)}catch(d){throw this[ei]=null,this[fa]=!1,d}this._ssr||this._zr.flush(),this[ei]=null,this[fa]=!1,cv.call(this,i),fv.call(this,i)}},t.prototype.setTheme=function(){bs("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Vt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return Dr("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;if(r.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;if(r.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return r.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(Vt.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return j(r,function(a){a.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){gi(this.id);return}n=n||{};var r=n.excludeComponents,a=this._model,i=[],o=this;j(r,function(l){a.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(i.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return j(i,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(n){if(this._disposed){gi(this.id);return}var r=n.type==="svg",a=this.group,i=Math.min,o=Math.max,s=1/0;if(sI[a]){var l=s,u=s,c=-s,f=-s,d=[],h=n&&n.pixelRatio||this.getDevicePixelRatio();j(gp,function(_,x){if(_.group===a){var w=r?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(tn(n)),b=_.getDom().getBoundingClientRect();l=i(b.left,l),u=i(b.top,u),c=o(b.right,c),f=o(b.bottom,f),d.push({dom:w,left:b.left,top:b.top})}}),l*=h,u*=h,c*=h,f*=h;var v=c-l,p=f-u,m=gh.createCanvas(),g=rT(m,{renderer:r?"svg":"canvas"});if(g.resize({width:v,height:p}),r){var y="";return j(d,function(_){var x=_.left-l,w=_.top-u;y+='<g transform="translate('+x+","+w+')">'+_.dom+"</g>"}),g.painter.getSvgRoot().innerHTML=y,n.connectedBackgroundColor&&g.painter.setBackgroundColor(n.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}else return n.connectedBackgroundColor&&g.add(new wr({shape:{x:0,y:0,width:v,height:p},style:{fill:n.connectedBackgroundColor}})),j(d,function(_){var x=new pl({style:{x:_.left*h-l,y:_.top*h-u,image:_.dom}});g.add(x)}),g.refreshImmediately(),m.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,r){return Ib(this,"convertToPixel",n,r)},t.prototype.convertFromPixel=function(n,r){return Ib(this,"convertFromPixel",n,r)},t.prototype.containPixel=function(n,r){if(this._disposed){gi(this.id);return}var a=this._model,i,o=eb(a,n);return j(o,function(s,l){l.indexOf("Models")>=0&&j(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)i=i||!!c.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint?i=i||f.containPoint(r,u):Vr(l+": "+(f?"The found component do not support containPoint.":"No view mapping to the found component."))}else Vr(l+": containPoint is not supported")},this)},this),!!i},t.prototype.getVisual=function(n,r){var a=this._model,i=eb(a,n,{defaultMainType:"series"}),o=i.seriesModel;o||Vr("There is no specified series model");var s=o.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return l!=null?$ee(s,l,r):Gee(s,r)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;j(Vte,function(r){var a=function(i){var o=n.getModel(),s=i.target,l,u=r==="globalout";if(u?l={}:s&&Yv(s,function(v){var p=qt(v);if(p&&p.dataIndex!=null){var m=p.dataModel||o.getSeriesByIndex(p.seriesIndex);return l=m&&m.getDataParams(p.dataIndex,p.dataType,s)||{},!0}else if(p.eventData)return l=Pe({},p.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var d=c&&f!=null&&o.getComponent(c,f),h=d&&n[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];!u&&!(d&&h)&&Vr("model or view can not be found by params"),l.event=i,l.type=r,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:d,view:h},n.trigger(r,l)}};a.zrEventfulCallAtLast=!0,n._zr.on(r,a,n)}),j(mp,function(r,a){n._messageCenter.on(a,function(i){this.trigger(a,i)},n)}),j(["selectchanged"],function(r){n._messageCenter.on(r,function(a){this.trigger(r,a)},n)}),Yee(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){gi(this.id);return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){gi(this.id);return}this._disposed=!0;var n=this.getDom();n&&AV(this.getDom(),EA,"");var r=this,a=r._api,i=r._model;j(r._componentsViews,function(o){o.dispose(i,a)}),j(r._chartsViews,function(o){o.dispose(i,a)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete gp[r.id]},t.prototype.resize=function(n){if(this[fa]){Ca("`resize` should not be called during main process.");return}if(this._disposed){gi(this.id);return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var a=r.resetOption("media"),i=n&&n.silent;this[ei]&&(i==null&&(i=this[ei].silent),a=!0,this[ei]=null),this[fa]=!0;try{a&&Yf(this),Ol.update.call(this,{type:"resize",animation:Pe({duration:0},n&&n.animation)})}catch(o){throw this[fa]=!1,o}this[fa]=!1,cv.call(this,i),fv.call(this,i)}},t.prototype.showLoading=function(n,r){if(this._disposed){gi(this.id);return}if(lt(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!LT[n]){Vr("Loading effects "+n+" not exists.");return}var a=LT[n](this._api,r),i=this._zr;this._loadingFX=a,i.add(a)},t.prototype.hideLoading=function(){if(this._disposed){gi(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var r=Pe({},n);return r.type=mp[n.type],r},t.prototype.dispatchAction=function(n,r){if(this._disposed){gi(this.id);return}if(lt(r)||(r={silent:!!r}),!!K0[n.type]&&this._model){if(this[fa]){this._pendingActions.push(n);return}var a=r.silent;Ob.call(this,n,a);var i=r.flush;i?this._zr.flush():i!==!1&&Vt.browser.weChat&&this._throttledZrFlush(),cv.call(this,a),fv.call(this,a)}},t.prototype.updateLabelLayout=function(){Do.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){gi(this.id);return}var r=n.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(r);_t(n.data&&i),i.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){Yf=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),Lb(f,!0),Lb(f,!1),d.plan()},Lb=function(f,d){for(var h=f._model,v=f._scheduler,p=d?f._componentsViews:f._chartsViews,m=d?f._componentsMap:f._chartsMap,g=f._zr,y=f._api,_=0;_<p.length;_++)p[_].__alive=!1;d?h.eachComponent(function(b,S){b!=="series"&&x(S)}):h.eachSeries(x);function x(b){var S=b.__requireNewView;b.__requireNewView=!1;var C="_ec_"+b.id+"_"+b.type,A=!S&&m[C];if(!A){var M=cs(b.type),T=d?Aa.getClass(M.main,M.sub):Sr.getClass(M.sub);_t(T,M.sub+" does not exist."),A=new T,A.init(h,y),m[C]=A,p.push(A),g.add(A.group)}b.__viewId=A.__id=C,A.__alive=!0,A.__model=b,A.group.__ecComponentInfo={mainType:b.mainType,index:b.componentIndex},!d&&v.prepareView(A,b,h,y)}for(var _=0;_<p.length;){var w=p[_];w.__alive?_++:(!d&&w.renderTask.dispose(),g.remove(w.group),w.dispose(h,y),p.splice(_,1),m[w.__id]===w&&delete m[w.__id],w.__id=w.group.__ecComponentInfo=null)}},Mg=function(f,d,h,v,p){var m=f._model;if(m.setUpdatePayload(h),!v){j([].concat(f._componentsViews).concat(f._chartsViews),w);return}var g={};g[v+"Id"]=h[v+"Id"],g[v+"Index"]=h[v+"Index"],g[v+"Name"]=h[v+"Name"];var y={mainType:v,query:g};p&&(y.subType=p);var _=h.excludeSeriesId,x;_!=null&&(x=Dt(),j(Jr(_),function(b){var S=li(b,null);S!=null&&x.set(S,!0)})),m&&m.eachComponent(y,function(b){var S=x&&x.get(b.id)!=null;if(!S)if(UP(h))if(b instanceof $r)h.type===Uc&&!h.notBlur&&!b.get(["emphasis","disabled"])&&bK(b,h,f._api);else{var C=eA(b.mainType,b.componentIndex,h.name,f._api),A=C.focusSelf,M=C.dispatchers;h.type===Uc&&A&&!h.notBlur&&cT(b.mainType,b.componentIndex,f._api),M&&j(M,function(T){h.type===Uc?k0(T):N0(T)})}else dT(h)&&b instanceof $r&&(TK(b,h,f._api),VP(b),Ii(f))},f),m&&m.eachComponent(y,function(b){var S=x&&x.get(b.id)!=null;S||w(f[v==="series"?"_chartsMap":"_componentsMap"][b.__viewId])},f);function w(b){b&&b.__alive&&b[d]&&b[d](b.__model,m,f._api,h)}},Ol={prepareAndUpdate:function(f){Yf(this),Ol.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,v=this._api,p=this._zr,m=this._coordSysMgr,g=this._scheduler;if(h){h.setUpdatePayload(f),g.restoreData(h,f),g.performSeriesTasks(h),m.create(h,v),g.performDataProcessorTasks(h,f),Rb(this,h),m.update(h,v),n(h),g.performVisualTasks(h,f),kb(this,h,v,f,d);var y=h.get("backgroundColor")||"transparent",_=h.get("darkMode");p.setBackgroundColor(y),_!=null&&_!=="auto"&&p.setDarkMode(_),Do.trigger("afterupdate",h,v)}},updateTransform:function(f){var d=this,h=this._model,v=this._api;if(h){h.setUpdatePayload(f);var p=[];h.eachComponent(function(g,y){if(g!=="series"){var _=d.getViewOfComponentModel(y);if(_&&_.__alive)if(_.updateTransform){var x=_.updateTransform(y,h,v,f);x&&x.update&&p.push(_)}else p.push(_)}});var m=Dt();h.eachSeries(function(g){var y=d._chartsMap[g.__viewId];if(y.updateTransform){var _=y.updateTransform(g,h,v,f);_&&_.update&&m.set(g.uid,1)}else m.set(g.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:m}),Pg(this,h,v,f,{},m),Do.trigger("afterupdate",h,v)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),Sr.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),kb(this,d,this._api,f,{}),Do.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(v){v.getData().clearAllVisual()}),Sr.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(v,p){if(v!=="series"){var m=d.getViewOfComponentModel(p);m&&m.__alive&&m.updateVisual(p,h,d._api,f)}}),h.eachSeries(function(v){var p=d._chartsMap[v.__viewId];p.updateVisual(v,h,d._api,f)}),Do.trigger("afterupdate",h,this._api))},updateLayout:function(f){Ol.update.call(this,f)}},Ib=function(f,d,h,v){if(f._disposed){gi(f.id);return}for(var p=f._model,m=f._coordSysMgr.getCoordinateSystems(),g,y=eb(p,h),_=0;_<m.length;_++){var x=m[_];if(x[d]&&(g=x[d](p,y,v))!=null)return g}Vr("No coordinate system that supports "+d+" found by the given finder.")},Rb=function(f,d){var h=f._chartsMap,v=f._scheduler;d.eachSeries(function(p){v.updateStreamModes(p,h[p.__viewId])})},Ob=function(f,d){var h=this,v=this.getModel(),p=f.type,m=f.escapeConnect,g=K0[p],y=g.actionInfo,_=(y.update||"update").split(":"),x=_.pop(),w=_[0]!=null&&cs(_[0]);this[fa]=!0;var b=[f],S=!1;f.batch&&(S=!0,b=at(f.batch,function(I){return I=Ft(Pe({},I),f),I.batch=null,I}));var C=[],A,M=dT(f),T=UP(f);if(T&&ZV(this._api),j(b,function(I){if(A=g.action(I,h._model,h._api),A=A||Pe({},I),A.type=y.event||A.type,C.push(A),T){var k=q2(f),B=k.queryOptionMap,U=k.mainTypeSpecified,R=U?B.keys()[0]:"series";Mg(h,x,I,R),Ii(h)}else M?(Mg(h,x,I,"series"),Ii(h)):w&&Mg(h,x,I,w.main,w.sub)}),x!=="none"&&!T&&!M&&!w)try{this[ei]?(Yf(this),Ol.update.call(this,f),this[ei]=null):Ol[x].call(this,f)}catch(I){throw this[fa]=!1,I}if(S?A={type:y.event||p,escapeConnect:m,batch:C}:A=C[0],this[fa]=!1,!d){var E=this._messageCenter;if(E.trigger(A.type,A),M){var P={type:"selectchanged",escapeConnect:m,selected:CK(v),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};E.trigger(P.type,P)}}},cv=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();Ob.call(this,h,f)}},fv=function(f){!f&&this.trigger("updated")},nI=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[ei]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},rI=function(f,d){f.on("mouseover",function(h){var v=h.target,p=Yv(v,Qd);p&&(wK(p,h,d._api),Ii(d))}).on("mouseout",function(h){var v=h.target,p=Yv(v,Qd);p&&(SK(p,h,d._api),Ii(d))}).on("click",function(h){var v=h.target,p=Yv(v,function(y){return qt(y).dataIndex!=null},!0);if(p){var m=p.selected?"unselect":"select",g=qt(p);d._api.dispatchAction({type:m,dataType:g.dataType,dataIndexInside:g.dataIndex,seriesIndex:g.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function r(f){var d=[],h=[],v=!1;if(f.eachComponent(function(y,_){var x=_.get("zlevel")||0,w=_.get("z")||0,b=_.getZLevelKey();v=v||!!b,(y==="series"?h:d).push({zlevel:x,z:w,idx:_.componentIndex,type:y,key:b})}),v){var p=d.concat(h),m,g;Oy(p,function(y,_){return y.zlevel===_.zlevel?y.z-_.z:y.zlevel-_.zlevel}),j(p,function(y){var _=f.getComponent(y.type,y.idx),x=y.zlevel,w=y.key;m!=null&&(x=Math.max(m,x)),w?(x===m&&w!==g&&x++,g=w):g&&(x===m&&x++,g=""),m=x,_.setZLevel(x)})}}kb=function(f,d,h,v,p){r(d),aI(f,d,h,v,p),j(f._chartsViews,function(m){m.__alive=!1}),Pg(f,d,h,v,p),j(f._chartsViews,function(m){m.__alive||m.remove(d,h)})},aI=function(f,d,h,v,p,m){j(m||f._componentsViews,function(g){var y=g.__model;u(y,g),g.render(y,d,h,v),s(y,g),c(y,g)})},Pg=function(f,d,h,v,p,m){var g=f._scheduler;p=Pe(p||{},{updatedSeries:d.getSeries()}),Do.trigger("series:beforeupdate",d,h,p);var y=!1;d.eachSeries(function(_){var x=f._chartsMap[_.__viewId];x.__alive=!0;var w=x.renderTask;g.updatePayload(w,v),u(_,x),m&&m.get(_.uid)&&w.dirty(),w.perform(g.getPerformArgs(w))&&(y=!0),x.group.silent=!!_.get("silent"),o(_,x),VP(_)}),g.unfinished=y||g.unfinished,Do.trigger("series:layoutlabels",d,h,p),Do.trigger("series:transition",d,h,p),d.eachSeries(function(_){var x=f._chartsMap[_.__viewId];s(_,x),c(_,x)}),i(f,d),Do.trigger("series:afterupdate",d,h,p)},Ii=function(f){f[Mb]=!0,f.getZr().wakeUp()},oI=function(f){f[Mb]&&(f.getZr().storage.traverse(function(d){Nd(d)||a(d)}),f[Mb]=!1)};function a(f){for(var d=[],h=f.currentStates,v=0;v<h.length;v++){var p=h[v];p==="emphasis"||p==="blur"||p==="select"||d.push(p)}f.selected&&f.states.select&&d.push("select"),f.hoverState===v1&&f.states.emphasis?d.push("emphasis"):f.hoverState===h1&&f.states.blur&&d.push("blur"),f.useStates(d)}function i(f,d){var h=f._zr,v=h.storage,p=0;v.traverse(function(m){m.isGroup||p++}),p>d.get("hoverLayerThreshold")&&!Vt.node&&!Vt.worker&&d.eachSeries(function(m){if(!m.preventUsingHoverLayer){var g=f._chartsMap[m.__viewId];g.__alive&&g.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function o(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(v){v.isGroup||(v.style.blend=h)})}function s(f,d){if(!f.preventAutoZ){var h=f.get("z")||0,v=f.get("zlevel")||0;d.eachRendered(function(p){return l(p,h,v,-1/0),!0})}}function l(f,d,h,v){var p=f.getTextContent(),m=f.getTextGuideLine(),g=f.isGroup;if(g)for(var y=f.childrenRef(),_=0;_<y.length;_++)v=Math.max(l(y[_],d,h,v),v);else f.z=d,f.zlevel=h,v=Math.max(f.z2,v);if(p&&(p.z=d,p.zlevel=h,isFinite(v)&&(p.z2=v+2)),m){var x=f.textGuideLineConfig;m.z=d,m.zlevel=h,isFinite(v)&&(m.z2=v+(x&&x.showAbove?1:-1))}return v}function u(f,d){d.eachRendered(function(h){if(!Nd(h)){var v=h.getTextContent(),p=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),p=h.get("duration"),m=p>0?{duration:p,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(g){if(g.states&&g.states.emphasis){if(Nd(g))return;if(g instanceof gn&&PK(g),g.__dirty){var y=g.prevStates;y&&g.useStates(y)}if(v){g.stateTransition=m;var _=g.getTextContent(),x=g.getTextGuideLine();_&&(_.stateTransition=m),x&&(x.stateTransition=m)}g.__dirty&&a(g)}})}iI=function(f){return new(function(d){dt(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(v){for(;v;){var p=v.__ecComponentInfo;if(p!=null)return f._model.getComponent(p.mainType,p.index);v=v.parent}},h.prototype.enterEmphasis=function(v,p){k0(v,p),Ii(f)},h.prototype.leaveEmphasis=function(v,p){N0(v,p),Ii(f)},h.prototype.enterBlur=function(v){xK(v),Ii(f)},h.prototype.leaveBlur=function(v){YV(v),Ii(f)},h.prototype.enterSelect=function(v){jV(v),Ii(f)},h.prototype.leaveSelect=function(v){XV(v),Ii(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},h.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},h}(qF))(f)},F5=function(f){function d(h,v){for(var p=0;p<h.length;p++){var m=h[p];m[Pb]=v}}j(mp,function(h,v){f._messageCenter.on(v,function(p){if(sI[f.group]&&f[Pb]!==tI){if(p&&p.escapeConnect)return;var m=f.makeActionFromEvent(p),g=[];j(gp,function(y){y!==f&&y.group===f.group&&g.push(y)}),d(g,tI),j(g,function(y){y[Pb]!==Nte&&y.dispatchAction(m)}),d(g,Bte)}})})}}(),t}(Ts),AA=U5.prototype;AA.on=O5("on");AA.off=O5("off");AA.one=function(e,t,n){var r=this;bs("ECharts#one is deprecated.");function a(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t&&t.apply&&t.apply(this,i),r.off(e,a)}this.on.call(this,e,a,n)};var Vte=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function gi(e){Vr("Instance "+e+" has been disposed")}var K0={},mp={},MT=[],PT=[],Q0=[],z5={},LT={},gp={},sI={},Fte=+new Date-0,EA="_echarts_instance_";function Ute(e,t,n){var r=!(n&&n.ssr);if(r){if(!e)throw new Error("Initialize failed: invalid dom.");var a=zte(e);if(a)return Vr("There is a chart instance already initialized on the dom."),a;Vp(e)&&e.nodeName.toUpperCase()!=="CANVAS"&&(!e.clientWidth&&(!n||n.width==null)||!e.clientHeight&&(!n||n.height==null))&&Vr("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}var i=new U5(e,t,n);return i.id="ec_"+Fte++,gp[i.id]=i,r&&AV(e,EA,i.id),F5(i),Do.trigger("afterinit",i),i}function zte(e){return gp[sZ(e,EA)]}function H5(e,t){z5[e]=t}function DA(e){Xt(PT,e)<0&&PT.push(e)}function $5(e,t){PA(MT,e,t,Dte)}function G5(e){MA("afterinit",e)}function W5(e){MA("afterupdate",e)}function MA(e,t){Do.on(e,t)}function Ch(e,t,n){yt(t)&&(n=t,t="");var r=lt(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,!mp[t]&&(_t(eI.test(r)&&eI.test(t)),K0[r]||(K0[r]={action:n,actionInfo:e}),mp[t]=r)}function Hte(e,t){D1.register(e,t)}function Y5(e){var t=D1.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function $te(e,t){PA(Q0,e,t,L5,"layout")}function _f(e,t){PA(Q0,e,t,I5,"visual")}var lI=[];function PA(e,t,n,r,a){(yt(t)||lt(t))&&(n=t,t=r);{if(isNaN(t)||t==null)throw new Error("Illegal priority");j(e,function(o){_t(o.__raw!==n)})}if(!(Xt(lI,n)>=0)){lI.push(n);var i=b5.wrapStageHandler(n,a);i.__prio=t,i.__raw=n,e.push(i)}}function j5(e,t){LT[e]=t}function Gte(e,t,n){var r=P5("registerMap");r&&r(e,t,n)}function IT(e){var t=P5("getMap");return t&&t(e)}var Wte=ZJ;_f(CA,Tee);_f(O1,Cee);_f(O1,Aee);_f(CA,zee);_f(O1,Hee);_f(R5,bte);DA(KF);$5(Ate,IJ);j5("default",Eee);Ch({type:Uc,event:Uc,update:Uc},ci);Ch({type:Fy,event:Fy,update:Fy},ci);Ch({type:cp,event:cp,update:cp},ci);Ch({type:Uy,event:Uy,update:Uy},ci);Ch({type:fp,event:fp,update:fp},ci);H5("light",Vee);H5("dark",Fee);function dv(e){return e==null?0:e.length||1}function uI(e){return e}var Yte=function(){function e(t,n,r,a,i,o){this._old=t,this._new=n,this._oldKeyGetter=r||uI,this._newKeyGetter=a||uI,this.context=i,this._diffModeMultiple=o==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,n=this._new,r={},a=new Array(t.length),i=new Array(n.length);this._initIndexMap(t,null,a,"_oldKeyGetter"),this._initIndexMap(n,r,i,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=a[o],l=r[s],u=dv(l);if(u>1){var c=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(c,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(i,r)},e.prototype._executeMultiple=function(){var t=this._old,n=this._new,r={},a={},i=[],o=[];this._initIndexMap(t,r,i,"_oldKeyGetter"),this._initIndexMap(n,a,o,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=i[s],u=r[l],c=a[l],f=dv(u),d=dv(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),a[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),a[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),a[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),a[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,a)},e.prototype._performRestAdd=function(t,n){for(var r=0;r<t.length;r++){var a=t[r],i=n[a],o=dv(i);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(i[s]);else o===1&&this._add&&this._add(i);n[a]=null}},e.prototype._initIndexMap=function(t,n,r,a){for(var i=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[a](t[o],o);if(i||(r[o]=s),!!n){var l=n[s],u=dv(l);u===0?(n[s]=o,i&&r.push(s)):u===1?n[s]=[l,o]:l.push(o)}}},e}();const jte=Yte;var Xte=function(){function e(t,n){this._encode=t,this._schema=n}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function qte(e,t){var n={},r=n.encode={},a=Dt(),i=[],o=[],s={};j(e.dimensions,function(d){var h=e.getDimensionInfo(d),v=h.coordDim;if(v){_t(gT.get(v)==null);var p=h.coordDimIndex;Nb(r,v)[p]=d,h.isExtraCoord||(a.set(v,1),Kte(h.type)&&(i[0]=d),Nb(s,v)[p]=e.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(d)}gT.each(function(m,g){var y=Nb(r,g),_=h.otherDims[g];_!=null&&_!==!1&&(y[_]=h.name)})});var l=[],u={};a.each(function(d,h){var v=r[h];u[h]=v[0],l=l.concat(v)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=at(l,function(d){return e.getDimensionInfo(d).storeDimIndex}),n.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(i=c.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=i.slice()),r.defaultedLabel=i,r.defaultedTooltip=o,n.userOutput=new Xte(s,t),n}function Nb(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function Zte(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function Kte(e){return!(e==="ordinal"||e==="time")}var Qte=function(){function e(t){this.otherDims={},t!=null&&Pe(this,t)}return e}();const Gy=Qte;var Jte=Fn(),ene={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},X5=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=K5(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return Ut(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=JF(this.source),r=!Q5(t),a="",i=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=n?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=n?d.name:null,u=d.type)}i.push({property:l,type:u,ordinalMeta:c}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(a+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=ene[u]||"f",c&&(a+=c.uid),a+="$"}var h=this.source,v=[h.seriesLayoutBy,h.startIndex,a].join("$$");return{dimensions:i,hash:v}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,r=0;n<this._fullDimCount;n++){var a=void 0,i=this.dimensions[r];if(i&&i.storeDimIndex===n)i.isCalculationCoord||(a=i.name),r++;else{var o=this.getSourceDimension(n);o&&(a=o.name)}t.push(a)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function q5(e){return e instanceof X5}function Z5(e){for(var t=Dt(),n=0;n<(e||[]).length;n++){var r=e[n],a=lt(r)?r.name:r;a!=null&&t.get(a)==null&&t.set(a,n)}return t}function K5(e){var t=Jte(e);return t.dimNameMap||(t.dimNameMap=Z5(e.dimensionsDefine))}function Q5(e){return e>30}var hv=lt,kl=at,tne=typeof Int32Array>"u"?Array:Int32Array,nne="e\0\0",cI=-1,rne=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ane=["_approximateExtent"],fI,Lg,vv,jf,Bb,Ig,Vb,ine=function(){function e(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,a=!1;q5(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(a=!0,r=t),r=r||["x","y"];for(var i={},o=[],s={},l=!1,u={},c=0;c<r.length;c++){var f=r[c],d=ot(f)?new Gy({name:f}):f instanceof Gy?f:new Gy(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var v=d.otherDims=d.otherDims||{};o.push(h),i[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]),v.itemName===0&&(this._nameDimIdx=c),v.itemId===0&&(this._idDimIdx=c),_t(a||d.storeDimIndex>=0),a&&(d.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var p=this._dimIdxToName=Dt();j(o,function(m){p.set(i[m].storeDimIndex,m)})}}return e.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var a=this._schema.getSourceDimension(n);if(a)return a.name},e.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(En(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);if(n==null)throw new Error("Unknown dimension "+t);return n},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[t];var a=r.encode[t];return a?a[n]:null},e.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,r=n.encode[t];return(r||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,n,r){var a=this,i;if(t instanceof _T&&(i=t),!i){var o=this.dimensions,s=yA(t)||Za(t)?new e5(t,o.length):t;i=new _T;var l=kl(o,function(u){return{type:a._dimInfos[u].type,property:u}});i.initData(s,l,r)}this._store=i,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=qte(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},e.prototype.appendValues=function(t,n){var r=this._store.appendValues(t,n.length),a=r.start,i=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=a;s<i;s++){var l=s-a;this._nameList[s]=n[l],o&&Vb(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,r=0;r<n.length;r++){var a=this._dimInfos[n[r]];a.ordinalMeta&&t.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==rl&&!t.fillStorage},e.prototype._doInit=function(t,n){if(!(t>=n)){var r=this._store,a=r.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList,s=a.getSource().sourceFormat,l=s===vo;if(l&&!a.pure)for(var u=[],c=t;c<n;c++){var f=a.getItem(c,u);if(!this.hasItemOption&&Kq(f)&&(this.hasItemOption=!0),f){var d=f.name;i[c]==null&&d!=null&&(i[c]=li(d,null));var h=f.id;o[c]==null&&h!=null&&(o[c]=li(h,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<n;c++)Vb(this,c);fI(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,n){hv(t)?Pe(this._calculationInfo,t):this._calculationInfo[t]=n},e.prototype.getName=function(t){var n=this.getRawIndex(t),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=vv(this,this._nameDimIdx,n)),r==null&&(r=""),r},e.prototype._getCategory=function(t,n){var r=this._store.get(t,n),a=this._store.getOrdinalMeta(t);return a?a.categories[r]:r},e.prototype.getId=function(t){return Lg(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,n){var r=this._store,a=this._dimInfos[t];if(a)return r.get(a.storeDimIndex,n)},e.prototype.getByRawIndex=function(t,n){var r=this._store,a=this._dimInfos[t];if(a)return r.getByRawIndex(a.storeDimIndex,n)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,n){var r=this,a=this._store;return Be(t)?a.getValues(kl(t,function(i){return r._getStoreDimIndex(i)}),n):a.getValues(t)},e.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,a=n.length;r<a;r++)if(isNaN(this._store.get(n[r],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===t)return n;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,n){var r=t&&this._invertedIndicesMap[t];if(!r)throw new Error("Do not supported yet");var a=r[n];return a==null||isNaN(a)?cI:a},e.prototype.indicesOfNearest=function(t,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,r)},e.prototype.each=function(t,n,r){yt(t)&&(r=n,n=t,t=[]);var a=r||this,i=kl(jf(t),this._getStoreDimIndex,this);this._store.each(i,a?$n(n,a):n)},e.prototype.filterSelf=function(t,n,r){yt(t)&&(r=n,n=t,t=[]);var a=r||this,i=kl(jf(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?$n(n,a):n),this},e.prototype.selectRange=function(t){var n=this,r={},a=ln(t);return j(a,function(i){var o=n._getStoreDimIndex(i);r[o]=t[i]}),this._store=this._store.selectRange(r),this},e.prototype.mapArray=function(t,n,r){yt(t)&&(r=n,n=t,t=[]),r=r||this;var a=[];return this.each(t,function(){a.push(n&&n.apply(this,arguments))},r),a},e.prototype.map=function(t,n,r,a){var i=r||a||this,o=kl(jf(t),this._getStoreDimIndex,this),s=Ig(this);return s._store=this._store.map(o,i?$n(n,i):n),s},e.prototype.modify=function(t,n,r,a){var i=this,o=r||a||this;j(jf(t),function(l){var u=i.getDimensionInfo(l);u.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var s=kl(jf(t),this._getStoreDimIndex,this);this._store.modify(s,o?$n(n,o):n)},e.prototype.downSample=function(t,n,r,a){var i=Ig(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),n,r,a),i},e.prototype.lttbDownSample=function(t,n){var r=Ig(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),r},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var n=this.hostModel,r=this.getRawDataItem(t);return new fr(r,n,n&&n.ecModel)},e.prototype.diff=function(t){var n=this;return new jte(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return Lg(t,r)},function(r){return Lg(n,r)})},e.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},e.prototype.setVisual=function(t,n){this._visual=this._visual||{},hv(t)?Pe(this._visual,t):this._visual[t]=n},e.prototype.getItemVisual=function(t,n){var r=this._itemVisuals[t],a=r&&r[n];return a??this.getVisual(n)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,n){var r=this._itemVisuals,a=r[t];a||(a=r[t]={});var i=a[n];return i==null&&(i=this.getVisual(n),Be(i)?i=i.slice():hv(i)&&(i=Pe({},i)),a[n]=i),i},e.prototype.setItemVisual=function(t,n,r){var a=this._itemVisuals[t]||{};this._itemVisuals[t]=a,hv(n)?Pe(a,n):a[n]=r},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,n){hv(t)?Pe(this._layout,t):this._layout[t]=n},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,n,r){this._itemLayouts[t]=r?Pe(this._itemLayouts[t]||{},n):n},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,n){var r=this.hostModel&&this.hostModel.seriesIndex;cK(r,this.dataType,t,n),this._graphicEls[t]=n},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,n){j(this._graphicEls,function(r,a){r&&t&&t.call(n,r,a)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:kl(this.dimensions,this._getDimInfo,this),this.hostModel)),Bb(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,n){var r=this[t];yt(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var a=r.apply(this,arguments);return n.apply(this,[a].concat(H2(arguments)))})},e.internalField=function(){fI=function(t){var n=t._invertedIndicesMap;j(n,function(r,a){var i=t._dimInfos[a],o=i.ordinalMeta,s=t._store;if(o){r=n[a]=new tne(o.categories.length);for(var l=0;l<r.length;l++)r[l]=cI;for(var l=0;l<s.count();l++)r[s.get(i.storeDimIndex,l)]=l}})},vv=function(t,n,r){return li(t._getCategory(n,r),null)},Lg=function(t,n){var r=t._idList[n];return r==null&&t._idDimIdx!=null&&(r=vv(t,t._idDimIdx,n)),r==null&&(r=nne+n),r},jf=function(t){return Be(t)||(t=t!=null?[t]:[]),t},Ig=function(t){var n=new e(t._schema?t._schema:kl(t.dimensions,t._getDimInfo,t),t.hostModel);return Bb(n,t),n},Bb=function(t,n){j(rne.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t.__wrappedMethods=n.__wrappedMethods,j(ane,function(r){t[r]=tn(n[r])}),t._calculationInfo=Pe({},n._calculationInfo)},Vb=function(t,n){var r=t._nameList,a=t._idList,i=t._nameDimIdx,o=t._idDimIdx,s=r[n],l=a[n];if(s==null&&i!=null&&(r[n]=s=vv(t,i,n)),l==null&&o!=null&&(a[n]=l=vv(t,o,n)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),a[n]=l}}}(),e}();const co=ine;function Im(e,t){return LA(e,t).dimensions}function LA(e,t){yA(e)||(e=_A(e)),t=t||{};var n=t.coordDimensions||[],r=t.dimensionsDefine||e.dimensionsDefine||[],a=Dt(),i=[],o=sne(e,n,r,t.dimensionsCount),s=t.canOmitUnusedDimensions&&Q5(o),l=r===e.dimensionsDefine,u=l?K5(e):Z5(r),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,o));for(var f=Dt(c),d=new i5(o),h=0;h<d.length;h++)d[h]=-1;function v(A){var M=d[A];if(M<0){var T=r[A],E=lt(T)?T:{name:T},P=new Gy,I=E.name;I!=null&&u.get(I)!=null&&(P.name=P.displayName=I),E.type!=null&&(P.type=E.type),E.displayName!=null&&(P.displayName=E.displayName);var k=i.length;return d[A]=k,P.storeDimIndex=A,i.push(P),P}return i[M]}if(!s)for(var h=0;h<o;h++)v(h);f.each(function(A,M){var T=Jr(A).slice();if(T.length===1&&!ot(T[0])&&T[0]<0){f.set(M,!1);return}var E=f.set(M,[]);j(T,function(P,I){var k=ot(P)?u.get(P):P;k!=null&&k<o&&(E[I]=k,m(v(k),M,I))})});var p=0;j(n,function(A){var M,T,E,P;if(ot(A))M=A,P={};else{P=A,M=P.name;var I=P.ordinalMeta;P.ordinalMeta=null,P=Pe({},P),P.ordinalMeta=I,T=P.dimsDef,E=P.otherDims,P.name=P.coordDim=P.coordDimIndex=P.dimsDef=P.otherDims=null}var k=f.get(M);if(k!==!1){if(k=Jr(k),!k.length)for(var B=0;B<(T&&T.length||1);B++){for(;p<o&&v(p).coordDim!=null;)p++;p<o&&k.push(p++)}j(k,function(U,R){var L=v(U);if(l&&P.type!=null&&(L.type=P.type),m(Ft(L,P),M,R),L.name==null&&T){var z=T[R];!lt(z)&&(z={name:z}),L.name=L.displayName=z.name,L.defaultTooltip=z.defaultTooltip}E&&Ft(L.otherDims,E)})}});function m(A,M,T){gT.get(M)!=null?A.otherDims[M]=T:(A.coordDim=M,A.coordDimIndex=T,a.set(M,!0))}var g=t.generateCoord,y=t.generateCoordCount,_=y!=null;y=g?y||1:0;var x=g||"value";function w(A){A.name==null&&(A.name=A.coordDim)}if(s)j(i,function(A){w(A)}),i.sort(function(A,M){return A.storeDimIndex-M.storeDimIndex});else for(var b=0;b<o;b++){var S=v(b),C=S.coordDim;C==null&&(S.coordDim=lne(x,a,_),S.coordDimIndex=0,(!g||y<=0)&&(S.isExtraCoord=!0),y--),w(S),S.type==null&&(WF(e,b)===ia.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))&&(S.type="ordinal")}return one(i),new X5({source:e,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function one(e){for(var t=Dt(),n=0;n<e.length;n++){var r=e[n],a=r.name,i=t.get(a)||0;i>0&&(r.name=a+(i-1)),i++,t.set(a,i)}}function sne(e,t,n,r){var a=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return j(t,function(i){var o;lt(i)&&(o=i.dimsDef)&&(a=Math.max(a,o.length))}),a}function lne(e,t,n){if(n||t.hasKey(e)){for(var r=0;t.hasKey(e+r);)r++;e+=r}return t.set(e,!0),e}var une=function(){function e(t){this.coordSysDims=[],this.axisMap=Dt(),this.categoryAxisMap=Dt(),this.coordSysName=t}return e}();function cne(e){var t=e.get("coordinateSystem"),n=new une(t),r=fne[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var fne={cartesian2d:function(e,t,n,r){var a=e.getReferringComponents("xAxis",Io).models[0],i=e.getReferringComponents("yAxis",Io).models[0];{if(!a)throw new Error('xAxis "'+Qc(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found');if(!i)throw new Error('yAxis "'+Qc(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found')}t.coordSysDims=["x","y"],n.set("x",a),n.set("y",i),Xf(a)&&(r.set("x",a),t.firstCategoryDimIndex=0),Xf(i)&&(r.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var a=e.getReferringComponents("singleAxis",Io).models[0];if(!a)throw new Error("singleAxis should be specified.");t.coordSysDims=["single"],n.set("single",a),Xf(a)&&(r.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var a=e.getReferringComponents("polar",Io).models[0],i=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");{if(!o)throw new Error("angleAxis option not found");if(!i)throw new Error("radiusAxis option not found")}t.coordSysDims=["radius","angle"],n.set("radius",i),n.set("angle",o),Xf(i)&&(r.set("radius",i),t.firstCategoryDimIndex=0),Xf(o)&&(r.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var a=e.ecModel,i=a.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();j(i.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),c=o[l];n.set(c,u),Xf(u)&&(r.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function Xf(e){return e.get("type")==="category"}function J5(e,t,n){n=n||{};var r=n.byIndex,a=n.stackedCoordDimension,i,o,s;dne(t)?i=t:(o=t.schema,i=o.dimensions,s=t.store);var l=!!(e&&e.get("stack")),u,c,f,d;if(j(i,function(y,_){ot(y)&&(i[_]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!a||a===y.coordDim)&&(c=y))}),c&&!r&&!u&&(r=!0),c){f="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,v=c.type,p=0;j(i,function(y){y.coordDim===h&&p++});var m={name:f,coordDim:h,coordDimIndex:p,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},g={name:d,coordDim:d,coordDimIndex:p+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(d,v),g.storeDimIndex=s.ensureCalculationDimension(f,v)),o.appendCalculationDimension(m),o.appendCalculationDimension(g)):(i.push(m),i.push(g))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:d,stackResultDimension:f}}function dne(e){return!q5(e.schema)}function af(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function e4(e,t){return af(e,t)?e.getCalculationInfo("stackResultDimension"):t}function hne(e,t){var n=e.get("coordinateSystem"),r=D1.get(n),a;return t&&t.coordSysDims&&(a=at(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var l=s.get("type");o.type=Zte(l)}return o})),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),a}function vne(e,t,n){var r,a;return n&&j(e,function(i,o){var s=i.coordDim,l=n.categoryAxisMap.get(s);l&&(r==null&&(r=o),i.ordinalMeta=l.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&r!=null&&(e[r].otherDims.itemName=0),r}function k1(e,t,n){n=n||{};var r=t.getSourceManager(),a,i=!1;e?(i=!0,a=_A(e)):(a=r.getSource(),i=a.sourceFormat===vo);var o=cne(t),s=hne(t,o),l=n.useEncodeDefaulter,u=yt(l)?l:l?jn(nJ,s,t):null,c={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},f=LA(a,c),d=vne(f.dimensions,n.createInvertedIndices,o),h=i?null:r.getSharedDataStore(f),v=J5(t,{schema:f,store:h}),p=new co(f,t);p.setCalculationInfo(v);var m=d!=null&&pne(a)?function(g,y,_,x){return x===d?_:this.defaultDimValueGetter(g,y,_,x)}:null;return p.hasItemOption=!1,p.initData(i?a:h,null,m),p}function pne(e){if(e.sourceFormat===vo){var t=mne(e.data||[]);return!Be(Dm(t))}}function mne(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var t4=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(n)||(r[1]=n)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();c1(t4);const gl=t4;var gne=0,yne=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++gne}return e.createByAxisModel=function(t){var n=t.option,r=n.data,a=r&&at(r,_ne);return new e({categories:a,needCollect:!a,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var n,r=this._needCollect;if(!ot(t)&&!r)return t;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var a=this._getOrCreateMap();return n=a.get(t),n==null&&(r?(n=this.categories.length,this.categories[n]=t,a.set(t,n)):n=NaN),n},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Dt(this.categories))},e}();function _ne(e){return lt(e)&&e.value!=null?e.value:e+""}const J0=yne;function xne(e){var t=Math.pow(10,l1(Math.abs(e))),n=Math.abs(e/t);return n===0||n===1||n===2||n===3||n===5}function RT(e){return e.type==="interval"||e.type==="log"}function bne(e,t,n,r){var a={},i=e[1]-e[0],o=a.interval=_V(i/t,!0);n!=null&&o<n&&(o=a.interval=n),r!=null&&o>r&&(o=a.interval=r);var s=a.intervalPrecision=n4(o),l=a.niceTickExtent=[er(Math.ceil(e[0]/o)*o,s),er(Math.floor(e[1]/o)*o,s)];return wne(l,e),a}function Fb(e){var t=Math.pow(10,l1(e)),n=e/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,er(n*t)}function n4(e){return js(e)+2}function dI(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function wne(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),dI(e,0,t),dI(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function N1(e,t){return e>=t[0]&&e<=t[1]}function B1(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function V1(e,t){return e*(t[1]-t[0])+t[0]}var r4=function(e){dt(t,e);function t(n){var r=e.call(this,n)||this;r.type="ordinal";var a=r.getSetting("ordinalMeta");return a||(a=new J0({})),Be(a)&&(a=new J0({categories:at(a,function(i){return lt(i)?i.value:i})})),r._ordinalMeta=a,r._extent=r.getSetting("extent")||[0,a.categories.length-1],r}return t.prototype.parse=function(n){return n==null?NaN:ot(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),N1(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),B1(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(V1(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],r=this._extent,a=r[0];a<=r[1];)n.push({value:a}),a++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];a[o]=u,i[u]=o}for(var c=0;o<s;++o){for(;i[c]!=null;)c++;a.push(c),i[c]=o}},t.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),a=this._ordinalMeta.categories[r];return a==null?"":a+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(gl);gl.registerClass(r4);const a4=r4;var qu=er,i4=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return N1(n,this._extent)},t.prototype.normalize=function(n){return B1(n,this._extent)},t.prototype.scale=function(n){return V1(n,this._extent)},t.prototype.setExtent=function(n,r){var a=this._extent;isNaN(n)||(a[0]=parseFloat(n)),isNaN(r)||(a[1]=parseFloat(r))},t.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=n4(n)},t.prototype.getTicks=function(n){var r=this._interval,a=this._extent,i=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;a[0]<i[0]&&(n?s.push({value:qu(i[0]-r,o)}):s.push({value:a[0]}));for(var u=i[0];u<=i[1]&&(s.push({value:u}),u=qu(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:i[1];return a[1]>c&&(n?s.push({value:qu(c+r,o)}):s.push({value:a[1]})),s},t.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),a=[],i=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,c=[],f=s.value-l.value,d=f/n;u<n-1;){var h=qu(l.value+(u+1)*d);h>i[0]&&h<i[1]&&c.push(h),u++}a.push(c)}return a},t.prototype.getLabel=function(n,r){if(n==null)return"";var a=r&&r.precision;a==null?a=js(n.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=qu(n.value,a,!0);return G0(i)},t.prototype.calcNiceTicks=function(n,r,a){n=n||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var s=bne(i,n,r,a);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var a=Math.abs(r[0]);n.fixMax||(r[1]+=a/2),r[0]-=a/2}else r[1]=1;var i=r[1]-r[0];isFinite(i)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var o=this._interval;n.fixMin||(r[0]=qu(Math.floor(r[0]/o)*o)),n.fixMax||(r[1]=qu(Math.ceil(r[1]/o)*o))},t.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},t.type="interval",t}(gl);gl.registerClass(i4);const Rm=i4;var o4=typeof Float32Array<"u",Sne=o4?Float32Array:Array;function qs(e){return Be(e)?o4?new Float32Array(e):e:new Sne(e)}var Tne="__ec_stack_";function IA(e){return e.get("stack")||Tne+e.seriesIndex}function RA(e){return e.dim+e.index}function s4(e,t){var n=[];return t.eachSeriesByType(e,function(r){u4(r)&&n.push(r)}),n}function Cne(e){var t={};j(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),p=0,m=v.count();p<m;++p){var g=v.get(h,p);t[d]?t[d].push(g):t[d]=[g]}});var n={};for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(a){a.sort(function(l,u){return l-u});for(var i=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(i=i===null?s:Math.min(i,s))}n[r]=i}}return n}function l4(e){var t=Cne(e),n=[];return j(e,function(r){var a=r.coordinateSystem,i=a.getBaseAxis(),o=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=t[l],c=Math.abs(o[1]-o[0]),f=i.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var h=r.getData();s=Math.abs(o[1]-o[0])/h.count()}var v=In(r.get("barWidth"),s),p=In(r.get("barMaxWidth"),s),m=In(r.get("barMinWidth")||(c4(r)?.5:1),s),g=r.get("barGap"),y=r.get("barCategoryGap");n.push({bandWidth:s,barWidth:v,barMaxWidth:p,barMinWidth:m,barGap:g,barCategoryGap:y,axisKey:RA(i),stackId:IA(r)})}),Ane(n)}function Ane(e){var t={};j(e,function(r,a){var i=r.axisKey,o=r.bandWidth,s=t[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[i]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var d=r.barMinWidth;d&&(l[u].minWidth=d);var h=r.barGap;h!=null&&(s.gap=h);var v=r.barCategoryGap;v!=null&&(s.categoryGap=v)});var n={};return j(t,function(r,a){n[a]={};var i=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=ln(i).length;s=Math.max(35-l*4,15)+"%"}var u=In(s,o),c=In(r.gap,1),f=r.remainedWidth,d=r.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),j(i,function(g){var y=g.maxWidth,_=g.minWidth;if(g.width){var x=g.width;y&&(x=Math.min(x,y)),_&&(x=Math.max(x,_)),g.width=x,f-=x+c*x,d--}else{var x=h;y&&y<x&&(x=Math.min(y,f)),_&&_>x&&(x=_),x!==h&&(g.width=x,f-=x+c*x,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var v=0,p;j(i,function(g,y){g.width||(g.width=h),p=g,v+=g.width*(1+c)}),p&&(v-=p.width*c);var m=-v/2;j(i,function(g,y){n[a][y]=n[a][y]||{bandWidth:o,offset:m,width:g.width},m+=g.width*(1+c)})}),n}function Ene(e,t,n){if(e&&t){var r=e[RA(t)];return r!=null&&n!=null?r[IA(n)]:r}}function Dne(e,t){var n=s4(e,t),r=l4(n);j(n,function(a){var i=a.getData(),o=a.coordinateSystem,s=o.getBaseAxis(),l=IA(a),u=r[RA(s)][l],c=u.offset,f=u.width;i.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function Mne(e){return{seriesType:e,plan:SA(),reset:function(t){if(u4(t)){var n=t.getData(),r=t.coordinateSystem,a=r.getBaseAxis(),i=r.getOtherAxis(a),o=n.getDimensionIndex(n.mapDimension(i.dim)),s=n.getDimensionIndex(n.mapDimension(a.dim)),l=t.get("showBackground",!0),u=n.mapDimension(i.dim),c=n.getCalculationInfo("stackResultDimension"),f=af(n,u)&&!!n.getCalculationInfo("stackedOnSeries"),d=i.isHorizontal(),h=Pne(a,i),v=c4(t),p=t.get("barMinHeight")||0,m=c&&n.getDimensionIndex(c),g=n.getLayout("size"),y=n.getLayout("offset");return{progress:function(_,x){for(var w=_.count,b=v&&qs(w*3),S=v&&l&&qs(w*3),C=v&&qs(w),A=r.master.getRect(),M=d?A.width:A.height,T,E=x.getStore(),P=0;(T=_.next())!=null;){var I=E.get(f?m:o,T),k=E.get(s,T),B=h,U=void 0;f&&(U=+I-E.get(o,T));var R=void 0,L=void 0,z=void 0,X=void 0;if(d){var Y=r.dataToPoint([I,k]);if(f){var $=r.dataToPoint([U,k]);B=$[0]}R=B,L=Y[1]+y,z=Y[0]-B,X=g,Math.abs(z)<p&&(z=(z<0?-1:1)*p)}else{var Y=r.dataToPoint([k,I]);if(f){var $=r.dataToPoint([k,U]);B=$[1]}R=Y[0]+y,L=B,z=g,X=Y[1]-B,Math.abs(X)<p&&(X=(X<=0?-1:1)*p)}v?(b[P]=R,b[P+1]=L,b[P+2]=d?z:X,S&&(S[P]=d?A.x:R,S[P+1]=d?L:A.y,S[P+2]=M),C[T]=T):x.setItemLayout(T,{x:R,y:L,width:z,height:X}),P+=3}v&&x.setLayout({largePoints:b,largeDataIndices:C,largeBackgroundPoints:S,valueAxisHorizontal:d})}}}}}}function u4(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function c4(e){return e.pipelineContext&&e.pipelineContext.large}function Pne(e,t){return t.toGlobalCoord(t.dataToCoord(t.type==="log"?1:0))}var Lne=function(e,t,n,r){for(;n<r;){var a=n+r>>>1;e[a][1]<t?n=a+1:r=a}return n},f4=function(e){dt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="time",r}return t.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return b1(n.value,nL[jQ(Bd(this._minLevelUnit))]||nL.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,r,a){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return XQ(n,r,a,o,i)},t.prototype.getTicks=function(){var n=this._interval,r=this._extent,a=[];if(!n)return a;a.push({value:r[0],level:0});var i=this.getSetting("useUTC"),o=Vne(this._minLevelUnit,this._approxInterval,i,r);return a=a.concat(o),a.push({value:r[1],level:0}),a},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Zi,r[1]+=Zi),r[1]===-1/0&&r[0]===1/0){var a=new Date;r[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),r[0]=r[1]-Zi}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,r,a){n=n||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=Rg.length,l=Math.min(Lne(Rg,this._approxInterval,0,s),s-1);this._interval=Rg[l][1],this._minLevelUnit=Rg[Math.max(l-1,0)][0]},t.prototype.parse=function(n){return En(n)?n:+Vo(n)},t.prototype.contain=function(n){return N1(this.parse(n),this._extent)},t.prototype.normalize=function(n){return B1(this.parse(n),this._extent)},t.prototype.scale=function(n){return V1(n,this._extent)},t.type="time",t}(Rm),Rg=[["second",fA],["minute",dA],["hour",hp],["quarter-day",hp*6],["half-day",hp*12],["day",Zi*1.2],["half-week",Zi*3.5],["week",Zi*7],["month",Zi*31],["quarter",Zi*95],["half-year",tL/2],["year",tL]];function Ine(e,t,n,r){var a=Vo(t),i=Vo(n),o=function(v){return rL(a,v,r)===rL(i,v,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},f=function(){return c()&&o("minute")},d=function(){return f()&&o("second")},h=function(){return d()&&o("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return d();case"millisecond":return h()}}function Rne(e,t){return e/=Zi,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function One(e){var t=30*Zi;return e/=t,e>6?6:e>3?3:e>2?2:1}function kne(e){return e/=hp,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function hI(e,t){return e/=t?dA:fA,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function Nne(e){return _V(e,!0)}function Bne(e,t,n){var r=new Date(e);switch(Bd(t)){case"year":case"month":r[IF(n)](0);case"day":r[RF(n)](1);case"hour":r[OF(n)](0);case"minute":r[kF(n)](0);case"second":r[NF(n)](0),r[BF(n)](0)}return r.getTime()}function Vne(e,t,n,r){var a=1e4,i=PF,o=0;function s(M,T,E,P,I,k,B){for(var U=new Date(T),R=T,L=U[P]();R<E&&R<=r[1];)B.push({value:R}),L+=M,U[I](L),R=U.getTime();B.push({value:R,notAdd:!0})}function l(M,T,E){var P=[],I=!T.length;if(!Ine(Bd(M),r[0],r[1],n)){I&&(T=[{value:Bne(new Date(r[0]),M,n)},{value:r[1]}]);for(var k=0;k<T.length-1;k++){var B=T[k].value,U=T[k+1].value;if(B!==U){var R=void 0,L=void 0,z=void 0,X=!1;switch(M){case"year":R=Math.max(1,Math.round(t/Zi/365)),L=hA(n),z=qQ(n);break;case"half-year":case"quarter":case"month":R=One(t),L=Vd(n),z=IF(n);break;case"week":case"half-week":case"day":R=Rne(t),L=w1(n),z=RF(n),X=!0;break;case"half-day":case"quarter-day":case"hour":R=kne(t),L=Yp(n),z=OF(n);break;case"minute":R=hI(t,!0),L=S1(n),z=kF(n);break;case"second":R=hI(t,!1),L=T1(n),z=NF(n);break;case"millisecond":R=Nne(t),L=C1(n),z=BF(n);break}s(R,B,U,L,z,X,P),M==="year"&&E.length>1&&k===0&&E.unshift({value:E[0].value-R})}}for(var k=0;k<P.length;k++)E.push(P[k]);return P}}for(var u=[],c=[],f=0,d=0,h=0;h<i.length&&o++<a;++h){var v=Bd(i[h]);if(YQ(i[h])){l(i[h],u[u.length-1]||[],c);var p=i[h+1]?Bd(i[h+1]):null;if(v!==p){if(c.length){d=f,c.sort(function(M,T){return M.value-T.value});for(var m=[],g=0;g<c.length;++g){var y=c[g].value;(g===0||c[g-1].value!==y)&&(m.push(c[g]),y>=r[0]&&y<=r[1]&&f++)}var _=(r[1]-r[0])/t;if(f>_*1.5&&d>_/1.5||(u.push(m),f>_||e===i[h]))break}c=[]}}}o>=a&&Vr("Exceed safe limit.");for(var x=gr(at(u,function(M){return gr(M,function(T){return T.value>=r[0]&&T.value<=r[1]&&!T.notAdd})}),function(M){return M.length>0}),w=[],b=x.length-1,h=0;h<x.length;++h)for(var S=x[h],C=0;C<S.length;++C)w.push({value:S[C].value,level:b-h});w.sort(function(M,T){return M.value-T.value});for(var A=[],h=0;h<w.length;++h)(h===0||w[h].value!==w[h-1].value)&&A.push(w[h]);return A}gl.registerClass(f4);const Fne=f4;var vI=gl.prototype,yp=Rm.prototype,Une=er,zne=Math.floor,Hne=Math.ceil,Og=Math.pow,wo=Math.log,OA=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new Rm,n._interval=0,n}return t.prototype.getTicks=function(n){var r=this._originalScale,a=this._extent,i=r.getExtent(),o=yp.getTicks.call(this,n);return at(o,function(s){var l=s.value,u=er(Og(this.base,l));return u=l===a[0]&&this._fixMin?kg(u,i[0]):u,u=l===a[1]&&this._fixMax?kg(u,i[1]):u,{value:u}},this)},t.prototype.setExtent=function(n,r){var a=wo(this.base);n=wo(Math.max(0,n))/a,r=wo(Math.max(0,r))/a,yp.setExtent.call(this,n,r)},t.prototype.getExtent=function(){var n=this.base,r=vI.getExtent.call(this);r[0]=Og(n,r[0]),r[1]=Og(n,r[1]);var a=this._originalScale,i=a.getExtent();return this._fixMin&&(r[0]=kg(r[0],i[0])),this._fixMax&&(r[1]=kg(r[1],i[1])),r},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=wo(n[0])/wo(r),n[1]=wo(n[1])/wo(r),vI.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,a=r[1]-r[0];if(!(a===1/0||a<=0)){var i=Yq(a),o=n/a*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[er(Hne(r[0]/i)*i),er(zne(r[1]/i)*i)];this._interval=i,this._niceExtent=s}},t.prototype.calcNiceExtent=function(n){yp.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=wo(n)/wo(this.base),N1(n,this._extent)},t.prototype.normalize=function(n){return n=wo(n)/wo(this.base),B1(n,this._extent)},t.prototype.scale=function(n){return n=V1(n,this._extent),Og(this.base,n)},t.type="log",t}(gl),d4=OA.prototype;d4.getMinorTicks=yp.getMinorTicks;d4.getLabel=yp.getLabel;function kg(e,t){return Une(e,js(t))}gl.registerClass(OA);const $ne=OA;var Gne=function(){function e(t,n,r){this._prepareParams(t,n,r)}return e.prototype._prepareParams=function(t,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var a=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var i=this._modelMinRaw=n.get("min",!0);yt(i)?this._modelMinNum=Ng(t,i({min:r[0],max:r[1]})):i!=="dataMin"&&(this._modelMinNum=Ng(t,i));var o=this._modelMaxRaw=n.get("max",!0);if(yt(o)?this._modelMaxNum=Ng(t,o({min:r[0],max:r[1]})):o!=="dataMax"&&(this._modelMaxNum=Ng(t,o)),a)this._axisDataLen=n.getCategories().length;else{var s=n.get("boundaryGap"),l=Be(s)?s:[s||0,s||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[fu(l[0],1),fu(l[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,r=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,o=t?null:r-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?a?0:NaN:n-i[0]*o),l==null&&(l=t?a?a-1:NaN:r+i[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Xd(s)||Xd(l)||t&&!a;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(s=d,u=!0),h!=null&&(l=h,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},e.prototype.modifyDataMinMax=function(t,n){_t(!this.frozen),this[Yne[t]]=n},e.prototype.setDeterminedMinMax=function(t,n){var r=Wne[t];_t(!this.frozen&&this[r]==null),this[r]=n},e.prototype.freeze=function(){this.frozen=!0},e}(),Wne={min:"_determinedMin",max:"_determinedMax"},Yne={min:"_dataMin",max:"_dataMax"};function jne(e,t,n){var r=e.rawExtentInfo;return r||(r=new Gne(e,t,n),e.rawExtentInfo=r,r)}function Ng(e,t){return t==null?null:Xd(t)?NaN:e.parse(t)}function h4(e,t){var n=e.type,r=jne(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var a=r.min,i=r.max,o=t.ecModel;if(o&&n==="time"){var s=s4("bar",o),l=!1;if(j(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=l4(s),c=Xne(a,i,t,u);a=c.min,i=c.max}}return{extent:[a,i],fixMin:r.minFixed,fixMax:r.maxFixed}}function Xne(e,t,n,r){var a=n.axis.getExtent(),i=a[1]-a[0],o=Ene(r,n.axis);if(o===void 0)return{min:e,max:t};var s=1/0;j(o,function(h){s=Math.min(h.offset,s)});var l=-1/0;j(o,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,f=1-(s+l)/i,d=c/f-c;return t+=d*(l/u),e-=d*(s/u),{min:e,max:t}}function OT(e,t){var n=t,r=h4(e,n),a=r.extent,i=n.get("splitNumber");e instanceof $ne&&(e.base=n.get("logBase"));var o=e.type,s=n.get("interval"),l=o==="interval"||o==="time";e.setExtent(a[0],a[1]),e.calcNiceExtent({splitNumber:i,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),s!=null&&e.setInterval&&e.setInterval(s)}function v4(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new a4({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new Fne({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(gl.getClass(t)||Rm)}}function qne(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function Om(e){var t=e.getLabelModel().get("formatter"),n=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(r){return function(a,i){return e.scale.getFormattedLabel(a,i,r)}}(t):ot(t)?function(r){return function(a){var i=e.scale.getLabel(a),o=r.replace("{value}",i??"");return o}}(t):yt(t)?function(r){return function(a,i){return n!=null&&(i=a.value-n),r(kA(e,a),i,a.level!=null?{level:a.level}:null)}}(t):function(r){return e.scale.getLabel(r)}}function kA(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function Zne(e){var t=e.model,n=e.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var r,a,i=n.getExtent();n instanceof a4?a=n.count():(r=n.getTicks(),a=r.length);var o=e.getLabelModel(),s=Om(e),l,u=1;a>40&&(u=Math.ceil(a/40));for(var c=0;c<a;c+=u){var f=r?r[c]:{value:i[0]+c},d=s(f,c),h=o.getTextRect(d),v=Kne(h,o.get("rotate")||0);l?l.union(v):l=v}return l}}function Kne(e,t){var n=t*Math.PI/180,r=e.width,a=e.height,i=r*Math.abs(Math.cos(n))+Math.abs(a*Math.sin(n)),o=r*Math.abs(Math.sin(n))+Math.abs(a*Math.cos(n)),s=new Wt(e.x,e.y,i,o);return s}function NA(e){var t=e.get("interval");return t??"auto"}function p4(e){return e.type==="category"&&NA(e.getLabelModel())===0}function Qne(e,t){var n={};return j(e.mapDimensionsAll(t),function(r){n[e4(e,r)]=!0}),ln(n)}var m4=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}();function Jne(e){return k1(null,e)}var BA={isDimensionStacked:af,enableDataStack:J5,getStackedDimension:e4};function VA(e,t){var n=t;t instanceof fr||(n=new fr(t));var r=v4(n);return r.setExtent(e[0],e[1]),OT(r,n),r}function ere(e){Si(e,m4)}var pI=[],tre={registerPreprocessor:DA,registerProcessor:$5,registerPostInit:G5,registerPostUpdate:W5,registerUpdateLifecycle:MA,registerAction:Ch,registerCoordinateSystem:Hte,registerLayout:$te,registerVisual:_f,registerTransform:Wte,registerLoading:j5,registerMap:Gte,registerImpl:Ste,PRIORITY:kte,ComponentModel:en,ComponentView:Aa,SeriesModel:$r,ChartView:Sr,registerComponentModel:function(e){en.registerClass(e)},registerComponentView:function(e){Aa.registerClass(e)},registerSeriesModel:function(e){$r.registerClass(e)},registerChartView:function(e){Sr.registerClass(e)},registerSubTypeDefaulter:function(e,t){en.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){Uq(e,t)}};function wn(e){if(Be(e)){j(e,function(t){wn(t)});return}Xt(pI,e)>=0||(pI.push(e),yt(e)&&(e={install:e}),e.install(tre))}var nre=1e-8;function mI(e,t){return Math.abs(e-t)<nre}function gI(e,t,n){var r=0,a=e[0];if(!a)return!1;for(var i=1;i<e.length;i++){var o=e[i];r+=Fs(a[0],a[1],o[0],o[1],t,n),a=o}var s=e[0];return(!mI(a[0],s[0])||!mI(a[1],s[1]))&&(r+=Fs(a[0],a[1],s[0],s[1],t,n)),r!==0}var rre=[];function Ub(e,t){for(var n=0;n<e.length;n++)ba(e[n],e[n],t)}function yI(e,t,n,r){for(var a=0;a<e.length;a++){var i=e[a];r&&(i=r.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(yc(t,t,i),_c(n,n,i))}}function are(e){for(var t=0,n=0,r=0,a=e.length,i=e[a-1][0],o=e[a-1][1],s=0;s<a;s++){var l=e[s][0],u=e[s][1],c=i*u-l*o;t+=c,n+=(i+l)*c,r+=(o+u)*c,i=l,o=u}return t?[n/t/3,r/t/3,t]:[e[0][0]||0,e[0][1]||0]}var g4=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),_I=function(){function e(t,n){this.type="polygon",this.exterior=t,this.interiors=n}return e}(),xI=function(){function e(t){this.type="linestring",this.points=t}return e}(),ire=function(e){dt(t,e);function t(n,r,a){var i=e.call(this,n)||this;return i.type="geoJSON",i.geometries=r,i._center=a&&[a[0],a[1]],i}return t.prototype.calcCenter=function(){for(var n=this.geometries,r,a=0,i=0;i<n.length;i++){var o=n[i],s=o.exterior,l=s&&s.length;l>a&&(r=o,a=l)}if(r)return are(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(n){var r=this._rect;if(r&&!n)return r;var a=[1/0,1/0],i=[-1/0,-1/0],o=this.geometries;return j(o,function(s){s.type==="polygon"?yI(s.exterior,a,i,n):j(s.points,function(l){yI(l,a,i,n)})}),isFinite(a[0])&&isFinite(a[1])&&isFinite(i[0])&&isFinite(i[1])||(a[0]=a[1]=i[0]=i[1]=0),r=new Wt(a[0],a[1],i[0]-a[0],i[1]-a[1]),n||(this._rect=r),r},t.prototype.contain=function(n){var r=this.getBoundingRect(),a=this.geometries;if(!r.contain(n[0],n[1]))return!1;e:for(var i=0,o=a.length;i<o;i++){var s=a[i];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(gI(l,n[0],n[1])){for(var c=0;c<(u?u.length:0);c++)if(gI(u[c],n[0],n[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(n,r,a,i){var o=this.getBoundingRect(),s=o.width/o.height;a?i||(i=a/s):a=s*i;for(var l=new Wt(n,r,a,i),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(Ub(d.exterior,u),j(d.interiors,function(h){Ub(h,u)})):j(d.points,function(h){Ub(h,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(n){n==null&&(n=this.name);var r=new t(n,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(g4);(function(e){dt(t,e);function t(n,r){var a=e.call(this,n)||this;return a.type="geoSVG",a._elOnlyForCalculate=r,a}return t.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,r=n.getBoundingRect(),a=[r.x+r.width/2,r.y+r.height/2],i=a1(rre),o=n;o&&!o.isGeoSVGGraphicRoot;)Vc(i,o.getLocalTransform(),i),o=o.parent;return xh(i,i),ba(a,a,i),a},t})(g4);function ore(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;n==null&&(n=1024);var r=t.features;return j(r,function(a){var i=a.geometry,o=i.encodeOffsets,s=i.coordinates;if(o)switch(i.type){case"LineString":i.coordinates=y4(s,o,n);break;case"Polygon":zb(s,o,n);break;case"MultiLineString":zb(s,o,n);break;case"MultiPolygon":j(s,function(l,u){return zb(l,o[u],n)})}}),t.UTF8Encoding=!1,t}function zb(e,t,n){for(var r=0;r<e.length;r++)e[r]=y4(e[r],t[r],n)}function y4(e,t,n){for(var r=[],a=t[0],i=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=a,l+=i,a=s,i=l,r.push([s/n,l/n])}return r}function bI(e,t){return e=ore(e),at(gr(e.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var r=n.properties,a=n.geometry,i=[];switch(a.type){case"Polygon":var o=a.coordinates;i.push(new _I(o[0],o.slice(1)));break;case"MultiPolygon":j(a.coordinates,function(l){l[0]&&i.push(new _I(l[0],l.slice(1)))});break;case"LineString":i.push(new xI([a.coordinates]));break;case"MultiLineString":i.push(new xI(a.coordinates))}var s=new ire(r[t||"name"],i,r.cp);return s.properties=r,s})}var Qp=Fn();function sre(e){return e.type==="category"?ure(e):fre(e)}function lre(e,t){return e.type==="category"?cre(e,t):{ticks:at(e.scale.getTicks(),function(n){return n.value})}}function ure(e){var t=e.getLabelModel(),n=_4(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function _4(e,t){var n=x4(e,"labels"),r=NA(t),a=b4(n,r);if(a)return a;var i,o;return yt(r)?i=T4(e,r):(o=r==="auto"?dre(e):r,i=S4(e,o)),w4(n,r,{labels:i,labelCategoryInterval:o})}function cre(e,t){var n=x4(e,"ticks"),r=NA(t),a=b4(n,r);if(a)return a;var i,o;if((!t.get("show")||e.scale.isBlank())&&(i=[]),yt(r))i=T4(e,r,!0);else if(r==="auto"){var s=_4(e,e.getLabelModel());o=s.labelCategoryInterval,i=at(s.labels,function(l){return l.tickValue})}else o=r,i=S4(e,o,!0);return w4(n,r,{ticks:i,tickCategoryInterval:o})}function fre(e){var t=e.scale.getTicks(),n=Om(e);return{labels:at(t,function(r,a){return{level:r.level,formattedLabel:n(r,a),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}function x4(e,t){return Qp(e)[t]||(Qp(e)[t]=[])}function b4(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function w4(e,t,n){return e.push({key:t,value:n}),n}function dre(e){var t=Qp(e).autoInterval;return t??(Qp(e).autoInterval=e.calculateCategoryInterval())}function hre(e){var t=vre(e),n=Om(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,a=e.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=i[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(r)),f=Math.abs(u*Math.sin(r)),d=0,h=0;l<=i[1];l+=s){var v=0,p=0,m=W2(n({value:l}),t.font,"center","top");v=m.width*1.3,p=m.height*1.3,d=Math.max(d,v,7),h=Math.max(h,p,7)}var g=d/c,y=h/f;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(g,y))),x=Qp(e.model),w=e.getExtent(),b=x.lastAutoInterval,S=x.lastTickCount;return b!=null&&S!=null&&Math.abs(b-_)<=1&&Math.abs(S-o)<=1&&b>_&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?_=b:(x.lastTickCount=o,x.lastAutoInterval=_,x.axisExtent0=w[0],x.axisExtent1=w[1]),_}function vre(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function S4(e,t,n){var r=Om(e),a=e.scale,i=a.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=i[0],c=a.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=p4(e),d=o.get("showMinLabel")||f,h=o.get("showMaxLabel")||f;d&&u!==i[0]&&p(i[0]);for(var v=u;v<=i[1];v+=l)p(v);h&&v-l!==i[1]&&p(i[1]);function p(m){var g={value:m};s.push(n?m:{formattedLabel:r(g),rawLabel:a.getLabel(g),tickValue:m})}return s}function T4(e,t,n){var r=e.scale,a=Om(e),i=[];return j(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;t(o.value,s)&&i.push(n?l:{formattedLabel:a(o),rawLabel:s,tickValue:l})}),i}var wI=[0,1],pre=function(){function e(t,n,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=r||[0,0]}return e.prototype.contain=function(t){var n=this._extent,r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return t>=r&&t<=a},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return Hq(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,n){var r=this._extent;r[0]=t,r[1]=n},e.prototype.dataToCoord=function(t,n){var r=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type==="ordinal"&&(r=r.slice(),SI(r,a.count())),Up(t,wI,r,n)},e.prototype.coordToData=function(t,n){var r=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(r=r.slice(),SI(r,a.count()));var i=Up(t,r,wI,n);return this.scale.scale(i)},e.prototype.pointToData=function(t,n){},e.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),r=lre(this,n),a=r.ticks,i=at(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=n.get("alignWithLabel");return mre(this,i,o,t.clamp),i},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),a=at(r,function(i){return at(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},e.prototype.getViewLabels=function(){return sre(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/r},e.prototype.calculateCategoryInterval=function(){return hre(this)},e}();function SI(e,t){var n=e[1]-e[0],r=t,a=n/r/2;e[0]+=a,e[1]-=a}function mre(e,t,n,r){var a=t.length;if(!e.onBand||n||!a)return;var i=e.getExtent(),o,s;if(a===1)t[0].coord=i[0],o=t[1]={coord:i[1]};else{var l=t[a-1].tickValue-t[0].tickValue,u=(t[a-1].coord-t[0].coord)/l;j(t,function(h){h.coord-=u/2});var c=e.scale.getExtent();s=1+c[1]-t[a-1].tickValue,o={coord:t[a-1].coord+u*s},t.push(o)}var f=i[0]>i[1];d(t[0].coord,i[0])&&(r?t[0].coord=i[0]:t.shift()),r&&d(i[0],t[0].coord)&&t.unshift({coord:i[0]}),d(i[1],o.coord)&&(r?o.coord=i[1]:t.pop()),r&&d(o.coord,i[1])&&t.push({coord:i[1]});function d(h,v){return h=er(h),v=er(v),f?h>v:h<v}}const km=pre;var pv=Math.PI*2,Zu=du.CMD,gre=["top","right","bottom","left"];function yre(e,t,n,r,a){var i=n.width,o=n.height;switch(e){case"top":r.set(n.x+i/2,n.y-t),a.set(0,-1);break;case"bottom":r.set(n.x+i/2,n.y+o+t),a.set(0,1);break;case"left":r.set(n.x-t,n.y+o/2),a.set(-1,0);break;case"right":r.set(n.x+i+t,n.y+o/2),a.set(1,0);break}}function _re(e,t,n,r,a,i,o,s,l){o-=e,s-=t;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*n+e,f=s*n+t;if(Math.abs(r-a)%pv<1e-4)return l[0]=c,l[1]=f,u-n;if(i){var d=r;r=Xs(a),a=Xs(d)}else r=Xs(r),a=Xs(a);r>a&&(a+=pv);var h=Math.atan2(s,o);if(h<0&&(h+=pv),h>=r&&h<=a||h+pv>=r&&h+pv<=a)return l[0]=c,l[1]=f,u-n;var v=n*Math.cos(r)+e,p=n*Math.sin(r)+t,m=n*Math.cos(a)+e,g=n*Math.sin(a)+t,y=(v-o)*(v-o)+(p-s)*(p-s),_=(m-o)*(m-o)+(g-s)*(g-s);return y<_?(l[0]=v,l[1]=p,Math.sqrt(y)):(l[0]=m,l[1]=g,Math.sqrt(_))}function e_(e,t,n,r,a,i,o,s){var l=a-e,u=i-t,c=n-e,f=r-t,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,v=h/d;s&&(v=Math.min(Math.max(v,0),1)),v*=d;var p=o[0]=e+v*c,m=o[1]=t+v*f;return Math.sqrt((p-a)*(p-a)+(m-i)*(m-i))}function C4(e,t,n,r,a,i,o){n<0&&(e=e+n,n=-n),r<0&&(t=t+r,r=-r);var s=e+n,l=t+r,u=o[0]=Math.min(Math.max(a,e),s),c=o[1]=Math.min(Math.max(i,t),l);return Math.sqrt((u-a)*(u-a)+(c-i)*(c-i))}var Mo=[];function xre(e,t,n){var r=C4(t.x,t.y,t.width,t.height,e.x,e.y,Mo);return n.set(Mo[0],Mo[1]),r}function bre(e,t,n){for(var r=0,a=0,i=0,o=0,s,l,u=1/0,c=t.data,f=e.x,d=e.y,h=0;h<c.length;){var v=c[h++];h===1&&(r=c[h],a=c[h+1],i=r,o=a);var p=u;switch(v){case Zu.M:i=c[h++],o=c[h++],r=i,a=o;break;case Zu.L:p=e_(r,a,c[h],c[h+1],f,d,Mo,!0),r=c[h++],a=c[h++];break;case Zu.C:p=aV(r,a,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,Mo),r=c[h++],a=c[h++];break;case Zu.Q:p=oV(r,a,c[h++],c[h++],c[h],c[h+1],f,d,Mo),r=c[h++],a=c[h++];break;case Zu.A:var m=c[h++],g=c[h++],y=c[h++],_=c[h++],x=c[h++],w=c[h++];h+=1;var b=!!(1-c[h++]);s=Math.cos(x)*y+m,l=Math.sin(x)*_+g,h<=1&&(i=s,o=l);var S=(f-m)*_/y+m;p=_re(m,g,_,x,x+w,b,S,d,Mo),r=Math.cos(x+w)*y+m,a=Math.sin(x+w)*_+g;break;case Zu.R:i=r=c[h++],o=a=c[h++];var C=c[h++],A=c[h++];p=C4(i,o,C,A,f,d,Mo);break;case Zu.Z:p=e_(r,a,i,o,f,d,Mo,!0),r=i,a=o;break}p<u&&(u=p,n.set(Mo[0],Mo[1]))}return u}var Ro=new wt,Tn=new wt,lr=new wt,fs=new wt,as=new wt;function TI(e,t){if(e){var n=e.getTextGuideLine(),r=e.getTextContent();if(r&&n){var a=e.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],o=a.candidates||gre,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=a.anchor,c=e.getComputedTransform(),f=c&&xh([],c),d=t.get("length2")||0;u&&lr.copy(u);for(var h=0;h<o.length;h++){var v=o[h];yre(v,0,s,Ro,fs),wt.scaleAndAdd(Tn,Ro,fs,d),Tn.transform(f);var p=e.getBoundingRect(),m=u?u.distance(Tn):e instanceof gn?bre(Tn,e.path,lr):xre(Tn,p,lr);m<l&&(l=m,Tn.transform(c),lr.transform(c),lr.toArray(i[0]),Tn.toArray(i[1]),Ro.toArray(i[2]))}A4(i,t.get("minTurnAngle")),n.setShape({points:i})}}}var t_=[],Fa=new wt;function A4(e,t){if(t<=180&&t>0){t=t/180*Math.PI,Ro.fromArray(e[0]),Tn.fromArray(e[1]),lr.fromArray(e[2]),wt.sub(fs,Ro,Tn),wt.sub(as,lr,Tn);var n=fs.len(),r=as.len();if(!(n<.001||r<.001)){fs.scale(1/n),as.scale(1/r);var a=fs.dot(as),i=Math.cos(t);if(i<a){var o=e_(Tn.x,Tn.y,lr.x,lr.y,Ro.x,Ro.y,t_,!1);Fa.fromArray(t_),Fa.scaleAndAdd(as,o/Math.tan(Math.PI-t));var s=lr.x!==Tn.x?(Fa.x-Tn.x)/(lr.x-Tn.x):(Fa.y-Tn.y)/(lr.y-Tn.y);if(isNaN(s))return;s<0?wt.copy(Fa,Tn):s>1&&wt.copy(Fa,lr),Fa.toArray(e[1])}}}}function wre(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,Ro.fromArray(e[0]),Tn.fromArray(e[1]),lr.fromArray(e[2]),wt.sub(fs,Tn,Ro),wt.sub(as,lr,Tn);var r=fs.len(),a=as.len();if(!(r<.001||a<.001)){fs.scale(1/r),as.scale(1/a);var i=fs.dot(t),o=Math.cos(n);if(i<o){var s=e_(Tn.x,Tn.y,lr.x,lr.y,Ro.x,Ro.y,t_,!1);Fa.fromArray(t_);var l=Math.PI/2,u=Math.acos(as.dot(t)),c=l+u-n;if(c>=l)wt.copy(Fa,lr);else{Fa.scaleAndAdd(as,s/Math.tan(Math.PI/2-c));var f=lr.x!==Tn.x?(Fa.x-Tn.x)/(lr.x-Tn.x):(Fa.y-Tn.y)/(lr.y-Tn.y);if(isNaN(f))return;f<0?wt.copy(Fa,Tn):f>1&&wt.copy(Fa,lr)}Fa.toArray(e[1])}}}}function CI(e,t,n,r){var a=n==="normal",i=a?e:e.ensureState(n);i.ignore=t;var o=r.get("smooth");o&&o===!0&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();a?e.useStyle(s):i.style=s}function Sre(e,t){var n=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var a=HS(r[0],r[1]),i=HS(r[1],r[2]);if(!a||!i){e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]);return}var o=Math.min(a,i)*n,s=Rx([],r[1],r[0],o/a),l=Rx([],r[1],r[2],o/i),u=Rx([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function E4(e,t,n){var r=e.getTextGuideLine(),a=e.getTextContent();if(!a){r&&e.removeTextGuideLine();return}for(var i=t.normal,o=i.get("show"),s=a.ignore,l=0;l<O0.length;l++){var u=O0[l],c=t[u],f=u==="normal";if(c){var d=c.get("show"),h=f?s:Ut(a.states[u]&&a.states[u].ignore,s);if(h||!Ut(d,o)){var v=f?r:r&&r.states[u];v&&(v.ignore=!0);continue}r||(r=new m1,e.setTextGuideLine(r),!f&&(s||!o)&&CI(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),CI(r,!1,u,c)}}if(r){Ft(r.style,n),r.style.fill=null;var p=i.get("showAbove"),m=e.textGuideLineConfig=e.textGuideLineConfig||{};m.showAbove=p||!1,r.buildPath=Sre}}function D4(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},r=0;r<lo.length;r++){var a=lo[r];n[a]=e.getModel([a,t])}return n}function M4(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var a=r.label,i=a.getComputedTransform(),o=a.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,l=a.style.margin||0,u=o.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new V0(o,i):null;t.push({label:a,labelLine:r.labelLine,rect:u,localRect:o,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:i})}}return t}function P4(e,t,n,r,a,i){var o=e.length;if(o<2)return;e.sort(function(C,A){return C.rect[t]-A.rect[t]});for(var s=0,l,u=!1,c=0,f=0;f<o;f++){var d=e[f],h=d.rect;l=h[t]-s,l<0&&(h[t]-=l,d.label[t]-=l,u=!0);var v=Math.max(-l,0);c+=v,s=h[t]+h[n]}c>0&&i&&w(-c/o,0,o);var p=e[0],m=e[o-1],g,y;_(),g<0&&b(-g,.8),y<0&&b(y,.8),_(),x(g,y,1),x(y,g,-1),_(),g<0&&S(-g),y<0&&S(y);function _(){g=p.rect[t]-r,y=a-m.rect[t]-m.rect[n]}function x(C,A,M){if(C<0){var T=Math.min(A,-C);if(T>0){w(T*M,0,o);var E=T+C;E<0&&b(-E*M,1)}else b(-C*M,1)}}function w(C,A,M){C!==0&&(u=!0);for(var T=A;T<M;T++){var E=e[T],P=E.rect;P[t]+=C,E.label[t]+=C}}function b(C,A){for(var M=[],T=0,E=1;E<o;E++){var P=e[E-1].rect,I=Math.max(e[E].rect[t]-P[t]-P[n],0);M.push(I),T+=I}if(T){var k=Math.min(Math.abs(C)/T,A);if(C>0)for(var E=0;E<o-1;E++){var B=M[E]*k;w(B,0,E+1)}else for(var E=o-1;E>0;E--){var B=M[E-1]*k;w(-B,E,o)}}}function S(C){var A=C<0?-1:1;C=Math.abs(C);for(var M=Math.ceil(C/(o-1)),T=0;T<o-1;T++)if(A>0?w(M,0,T+1):w(-M,o-T-1,o),C-=M,C<=0)return}return u}function Tre(e,t,n,r){return P4(e,"x","width",t,n,r)}function L4(e,t,n,r){return P4(e,"y","height",t,n,r)}function I4(e){var t=[];e.sort(function(p,m){return m.priority-p.priority});var n=new Wt(0,0,0,0);function r(p){if(!p.ignore){var m=p.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}p.ignore=!0}for(var a=0;a<e.length;a++){var i=e[a],o=i.axisAligned,s=i.localRect,l=i.transform,u=i.label,c=i.labelLine;n.copy(i.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=i.obb,d=!1,h=0;h<t.length;h++){var v=t[h];if(n.intersect(v.rect)){if(o&&v.axisAligned){d=!0;break}if(v.obb||(v.obb=new V0(v.localRect,v.transform)),f||(f=new V0(s,l)),f.intersect(v.obb)){d=!0;break}}}d?(r(u),c&&r(c)):(u.attr("ignore",i.defaultAttr.ignore),c&&c.attr("ignore",i.defaultAttr.labelGuideIgnore),t.push(i))}}function Cre(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function Are(e,t){var n=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Cre(r&&r.shape.points)}}var AI=["align","verticalAlign","width","height","fontSize"],Ia=new s1,Hb=Fn(),Ere=Fn();function Bg(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];t[a]!=null&&(e[a]=t[a])}}var Vg=["x","y","rotation"],Dre=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,n,r,a,i){var o=a.style,s=a.__hostTarget,l=s.textConfig||{},u=a.getComputedTransform(),c=a.getBoundingRect().plain();Wt.applyTransform(c,c,u),u?Ia.setLocalTransform(u):(Ia.x=Ia.y=Ia.rotation=Ia.originX=Ia.originY=0,Ia.scaleX=Ia.scaleY=1),Ia.rotation=Xs(Ia.rotation);var f=a.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();Wt.applyTransform(d,d,h)}var v=d&&f.getTextGuideLine();this._labelList.push({label:a,labelLine:v,seriesModel:r,dataIndex:t,dataType:n,layoutOption:i,computedLayoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:v&&v.ignore,x:Ia.x,y:Ia.y,scaleX:Ia.scaleX,scaleY:Ia.scaleY,rotation:Ia.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:a.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var n=this;this._chartViewList.push(t);var r=t.__model,a=r.get("labelLayout");(yt(a)||ln(a).length)&&t.group.traverse(function(i){if(i.ignore)return!0;var o=i.getTextContent(),s=qt(i);o&&!o.disableLabelLayout&&n._addLabel(s.dataIndex,s.dataType,r,o,a)})},e.prototype.updateLayoutConfig=function(t){var n=t.getWidth(),r=t.getHeight();function a(_,x){return function(){TI(_,x)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;yt(o.layoutOption)?c=o.layoutOption(Are(o,l)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=In(c.x,n),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=In(c.y,r),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var v=Hb(s);v.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var p=0;p<AI.length;p++){var m=AI[p];s.setStyle(m,c[m]!=null?c[m]:u.style[m])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var g=o.seriesModel;if(o.dataIndex!=null){var y=o.seriesModel.getData(o.dataType);g=y.getItemModel(o.dataIndex)}s.on("drag",a(l,g.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},e.prototype.layout=function(t){var n=t.getWidth(),r=t.getHeight(),a=M4(this._labelList),i=gr(a,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=gr(a,function(l){return l.layoutOption.moveOverlap==="shiftY"});Tre(i,0,n),L4(o,0,r);var s=gr(a,function(l){return l.layoutOption.hideOverlap});I4(s)},e.prototype.processLabelsOverall=function(){var t=this;j(this._chartViewList,function(n){var r=n.__model,a=n.ignoreLabelLineUpdate,i=r.isAnimationEnabled();n.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!a,l=o.getTextContent();!s&&l&&(s=Hb(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,r),i&&t._animateLabels(o,r)})})},e.prototype._updateLabelLine=function(t,n){var r=t.getTextContent(),a=qt(t),i=a.dataIndex;if(r&&i!=null){var o=n.getData(a.dataType),s=o.getItemModel(i),l={},u=o.getItemVisual(i,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");E4(t,D4(s),l),TI(t,f)}},e.prototype._animateLabels=function(t,n){var r=t.getTextContent(),a=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!Nd(t))){var i=Hb(r),o=i.oldLayout,s=qt(t),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=n.getData(s.dataType);if(o){r.attr(o);var d=t.prevStates;d&&(Xt(d,"select")>=0&&r.attr(i.oldLayoutSelect),Xt(d,"emphasis")>=0&&r.attr(i.oldLayoutEmphasis)),Hr(r,u,n,l)}else if(r.attr(u),!wh(r).valueAnimation){var f=Ut(r.style.opacity,1);r.style.opacity=0,Xa(r,{style:{opacity:f}},n,l)}if(i.oldLayout=u,r.states.select){var h=i.oldLayoutSelect={};Bg(h,u,Vg),Bg(h,r.states.select,Vg)}if(r.states.emphasis){var v=i.oldLayoutEmphasis={};Bg(v,u,Vg),Bg(v,r.states.emphasis,Vg)}PQ(r,l,c,n,n)}if(a&&!a.ignore&&!a.invisible){var i=Ere(a),o=i.oldLayout,p={points:a.shape.points};o?(a.attr({shape:o}),Hr(a,{shape:p},n)):(a.setShape(p),a.style.strokePercent=0,Xa(a,{style:{strokePercent:1}},n)),i.oldLayout=p}},e}();const Mre=Dre;var $b=Fn();function Pre(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,n,r){var a=$b(n).labelManager;a||(a=$b(n).labelManager=new Mre),a.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,n,r){var a=$b(n).labelManager;r.updatedSeries.forEach(function(i){a.addLabelsOfSeries(n.getViewOfSeriesModel(i))}),a.updateLayoutConfig(n),a.layout(n),a.processLabelsOverall()})}var Lre=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){{var r=n.coordinateSystem;if(r!=="polar"&&r!=="cartesian2d")throw new Error("Line not support coordinateSystem besides cartesian and polar")}return k1(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var r=new oa,a=rf("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(a),a.setStyle(n.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=n.itemHeight*.8,u=rf(s,(n.itemWidth-l)/2,(n.itemHeight-l)/2,l,l,n.itemStyle.fill);r.add(u),u.setStyle(n.itemStyle);var c=n.iconRotate==="inherit"?o:n.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([n.itemWidth/2,n.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}($r);const Ire=Lre;function FA(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var a=Jd(e,t,n[0]);return a!=null?a+"":null}else if(r){for(var i=[],o=0;o<n.length;o++)i.push(Jd(e,t,n[o]));return i.join(" ")}}function R4(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!Be(t))return t+"";for(var r=[],a=0;a<n.length;a++){var i=e.getDimensionIndex(n[a]);i>=0&&r.push(t[i])}return r.join(" ")}var Rre=function(e){dt(t,e);function t(n,r,a,i){var o=e.call(this)||this;return o.updateData(n,r,a,i),o}return t.prototype._createSymbol=function(n,r,a,i,o){this.removeAll();var s=rf(n,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=Ore,this._symbolType=n,this.add(s)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){k0(this.childAt(0))},t.prototype.downplay=function(){N0(this.childAt(0))},t.prototype.setZ=function(n,r){var a=this.childAt(0);a.zlevel=n,a.z=r},t.prototype.setDraggable=function(n,r){var a=this.childAt(0);a.draggable=n,a.cursor=!r&&n?"move":a.cursor},t.prototype.updateData=function(n,r,a,i){this.silent=!1;var o=n.getItemVisual(r,"symbol")||"circle",s=n.hostModel,l=t.getSymbolSize(n,r),u=o!==this._symbolType,c=i&&i.disableAnimation;if(u){var f=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,n,r,l,f)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};c?d.attr(h):Hr(d,h,s,r),iA(d)}if(this._updateCommon(n,r,l,a,i),u){var d=this.childAt(0);if(!c){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Xa(d,h,s,r)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,r,a,i,o){var s=this.childAt(0),l=n.hostModel,u,c,f,d,h,v,p,m,g;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,f=i.selectItemStyle,d=i.focus,h=i.blurScope,p=i.labelStatesModels,m=i.hoverScale,g=i.cursorStyle,v=i.emphasisDisabled),!i||n.hasItemOption){var y=i&&i.itemModel?i.itemModel:n.getItemModel(r),_=y.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),d=_.get("focus"),h=_.get("blurScope"),v=_.get("disabled"),p=Lm(y),m=_.getShallow("scale"),g=y.getShallow("cursor")}var x=n.getItemVisual(r,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var w=S5(n.getItemVisual(r,"symbolOffset"),a);w&&(s.x=w[0],s.y=w[1]),g&&s.attr("cursor",g);var b=n.getItemVisual(r,"style"),S=b.fill;if(s instanceof pl){var C=s.style;s.useStyle(Pe({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},b))}else s.__isEmptyBrush?s.useStyle(Pe({},b)):s.useStyle(b),s.style.decal=null,s.setColor(S,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var A=n.getItemVisual(r,"liftZ"),M=this._z2;A!=null?M==null&&(this._z2=s.z2,s.z2+=A):M!=null&&(s.z2=M,this._z2=null);var T=o&&o.useNameLabel;Pm(s,p,{labelFetcher:l,labelDataIndex:r,defaultText:E,inheritColor:S,defaultOpacity:b.opacity});function E(k){return T?n.getName(k):FA(n,k)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var P=s.ensureState("emphasis");P.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var I=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;P.scaleX=this._sizeX*I,P.scaleY=this._sizeY*I,this.setSymbolScale(1),$p(this,d,h,v)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,r,a){var i=this.childAt(0),o=qt(this).dataIndex,s=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var l=i.getTextContent();l&&F0(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();F0(i,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:n,removeOpt:s})},t.getSymbolSize=function(n,r){return ite(n.getItemVisual(r,"symbolSize"))},t}(oa);function Ore(e,t){this.parent.drift(e,t)}const UA=Rre;function Gb(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function EI(e){return e!=null&&!lt(e)&&(e={isIgnore:e}),e||{}}function DI(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Lm(t),cursorStyle:t.get("cursor")}}var kre=function(){function e(t){this.group=new oa,this._SymbolCtor=t||UA}return e.prototype.updateData=function(t,n){this._progressiveEls=null,n=EI(n);var r=this.group,a=t.hostModel,i=this._data,o=this._SymbolCtor,s=n.disableAnimation,l=DI(t),u={disableAnimation:s},c=n.getSymbolPoint||function(f){return t.getItemLayout(f)};i||r.removeAll(),t.diff(i).add(function(f){var d=c(f);if(Gb(t,d,f,n)){var h=new o(t,f,l,u);h.setPosition(d),t.setItemGraphicEl(f,h),r.add(h)}}).update(function(f,d){var h=i.getItemGraphicEl(d),v=c(f);if(!Gb(t,v,f,n)){r.remove(h);return}var p=t.getItemVisual(f,"symbol")||"circle",m=h&&h.getSymbolType&&h.getSymbolType();if(!h||m&&m!==p)r.remove(h),h=new o(t,f,l,u),h.setPosition(v);else{h.updateData(t,f,l,u);var g={x:v[0],y:v[1]};s?h.attr(g):Hr(h,g,a)}r.add(h),t.setItemGraphicEl(f,h)}).remove(function(f){var d=i.getItemGraphicEl(f);d&&d.fadeOut(function(){r.remove(d)},a)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(r,a){var i=t._getSymbolPoint(a);r.setPosition(i),r.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=DI(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n,r){this._progressiveEls=[],r=EI(r);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=n.getItemLayout(i);if(Gb(n,o,i,r)){var s=new this._SymbolCtor(n,i,this._seriesScope);s.traverse(a),s.setPosition(o),this.group.add(s),n.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(t){y1(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var n=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(a){a.fadeOut(function(){n.remove(a)},r.hostModel)}):n.removeAll()},e}();const Nre=kre;function O4(e,t,n){var r=e.getBaseAxis(),a=e.getOtherAxis(r),i=Bre(a,n),o=r.dim,s=a.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=at(e.dimensions,function(v){return t.mapDimension(v)}),d=!1,h=t.getCalculationInfo("stackResultDimension");return af(t,f[0])&&(d=!0,f[0]=h),af(t,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Bre(e,t){var n=0,r=e.scale.getExtent();return t==="start"?n=r[0]:t==="end"?n=r[1]:En(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function k4(e,t,n,r){var a=NaN;e.stacked&&(a=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(a)&&(a=e.valueStart);var i=e.baseDataOffset,o=[];return o[i]=n.get(e.baseDim,r),o[1-i]=a,t.dataToPoint(o)}function Vre(e,t){var n=[];return t.diff(e).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,a){n.push({cmd:"=",idx:a,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function Fre(e,t,n,r,a,i,o,s){for(var l=Vre(e,t),u=[],c=[],f=[],d=[],h=[],v=[],p=[],m=O4(a,t,o),g=e.getLayout("points")||[],y=t.getLayout("points")||[],_=0;_<l.length;_++){var x=l[_],w=!0,b=void 0,S=void 0;switch(x.cmd){case"=":b=x.idx*2,S=x.idx1*2;var C=g[b],A=g[b+1],M=y[S],T=y[S+1];(isNaN(C)||isNaN(A))&&(C=M,A=T),u.push(C,A),c.push(M,T),f.push(n[b],n[b+1]),d.push(r[S],r[S+1]),p.push(t.getRawIndex(x.idx1));break;case"+":var E=x.idx,P=m.dataDimsForPoint,I=a.dataToPoint([t.get(P[0],E),t.get(P[1],E)]);S=E*2,u.push(I[0],I[1]),c.push(y[S],y[S+1]);var k=k4(m,a,t,E);f.push(k[0],k[1]),d.push(r[S],r[S+1]),p.push(t.getRawIndex(E));break;case"-":w=!1}w&&(h.push(x),v.push(v.length))}v.sort(function(N,H){return p[N]-p[H]});for(var B=u.length,U=qs(B),R=qs(B),L=qs(B),z=qs(B),X=[],_=0;_<v.length;_++){var Y=v[_],$=_*2,F=Y*2;U[$]=u[F],U[$+1]=u[F+1],R[$]=c[F],R[$+1]=c[F+1],L[$]=f[F],L[$+1]=f[F+1],z[$]=d[F],z[$+1]=d[F+1],X[_]=h[Y]}return{current:U,next:R,stackedOnCurrent:L,stackedOnNext:z,status:X}}var Nl=Math.min,Bl=Math.max;function zc(e,t){return isNaN(e)||isNaN(t)}function kT(e,t,n,r,a,i,o,s,l){for(var u,c,f,d,h,v,p=n,m=0;m<r;m++){var g=t[p*2],y=t[p*2+1];if(p>=a||p<0)break;if(zc(g,y)){if(l){p+=i;continue}break}if(p===n)e[i>0?"moveTo":"lineTo"](g,y),f=g,d=y;else{var _=g-u,x=y-c;if(_*_+x*x<.5){p+=i;continue}if(o>0){for(var w=p+i,b=t[w*2],S=t[w*2+1];b===g&&S===y&&m<r;)m++,w+=i,p+=i,b=t[w*2],S=t[w*2+1],g=t[p*2],y=t[p*2+1],_=g-u,x=y-c;var C=m+1;if(l)for(;zc(b,S)&&C<r;)C++,w+=i,b=t[w*2],S=t[w*2+1];var A=.5,M=0,T=0,E=void 0,P=void 0;if(C>=r||zc(b,S))h=g,v=y;else{M=b-u,T=S-c;var I=g-u,k=b-g,B=y-c,U=S-y,R=void 0,L=void 0;if(s==="x"){R=Math.abs(I),L=Math.abs(k);var z=M>0?1:-1;h=g-z*R*o,v=y,E=g+z*L*o,P=y}else if(s==="y"){R=Math.abs(B),L=Math.abs(U);var X=T>0?1:-1;h=g,v=y-X*R*o,E=g,P=y+X*L*o}else R=Math.sqrt(I*I+B*B),L=Math.sqrt(k*k+U*U),A=L/(L+R),h=g-M*o*(1-A),v=y-T*o*(1-A),E=g+M*o*A,P=y+T*o*A,E=Nl(E,Bl(b,g)),P=Nl(P,Bl(S,y)),E=Bl(E,Nl(b,g)),P=Bl(P,Nl(S,y)),M=E-g,T=P-y,h=g-M*R/L,v=y-T*R/L,h=Nl(h,Bl(u,g)),v=Nl(v,Bl(c,y)),h=Bl(h,Nl(u,g)),v=Bl(v,Nl(c,y)),M=g-h,T=y-v,E=g+M*L/R,P=y+T*L/R}e.bezierCurveTo(f,d,h,v,g,y),f=E,d=P}else e.lineTo(g,y)}u=g,c=y,p+=i}return m}var N4=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),Ure=function(e){dt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new N4},t.prototype.buildPath=function(n,r){var a=r.points,i=0,o=a.length/2;if(r.connectNulls){for(;o>0&&zc(a[o*2-2],a[o*2-1]);o--);for(;i<o&&zc(a[i*2],a[i*2+1]);i++);}for(;i<o;)i+=kT(n,a,i,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,o=du.CMD,s,l,u=r==="x",c=[],f=0;f<i.length;){var d=i[f++],h=void 0,v=void 0,p=void 0,m=void 0,g=void 0,y=void 0,_=void 0;switch(d){case o.M:s=i[f++],l=i[f++];break;case o.L:if(h=i[f++],v=i[f++],_=u?(n-s)/(h-s):(n-l)/(v-l),_<=1&&_>=0){var x=u?(v-l)*_+l:(h-s)*_+s;return u?[n,x]:[x,n]}s=h,l=v;break;case o.C:h=i[f++],v=i[f++],p=i[f++],m=i[f++],g=i[f++],y=i[f++];var w=u?C0(s,h,p,g,n,c):C0(l,v,m,y,n,c);if(w>0)for(var b=0;b<w;b++){var S=c[b];if(S<=1&&S>=0){var x=u?Nr(l,v,m,y,S):Nr(s,h,p,g,S);return u?[n,x]:[x,n]}}s=g,l=y;break}}},t}(gn),zre=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(N4),Hre=function(e){dt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new zre},t.prototype.buildPath=function(n,r){var a=r.points,i=r.stackedOnPoints,o=0,s=a.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&zc(a[s*2-2],a[s*2-1]);s--);for(;o<s&&zc(a[o*2],a[o*2+1]);o++);}for(;o<s;){var u=kT(n,a,o,s,s,1,r.smooth,l,r.connectNulls);kT(n,i,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,n.closePath()}},t}(gn);function B4(e,t,n,r,a){var i=e.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,c=n.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,l+=c,u+=c,o=Math.floor(o),l=Math.round(l);var f=new wr({shape:{x:o,y:s,width:l,height:u}});if(t){var d=e.getBaseAxis(),h=d.isHorizontal(),v=d.inverse;h?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0);var p=yt(a)?function(m){a(m,f)}:null;Xa(f,{shape:{width:l,height:u,x:o,y:s}},n,null,r,p)}return f}function V4(e,t,n){var r=e.getArea(),a=er(r.r0,1),i=er(r.r,1),o=new gf({shape:{cx:er(e.cx,1),cy:er(e.cy,1),r0:a,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=a,Xa(o,{shape:{endAngle:r.endAngle,r:i}},n)}return o}function $re(e,t,n,r,a){if(e){if(e.type==="polar")return V4(e,t,n);if(e.type==="cartesian2d")return B4(e,t,n,r,a)}else return null;return null}function zA(e,t){return e.type===t}function MI(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function PI(e){for(var t=1/0,n=1/0,r=-1/0,a=-1/0,i=0;i<e.length;){var o=e[i++],s=e[i++];isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r)),isNaN(s)||(n=Math.min(s,n),a=Math.max(s,a))}return[[t,n],[r,a]]}function LI(e,t){var n=PI(e),r=n[0],a=n[1],i=PI(t),o=i[0],s=i[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function II(e){return En(e)?e:e?.5:0}function Gre(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),a=qs(r*2),i=0;i<r;i++){var o=k4(n,e,t,i);a[i*2]=o[0],a[i*2+1]=o[1]}return a}function Vl(e,t,n,r){var a=t.getBaseAxis(),i=a.dim==="x"||a.dim==="radius"?0:1,o=[],s=0,l=[],u=[],c=[],f=[];if(r){for(s=0;s<e.length;s+=2)!isNaN(e[s])&&!isNaN(e[s+1])&&f.push(e[s],e[s+1]);e=f}for(s=0;s<e.length-2;s+=2)switch(c[0]=e[s+2],c[1]=e[s+3],u[0]=e[s],u[1]=e[s+1],o.push(u[0],u[1]),n){case"end":l[i]=c[i],l[1-i]=u[1-i],o.push(l[0],l[1]);break;case"middle":var d=(u[i]+c[i])/2,h=[];l[i]=h[i]=d,l[1-i]=u[1-i],h[1-i]=c[1-i],o.push(l[0],l[1]),o.push(h[0],h[1]);break;default:l[i]=u[i],l[1-i]=c[1-i],o.push(l[0],l[1])}return o.push(e[s++],e[s++]),o}function Wre(e,t){var n=[],r=e.length,a,i;function o(c,f,d){var h=c.coord,v=(d-h)/(f.coord-h),p=uq(v,[c.color,f.color]);return{coord:d,color:p}}for(var s=0;s<r;s++){var l=e[s],u=l.coord;if(u<0)a=l;else if(u>t){i?n.push(o(i,l,t)):a&&n.push(o(a,l,0),o(a,l,t));break}else a&&(n.push(o(a,l,0)),a=null),n.push(l),i=l}return n}function Yre(e,t,n){var r=e.getVisual("visualMeta");if(!(!r||!r.length||!e.count())){if(t.type!=="cartesian2d"){console.warn("Visual map on line style is only supported on cartesian2d.");return}for(var a,i,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o].dimension);if(a=s&&s.coordDim,a==="x"||a==="y"){i=r[o];break}}if(!i){console.warn("Visual map on line style only support x or y dimension.");return}var l=t.getAxis(a),u=at(i.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),c=u.length,f=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=Wre(u,a==="x"?n.getWidth():n.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var v=10,p=d[0].coord-v,m=d[h-1].coord+v,g=m-p;if(g<.001)return"transparent";j(d,function(_){_.offset=(_.coord-p)/g}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var y=new gF(0,0,0,0,d,!0);return y[a]=p,y[a+"2"]=m,y}}function jre(e,t,n){var r=e.get("showAllSymbol"),a=r==="auto";if(!(r&&!a)){var i=n.getAxesByScale("ordinal")[0];if(i&&!(a&&Xre(i,t))){var o=t.mapDimension(i.dim),s={};return j(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function Xre(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var a=t.count(),i=Math.max(1,Math.round(a/5)),o=0;o<a;o+=i)if(UA.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>r)return!1;return!0}function qre(e,t){return isNaN(e)||isNaN(t)}function Zre(e){for(var t=e.length/2;t>0&&qre(e[t*2-2],e[t*2-1]);t--);return t-1}function RI(e,t){return[e[t*2],e[t*2+1]]}function Kre(e,t,n){for(var r=e.length/2,a=n==="x"?0:1,i,o,s=0,l=-1,u=0;u<r;u++)if(o=e[u*2+a],!(isNaN(o)||isNaN(e[u*2+1-a]))){if(u===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){l=u;break}s=u,i=o}return{range:[s,l],t:(t-i)/(o-i)}}function F4(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<lo.length;t++)if(e.get([lo[t],"endLabel","show"]))return!0;return!1}function Wb(e,t,n,r){if(zA(t,"cartesian2d")){var a=r.getModel("endLabel"),i=a.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=F4(r)?function(h,v){e._endLabelOnDuring(h,v,o,s,i,a,t)}:null,u=t.getBaseAxis().isHorizontal(),c=B4(t,n,r,function(){var h=e._endLabel;h&&n&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return r.get(["endLabel","show"])&&console.warn("endLabel is not supported for lines in polar systems."),V4(t,n,r)}function Qre(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),a=n.inverse,i=r?a?"right":"left":"center",o=r?"middle":a?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||o}}}var Jre=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var n=new oa,r=new Nre;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n},t.prototype.render=function(n,r,a){var i=this,o=n.coordinateSystem,s=this.group,l=n.getData(),u=n.getModel("lineStyle"),c=n.getModel("areaStyle"),f=l.getLayout("points")||[],d=o.type==="polar",h=this._coordSys,v=this._symbolDraw,p=this._polyline,m=this._polygon,g=this._lineGroup,y=!r.ssr&&n.isAnimationEnabled(),_=!c.isEmpty(),x=c.get("origin"),w=O4(o,l,x),b=_&&Gre(o,l,w),S=n.get("showSymbol"),C=n.get("connectNulls"),A=S&&!d&&jre(n,l,o),M=this._data;M&&M.eachItemGraphicEl(function(H,K){H.__temp&&(s.remove(H),M.setItemGraphicEl(K,null))}),S||v.remove(),s.add(g);var T=d?!1:n.get("step"),E;o&&o.getArea&&n.get("clip",!0)&&(E=o.getArea(),E.width!=null?(E.x-=.1,E.y-=.1,E.width+=.2,E.height+=.2):E.r0&&(E.r0-=.5,E.r+=.5)),this._clipShapeForSymbol=E;var P=Yre(l,o,a)||l.getVisual("style")[l.getVisual("drawType")];if(!(p&&h.type===o.type&&T===this._step))S&&v.updateData(l,{isIgnore:A,clipShape:E,disableAnimation:!0,getSymbolPoint:function(H){return[f[H*2],f[H*2+1]]}}),y&&this._initSymbolLabelAnimation(l,o,E),T&&(f=Vl(f,o,T,C),b&&(b=Vl(b,o,T,C))),p=this._newPolyline(f),_?m=this._newPolygon(f,b):m&&(g.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(n,o,tf(P)),g.setClipPath(Wb(this,o,!0,n));else{_&&!m?m=this._newPolygon(f,b):m&&!_&&(g.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(n,o,tf(P));var I=g.getClipPath();if(I){var k=Wb(this,o,!1,n);Xa(I,{shape:k.shape},n)}else g.setClipPath(Wb(this,o,!0,n));S&&v.updateData(l,{isIgnore:A,clipShape:E,disableAnimation:!0,getSymbolPoint:function(H){return[f[H*2],f[H*2+1]]}}),(!MI(this._stackedOnPoints,b)||!MI(this._points,f))&&(y?this._doUpdateAnimation(l,b,o,a,T,x,C):(T&&(f=Vl(f,o,T,C),b&&(b=Vl(b,o,T,C))),p.setShape({points:f}),m&&m.setShape({points:f,stackedOnPoints:b})))}var B=n.getModel("emphasis"),U=B.get("focus"),R=B.get("blurScope"),L=B.get("disabled");if(p.useStyle(Ft(u.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),B0(p,n,"lineStyle"),p.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var z=p.getState("emphasis").style;z.lineWidth=+p.style.lineWidth+1}qt(p).seriesIndex=n.seriesIndex,$p(p,U,R,L);var X=II(n.get("smooth")),Y=n.get("smoothMonotone");if(p.setShape({smooth:X,smoothMonotone:Y,connectNulls:C}),m){var $=l.getCalculationInfo("stackedOnSeries"),F=0;m.useStyle(Ft(c.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),$&&(F=II($.get("smooth"))),m.setShape({smooth:X,stackedOnSmooth:F,smoothMonotone:Y,connectNulls:C}),B0(m,n,"areaStyle"),qt(m).seriesIndex=n.seriesIndex,$p(m,U,R,L)}var N=function(H){i._changePolyState(H)};l.eachItemGraphicEl(function(H){H&&(H.onHoverStateChange=N)}),this._polyline.onHoverStateChange=N,this._data=l,this._coordSys=o,this._stackedOnPoints=b,this._points=f,this._step=T,this._valueOrigin=x,n.get("triggerLineEvent")&&(this.packEventData(n,p),m&&this.packEventData(n,m))},t.prototype.packEventData=function(n,r){qt(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,r,a,i){var o=n.getData(),s=Jc(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=n.get("zlevel")||0,h=n.get("z")||0;u=new UA(o,s),u.x=c,u.y=f,u.setZ(d,h);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=d,v.z=h,v.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Sr.prototype.highlight.call(this,n,r,a,i)},t.prototype.downplay=function(n,r,a,i){var o=n.getData(),s=Jc(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Sr.prototype.downplay.call(this,n,r,a,i)},t.prototype._changePolyState=function(n){var r=this._polygon;kP(this._polyline,n),r&&kP(r,n)},t.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Ure({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(n,r){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new Hre({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(n,r,a){var i,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):r.type==="polar"&&(i=s.dim==="angle",o=!0);var u=n.hostModel,c=u.get("animationDuration");yt(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=yt(f)?f(null):f;n.eachItemGraphicEl(function(h,v){var p=h;if(p){var m=[h.x,h.y],g=void 0,y=void 0,_=void 0;if(a)if(o){var x=a,w=r.pointToCoord(m);i?(g=x.startAngle,y=x.endAngle,_=-w[1]/180*Math.PI):(g=x.r0,y=x.r,_=w[0])}else{var b=a;i?(g=b.x,y=b.x+b.width,_=h.x):(g=b.y+b.height,y=b.y,_=h.y)}var S=y===g?0:(_-g)/(y-g);l&&(S=1-S);var C=yt(f)?f(v):c*S+d,A=p.getSymbolPath(),M=A.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:C}),M&&M.animateFrom({style:{opacity:0}},{duration:300,delay:C}),A.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,r,a){var i=n.getModel("endLabel");if(F4(n)){var o=n.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new rr({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=Zre(l);c>=0&&(Pm(s,Lm(n,"endLabel"),{inheritColor:a,labelFetcher:n,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?R4(o,h):FA(o,f)},enableTextSetter:!0},Qre(i,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,r,a,i,o,s,l){var u=this._endLabel,c=this._polyline;if(u){n<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var f=a.getLayout("points"),d=a.hostModel,h=d.get("connectNulls"),v=s.get("precision"),p=s.get("distance")||0,m=l.getBaseAxis(),g=m.isHorizontal(),y=m.inverse,_=r.shape,x=y?g?_.x:_.y+_.height:g?_.x+_.width:_.y,w=(g?p:0)*(y?-1:1),b=(g?0:-p)*(y?-1:1),S=g?"x":"y",C=Kre(f,x,S),A=C.range,M=A[1]-A[0],T=void 0;if(M>=1){if(M>1&&!h){var E=RI(f,A[0]);u.attr({x:E[0]+w,y:E[1]+b}),o&&(T=d.getRawValue(A[0]))}else{var E=c.getPointOn(x,S);E&&u.attr({x:E[0]+w,y:E[1]+b});var P=d.getRawValue(A[0]),I=d.getRawValue(A[1]);o&&(T=EV(a,v,P,I,C.t))}i.lastFrameIndex=A[0]}else{var k=n===1||i.lastFrameIndex>0?A[0]:0,E=RI(f,k);o&&(T=d.getRawValue(k)),u.attr({x:E[0]+w,y:E[1]+b})}if(o){var B=wh(u);typeof B.setLabelText=="function"&&B.setLabelText(T)}}},t.prototype._doUpdateAnimation=function(n,r,a,i,o,s,l){var u=this._polyline,c=this._polygon,f=n.hostModel,d=Fre(this._data,n,this._stackedOnPoints,r,this._coordSys,a,this._valueOrigin),h=d.current,v=d.stackedOnCurrent,p=d.next,m=d.stackedOnNext;if(o&&(h=Vl(d.current,a,o,l),v=Vl(d.stackedOnCurrent,a,o,l),p=Vl(d.next,a,o,l),m=Vl(d.stackedOnNext,a,o,l)),LI(h,p)>3e3||c&&LI(v,m)>3e3){u.stopAnimation(),u.setShape({points:p}),c&&(c.stopAnimation(),c.setShape({points:p,stackedOnPoints:m}));return}u.shape.__points=d.current,u.shape.points=h;var g={shape:{points:p}};d.current!==h&&(g.shape.__points=d.next),u.stopAnimation(),Hr(u,g,f),c&&(c.setShape({points:h,stackedOnPoints:v}),c.stopAnimation(),Hr(c,{shape:{stackedOnPoints:m}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],_=d.status,x=0;x<_.length;x++){var w=_[x].cmd;if(w==="="){var b=n.getItemGraphicEl(_[x].idx1);b&&y.push({el:b,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var S=u.shape.__points,C=0;C<y.length;C++){var A=y[C].el,M=y[C].ptIdx*2;A.x=S[M],A.y=S[M+1],A.markRedraw()}})},t.prototype.remove=function(n){var r=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,o){i.__temp&&(r.remove(i),a.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Sr);const eae=Jre;function tae(e,t){return{seriesType:e,plan:SA(),reset:function(n){var r=n.getData(),a=n.coordinateSystem,i=n.pipelineContext,o=t||i.large;if(a){var s=at(a.dimensions,function(h){return r.mapDimension(h)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");af(r,s[0])&&(s[0]=u),af(r,s[1])&&(s[1]=u);var c=r.getStore(),f=r.getDimensionIndex(s[0]),d=r.getDimensionIndex(s[1]);return l&&{progress:function(h,v){for(var p=h.end-h.start,m=o&&qs(p*l),g=[],y=[],_=h.start,x=0;_<h.end;_++){var w=void 0;if(l===1){var b=c.get(f,_);w=a.dataToPoint(b,null,y)}else g[0]=c.get(f,_),g[1]=c.get(d,_),w=a.dataToPoint(g,null,y);o?(m[x++]=w[0],m[x++]=w[1]):v.setItemLayout(_,w.slice())}o&&v.setLayout("points",m)}}}}}}var nae={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return n===0?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},rae=function(e){return Math.round(e.length/2)};function U4(e){return{seriesType:e,reset:function(t,n,r){var a=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=r.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(s/d);if(isFinite(h)&&h>1){i==="lttb"&&t.setData(a.lttbDownSample(a.mapDimension(u.dim),1/h));var v=void 0;ot(i)?v=nae[i]:yt(i)&&(v=i),v&&t.setData(a.downSample(a.mapDimension(u.dim),1/h,v,rae))}}}}}function aae(e){e.registerChartView(eae),e.registerSeriesModel(Ire),e.registerLayout(tae("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,U4("line"))}var z4=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){return k1(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(n,r,a){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(n),s=i.dataToPoint(o);if(a)j(i.getAxes(),function(d,h){if(d.type==="category"&&r!=null){var v=d.getTicksCoords(),p=o[h],m=r[h]==="x1"||r[h]==="y1";if(m&&(p+=1),v.length<2)return;if(v.length===2){s[h]=d.toGlobalCoord(d.getExtent()[m?1:0]);return}for(var g=void 0,y=void 0,_=1,x=0;x<v.length;x++){var w=v[x].coord,b=x===v.length-1?v[x-1].tickValue+_:v[x].tickValue;if(b===p){y=w;break}else if(b<p)g=w;else if(g!=null&&b>p){y=(w+g)/2;break}x===1&&(_=b-v[0].tickValue)}y==null&&(g?g&&(y=v[v.length-1].coord):y=v[0].coord),s[h]=d.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=i.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}($r);$r.registerClass(z4);const OI=z4;var iae=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return k1(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},t.prototype.brushSelector=function(n,r,a){return a.rect(r.getItemLayout(n))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=EF(OI.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(OI);const oae=iae;var sae=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),lae=function(e){dt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new sae},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,f=r.endAngle,d=r.clockwise,h=Math.PI*2,v=d?f-c<h:c-f<h;v||(c=f-(d?h:-h));var p=Math.cos(c),m=Math.sin(c),g=Math.cos(f),y=Math.sin(f);v?(n.moveTo(p*o+a,m*o+i),n.arc(p*u+a,m*u+i,l,-Math.PI+c,c,!d)):n.moveTo(p*s+a,m*s+i),n.arc(a,i,s,c,f,!d),n.arc(g*u+a,y*u+i,l,f-Math.PI*2,f-Math.PI,!d),o!==0&&n.arc(a,i,o,f,c,d)},t}(gn);const kI=lae;function uae(e,t){t=t||{};var n=t.isRoundCap;return function(r,a,i){var o=a.position;if(!o||o instanceof Array)return P0(r,a,i);var s=e(o),l=a.distance!=null?a.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,v=(d+h)/2,p=u.startAngle,m=u.endAngle,g=(p+m)/2,y=n?Math.abs(d-h)/2:0,_=Math.cos,x=Math.sin,w=c+d*_(p),b=f+d*x(p),S="left",C="top";switch(s){case"startArc":w=c+(h-l)*_(g),b=f+(h-l)*x(g),S="center",C="top";break;case"insideStartArc":w=c+(h+l)*_(g),b=f+(h+l)*x(g),S="center",C="bottom";break;case"startAngle":w=c+v*_(p)+Fg(p,l+y,!1),b=f+v*x(p)+Ug(p,l+y,!1),S="right",C="middle";break;case"insideStartAngle":w=c+v*_(p)+Fg(p,-l+y,!1),b=f+v*x(p)+Ug(p,-l+y,!1),S="left",C="middle";break;case"middle":w=c+v*_(g),b=f+v*x(g),S="center",C="middle";break;case"endArc":w=c+(d+l)*_(g),b=f+(d+l)*x(g),S="center",C="bottom";break;case"insideEndArc":w=c+(d-l)*_(g),b=f+(d-l)*x(g),S="center",C="top";break;case"endAngle":w=c+v*_(m)+Fg(m,l+y,!0),b=f+v*x(m)+Ug(m,l+y,!0),S="left",C="middle";break;case"insideEndAngle":w=c+v*_(m)+Fg(m,-l+y,!0),b=f+v*x(m)+Ug(m,-l+y,!0),S="right",C="middle";break;default:return P0(r,a,i)}return r=r||{},r.x=w,r.y=b,r.align=S,r.verticalAlign=C,r}}function cae(e,t,n,r){if(En(r)){e.setTextConfig({rotation:r});return}else if(Be(t)){e.setTextConfig({rotation:0});return}var a=e.shape,i=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(i+o)/2,l,u=n(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function Fg(e,t,n){return t*Math.sin(e)*(n?-1:1)}function Ug(e,t,n){return t*Math.cos(e)*(n?1:-1)}function jv(e,t,n){var r=e.get("borderRadius");if(r==null)return n?{cornerRadius:0}:null;Be(r)||(r=[r,r,r,r]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:at(r,function(i){return fu(i,a)})}}var Yb=Math.max,jb=Math.min;function fae(e,t){var n=e.getArea&&e.getArea();if(zA(e,"cartesian2d")){var r=e.getBaseAxis();if(r.type!=="category"||!r.onBand){var a=t.getLayout("bandWidth");r.isHorizontal()?(n.x-=a,n.width+=a*2):(n.y-=a,n.height+=a*2)}}return n}var dae=function(e){dt(t,e);function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return t.prototype.render=function(n,r,a,i){this._model=n,this._removeOnRenderedListener(a),this._updateDrawMode(n);var o=n.get("coordinateSystem");o==="cartesian2d"||o==="polar"?(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,r,a):this._renderNormal(n,r,a,i)):Vr("Only cartesian2d and polar supported for bar.")},t.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},t.prototype.incrementalRender=function(n,r){this._progressiveEls=[],this._incrementalRenderLarge(n,r)},t.prototype.eachRendered=function(n){y1(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(n,r,a,i){var o=this.group,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=n.isAnimationEnabled()?n:null,h=hae(n,u);h&&this._enableRealtimeSort(h,s,a);var v=n.get("clip",!0)||h,p=fae(u,s);o.removeClipPath();var m=n.get("roundCap",!0),g=n.get("showBackground",!0),y=n.getModel("backgroundStyle"),_=y.get("borderRadius")||0,x=[],w=this._backgroundEls,b=i&&i.isInitSort,S=i&&i.type==="changeAxisOrder";function C(T){var E=zg[u.type](s,T),P=xae(u,f,E);return P.useStyle(y.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",_):P.setShape("cornerRadius",_),x[T]=P,P}s.diff(l).add(function(T){var E=s.getItemModel(T),P=zg[u.type](s,T,E);if(g&&C(T),!(!s.hasValue(T)||!UI[u.type](P))){var I=!1;v&&(I=NI[u.type](p,P));var k=BI[u.type](n,s,T,P,f,d,c.model,!1,m);h&&(k.forceLabelAnimation=!0),zI(k,s,T,E,P,n,f,u.type==="polar"),b?k.attr({shape:P}):h?VI(h,d,k,P,T,f,!1,!1):Xa(k,{shape:P},n,T),s.setItemGraphicEl(T,k),o.add(k),k.ignore=I}}).update(function(T,E){var P=s.getItemModel(T),I=zg[u.type](s,T,P);if(g){var k=void 0;w.length===0?k=C(E):(k=w[E],k.useStyle(y.getItemStyle()),u.type==="cartesian2d"?k.setShape("r",_):k.setShape("cornerRadius",_),x[T]=k);var B=zg[u.type](s,T),U=$4(f,B,u);Hr(k,{shape:U},d,T)}var R=l.getItemGraphicEl(E);if(!s.hasValue(T)||!UI[u.type](I)){o.remove(R);return}var L=!1;if(v&&(L=NI[u.type](p,I),L&&o.remove(R)),R?iA(R):R=BI[u.type](n,s,T,I,f,d,c.model,!!R,m),h&&(R.forceLabelAnimation=!0),S){var z=R.getTextContent();if(z){var X=wh(z);X.prevValue!=null&&(X.prevValue=X.value)}}else zI(R,s,T,P,I,n,f,u.type==="polar");b?R.attr({shape:I}):h?VI(h,d,R,I,T,f,!0,S):Hr(R,{shape:I},n,T,null),s.setItemGraphicEl(T,R),R.ignore=L,o.add(R)}).remove(function(T){var E=l.getItemGraphicEl(T);E&&U0(E,n,T)}).execute();var A=this._backgroundGroup||(this._backgroundGroup=new oa);A.removeAll();for(var M=0;M<x.length;++M)A.add(x[M]);o.add(A),this._backgroundEls=x,this._data=s},t.prototype._renderLarge=function(n,r,a){this._clear(),$I(n,this.group),this._updateLargeClip(n)},t.prototype._incrementalRenderLarge=function(n,r){this._removeBackground(),$I(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(n){var r=n.get("clip",!0)&&$re(n.coordinateSystem,!1,n),a=this.group;r?a.setClipPath(r):a.removeClipPath()},t.prototype._enableRealtimeSort=function(n,r,a){var i=this;if(r.count()){var o=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,n,a),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(n,r,a){var i=[];return n.each(n.mapDimension(r.dim),function(o,s){var l=a(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:at(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(n,r,a){for(var i=a.scale,o=n.mapDimension(a.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=n.rawIndexOf(o,i.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:r(n.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(n,r){for(var a=r.scale,i=a.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(n.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(n,r,a,i){if(this._isOrderChangedWithinSameData(n,r,a)){var o=this._dataSort(n,a,r);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(n,r,a){var i=r.baseAxis,o=this._dataSort(n,i,function(s){return n.get(n.mapDimension(r.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(n,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(n,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(n){var r=this.group,a=this._data;n&&n.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){U0(i,n,qt(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Sr),NI={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var a=e.x+e.width,i=e.y+e.height,o=Yb(t.x,e.x),s=jb(t.x+t.width,a),l=Yb(t.y,e.y),u=jb(t.y+t.height,i),c=s<o,f=u<l;return t.x=c&&o>a?s:o,t.y=f&&l>i?u:l,t.width=c?0:s-o,t.height=f?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}var a=jb(t.r,e.r),i=Yb(t.r0,e.r0);t.r=a,t.r0=i;var o=a-i<0;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},BI={cartesian2d:function(e,t,n,r,a,i,o,s,l){var u=new wr({shape:Pe({},r),z2:1});if(u.__dataIndex=n,u.name="item",i){var c=u.shape,f=a?"height":"width";c[f]=0}return u},polar:function(e,t,n,r,a,i,o,s,l){var u=!a&&l?kI:gf,c=new u({shape:r,z2:1});c.name="item";var f=H4(a);if(c.calculateTextPosition=uae(f,{isRoundCap:u===kI}),i){var d=c.shape,h=a?"r":"endAngle",v={};d[h]=a?r.r0:r.startAngle,v[h]=r[h],(s?Hr:Xa)(c,{shape:v},i)}return c}};function hae(e,t){var n=e.get("realtimeSort",!0),r=t.getBaseAxis();if(n&&(r.type!=="category"&&Vr("`realtimeSort` will not work because this bar series is not based on a category axis."),t.type!=="cartesian2d"&&Vr("`realtimeSort` will not work because this bar series is not on cartesian2d.")),n&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function VI(e,t,n,r,a,i,o,s){var l,u;i?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Hr:Xa)(n,{shape:l},t,a,null);var c=t?e.baseAxis.model:null;(o?Hr:Xa)(n,{shape:u},c,a)}function FI(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var vae=["x","y","width","height"],pae=["cx","cy","r","startAngle","endAngle"],UI={cartesian2d:function(e){return!FI(e,vae)},polar:function(e){return!FI(e,pae)}},zg={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),a=n?gae(n,r):0,i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*a/2,y:r.y+o*a/2,width:r.width-i*a,height:r.height-o*a}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function mae(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function H4(e){return function(t){var n=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+n;default:return r}}}(e)}function zI(e,t,n,r,a,i,o,s){var l=t.getItemVisual(n,"style");if(s){if(!i.get("roundCap")){var c=e.shape,f=jv(r.getModel("itemStyle"),c,!0);Pe(c,f),e.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var d=r.getShallow("cursor");d&&e.attr("cursor",d);var h=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",v=Lm(r);Pm(e,v,{labelFetcher:i,labelDataIndex:n,defaultText:FA(i.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=e.getTextContent();if(s&&p){var m=r.get(["label","position"]);e.textConfig.inside=m==="middle"?!0:null,cae(e,m==="outside"?h:m,H4(o),r.get(["label","rotate"]))}MQ(p,v,i.getRawValue(n),function(y){return R4(t,y)});var g=r.getModel(["emphasis"]);$p(e,g.get("focus"),g.get("blurScope"),g.get("disabled")),B0(e,r),mae(a)&&(e.style.fill="none",e.style.stroke="none",j(e.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function gae(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var r=e.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,a,i)}var yae=function(){function e(){}return e}(),HI=function(e){dt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new yae},t.prototype.buildPath=function(n,r){for(var a=r.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<a.length;c+=3)l[i]=u,l[o]=a[c+2],s[i]=a[c+i],s[o]=a[c+o],n.rect(s[0],s[1],l[0],l[1])},t}(gn);function $I(e,t,n,r){var a=e.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),l=e.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var c=new HI({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),n&&n.push(c)}var f=new HI({shape:{points:a.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(a.getVisual("style")),qt(f).seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",GI),f.on("mousemove",GI)),n&&n.push(f)}var GI=I1(function(e){var t=this,n=_ae(t,e.offsetX,e.offsetY);qt(t).dataIndex=n>=0?n:null},30,!1);function _ae(e,t,n){for(var r=e.baseDimIdx,a=1-r,i=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,f=i.length/3;c<f;c++){var d=c*3;if(l[r]=u,l[a]=i[d+2],s[r]=i[d+r],s[a]=i[d+a],l[a]<0&&(s[a]+=l[a],l[a]=-l[a]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[c]}return-1}function $4(e,t,n){if(zA(n,"cartesian2d")){var r=t,a=n.getArea();return{x:e?r.x:a.x,y:e?a.y:r.y,width:e?r.width:a.width,height:e?a.height:r.height}}else{var a=n.getArea(),i=t;return{cx:a.cx,cy:a.cy,r0:e?a.r0:i.r0,r:e?a.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:Math.PI*2}}}function xae(e,t,n){var r=e.type==="polar"?gf:wr;return new r({shape:$4(t,n,e),silent:!0,z2:0})}const bae=dae;function G4(e){e.registerChartView(bae),e.registerSeriesModel(oae),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,jn(Dne,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Mne("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,U4("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,n){var r=t.componentType||"series";n.eachComponent({mainType:r,query:t},function(a){t.sortInfo&&a.axis.setCategorySortInfo(t.sortInfo)})})}var Hg=Math.PI*2,WI=Math.PI/180;function W4(e,t){return Fo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Y4(e,t){var n=W4(e,t),r=e.get("center"),a=e.get("radius");Be(a)||(a=[0,a]);var i=In(n.width,t.getWidth()),o=In(n.height,t.getHeight()),s=Math.min(i,o),l=In(a[0],s/2),u=In(a[1],s/2),c,f,d=e.coordinateSystem;if(d){var h=d.dataToPoint(r);c=h[0]||0,f=h[1]||0}else Be(r)||(r=[r,r]),c=In(r[0],i)+n.x,f=In(r[1],o)+n.y;return{cx:c,cy:f,r0:l,r:u}}function wae(e,t,n){t.eachSeriesByType(e,function(r){var a=r.getData(),i=a.mapDimension("value"),o=W4(r,n),s=Y4(r,n),l=s.cx,u=s.cy,c=s.r,f=s.r0,d=-r.get("startAngle")*WI,h=r.get("minAngle")*WI,v=0;a.each(i,function(M){!isNaN(M)&&v++});var p=a.getSum(i),m=Math.PI/(p||v)*2,g=r.get("clockwise"),y=r.get("roseType"),_=r.get("stillShowZeroSum"),x=a.getDataExtent(i);x[0]=0;var w=Hg,b=0,S=d,C=g?1:-1;if(a.setLayout({viewRect:o,r:c}),a.each(i,function(M,T){var E;if(isNaN(M)){a.setItemLayout(T,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:l,cy:u,r0:f,r:y?NaN:c});return}y!=="area"?E=p===0&&_?m:M*m:E=Hg/v,E<h?(E=h,w-=h):b+=M;var P=S+C*E;a.setItemLayout(T,{angle:E,startAngle:S,endAngle:P,clockwise:g,cx:l,cy:u,r0:f,r:y?Up(M,x,[f,c]):c}),S=P}),w<Hg&&v)if(w<=.001){var A=Hg/v;a.each(i,function(M,T){if(!isNaN(M)){var E=a.getItemLayout(T);E.angle=A,E.startAngle=d+C*T*A,E.endAngle=d+C*(T+1)*A}})}else m=w/b,S=d,a.each(i,function(M,T){if(!isNaN(M)){var E=a.getItemLayout(T),P=E.angle===h?h:M*m;E.startAngle=S,E.endAngle=S+C*P,S+=C*P}})})}function Sae(e){return{seriesType:e,reset:function(t,n){var r=n.findComponents({mainType:"legend"});if(!(!r||!r.length)){var a=t.getData();a.filterSelf(function(i){for(var o=a.getName(i),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var Tae=Math.PI/180;function YI(e,t,n,r,a,i,o,s,l,u){if(e.length<2)return;function c(p){for(var m=p.rB,g=m*m,y=0;y<p.list.length;y++){var _=p.list[y],x=Math.abs(_.label.y-n),w=r+_.len,b=w*w,S=Math.sqrt((1-Math.abs(x*x/g))*b),C=t+(S+_.len2)*a,A=C-_.label.x,M=_.targetTextWidth-A*a;j4(_,M,!0),_.label.x=C}}function f(p){for(var m={list:[],maxY:0},g={list:[],maxY:0},y=0;y<p.length;y++)if(p[y].labelAlignTo==="none"){var _=p[y],x=_.label.y>n?g:m,w=Math.abs(_.label.y-n);if(w>=x.maxY){var b=_.label.x-t-_.len2*a,S=r+_.len,C=Math.abs(b)<S?Math.sqrt(w*w/(1-b*b/S/S)):S;x.rB=C,x.maxY=w}x.list.push(_)}c(m),c(g)}for(var d=e.length,h=0;h<d;h++)if(e[h].position==="outer"&&e[h].labelAlignTo==="labelLine"){var v=e[h].label.x-u;e[h].linePoints[1][0]+=v,e[h].label.x=u}L4(e,l,l+o)&&f(e)}function Cae(e,t,n,r,a,i,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;Xb(e[d])||(h.x<t?(c=Math.min(c,h.x),l.push(e[d])):(f=Math.max(f,h.x),u.push(e[d])))}for(var d=0;d<e.length;d++){var v=e[d];if(!Xb(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var h=v.label,p=v.linePoints,m=void 0;v.labelAlignTo==="edge"?h.x<t?m=p[2][0]-v.labelDistance-o-v.edgeDistance:m=o+a-v.edgeDistance-p[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?h.x<t?m=c-o-v.bleedMargin:m=o+a-f-v.bleedMargin:h.x<t?m=h.x-o-v.bleedMargin:m=o+a-h.x-v.bleedMargin,v.targetTextWidth=m,j4(v,m)}}YI(u,t,n,r,1,a,i,o,s,f),YI(l,t,n,r,-1,a,i,o,s,c);for(var d=0;d<e.length;d++){var v=e[d];if(!Xb(v)&&v.linePoints){var h=v.label,p=v.linePoints,g=v.labelAlignTo==="edge",y=h.style.padding,_=y?y[1]+y[3]:0,x=h.style.backgroundColor?0:_,w=v.rect.width+x,b=p[1][0]-p[2][0];g?h.x<t?p[2][0]=o+v.edgeDistance+w+v.labelDistance:p[2][0]=o+a-v.edgeDistance-w-v.labelDistance:(h.x<t?p[2][0]=h.x+v.labelDistance:p[2][0]=h.x-v.labelDistance,p[1][0]=p[2][0]+b),p[1][1]=p[2][1]=h.y}}}function j4(e,t,n){if(n===void 0&&(n=!1),e.labelStyleWidth==null){var r=e.label,a=r.style,i=e.rect,o=a.backgroundColor,s=a.padding,l=s?s[1]+s[3]:0,u=a.overflow,c=i.width+(o?0:l);if(t<c||n){var f=i.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",o)}else{var h=t-l,v=t<c?h:n?h>e.unconstrainedWidth?null:h:null;r.setStyle("width",v)}var p=r.getBoundingRect();i.width=p.width;var m=(r.style.margin||0)+2.1;i.height=p.height+m,i.y-=(i.height-f)/2}}}function Xb(e){return e.position==="center"}function Aae(e){var t=e.getData(),n=[],r,a,i=!1,o=(e.get("minShowLabelAngle")||0)*Tae,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function h(b){b.ignore=!0}function v(b){if(!b.ignore)return!0;for(var S in b.states)if(b.states[S].ignore===!1)return!0;return!1}t.each(function(b){var S=t.getItemGraphicEl(b),C=S.shape,A=S.getTextContent(),M=S.getTextGuideLine(),T=t.getItemModel(b),E=T.getModel("label"),P=E.get("position")||T.get(["emphasis","label","position"]),I=E.get("distanceToLabelLine"),k=E.get("alignTo"),B=In(E.get("edgeDistance"),u),U=E.get("bleedMargin"),R=T.getModel("labelLine"),L=R.get("length");L=In(L,u);var z=R.get("length2");if(z=In(z,u),Math.abs(C.endAngle-C.startAngle)<o){j(A.states,h),A.ignore=!0,M&&(j(M.states,h),M.ignore=!0);return}if(v(A)){var X=(C.startAngle+C.endAngle)/2,Y=Math.cos(X),$=Math.sin(X),F,N,H,K;r=C.cx,a=C.cy;var Z=P==="inside"||P==="inner";if(P==="center")F=C.cx,N=C.cy,K="center";else{var q=(Z?(C.r+C.r0)/2*Y:C.r*Y)+r,ce=(Z?(C.r+C.r0)/2*$:C.r*$)+a;if(F=q+Y*3,N=ce+$*3,!Z){var oe=q+Y*(L+l-C.r),ae=ce+$*(L+l-C.r),V=oe+(Y<0?-1:1)*z,G=ae;k==="edge"?F=Y<0?c+B:c+u-B:F=V+(Y<0?-I:I),N=G,H=[[q,ce],[oe,ae],[V,G]]}K=Z?"center":k==="edge"?Y>0?"right":"left":Y>0?"left":"right"}var Q=Math.PI,ue=0,fe=E.get("rotate");if(En(fe))ue=fe*(Q/180);else if(P==="center")ue=0;else if(fe==="radial"||fe===!0){var ge=Y<0?-X+Q:-X;ue=ge}else if(fe==="tangential"&&P!=="outside"&&P!=="outer"){var De=Math.atan2(Y,$);De<0&&(De=Q*2+De);var Se=$>0;Se&&(De=Q+De),ue=De-Q}if(i=!!ue,A.x=F,A.y=N,A.rotation=ue,A.setStyle({verticalAlign:"middle"}),Z){A.setStyle({align:K});var xe=A.states.select;xe&&(xe.x+=A.x,xe.y+=A.y)}else{var le=A.getBoundingRect().clone();le.applyTransform(A.getComputedTransform());var se=(A.style.margin||0)+2.1;le.y-=se/2,le.height+=se,n.push({label:A,labelLine:M,position:P,len:L,len2:z,minTurnAngle:R.get("minTurnAngle"),maxSurfaceAngle:R.get("maxSurfaceAngle"),surfaceNormal:new wt(Y,$),linePoints:H,textAlign:K,labelDistance:I,labelAlignTo:k,edgeDistance:B,bleedMargin:U,rect:le,unconstrainedWidth:le.width,labelStyleWidth:A.style.width})}S.setTextConfig({inside:Z})}}),!i&&e.get("avoidLabelOverlap")&&Cae(n,r,a,l,u,d,c,f);for(var p=0;p<n.length;p++){var m=n[p],g=m.label,y=m.labelLine,_=isNaN(g.x)||isNaN(g.y);if(g){g.setStyle({align:m.textAlign}),_&&(j(g.states,h),g.ignore=!0);var x=g.states.select;x&&(x.x+=g.x,x.y+=g.y)}if(y){var w=m.linePoints;_||!w?(j(y.states,h),y.ignore=!0):(A4(w,m.minTurnAngle),wre(w,m.surfaceNormal,m.maxSurfaceAngle),y.setShape({points:w}),g.__hostTarget.textGuideLineConfig={anchor:new wt(w[0][0],w[0][1])})}}}var Eae=function(e){dt(t,e);function t(n,r,a){var i=e.call(this)||this;i.z2=2;var o=new rr;return i.setTextContent(o),i.updateData(n,r,a,!0),i}return t.prototype.updateData=function(n,r,a,i){var o=this,s=n.hostModel,l=n.getItemModel(r),u=l.getModel("emphasis"),c=n.getItemLayout(r),f=Pe(jv(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(i){o.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(Xa(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):d==="scale"?(o.shape.r=c.r0,Xa(o,{shape:{r:c.r}},s,r)):a!=null?(o.setShape({startAngle:a,endAngle:a}),Xa(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,Hr(o,{shape:{endAngle:c.endAngle}},s,r))}else iA(o),Hr(o,{shape:f},s,r);o.useStyle(n.getItemVisual(r,"style")),B0(o,l);var h=(c.startAngle+c.endAngle)/2,v=s.get("selectedOffset"),p=Math.cos(h)*v,m=Math.sin(h)*v,g=l.getShallow("cursor");g&&o.attr("cursor",g),this._updateLabel(s,n,r),o.ensureState("emphasis").shape=Pe({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},jv(u.getModel("itemStyle"),c)),Pe(o.ensureState("select"),{x:p,y:m,shape:jv(l.getModel(["select","itemStyle"]),c)}),Pe(o.ensureState("blur"),{shape:jv(l.getModel(["blur","itemStyle"]),c)});var y=o.getTextGuideLine(),_=o.getTextContent();y&&Pe(y.ensureState("select"),{x:p,y:m}),Pe(_.ensureState("select"),{x:p,y:m}),$p(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n,r,a){var i=this,o=r.getItemModel(a),s=o.getModel("labelLine"),l=r.getItemVisual(a,"style"),u=l&&l.fill,c=l&&l.opacity;Pm(i,Lm(o),{labelFetcher:r.hostModel,labelDataIndex:a,inheritColor:u,defaultOpacity:c,defaultText:n.getFormattedLabel(a,"normal")||r.getName(a)});var f=i.getTextContent();i.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=n.get(["label","position"]);if(d!=="outside"&&d!=="outer")i.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new m1,this.setTextGuideLine(h)),E4(this,D4(o),{stroke:u,opacity:Bc(s.get(["lineStyle","opacity"]),c,1)})}},t}(gf),Dae=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,r,a,i){var o=n.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&n.get("showEmptyCircle")){var d=new gf({shape:Y4(n,a)});d.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}o.diff(s).add(function(h){var v=new Eae(o,h,u);o.setItemGraphicEl(h,v),l.add(v)}).update(function(h,v){var p=s.getItemGraphicEl(v);p.updateData(o,h,u),p.off("click"),l.add(p),o.setItemGraphicEl(h,p)}).remove(function(h){var v=s.getItemGraphicEl(h);U0(v,n,h)}).execute(),Aae(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(n,r){var a=r.getData(),i=a.getItemLayout(0);if(i){var o=n[0]-i.cx,s=n[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="pie",t}(Sr);const Mae=Dae;function Pae(e,t,n){t=Be(t)&&{coordDimensions:t}||Pe({encodeDefine:e.getEncode()},t);var r=e.getSource(),a=LA(r,t).dimensions,i=new co(a,e);return i.initData(r,n),i}var Lae=function(){function e(t,n){this._getDataWithEncodedVisual=t,this._getRawData=n}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var n=this._getRawData();return n.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var n=this._getDataWithEncodedVisual();return n.indexOfName(t)},e.prototype.getItemVisual=function(t,n){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,n)},e}();const Iae=Lae;var Rae=Fn(),Oae=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Iae($n(this.getData,this),$n(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Pae(this,{coordDimensions:["value"],encodeDefaulter:jn(rJ,this)})},t.prototype.getDataParams=function(n){var r=this.getData(),a=Rae(r),i=a.seats;if(!i){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),i=a.seats=$q(o,r.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,n);return s.percent=i[n]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(n){aT(n,"labelLine",["show"]);var r=n.labelLine,a=n.emphasis.labelLine;r.show=r.show&&n.label.show,a.show=a.show&&n.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}($r);const kae=Oae;function Nae(e){return{seriesType:e,reset:function(t,n){var r=t.getData();r.filterSelf(function(a){var i=r.mapDimension("value"),o=r.get(i,a);return!(En(o)&&!isNaN(o)&&o<0)})}}}function Bae(e){e.registerChartView(Mae),e.registerSeriesModel(kae),Wee("pie",e.registerAction),e.registerLayout(jn(wae,"pie")),e.registerProcessor(Sae("pie")),e.registerProcessor(Nae("pie"))}var Vae=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(en);const Fae=Vae;var NT=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Io).models[0]},t.type="cartesian2dAxis",t}(en);Si(NT,m4);var X4={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Uae=Ze({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},X4),HA=Ze({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},X4),zae=Ze({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},HA),Hae=Ft({logBase:10},HA);const $ae={category:Uae,value:HA,time:zae,log:Hae};var Gae={value:1,category:1,time:1,log:1};function jI(e,t,n,r){j(Gae,function(a,i){var o=Ze(Ze({},$ae[i],!0),r,!0),s=function(l){dt(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=jp(this),h=d?E1(c):{},v=f.getTheme();Ze(c,v.get(i+"Axis")),Ze(c,this.getDefaultOption()),c.type=XI(c),d&&nf(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=J0.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+i,u.defaultOption=o,u}(n);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",XI)}function XI(e){return e.type||(e.data?"category":"value")}var Wae=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return at(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),gr(this.getAxes(),function(n){return n.scale.type===t})},e.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},e}();const $A=Wae;var BT=["x","y"];function qI(e){return e.type==="interval"||e.type==="time"}var Yae=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=BT,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!qI(n)||!qI(r))){var a=n.getExtent(),i=r.getExtent(),o=this.dataToPoint([a[0],i[0]]),s=this.dataToPoint([a[1],i[1]]),l=a[1]-a[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,d=o[0]-a[0]*c,h=o[1]-i[0]*f,v=this._transform=[c,0,0,f,d,h];this._invTransform=xh([],v)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var r=this.getAxis("x"),a=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&a.contain(a.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,r){var a=this.dataToPoint(n),i=this.dataToPoint(r),o=this.getArea(),s=new Wt(a[0],a[1],i[0]-a[0],i[1]-a[1]);return o.intersect(s)},t.prototype.dataToPoint=function(n,r,a){a=a||[];var i=n[0],o=n[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return ba(a,n,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(i,r)),a[1]=l.toGlobalCoord(l.dataToCoord(o,r)),a},t.prototype.clampData=function(n,r){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,o=a.getExtent(),s=i.getExtent(),l=a.parse(n[0]),u=i.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(n,r){var a=[];if(this._invTransform)return ba(a,n,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(n[0]),r),a[1]=o.coordToData(o.toLocalCoord(n[1]),r),a},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(){var n=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1]),i=Math.min(r[0],r[1]),o=Math.max(n[0],n[1])-a,s=Math.max(r[0],r[1])-i;return new Wt(a,i,o,s)},t}($A),jae=function(e){dt(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(km);const Xae=jae;function VT(e,t,n){n=n||{};var r=e.coordinateSystem,a=t.axis,i={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,u=a.dim,c=r.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,v=u==="x"?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));v[d.onZero]=Math.max(Math.min(p,v[1]),v[0])}i.position=[u==="y"?v[d[l]]:f[0],u==="x"?v[d[l]]:f[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=m[s],i.labelOffset=o?v[d[s]]-v[d.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Qc(n.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var g=t.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-g:g,i.z2=1,i}function ZI(e){return e.get("coordinateSystem")==="cartesian2d"}function KI(e){var t={xAxisModel:null,yAxisModel:null};return j(t,function(n,r){var a=r.replace(/Model$/,""),i=e.getReferringComponents(a,Io).models[0];if(!i)throw new Error(a+' "'+Bc(e.get(a+"Index"),e.get(a+"Id"),0)+'" not found');t[r]=i}),t}var qb=Math.log;function qae(e,t,n){var r=Rm.prototype,a=r.getTicks.call(n),i=r.getTicks.call(n,!0),o=a.length-1,s=r.getInterval.call(n),l=h4(e,t),u=l.extent,c=l.fixMin,f=l.fixMax;if(e.type==="log"){var d=qb(e.base);u=[qb(u[0])/d,qb(u[1])/d]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var h=r.getExtent.call(e);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var v=r.getInterval.call(e),p=u[0],m=u[1];if(c&&f)v=(m-p)/o;else if(c)for(m=u[0]+v*o;m<u[1]&&isFinite(m)&&isFinite(u[1]);)v=Fb(v),m=u[0]+v*o;else if(f)for(p=u[1]-v*o;p>u[0]&&isFinite(p)&&isFinite(u[0]);)v=Fb(v),p=u[1]-v*o;else{var g=e.getTicks().length-1;g>o&&(v=Fb(v));var y=v*o;m=Math.ceil(u[1]/v)*v,p=er(m-y),p<0&&u[0]>=0?(p=0,m=er(y)):m>0&&u[1]<=0&&(m=0,p=-er(y))}var _=(a[0].value-i[0].value)/s,x=(a[o].value-i[o].value)/s;r.setExtent.call(e,p+v*_,m+v*x),r.setInterval.call(e,v),(_||x)&&r.setNiceExtent.call(e,p+v,m-v);{var w=r.getTicks.call(e);w[1]&&(!xne(v)||zp(w[1].value)>zp(v))&&Vr("The ticks may be not readable when set min: "+t.get("min")+", max: "+t.get("max")+" and alignTicks: true")}}var Zae=function(){function e(t,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=BT,this._initCartesian(t,n,r),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,n){var r=this._axesMap;this._updateScale(t,this.model);function a(o){var s,l=ln(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=o[d],v=h.model,p=h.scale;RT(p)&&v.get("alignTicks")&&v.get("interval")==null?c.push(h):(OT(p,v),RT(p)&&(s=h))}c.length&&(s||(s=c.pop(),OT(s.scale,s.model)),j(c,function(m){qae(m.scale,m.model,s.scale)}))}}a(r.x),a(r.y);var i={};j(r.x,function(o){QI(r,"y",o,i)}),j(r.y,function(o){QI(r,"x",o,i)}),this.resize(this.model,n)},e.prototype.resize=function(t,n,r){var a=t.getBoxLayoutParams(),i=!r&&t.get("containLabel"),o=Fo(a,{width:n.getWidth(),height:n.getHeight()});this._rect=o;var s=this._axesList;l(),i&&(j(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=Zne(u);if(c){var f=u.isHorizontal()?"height":"width",d=u.model.get(["axisLabel","margin"]);o[f]-=c[f]+d,u.position==="top"?o.y+=c.height+d:u.position==="left"&&(o.x+=c.width+d)}}}),l()),j(this._coordsList,function(u){u.calcAffineTransform()});function l(){j(s,function(u){var c=u.isHorizontal(),f=c?[0,o.width]:[0,o.height],d=u.inverse?1:0;u.setExtent(f[d],f[1-d]),Kae(u,c?o.x:o.y)})}},e.prototype.getAxis=function(t,n){var r=this._axesMap[t];if(r!=null)return r[n||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var r="x"+t+"y"+n;return this._coordsMap[r]}lt(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===t||i[a].getAxis("y").index===n)return i[a]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,n,r){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null},e.prototype.convertFromPixel=function(t,n,r){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null},e.prototype._findConvertTarget=function(t){var n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis",Io).models[0],a=t.yAxisModel||n&&n.getReferringComponents("yAxis",Io).models[0],i=t.gridModel,o=this._coordsList,s,l;if(n)s=n.coordinateSystem,Xt(o,s)<0&&(s=null);else if(r&&a)s=this.getCartesian(r.componentIndex,a.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},e.prototype._initCartesian=function(t,n,r){var a=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",u("x"),this),n.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,j(s.x,function(c,f){j(s.y,function(d,h){var v="x"+f+"y"+h,p=new Yae(v);p.master=a,p.model=t,a._coordsMap[v]=p,a._coordsList.push(p),p.addAxis(c),p.addAxis(d)})});function u(c){return function(f,d){if(Zb(f,t)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var v=new Xae(c,v4(f),[0,0],f.get("type"),h),p=v.type==="category";v.onBand=p&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=i,v.index=d,i._axesList.push(v),s[c][d]=v,l[c]++}}}},e.prototype._updateScale=function(t,n){j(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),t.eachSeries(function(a){if(ZI(a)){var i=KI(a),o=i.xAxisModel,s=i.yAxisModel;if(!Zb(o,n)||!Zb(s,n))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),c=l.getAxis("x"),f=l.getAxis("y");r(u,c),r(u,f)}},this);function r(a,i){j(Qne(a,i.dim),function(o){i.scale.unionExtentFromData(a,o)})}},e.prototype.getTooltipAxes=function(t){var n=[],r=[];return j(this.getCartesians(),function(a){var i=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),o=a.getOtherAxis(i);Xt(n,i)<0&&n.push(i),Xt(r,o)<0&&r.push(o)}),{baseAxes:n,otherAxes:r}},e.create=function(t,n){var r=[];return t.eachComponent("grid",function(a,i){var o=new e(a,t,n);o.name="grid_"+i,o.resize(a,n,!0),a.coordinateSystem=o,r.push(o)}),t.eachSeries(function(a){if(ZI(a)){var i=KI(a),o=i.xAxisModel,s=i.yAxisModel,l=o.getCoordSysModel();{if(!l)throw new Error('Grid "'+Bc(o.get("gridIndex"),o.get("gridId"),0)+'" not found');if(o.getCoordSysModel()!==s.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},e.dimensions=BT,e}();function Zb(e,t){return e.getCoordSysModel()===t}function QI(e,t,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var a=e[t],i,o=n.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)JI(a[l])&&(i=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&JI(a[u])&&!r[c(a[u])]){i=a[u];break}i&&(r[c(i)]=!0);function c(f){return f.dim+"_"+f.index}}function JI(e){return e&&e.type!=="category"&&e.type!=="time"&&qne(e)}function Kae(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(a){return a+t}:function(a){return r-a+t},e.toLocalCoord=e.dim==="x"?function(a){return a-t}:function(a){return r-a+t}}const Qae=Zae;var tu=Math.PI,Hc=function(){function e(t,n){this.group=new oa,this.opt=n,this.axisModel=t,Ft(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new oa({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return e.prototype.hasBuilder=function(t){return!!eR[t]},e.prototype.add=function(t){eR[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,n,r){var a=yV(n-t),i,o;return L0(a)?(o=r>0?"top":"bottom",i="center"):L0(a-tu)?(o=r>0?"bottom":"top",i="center"):(o="middle",a>0&&a<tu?i=r>0?"right":"left":i=r>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},e.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},e.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},e}(),eR={axisLine:function(e,t,n,r){var a=t.get(["axisLine","show"]);if(a==="auto"&&e.handleAutoShown&&(a=e.handleAutoShown("axisLine")),!!a){var i=t.axis.getExtent(),o=r.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];o&&(ba(s,s,o),ba(l,l,o));var c=Pe({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new ef({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Gp(f.shape,f.style.lineWidth),f.anid="line",n.add(f);var d=t.get(["axisLine","symbol"]);if(d!=null){var h=t.get(["axisLine","symbolSize"]);ot(d)&&(d=[d,d]),(ot(h)||En(h))&&(h=[h,h]);var v=S5(t.get(["axisLine","symbolOffset"])||0,h),p=h[0],m=h[1];j([{rotate:e.rotation+Math.PI/2,offset:v[0],r:0},{rotate:e.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(g,y){if(d[y]!=="none"&&d[y]!=null){var _=rf(d[y],-p/2,-m/2,p,m,c.stroke,!0),x=g.r+g.offset,w=u?l:s;_.attr({rotation:g.rotate,x:w[0]+x*Math.cos(e.rotation),y:w[1]-x*Math.sin(e.rotation),silent:!0,z2:11}),n.add(_)}})}}},axisTickLabel:function(e,t,n,r){var a=tie(n,r,t,e),i=rie(n,r,t,e);if(eie(t,i,a),nie(n,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=M4(at(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));I4(o)}},axisName:function(e,t,n,r){var a=Qc(e.axisName,t.get("name"));if(a){var i=t.get("nameLocation"),o=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[i==="start"?u[0]-c*l:i==="end"?u[1]+c*l:(u[0]+u[1])/2,nR(i)?e.labelOffset+o*l:0],d,h=t.get("nameRotate");h!=null&&(h=h*tu/180);var v;nR(i)?d=Hc.innerTextLayout(e.rotation,h??e.rotation,o):(d=Jae(e.rotation,i,h||0,u),v=e.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(d.rotation)),!isFinite(v)&&(v=null)));var p=s.getFont(),m=t.get("nameTruncate",!0)||{},g=m.ellipsis,y=Qc(e.nameTruncateMaxWidth,m.maxWidth,v),_=new rr({x:f[0],y:f[1],rotation:d.rotation,silent:Hc.isLabelSilent(t),style:uo(s,{text:a,font:p,overflow:"truncate",width:y,ellipsis:g,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(g1({el:_,componentModel:t,itemName:a}),_.__fullText=a,_.anid="name",t.get("triggerEvent")){var x=Hc.makeAxisEventDataBase(t);x.targetType="axisName",x.name=a,qt(_).eventData=x}r.add(_),_.updateTransform(),n.add(_),_.decomposeTransform()}}};function Jae(e,t,n,r){var a=yV(n-e),i,o,s=r[0]>r[1],l=t==="start"&&!s||t!=="start"&&s;return L0(a-tu/2)?(o=l?"bottom":"top",i="center"):L0(a-tu*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",a<tu*1.5&&a>tu/2?i=l?"left":"right":i=l?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:o}}function eie(e,t,n){if(!p4(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),a=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var i=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2];r===!1?(Ri(i),Ri(u)):tR(i,o)&&(r?(Ri(o),Ri(c)):(Ri(i),Ri(u))),a===!1?(Ri(s),Ri(f)):tR(l,s)&&(a?(Ri(l),Ri(d)):(Ri(s),Ri(f)))}}function Ri(e){e&&(e.ignore=!0)}function tR(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!n||!r)){var a=a1([]);return G2(a,a,-e.rotation),n.applyTransform(Vc([],a,e.getLocalTransform())),r.applyTransform(Vc([],a,t.getLocalTransform())),n.intersect(r)}}function nR(e){return e==="middle"||e==="center"}function q4(e,t,n,r,a){for(var i=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=n,t&&(ba(o,o,t),ba(s,s,t));var c=new ef({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Gp(c.shape,c.style.lineWidth),c.anid=a+"_"+e[l].tickValue,i.push(c)}return i}function tie(e,t,n,r){var a=n.axis,i=n.getModel("axisTick"),o=i.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||a.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=r.tickDirection*i.get("length"),u=a.getTicksCoords(),c=q4(u,t.transform,l,Ft(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}}function nie(e,t,n,r){var a=n.axis,i=n.getModel("minorTick");if(!(!i.get("show")||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=r*i.get("length"),u=Ft(s.getLineStyle(),Ft(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var f=q4(o[c],t.transform,l,u,"minorticks_"+c),d=0;d<f.length;d++)e.add(f[d])}}function rie(e,t,n,r){var a=n.axis,i=Qc(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!i||a.scale.isBlank())){var o=n.getModel("axisLabel"),s=o.get("margin"),l=a.getViewLabels(),u=(Qc(r.labelRotate,o.get("rotate"))||0)*tu/180,c=Hc.innerTextLayout(r.rotation,u,r.labelDirection),f=n.getCategories&&n.getCategories(!0),d=[],h=Hc.isLabelSilent(n),v=n.get("triggerEvent");return j(l,function(p,m){var g=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,y=p.formattedLabel,_=p.rawLabel,x=o;if(f&&f[g]){var w=f[g];lt(w)&&w.textStyle&&(x=new fr(w.textStyle,o,n.ecModel))}var b=x.getTextColor()||n.get(["axisLine","lineStyle","color"]),S=a.dataToCoord(g),C=new rr({x:S,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:h,z2:10+(p.level||0),style:uo(x,{text:y,align:x.getShallow("align",!0)||c.textAlign,verticalAlign:x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,fill:yt(b)?b(a.type==="category"?_:a.type==="value"?g+"":g,m):b})});if(C.anid="label_"+g,v){var A=Hc.makeAxisEventDataBase(n);A.targetType="axisLabel",A.value=_,A.tickIndex=m,a.type==="category"&&(A.dataIndex=g),qt(C).eventData=A}t.add(C),C.updateTransform(),d.push(C),e.add(C),C.decomposeTransform()}),d}}const Z4=Hc;function aie(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return iie(n,e,t),n.seriesInvolved&&sie(n,e),n}function iie(e,t,n){var r=t.getComponent("tooltip"),a=t.getComponent("axisPointer"),i=a.get("link",!0)||[],o=[];j(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Jp(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",r);if(j(s.getAxes(),jn(p,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&j(v.baseAxes,jn(p,h?"cross":!0,d)),h&&j(v.otherAxes,jn(p,"cross",!1))}function p(m,g,y){var _=y.model.getModel("axisPointer",a),x=_.get("show");if(!(!x||x==="auto"&&!m&&!FT(_))){g==null&&(g=_.get("triggerTooltip")),_=m?oie(y,f,a,t,m,g):_;var w=_.get("snap"),b=_.get("triggerEmphasis"),S=Jp(y.model),C=g||w||y.type==="category",A=e.axesInfo[S]={key:S,axis:y,coordSys:s,axisPointerModel:_,triggerTooltip:g,triggerEmphasis:b,involveSeries:C,snap:w,useHandle:FT(_),seriesModels:[],linkGroup:null};u[S]=A,e.seriesInvolved=e.seriesInvolved||C;var M=lie(i,y);if(M!=null){var T=o[M]||(o[M]={axesInfo:{}});T.axesInfo[S]=A,T.mapper=i[M].mapper,A.linkGroup=T}}}})}function oie(e,t,n,r,a,i){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};j(s,function(d){l[d]=tn(o.get(d))}),l.snap=e.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!i){var f=l.lineStyle=o.get("crossStyle");f&&Ft(u,f.textStyle)}}return e.model.getModel("axisPointer",new fr(l,n,r))}function sie(e,t){t.eachSeries(function(n){var r=n.coordinateSystem,a=n.get(["tooltip","trigger"],!0),i=n.get(["tooltip","show"],!0);!r||a==="none"||a===!1||a==="item"||i===!1||n.get(["axisPointer","show"],!0)===!1||j(e.coordSysAxesInfo[Jp(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(n),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=n.getData().count())})})}function lie(e,t){for(var n=t.model,r=t.dim,a=0;a<e.length;a++){var i=e[a]||{};if(Kb(i[r+"AxisId"],n.id)||Kb(i[r+"AxisIndex"],n.componentIndex)||Kb(i[r+"AxisName"],n.name))return a}}function Kb(e,t){return e==="all"||Be(e)&&Xt(e,t)>=0||e===t}function uie(e){var t=GA(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,a=n.option,i=n.get("status"),o=n.get("value");o!=null&&(o=r.parse(o));var s=FT(n);i==null&&(a.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=t.axis.scale.isBlank()?"hide":"show")}}function GA(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Jp(e)]}function cie(e){var t=GA(e);return t&&t.axisPointerModel}function FT(e){return!!e.get(["handle","show"])}function Jp(e){return e.type+"||"+e.id}var Qb={},fie=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){this.axisPointerClass&&uie(n),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,a,!0)},t.prototype.updateAxisPointer=function(n,r,a,i){this._doUpdateAxisPointerClass(n,a,!1)},t.prototype.remove=function(n,r){var a=this._axisPointer;a&&a.remove(r)},t.prototype.dispose=function(n,r){this._disposeAxisPointer(r),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,r,a){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var o=cie(n);o?(this._axisPointer||(this._axisPointer=new i)).render(n,o,r,a):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,r){if(Qb[n])throw new Error("axisPointer "+n+" exists");Qb[n]=r},t.getAxisPointerClass=function(n){return n&&Qb[n]},t.type="axis",t}(Aa);const K4=fie;var UT=Fn();function die(e,t,n,r){var a=n.axis;if(!a.scale.isBlank()){var i=n.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,f=UT(e).splitAreaColors,d=Dt(),h=0;if(f)for(var v=0;v<u.length;v++){var p=f.get(u[v].tickValue);if(p!=null){h=(p+(c-1)*v)%c;break}}var m=a.toGlobalCoord(u[0].coord),g=o.getAreaStyle();s=Be(s)?s:[s];for(var v=1;v<u.length;v++){var y=a.toGlobalCoord(u[v].coord),_=void 0,x=void 0,w=void 0,b=void 0;a.isHorizontal()?(_=m,x=l.y,w=y-_,b=l.height,m=_+w):(_=l.x,x=m,w=l.width,b=y-x,m=x+b);var S=u[v-1].tickValue;S!=null&&d.set(S,h),t.add(new wr({anid:S!=null?"area_"+S:null,shape:{x:_,y:x,width:w,height:b},style:Ft({fill:s[h]},g),autoBatch:!0,silent:!0})),h=(h+1)%c}UT(e).splitAreaColors=d}}}function hie(e){UT(e).splitAreaColors=null}var vie=["axisLine","axisTickLabel","axisName"],pie=["splitArea","splitLine","minorSplitLine"],Q4=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,r,a,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new oa,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),l=VT(s,n),u=new Z4(n,Pe({handleAutoShown:function(f){for(var d=s.coordinateSystem.getCartesians(),h=0;h<d.length;h++)if(RT(d[h].getOtherAxis(n.axis).scale))return!0;return!1}},l));j(vie,u.add,u),this._axisGroup.add(u.getGroup()),j(pie,function(f){n.get([f,"show"])&&mie[f](this,this._axisGroup,n,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||wF(o,this._axisGroup,n),e.prototype.render.call(this,n,r,a,i)}},t.prototype.remove=function(){hie(this)},t.type="cartesianAxis",t}(K4),mie={splitLine:function(e,t,n,r){var a=n.axis;if(!a.scale.isBlank()){var i=n.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=Be(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=a.isHorizontal(),c=0,f=a.getTicksCoords({tickModel:i}),d=[],h=[],v=o.getLineStyle(),p=0;p<f.length;p++){var m=a.toGlobalCoord(f[p].coord);u?(d[0]=m,d[1]=l.y,h[0]=m,h[1]=l.y+l.height):(d[0]=l.x,d[1]=m,h[0]=l.x+l.width,h[1]=m);var g=c++%s.length,y=f[p].tickValue,_=new ef({anid:y!=null?"line_"+f[p].tickValue:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:Ft({stroke:s[g]},v),silent:!0});Gp(_.shape,v.lineWidth),t.add(_)}}},minorSplitLine:function(e,t,n,r){var a=n.axis,i=n.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var c=[],f=[],d=o.getLineStyle(),h=0;h<u.length;h++)for(var v=0;v<u[h].length;v++){var p=a.toGlobalCoord(u[h][v].coord);l?(c[0]=p,c[1]=s.y,f[0]=p,f[1]=s.y+s.height):(c[0]=s.x,c[1]=p,f[0]=s.x+s.width,f[1]=p);var m=new ef({anid:"minor_line_"+u[h][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:d,silent:!0});Gp(m.shape,d.lineWidth),t.add(m)}},splitArea:function(e,t,n,r){die(e,t,n,r)}},J4=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(Q4),gie=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=J4.type,n}return t.type="yAxis",t}(Q4),yie=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new wr({shape:n.coordinateSystem.getRect(),style:Ft({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Aa),rR={offset:0};function _ie(e){e.registerComponentView(yie),e.registerComponentModel(Fae),e.registerCoordinateSystem("cartesian2d",Qae),jI(e,"x",NT,rR),jI(e,"y",NT,rR),e.registerComponentView(J4),e.registerComponentView(gie),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var xie={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function bie(e,t){if(e==="china"){var n=xie[t.name];if(n){var r=t.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/(10.5/.75),t.setCenter(r)}}}var eo=Fn();function wie(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,eU(t,n,e),j(n,function(r){j(t.TRANSFERABLE_METHODS,function(a){r.wrapMethod(a,jn(Sie,e))})}),t.wrapMethod("cloneShallow",jn(Cie,e)),j(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,jn(Tie,e))}),_t(n[t.dataType]===t)}function Sie(e,t){if(Die(this)){var n=Pe({},eo(this).datas);n[this.dataType]=t,eU(t,n,e)}else WA(t,this.dataType,eo(this).mainData,e);return t}function Tie(e,t){return e.struct&&e.struct.update(),t}function Cie(e,t){return j(eo(t).datas,function(n,r){n!==t&&WA(n.cloneShallow(),r,t,e)}),t}function Aie(e){var t=eo(this).mainData;return e==null||t==null?t:eo(t).datas[e]}function Eie(){var e=eo(this).mainData;return e==null?[{data:e}]:at(ln(eo(e).datas),function(t){return{type:t,data:eo(e).datas[t]}})}function Die(e){return eo(e).mainData===e}function eU(e,t,n){eo(e).datas={},j(t,function(r,a){WA(r,a,e,n)})}function WA(e,t,n,r){eo(n).datas[t]=e,eo(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=Aie,e.getLinkedDataAll=Eie}function qf(e){return"_EC_"+e}var Mie=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,n){t=t==null?""+n:""+t;var r=this._nodesMap;if(r[qf(t)]){console.error("Graph nodes have duplicate name or id");return}var a=new dc(t,n);return a.hostGraph=this,this.nodes.push(a),r[qf(t)]=a,a},e.prototype.getNodeByIndex=function(t){var n=this.data.getRawIndex(t);return this.nodes[n]},e.prototype.getNodeById=function(t){return this._nodesMap[qf(t)]},e.prototype.addEdge=function(t,n,r){var a=this._nodesMap,i=this._edgesMap;if(En(t)&&(t=this.nodes[t]),En(n)&&(n=this.nodes[n]),t instanceof dc||(t=a[qf(t)]),n instanceof dc||(n=a[qf(n)]),!(!t||!n)){var o=t.id+"-"+n.id,s=new tU(t,n,r);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),n.inEdges.push(s)),t.edges.push(s),t!==n&&n.edges.push(s),this.edges.push(s),i[o]=s,s}},e.prototype.getEdgeByIndex=function(t){var n=this.edgeData.getRawIndex(t);return this.edges[n]},e.prototype.getEdge=function(t,n){t instanceof dc&&(t=t.id),n instanceof dc&&(n=n.id);var r=this._edgesMap;return this._directed?r[t+"-"+n]:r[t+"-"+n]||r[n+"-"+t]},e.prototype.eachNode=function(t,n){for(var r=this.nodes,a=r.length,i=0;i<a;i++)r[i].dataIndex>=0&&t.call(n,r[i],i)},e.prototype.eachEdge=function(t,n){for(var r=this.edges,a=r.length,i=0;i<a;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&t.call(n,r[i],i)},e.prototype.breadthFirstTraverse=function(t,n,r,a){if(n instanceof dc||(n=this._nodesMap[qf(n)]),!!n){for(var i=r==="out"?"outEdges":r==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(a,n,null))for(var s=[n];s.length;)for(var l=s.shift(),u=l[i],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(a,f,l))return;s.push(f),f.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,n=this.edgeData,r=this.nodes,a=this.edges,i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(var i=0,o=t.count();i<o;i++)r[t.getRawIndex(i)].dataIndex=i;n.filterSelf(function(s){var l=a[n.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(var i=0,o=n.count();i<o;i++)a[n.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,a=0;a<n.length;a++)t.addNode(n[a].id,n[a].dataIndex);for(var a=0;a<r.length;a++){var i=r[a];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},e}(),dc=function(){function e(t,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=n??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.data.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},n=0;n<this.edges.length;n++){var r=this.edges[n];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=Dt(),n=Dt(),r=0;r<this.edges.length;r++){var a=this.edges[r];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var i=[a.node1],o=[a.node2],s=0;s<i.length;){var l=i[s];s++,n.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),i.push(l.inEdges[u].node1)}for(s=0;s<o.length;){var c=o[s];s++,n.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),o.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:n.keys()}},e}(),tU=function(){function e(t,n,r){this.dataIndex=-1,this.node1=t,this.node2=n,this.dataIndex=r??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.edgeData.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=Dt(),n=Dt();t.set(this.dataIndex,!0);for(var r=[this.node1],a=[this.node2],i=0;i<r.length;){var o=r[i];i++,n.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)t.set(o.inEdges[s].dataIndex,!0),r.push(o.inEdges[s].node1)}for(i=0;i<a.length;){var l=a[i];i++,n.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),a.push(l.outEdges[s].node2)}return{edge:t.keys(),node:n.keys()}},e}();function nU(e,t){return{getValue:function(n){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}Si(dc,nU("hostGraph","data"));Si(tU,nU("hostGraph","edgeData"));const Pie=Mie;function Lie(e,t,n,r){return e&&(e.legacy||e.legacy!==!1&&!n&&!r&&t!=="tspan"&&(t==="text"||bt(e,"text")))}function Iie(e,t,n){var r=e,a,i,o;if(t==="text")o=r;else{o={},bt(r,"text")&&(o.text=r.text),bt(r,"rich")&&(o.rich=r.rich),bt(r,"textFill")&&(o.fill=r.textFill),bt(r,"textStroke")&&(o.stroke=r.textStroke),bt(r,"fontFamily")&&(o.fontFamily=r.fontFamily),bt(r,"fontSize")&&(o.fontSize=r.fontSize),bt(r,"fontStyle")&&(o.fontStyle=r.fontStyle),bt(r,"fontWeight")&&(o.fontWeight=r.fontWeight),i={type:"text",style:o,silent:!0},a={};var s=bt(r,"textPosition");n?a.position=s?r.textPosition:"inside":s&&(a.position=r.textPosition),bt(r,"textPosition")&&(a.position=r.textPosition),bt(r,"textOffset")&&(a.offset=r.textOffset),bt(r,"textRotation")&&(a.rotation=r.textRotation),bt(r,"textDistance")&&(a.distance=r.textDistance)}return aR(o,e),j(o.rich,function(l){aR(l,l)}),{textConfig:a,textContent:i}}function aR(e,t){t&&(t.font=t.textFont||t.font,bt(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),bt(t,"textAlign")&&(e.align=t.textAlign),bt(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),bt(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),bt(t,"textWidth")&&(e.width=t.textWidth),bt(t,"textHeight")&&(e.height=t.textHeight),bt(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),bt(t,"textPadding")&&(e.padding=t.textPadding),bt(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),bt(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),bt(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),bt(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),bt(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),bt(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),bt(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}var rU={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},iR=ln(rU),n_=_s(xs,function(e,t){return e[t]=1,e},{}),oR=xs.join(", "),r_=["","style","shape","extra"],eh=Fn();function YA(e,t,n,r,a){var i=e+"Animation",o=rA(e,r,a)||{},s=eh(t).userDuring;return o.duration>0&&(o.during=s?$n(Vie,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=e),Pe(o,n[i]),o}function Jb(e,t,n,r){r=r||{};var a=r.dataIndex,i=r.isInit,o=r.clearStyle,s=n.isAnimationEnabled(),l=eh(e),u=t.style;l.userDuring=t.during;var c={},f={};if(Uie(e,t,f),lR("shape",t,f),lR("extra",t,f),!i&&s&&(Fie(e,t,c),sR("shape",e,t,c),sR("extra",e,t,c),zie(e,t,u,c)),f.style=u,Oie(e,f,o),Nie(e,t),s)if(i){var d={};j(r_,function(v){var p=v?t[v]:t;p&&p.enterFrom&&(v&&(d[v]=d[v]||{}),Pe(v?d[v]:d,p.enterFrom))});var h=YA("enter",e,t,n,a);h.duration>0&&e.animateFrom(d,h)}else kie(e,t,a||0,n,c);aU(e,t),u?e.dirty():e.markRedraw()}function aU(e,t){for(var n=eh(e).leaveToProps,r=0;r<r_.length;r++){var a=r_[r],i=a?t[a]:t;i&&i.leaveTo&&(n||(n=eh(e).leaveToProps={}),a&&(n[a]=n[a]||{}),Pe(a?n[a]:n,i.leaveTo))}}function Rie(e,t,n,r){if(e){var a=e.parent,i=eh(e).leaveToProps;if(i){var o=YA("update",e,t,n,0);o.done=function(){a.remove(e),r&&r()},e.animateTo(i,o)}else a.remove(e),r&&r()}}function $c(e){return e==="all"}function Oie(e,t,n){var r=t.style;if(!e.isGroup&&r){if(n){e.useStyle({});for(var a=e.animators,i=0;i<a.length;i++){var o=a[i];o.targetName==="style"&&o.changeTarget(e.style)}}e.setStyle(r)}t&&(t.style=null,t&&e.attr(t),t.style=r)}function kie(e,t,n,r,a){if(a){var i=YA("update",e,t,r,n);i.duration>0&&e.animateFrom(a,i)}}function Nie(e,t){bt(t,"silent")&&(e.silent=t.silent),bt(t,"ignore")&&(e.ignore=t.ignore),e instanceof mf&&bt(t,"invisible")&&(e.invisible=t.invisible),e instanceof gn&&bt(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var Ko={},Bie={setTransform:function(e,t){return _t(bt(n_,e),"Only "+oR+" available in `setTransform`."),Ko.el[e]=t,this},getTransform:function(e){return _t(bt(n_,e),"Only "+oR+" available in `getTransform`."),Ko.el[e]},setShape:function(e,t){Zf(e);var n=Ko.el,r=n.shape||(n.shape={});return r[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){Zf(e);var t=Ko.el.shape;if(t)return t[e]},setStyle:function(e,t){Zf(e);var n=Ko.el,r=n.style;return r&&(Xd(t)&&Vr("style."+e+" must not be assigned with NaN."),r[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){Zf(e);var t=Ko.el.style;if(t)return t[e]},setExtra:function(e,t){Zf(e);var n=Ko.el.extra||(Ko.el.extra={});return n[e]=t,this},getExtra:function(e){Zf(e);var t=Ko.el.extra;if(t)return t[e]}};function Zf(e){if(e==="transition"||e==="enterFrom"||e==="leaveTo")throw new Error('key must not be "'+e+'"')}function Vie(){var e=this,t=e.el;if(t){var n=eh(t).userDuring,r=e.userDuring;if(n!==r){e.el=e.userDuring=null;return}Ko.el=t,r(Bie)}}function sR(e,t,n,r){var a=n[e];if(a){var i=t[e],o;if(i){var s=n.transition,l=a.transition;if(l)if(!o&&(o=r[e]={}),$c(l))Pe(o,i);else for(var u=Jr(l),c=0;c<u.length;c++){var f=u[c],d=i[f];o[f]=d}else if($c(s)||Xt(s,e)>=0){!o&&(o=r[e]={});for(var h=ln(i),c=0;c<h.length;c++){var f=h[c],d=i[f];Hie(a[f],d)&&(o[f]=d)}}}}}function lR(e,t,n){var r=t[e];if(r)for(var a=n[e]={},i=ln(r),o=0;o<i.length;o++){var s=i[o];a[s]=lp(r[s])}}function Fie(e,t,n){for(var r=t.transition,a=$c(r)?xs:Jr(r||[]),i=0;i<a.length;i++){var o=a[i];if(!(o==="style"||o==="shape"||o==="extra")){var s=e[o];iU(o,"el.transition"),n[o]=s}}}function Uie(e,t,n){for(var r=0;r<iR.length;r++){var a=iR[r],i=rU[a],o=t[a];o&&(n[i[0]]=o[0],n[i[1]]=o[1])}for(var r=0;r<xs.length;r++){var s=xs[r];t[s]!=null&&(n[s]=t[s])}}function zie(e,t,n,r){if(n){var a=e.style,i;if(a){var o=n.transition,s=t.transition;if(o&&!$c(o)){var l=Jr(o);!i&&(i=r.style={});for(var u=0;u<l.length;u++){var c=l[u],f=a[c];i[c]=f}}else if(e.getAnimationStyleProps&&($c(s)||$c(o)||Xt(s,"style")>=0)){var d=e.getAnimationStyleProps(),h=d?d.style:null;if(h){!i&&(i=r.style={});for(var v=ln(n),u=0;u<v.length;u++){var c=v[u];if(h[c]){var f=a[c];i[c]=f}}}}}}}function Hie(e,t){return Za(e)?e!==t:e!=null&&isFinite(e)}var iU;iU=function(e,t){bt(n_,e)||Vr("Prop `"+e+"` is not a permitted in `"+t+"`. Only `"+ln(n_).join("`, `")+"` are permitted.")};var oU=Fn(),$ie=["percent","easing","shape","style","extra"];function Gie(e){e.stopAnimation("keyframe"),e.attr(oU(e))}function zT(e,t,n){if(!(!n.isAnimationEnabled()||!t)){if(Be(t)){j(t,function(s){zT(e,s,n)});return}var r=t.keyframes,a=t.duration;if(n&&a==null){var i=rA("enter",n,0);a=i&&i.duration}if(!(!r||!a)){var o=oU(e);j(r_,function(s){if(!(s&&!e[s])){var l,u=!1;r.sort(function(c,f){return c.percent-f.percent}),j(r,function(c){var f=e.animators,d=s?c[s]:c;if(c.percent>=1&&(u=!0),!!d){var h=ln(d);if(s||(h=gr(h,function(m){return Xt($ie,m)<0})),!!h.length){l||(l=e.animate(s,t.loop,!0),l.scope="keyframe");for(var v=0;v<f.length;v++)f[v]!==l&&f[v].targetName===l.targetName&&f[v].stopTracks(h);s&&(o[s]=o[s]||{});var p=s?o[s]:o;j(h,function(m){p[m]=((s?e[s]:e)||{})[m]}),l.whenWithKeys(a*c.percent,d,h,c.easing)}}}),l&&(u||Vr("End frame with percent: 1 is missing in the keyframeAnimation.",!0),l.delay(t.delay||0).duration(a).start(t.easing))}})}}}var ew=null;function Wie(e){return ew||(ew=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),ew(e)}var tw=null;function Yie(e){tw||(tw=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),tw(e)}function jie(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function $g(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(r){n[r]=t[r]}),n}function sU(e,t,n){var r=window.getComputedStyle(e,n||null)||{display:"none"};return r[t]}function HT(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(sU(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var Xie='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',$T=0,Wy=null;function qie(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=Qie.bind(e));var n=e.__resize_listeners__;if(!n){if(e.__resize_listeners__=[],window.ResizeObserver){var r=e.offsetWidth,a=e.offsetHeight,i=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===r&&e.offsetHeight===a)||a_(e)}),o=HT(e),s=o.detached,l=o.rendered;e.__resize_observer_triggered__=s===!1&&l===!1,e.__resize_observer__=i,i.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){a_(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if($T||(Wy=jie(Xie)),Jie(e),e.__resize_rendered__=HT(e).rendered,window.MutationObserver){var u=new MutationObserver(e.__resize_mutation_handler__);u.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=u}}e.__resize_listeners__.push(t),$T++}function Zie(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",jA),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--$T&&Wy&&Wy.parentNode.removeChild(Wy)}}function Kie(e){var t=e.__resize_last__,n=t.width,r=t.height,a=e.offsetWidth,i=e.offsetHeight;return a!==n||i!==r?{width:a,height:i}:null}function Qie(){var e=HT(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(XA(this),this.addEventListener("scroll",jA,!0)),this.__resize_rendered__=t,a_(this))}function jA(){var e=this;XA(this),this.__resize_raf__&&Yie(this.__resize_raf__),this.__resize_raf__=Wie(function(){var t=Kie(e);t&&(e.__resize_last__=t,a_(e))})}function a_(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function Jie(e){var t=sU(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var n=$g("div",{className:"resize-triggers"}),r=$g("div",{className:"resize-expand-trigger"}),a=$g("div"),i=$g("div",{className:"resize-contract-trigger"});r.appendChild(a),n.appendChild(r),n.appendChild(i),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:r,expandChild:a,contract:i},XA(e),e.addEventListener("scroll",jA,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function XA(e){var t=e.__resize_triggers__,n=t.expand,r=t.expandChild,a=t.contract,i=a.scrollWidth,o=a.scrollHeight,s=n.offsetWidth,l=n.offsetHeight,u=n.scrollWidth,c=n.scrollHeight;a.scrollLeft=i,a.scrollTop=o,r.style.width=s+1+"px",r.style.height=l+1+"px",n.scrollLeft=u,n.scrollTop=c}var Us=function(){return Us=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Us.apply(this,arguments)};var eoe=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function toe(e){return t=Object.create(null),eoe.forEach(function(n){t[n]=function(r){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[r].apply(e.value,a)}}(n)}),t;var t}var noe={autoresize:[Boolean,Object]},roe=/^on[^a-z]/,aoe=function(e){return roe.test(e)};function Gg(e,t){var n=ie(e);return n&&typeof n=="object"&&"value"in n?n.value||t:n||t}var ioe="ecLoadingOptions",ooe={loading:Boolean,loadingOptions:Object},mv=null,lU="x-vue-echarts",uR=[],gv=[];(function(e,t){if(e&&typeof document<"u"){var n,r=t.prepend===!0?"prepend":"append",a=t.singleTag===!0,i=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var o=uR.indexOf(i);o===-1&&(o=uR.push(i)-1,gv[o]={}),n=gv[o]&&gv[o][r]?gv[o][r]:gv[o][r]=s()}else n=s();e.charCodeAt(0)===65279&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function s(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),t.attributes)for(var u=Object.keys(t.attributes),c=0;c<u.length;c++)l.setAttribute(u[c],t.attributes[u[c]]);var f=r==="prepend"?"afterbegin":"beforeend";return i.insertAdjacentElement(f,l),l}})(`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}x-vue-echarts>div{width:100%;height:100%}
`,{});var soe=function(){if(mv!=null)return mv;if(typeof HTMLElement>"u"||typeof customElements>"u")return mv=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(lU)}catch{return mv=!1}return mv=!0}(),loe="ecTheme",uoe="ecInitOptions",coe="ecUpdateOptions",Ha=hn({name:"echarts",props:Us(Us({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},noe),ooe),emits:{},inheritAttrs:!1,setup:function(e,t){var n=t.attrs,r=ke(),a=ke(),i=ke(),o=ke(),s=It(loe,null),l=It(uoe,null),u=It(coe,null),c=Hd(e),f=c.autoresize,d=c.manualUpdate,h=c.loading,v=c.loadingOptions,p=O(function(){return o.value||e.option||null}),m=O(function(){return e.theme||Gg(s,{})}),g=O(function(){return e.initOptions||Gg(l,{})}),y=O(function(){return e.updateOptions||Gg(u,{})}),_=O(function(){return function(A){var M={};for(var T in A)aoe(T)||(M[T]=A[T]);return M}(n)}),x=gu().proxy.$listeners;function w(A){if(a.value){var M=i.value=Ute(a.value,m.value,g.value);e.group&&(M.group=e.group);var T=x;T||(T={},Object.keys(n).filter(function(P){return P.indexOf("on")===0&&P.length>2}).forEach(function(P){var I=P.charAt(2).toLowerCase()+P.slice(3);I.substring(I.length-4)==="Once"&&(I="~".concat(I.substring(0,I.length-4))),T[I]=n[P]})),Object.keys(T).forEach(function(P){var I=T[P];if(I){var k=P.toLowerCase();k.charAt(0)==="~"&&(k=k.substring(1),I.__once__=!0);var B=M;if(k.indexOf("zr:")===0&&(B=M.getZr(),k=k.substring(3)),I.__once__){delete I.__once__;var U=I;I=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];U.apply(void 0,R),B.off(k,I)}}B.on(k,I)}}),f.value?Ot(function(){M&&!M.isDisposed()&&M.resize(),E()}):E()}function E(){var P=A||p.value;P&&M.setOption(P,y.value)}}function b(){i.value&&(i.value.dispose(),i.value=void 0)}var S=null;Le(d,function(A){typeof S=="function"&&(S(),S=null),A||(S=Le(function(){return e.option},function(M,T){M&&(i.value?i.value.setOption(M,Us({notMerge:M!==T},y.value)):w())},{deep:!0}))},{immediate:!0}),Le([m,g],function(){b(),w()},{deep:!0}),qn(function(){e.group&&i.value&&(i.value.group=e.group)});var C=toe(i);return function(A,M,T){var E=It(ioe,{}),P=O(function(){return Us(Us({},Gg(E,{})),T==null?void 0:T.value)});qn(function(){var I=A.value;I&&(M.value?I.showLoading(P.value):I.hideLoading())})}(i,h,v),function(A,M,T){var E=null;Le([T,A,M],function(P,I,k){var B=P[0],U=P[1],R=P[2];if(B&&U&&R){var L=R===!0?{}:R,z=L.throttle,X=z===void 0?100:z,Y=L.onResize,$=function(){U.resize(),Y==null||Y()};E=X?I1($,X):$,qie(B,E)}k(function(){B&&E&&Zie(B,E)})})}(i,f,a),nn(function(){w()}),la(function(){soe&&r.value?r.value.__dispose=b:b()}),Us({chart:i,root:r,inner:a,setOption:function(A,M){e.manualUpdate&&(o.value=A),i.value?i.value.setOption(A,M||{}):w(A)},nonEventAttrs:_},C)},render:function(){var e=Us({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",so(lU,e,[so("div",{ref:"inner"})])}}),mc=Fn(),cR=tn,nw=$n,foe=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,n,r,a){var i=n.get("value"),o=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=r,!(!a&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,t,n,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,n);if(!s)s=this._group=new oa,this.createPointerEl(s,u,t,n),this.createLabelEl(s,u,t,n),r.getZr().add(s);else{var d=jn(fR,n,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,n)}hR(s,n,!0),this._renderHandle(i)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,n){var r=n.get("animation"),a=t.axis,i=a.type==="category",o=n.get("snap");if(!o&&!i)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(i&&a.getBandWidth()>s)return!0;if(o){var l=GA(t).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},e.prototype.makeElOption=function(t,n,r,a,i){},e.prototype.createPointerEl=function(t,n,r,a){var i=n.pointer;if(i){var o=mc(t).pointerEl=new CQ[i.type](cR(n.pointer));t.add(o)}},e.prototype.createLabelEl=function(t,n,r,a){if(n.label){var i=mc(t).labelEl=new rr(cR(n.label));t.add(i),dR(i,a)}},e.prototype.updatePointerEl=function(t,n,r){var a=mc(t).pointerEl;a&&n.pointer&&(a.setStyle(n.pointer.style),r(a,{shape:n.pointer.shape}))},e.prototype.updateLabelEl=function(t,n,r,a){var i=mc(t).labelEl;i&&(i.setStyle(n.label.style),r(i,{x:n.label.x,y:n.label.y}),dR(i,a))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),a=this._handle,i=n.getModel("handle"),o=n.get("status");if(!i.get("show")||!o||o==="hide"){a&&r.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=lA(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){XB(u.event)},onmousedown:nw(this._onHandleDragMove,this,0,0),drift:nw(this._onHandleDragMove,this),ondragend:nw(this._onHandleDragEnd,this)}),r.add(a)),hR(a,n,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");Be(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,p5(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},e.prototype._moveHandleToValue=function(t,n){fR(this._axisPointerModel,!n&&this._moveAnimation,this._handle,rw(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,n){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(rw(r),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(rw(a)),mc(r).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),r=this._group,a=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),a&&n.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),ST(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,n,r){return r=r||0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}},e}();function fR(e,t,n,r){uU(mc(n).lastProp,r)||(mc(n).lastProp=r,t?Hr(n,r,e):(n.stopAnimation(),n.attr(r)))}function uU(e,t){if(lt(e)&&lt(t)){var n=!0;return j(t,function(r,a){n=n&&uU(e[a],r)}),!!n}else return e===t}function dR(e,t){e[t.get(["label","show"])?"show":"hide"]()}function rw(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function hR(e,t,n){var r=t.get("z"),a=t.get("zlevel");e&&e.traverse(function(i){i.type!=="group"&&(r!=null&&(i.z=r),a!=null&&(i.zlevel=a),i.silent=n)})}const doe=foe;function hoe(e){var t=e.get("type"),n=e.getModel(t+"Style"),r;return t==="line"?(r=n.getLineStyle(),r.fill=null):t==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function voe(e,t,n,r,a){var i=n.get("value"),o=cU(i,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=A1(s.get("padding")||0),u=s.getFont(),c=W2(o,u),f=a.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],v=a.align;v==="right"&&(f[0]-=d),v==="center"&&(f[0]-=d/2);var p=a.verticalAlign;p==="bottom"&&(f[1]-=h),p==="middle"&&(f[1]-=h/2),poe(f,d,h,r);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=t.get(["axisLine","lineStyle","color"])),e.label={x:f[0],y:f[1],style:uo(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function poe(e,t,n,r){var a=r.getWidth(),i=r.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+n,i)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function cU(e,t,n,r,a){e=t.scale.parse(e);var i=t.scale.getLabel({value:e},{precision:a.precision}),o=a.formatter;if(o){var s={value:kA(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};j(r,function(l){var u=n.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),ot(o)?i=o.replace("{value}",i):yt(o)&&(i=o(s))}return i}function fU(e,t,n){var r=qd();return G2(r,r,n.rotation),YS(r,r,n.position),sA([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function moe(e,t,n,r,a,i){var o=Z4.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=a.get(["label","margin"]),voe(t,r,a,i,{position:fU(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function goe(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function yoe(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}var _oe=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,a,i,o){var s=a.axis,l=s.grid,u=i.get("type"),c=vR(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var d=hoe(i),h=xoe[u](s,f,c);h.style=d,n.graphicKey=h.type,n.pointer=h}var v=VT(l.model,a);moe(r,n,v,a,i,o)},t.prototype.getHandleTransform=function(n,r,a){var i=VT(r.axis.grid.model,r,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=fU(r.axis,n,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,a,i){var o=a.axis,s=o.grid,l=o.getGlobalExtent(!0),u=vR(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[n.x,n.y];f[c]+=r[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:n.rotation,cursorPoint:h,tooltipOption:v[c]}},t}(doe);function vR(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var xoe={line:function(e,t,n){var r=goe([t,n[0]],[t,n[1]],pR(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),a=n[1]-n[0];return{type:"Rect",shape:yoe([t-r/2,n[0]],[r,a],pR(e))}}};function pR(e){return e.dim==="x"?0:1}const boe=_oe;var woe=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(en);const Soe=woe;var Zs=Fn(),Toe=j;function dU(e,t,n){if(!Vt.node){var r=t.getZr();Zs(r).records||(Zs(r).records={}),Coe(r,t);var a=Zs(r).records[e]||(Zs(r).records[e]={});a.handler=n}}function Coe(e,t){if(Zs(e).initialized)return;Zs(e).initialized=!0,n("click",jn(mR,"click")),n("mousemove",jn(mR,"mousemove")),n("globalout",Eoe);function n(r,a){e.on(r,function(i){var o=Doe(t);Toe(Zs(e).records,function(s){s&&a(s,i,o.dispatchAction)}),Aoe(o.pendings,t)})}}function Aoe(e,t){var n=e.showTip.length,r=e.hideTip.length,a;n?a=e.showTip[n-1]:r&&(a=e.hideTip[r-1]),a&&(a.dispatchAction=null,t.dispatchAction(a))}function Eoe(e,t,n){e.handler("leave",null,n)}function mR(e,t,n,r){t.handler(e,n,r)}function Doe(e){var t={showTip:[],hideTip:[]},n=function(r){var a=t[r.type];a?a.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function GT(e,t){if(!Vt.node){var n=t.getZr(),r=(Zs(n).records||{})[e];r&&(Zs(n).records[e]=null)}}var Moe=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=r.getComponent("tooltip"),o=n.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";dU("axisPointer",a,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(n,r){GT("axisPointer",r)},t.prototype.dispose=function(n,r){GT("axisPointer",r)},t.type="axisPointer",t}(Aa);const Poe=Moe;function hU(e,t){var n=[],r=e.seriesIndex,a;if(r==null||!(a=t.getSeriesByIndex(r)))return{point:[]};var i=a.getData(),o=Jc(i,e);if(o==null||o<0||Be(o))return{point:[]};var s=i.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)n=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,v=i.mapDimension(d),p=[];p[h]=i.get(v,o),p[1-h]=i.get(i.getCalculationInfo("stackResultDimension"),o),n=l.dataToPoint(p)||[]}else n=l.dataToPoint(i.getValues(at(l.dimensions,function(g){return i.mapDimension(g)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),n=[m.x+m.width/2,m.y+m.height/2]}return{point:n,el:s}}var gR=Fn();function Loe(e,t,n){var r=e.currTrigger,a=[e.x,e.y],i=e,o=e.dispatchAction||$n(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Yy(a)&&(a=hU({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var l=Yy(a),u=i.axesInfo,c=s.axesInfo,f=r==="leave"||Yy(a),d={},h={},v={list:[],map:{}},p={showPointer:jn(Roe,h),showTooltip:jn(Ooe,v)};j(s.coordSysMap,function(g,y){var _=l||g.containPoint(a);j(s.coordSysAxesInfo[y],function(x,w){var b=x.axis,S=Voe(u,x);if(!f&&_&&(!u||S)){var C=S&&S.value;C==null&&!l&&(C=b.pointToData(a)),C!=null&&yR(x,C,p,!1,d)}})});var m={};return j(c,function(g,y){var _=g.linkGroup;_&&!h[y]&&j(_.axesInfo,function(x,w){var b=h[w];if(x!==g&&b){var S=b.value;_.mapper&&(S=g.axis.scale.parse(_.mapper(S,_R(x),_R(g)))),m[g.key]=S}})}),j(m,function(g,y){yR(c[y],g,p,!0,d)}),koe(h,c,d),Noe(v,a,e,o),Boe(c,o,n),d}}function yR(e,t,n,r,a){var i=e.axis;if(!(i.scale.isBlank()||!i.containData(t))){if(!e.involveSeries){n.showPointer(e,t);return}var o=Ioe(t,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&a.seriesIndex==null&&Pe(a,s[0]),!r&&e.snap&&i.containData(l)&&l!=null&&(t=l),n.showPointer(e,t,s),n.showTooltip(e,o,l)}}function Ioe(e,t){var n=t.axis,r=n.dim,a=e,i=[],o=Number.MAX_VALUE,s=-1;return j(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,e,n);d=h.dataIndices,f=h.nestestValue}else{if(d=l.getData().indicesOfNearest(c[0],e,n.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var v=e-f,p=Math.abs(v);p<=o&&((p<o||v>=0&&s<0)&&(o=p,s=v,a=f,i.length=0),j(d,function(m){i.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:i,snapToValue:a}}function Roe(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function Ooe(e,t,n,r){var a=n.payloadBatch,i=t.axis,o=i.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!a.length)){var l=t.coordSys.model,u=Jp(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function koe(e,t,n){var r=n.axesInfo=[];j(t,function(a,i){var o=a.axisPointerModel.option,s=e[i];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function Noe(e,t,n,r){if(Yy(t)||!e.list.length){r({type:"hideTip"});return}var a=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:e.list})}function Boe(e,t,n){var r=n.getZr(),a="axisPointerLastHighlights",i=gR(r)[a]||{},o=gR(r)[a]={};j(e,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&j(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;o[h]=d})});var s=[],l=[];j(i,function(u,c){!o[c]&&l.push(u)}),j(o,function(u,c){!i[c]&&s.push(u)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Voe(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function _R(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function Yy(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function vU(e){K4.registerAxisPointerClass("CartesianAxisPointer",boe),e.registerComponentModel(Soe),e.registerComponentView(Poe),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!Be(n)&&(t.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=aie(t,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Loe)}function qA(e){wn(_ie),wn(vU)}function Foe(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),t.parentId==null){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function xR(e,t){var n;return j(t,function(r){e[r]!=null&&e[r]!=="auto"&&(n=!0)}),n}function Uoe(e,t,n){var r=Pe({},n),a=e[t],i=n.$action||"merge";if(i==="merge")if(a){{var o=n.type;_t(!o||a.type===o,'Please set $action: "replace" to change `type`')}Ze(a,r,!0),nf(a,r,{ignoreSize:!0}),zF(n,a),Wg(n,a),Wg(n,a,"shape"),Wg(n,a,"style"),Wg(n,a,"extra"),n.clipPath=a.clipPath}else e[t]=r;else i==="replace"?e[t]=r:i==="remove"&&a&&(e[t]=null)}var pU=["transition","enterFrom","leaveTo"],zoe=pU.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Wg(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),!(!e||!t))for(var r=n?pU:zoe,a=0;a<r.length;a++){var i=r[a];e[i]==null&&t[i]!=null&&(e[i]=t[i])}}function Hoe(e,t){if(e&&(e.hv=t.hv=[xR(t,["left","right"]),xR(t,["top","bottom"])],e.type==="group")){var n=e,r=t;n.width==null&&(n.width=r.width=0),n.height==null&&(n.height=r.height=0)}}var $oe=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return t.prototype.mergeOption=function(n,r){var a=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,n,r),this.option.elements=a},t.prototype.optionUpdated=function(n,r){var a=this.option,i=(r?a:n).elements,o=a.elements=r?[]:a.elements,s=[];this._flatten(i,s,null);var l=TV(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];j(l,function(c,f){var d=c.newOption;_t(lt(d)||c.existing,"Empty graphic option definition"),d&&(u.push(d),Foe(c,d),Uoe(o,f,d),Hoe(o[f],d))},this),a.elements=gr(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(n,r,a){j(n,function(i){if(i){a&&(i.parentOption=a),r.push(i);var o=i.children;o&&o.length&&this._flatten(o,r,i),delete i.children}},this)},t.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},t.type="graphic",t.defaultOption={elements:[]},t}(en),bR={path:null,compoundPath:null,group:oa,image:pl,text:rr},Hi=Fn(),Goe=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._elMap=Dt()},t.prototype.render=function(n,r,a){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,a)},t.prototype._updateElements=function(n){var r=n.useElOptionsToUpdate();if(r){var a=this._elMap,i=this.group,o=n.get("z"),s=n.get("zlevel");j(r,function(l){var u=li(l.id,null),c=u!=null?a.get(u):null,f=li(l.parentId,null),d=f!=null?a.get(f):i,h=l.type,v=l.style;h==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var p=l.textContent,m=l.textConfig;if(v&&Lie(v,h,!!m,!!p)){var g=Iie(v,h,!0);!m&&g.textConfig&&(m=l.textConfig=g.textConfig),!p&&g.textContent&&(p=g.textContent)}var y=Woe(l);c&&_t(d===c.parent,"Changing parent is not supported.");var _=l.$action||"merge",x=_==="merge",w=_==="replace";if(x){var b=!c,S=c;b?S=wR(u,d,l.type,a):(S&&(Hi(S).isNew=!1),Gie(S)),S&&(Jb(S,y,n,{isInit:b}),SR(S,l,o,s))}else if(w){jy(c,l,a,n);var C=wR(u,d,l.type,a);C&&(Jb(C,y,n,{isInit:!0}),SR(C,l,o,s))}else _==="remove"&&(aU(c,l),jy(c,l,a,n));var A=a.get(u);if(A&&p)if(x){var M=A.getTextContent();M?M.attr(p):A.setTextContent(new rr(p))}else w&&A.setTextContent(new rr(p));if(A){var T=l.clipPath;if(T){var E=T.type,P=void 0,b=!1;if(x){var I=A.getClipPath();b=!I||Hi(I).type!==E,P=b?WT(E):I}else w&&(b=!0,P=WT(E));A.setClipPath(P),Jb(P,T,n,{isInit:b}),zT(P,T.keyframeAnimation,n)}var k=Hi(A);A.setTextConfig(m),k.option=l,Yoe(A,n,l),g1({el:A,componentModel:n,itemName:A.name,itemTooltipOption:l.tooltip}),zT(A,l.keyframeAnimation,n)}})}},t.prototype._relocate=function(n,r){for(var a=n.option.elements,i=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<a.length;c++){var f=a[c],d=li(f.id,null),h=d!=null?o.get(d):null;if(!(!h||!h.isGroup)){var v=h.parent,p=v===i,m=Hi(h),g=Hi(v);m.width=In(m.option.width,p?s:g.width)||0,m.height=In(m.option.height,p?l:g.height)||0}}for(var c=a.length-1;c>=0;c--){var f=a[c],d=li(f.id,null),h=d!=null?o.get(d):null;if(h){var v=h.parent,g=Hi(v),y=v===i?{width:s,height:l}:{width:g.width,height:g.height},_={},x=KQ(h,f,y,null,{hv:f.hv,boundingMode:f.bounding},_);if(!Hi(h).isNew&&x){for(var w=f.transition,b={},S=0;S<u.length;S++){var C=u[S],A=_[C];w&&($c(w)||Xt(w,C)>=0)?b[C]=A:h[C]=A}Hr(h,b,n,0)}else h.attr(_)}}},t.prototype._clear=function(){var n=this,r=this._elMap;r.each(function(a){jy(a,Hi(a).option,r,n._lastGraphicModel)}),this._elMap=Dt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Aa);function WT(e){_t(e,"graphic type MUST be set");var t=bt(bR,e)?bR[e]:yF(e);_t(t,"graphic type "+e+" can not be found");var n=new t({});return Hi(n).type=e,n}function wR(e,t,n,r){var a=WT(n);return t.add(a),r.set(e,a),Hi(a).id=e,Hi(a).isNew=!0,a}function jy(e,t,n,r){var a=e&&e.parent;a&&(e.type==="group"&&e.traverse(function(i){jy(i,t,n,r)}),Rie(e,t,r),n.removeKey(Hi(e).id))}function SR(e,t,n,r){e.isGroup||j([["cursor",mf.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],function(a){var i=a[0];bt(t,i)?e[i]=Ut(t[i],a[1]):e[i]==null&&(e[i]=a[1])}),j(ln(t),function(a){if(a.indexOf("on")===0){var i=t[a];e[a]=yt(i)?i:null}}),bt(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function Woe(e){return e=Pe({},e),j(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(UF),function(t){delete e[t]}),e}function Yoe(e,t,n){var r=qt(e).eventData;!e.silent&&!e.ignore&&!r&&(r=qt(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),r&&(r.info=n.info)}function ZA(e){e.registerComponentModel($oe),e.registerComponentView(Goe),e.registerPreprocessor(function(t){var n=t.graphic;Be(n)?!n[0]||!n[0].elements?t.graphic=[{elements:n}]:t.graphic=[t.graphic[0]]:n&&!n.elements&&(t.graphic=[{elements:[n]}])})}function joe(e,t){var n=A1(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new wr({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),e}var Xoe=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(en);const qoe=Xoe;function mU(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function gU(e){if(Vt.domSupported){for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}}var yU=gU(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zoe=gU(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function _U(e,t){if(!e)return t;t=VF(t,!0);var n=e.indexOf(t);return e=n===-1?t:"-"+e.slice(0,n)+"-"+t,e.toLowerCase()}function Koe(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?t?n[t]:n:null}var Qoe=_U(Zoe,"transition"),KA=_U(yU,"transform"),Joe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Vt.transform3dSupported?"will-change:transform;":"");function ese(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function tse(e,t,n){if(!ot(n)||n==="inside")return"";var r=e.get("backgroundColor"),a=e.get("borderWidth");t=tf(t);var i=ese(n),o=Math.max(Math.round(a)*1.5,6),s="",l=KA+":",u;Xt(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+a,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*a)/2+Math.SQRT2*a-(d-f)/2)*100)/100;s+=";"+i+":-"+h+"px";var v=t+" solid "+a+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+r+";"];return'<div style="'+p.join("")+'"></div>'}function nse(e,t){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+n,a="opacity"+r+",visibility"+r;return t||(r=" "+e+"s "+n,a+=Vt.transformSupported?","+KA+r:",left"+r+",top"+r),Qoe+":"+a}function TR(e,t,n){var r=e.toFixed(0)+"px",a=t.toFixed(0)+"px";if(!Vt.transformSupported)return n?"top:"+a+";left:"+r+";":[["top",a],["left",r]];var i=Vt.transform3dSupported,o="translate"+(i?"3d":"")+"("+r+","+a+(i?",0":"")+")";return n?"top:0;left:0;"+KA+":"+o+";":[["top",0],["left",0],[yU,o]]}function rse(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(n*3/2)+"px");var a=e.get("textShadowColor"),i=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return a&&i&&t.push("text-shadow:"+o+"px "+s+"px "+i+"px "+a),j(["decoration","align"],function(l){var u=e.get(l);u&&t.push("text-"+l+":"+u)}),t.join(";")}function ase(e,t,n){var r=[],a=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),f=h5(e,"html"),d=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+d),t&&a&&r.push(nse(a,n)),i&&r.push("background-color:"+i),j(["width","color","radius"],function(h){var v="border-"+h,p=VF(v),m=e.get(p);m!=null&&r.push(v+":"+m+(h==="color"?"":"px"))}),r.push(rse(c)),f!=null&&r.push("padding:"+A1(f).join("px ")+"px"),r.join(";")+";"}function CR(e,t,n,r,a){var i=t&&t.painter;if(n){var o=i&&i.getViewportRoot();o&&D9(e,o,document.body,r,a)}else{e[0]=r,e[1]=a;var s=i&&i.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var ise=function(){function e(t,n,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Vt.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var i=this._zr=n.getZr(),o=this._appendToBody=r&&r.appendToBody;CR(this._styleCoord,i,o,n.getWidth()/2,n.getHeight()/2),o?document.body.appendChild(a):t.appendChild(a),this._container=t;var s=this;a.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},a.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();Bi(c,l,!0),u.dispatch("mousemove",l)}},a.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(t){var n=this._container,r=Koe(n,"position"),a=n.style;a.position!=="absolute"&&r!=="absolute"&&(a.position="relative");var i=t.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=t.get("className")||""},e.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,i=this._styleCoord;r.innerHTML?a.cssText=Joe+ase(t,!this._firstShow,this._longHide)+TR(i[0],i[1],!0)+("border-color:"+tf(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,n,r,a,i){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(ot(i)&&r.get("trigger")==="item"&&!mU(r)&&(s=tse(r,a,i)),ot(t))o.innerHTML=t+s;else if(t){o.innerHTML="",Be(t)||(t=[t]);for(var l=0;l<t.length;l++)Vp(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},e.prototype.moveTo=function(t,n){var r=this._styleCoord;if(CR(r,this._zr,this._appendToBody,t,n),r[0]!=null&&r[1]!=null){var a=this.el.style,i=TR(r[0],r[1]);j(i,function(o){a[o[0]]=o[1]})}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",Vt.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout($n(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}();const ose=ise;var sse=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),ER(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,n,r,a,i){var o=this;lt(t)&&ai("Passing DOM nodes as content is not supported in richText tooltip!"),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new rr({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:h5(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),j(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),j(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),r=AR(t.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},e.prototype.moveTo=function(t,n){var r=this.el;if(r){var a=this._styleCoord;ER(a,this._zr,t,n),t=a[0],n=a[1];var i=r.style,o=jl(i.borderWidth||0),s=AR(i);r.x=t+o+s.left,r.y=n+o+s.top,r.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout($n(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function jl(e){return Math.max(0,e)}function AR(e){var t=jl(e.shadowBlur||0),n=jl(e.shadowOffsetX||0),r=jl(e.shadowOffsetY||0);return{left:jl(t-n),right:jl(t+n),top:jl(t-r),bottom:jl(t+r)}}function ER(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}const lse=sse;var use=new wr({shape:{x:-1,y:-1,width:2,height:2}}),cse=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){if(!(Vt.node||!r.getDom())){var a=n.getComponent("tooltip"),i=this._renderMode=lZ(a.get("renderMode"));this._tooltipContent=i==="richText"?new lse(r):new ose(r.getDom(),r,{appendToBody:a.get("appendToBody",!0)})}},t.prototype.render=function(n,r,a){if(!(Vt.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=a;var i=this._tooltipContent;i.update(n),i.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?p5(this,"_updatePosition",50,"fixRate"):ST(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");dU("itemTooltip",this._api,$n(function(a,i,o){r!=="none"&&(r.indexOf(a)>=0?this._tryShow(i,o):a==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,a=this._api,i=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(n,r,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,r,a,i){if(!(i.from===this.uid||Vt.node||!a.getDom())){var o=DR(i,a);this._ticket="";var s=i.dataByCoordSys,l=vse(i,r,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=use;c.x=i.x,c.y=i.y,c.update(),qt(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,a,i))return;var f=hU(i,r),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},o))}},t.prototype.manuallyHideTip=function(n,r,a,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(DR(i,a))},t.prototype._manuallyAxisShowTip=function(n,r,a,i){var o=i.seriesIndex,s=i.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var c=u.getData(),f=yv([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},t.prototype._tryShow=function(n,r){var a=n.target,i=this._tooltipModel;if(i){this._lastX=n.offsetX,this._lastY=n.offsetY;var o=n.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,n);else if(a){this._lastDataByCoordSys=null;var s,l;Yv(a,function(u){if(qt(u).dataIndex!=null)return s=u,!0;if(qt(u).tooltipConfig!=null)return l=u,!0},!0),s?this._showSeriesItemTooltip(n,s,r):l?this._showComponentItemTooltip(n,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(n,r){var a=n.get("showDelay");r=$n(r,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(r,a):r()},t.prototype._showAxisTooltip=function(n,r){var a=this._ecModel,i=this._tooltipModel,o=[r.offsetX,r.offsetY],s=yv([r.tooltipOption],i),l=this._renderMode,u=[],c=qp("section",{blocks:[],noHeader:!0}),f=[],d=new Eb;j(n,function(y){j(y.dataByAxis,function(_){var x=a.getComponent(_.axisDim+"Axis",_.axisIndex),w=_.value;if(!(!x||w==null)){var b=cU(w,x.axis,a,_.seriesDataIndices,_.valueLabelOpt),S=qp("section",{header:b,noHeader:!us(b),sortBlocks:!0,blocks:[]});c.blocks.push(S),j(_.seriesDataIndices,function(C){var A=a.getSeriesByIndex(C.seriesIndex),M=C.dataIndexInside,T=A.getDataParams(M);if(!(T.dataIndex<0)){T.axisDim=_.axisDim,T.axisIndex=_.axisIndex,T.axisType=_.axisType,T.axisId=_.axisId,T.axisValue=kA(x.axis,{value:w}),T.axisValueLabel=b,T.marker=d.makeTooltipMarker("item",tf(T.color),l);var E=SL(A.formatTooltip(M,!0,null)),P=E.frag;if(P){var I=yv([A],i).get("valueFormatter");S.blocks.push(I?Pe({valueFormatter:I},P):P)}E.text&&f.push(E.text),u.push(T)}})}})}),c.blocks.reverse(),f.reverse();var h=r.position,v=s.get("order"),p=ML(c,d,l,v,a.get("useUTC"),s.get("textStyle"));p&&f.unshift(p);var m=l==="richText"?`

`:"<br/>",g=f.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",o[0],o[1],h,null,d)})},t.prototype._showSeriesItemTooltip=function(n,r,a){var i=this._ecModel,o=qt(r),s=o.seriesIndex,l=i.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,d=u.getData(f),h=this._renderMode,v=n.positionDefault,p=yv([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=p.get("trigger");if(!(m!=null&&m!=="item")){var g=u.getDataParams(c,f),y=new Eb;g.marker=y.makeTooltipMarker("item",tf(g.color),h);var _=SL(u.formatTooltip(c,!1,f)),x=p.get("order"),w=p.get("valueFormatter"),b=_.frag,S=b?ML(w?Pe({valueFormatter:w},b):b,y,h,x,i.get("useUTC"),p.get("textStyle")):_.text,C="item_"+u.name+"_"+c;this._showOrMove(p,function(){this._showTooltipContent(p,S,g,C,n.offsetX,n.offsetY,n.position,n.target,y)}),a({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,r,a){var i=qt(r),o=i.tooltipConfig,s=o.option||{};if(ot(s)){var l=s;s={content:l,formatter:l}}var u=[s],c=this._ecModel.getComponent(i.componentMainType,i.componentIndex);c&&u.push(c),u.push({formatter:s.content});var f=n.positionDefault,d=yv(u,this._tooltipModel,f?{position:f}:null),h=d.get("content"),v=Math.random()+"",p=new Eb;this._showOrMove(d,function(){var m=tn(d.get("formatterParams")||{});this._showTooltipContent(d,h,m,v,n.offsetX,n.offsetY,n.position,r,p)}),a({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,r,a,i,o,s,l,u,c){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var f=this._tooltipContent;f.setEnterable(n.get("enterable"));var d=n.get("formatter");l=l||n.get("position");var h=r,v=this._getNearestPoint([o,s],a,n.get("trigger"),n.get("borderColor")),p=v.color;if(d)if(ot(d)){var m=n.ecModel.get("useUTC"),g=Be(a)?a[0]:a,y=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=d,y&&(h=b1(g.axisValue,h,m)),h=vA(h,a,!0)}else if(yt(d)){var _=$n(function(x,w){x===this._ticket&&(f.setContent(w,c,n,p,l),this._updatePosition(n,l,o,s,f,a,u))},this);this._ticket=i,h=d(a,i,_)}else h=d;f.setContent(h,c,n,p,l),f.show(n,p),this._updatePosition(n,l,o,s,f,a,u)}},t.prototype._getNearestPoint=function(n,r,a,i){if(a==="axis"||Be(r))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!Be(r))return{color:i||r.color||r.borderColor}},t.prototype._updatePosition=function(n,r,a,i,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||n.get("position");var f=o.getSize(),d=n.get("align"),h=n.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),yt(r)&&(r=r([a,i],s,o.el,v,{viewSize:[u,c],contentSize:f.slice()})),Be(r))a=In(r[0],u),i=In(r[1],c);else if(lt(r)){var p=r;p.width=f[0],p.height=f[1];var m=Fo(p,{width:u,height:c});a=m.x,i=m.y,d=null,h=null}else if(ot(r)&&l){var g=hse(r,v,f,n.get("borderWidth"));a=g[0],i=g[1]}else{var g=fse(a,i,o,u,c,d?null:20,h?null:20);a=g[0],i=g[1]}if(d&&(a-=MR(d)?f[0]/2:d==="right"?f[0]:0),h&&(i-=MR(h)?f[1]/2:h==="bottom"?f[1]:0),mU(n)){var g=dse(a,i,o,u,c);a=g[0],i=g[1]}o.moveTo(a,i)},t.prototype._updateContentNotChangedOnAxis=function(n,r){var a=this._lastDataByCoordSys,i=this._cbParamsList,o=!!a&&a.length===n.length;return o&&j(a,function(s,l){var u=s.dataByAxis||[],c=n[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&j(u,function(d,h){var v=f[h]||{},p=d.seriesDataIndices||[],m=v.seriesDataIndices||[];o=o&&d.value===v.value&&d.axisType===v.axisType&&d.axisId===v.axisId&&p.length===m.length,o&&j(p,function(g,y){var _=m[y];o=o&&g.seriesIndex===_.seriesIndex&&g.dataIndex===_.dataIndex}),i&&j(d.seriesDataIndices,function(g){var y=g.seriesIndex,_=r[y],x=i[y];_&&x&&x.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!o},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,r){Vt.node||!r.getDom()||(ST(this,"_updatePosition"),this._tooltipContent.dispose(),GT("itemTooltip",r))},t.type="tooltip",t}(Aa);function yv(e,t,n){var r=t.ecModel,a;n?(a=new fr(n,r,r),a=new fr(t.option,a,r)):a=t;for(var i=e.length-1;i>=0;i--){var o=e[i];o&&(o instanceof fr&&(o=o.get("tooltip",!0)),ot(o)&&(o={formatter:o}),o&&(a=new fr(o,a,r)))}return a}function DR(e,t){return e.dispatchAction||$n(t.dispatchAction,t)}function fse(e,t,n,r,a,i,o){var s=n.getSize(),l=s[0],u=s[1];return i!=null&&(e+l+i+2>r?e-=l+i:e+=i),o!=null&&(t+u+o>a?t-=u+o:t+=o),[e,t]}function dse(e,t,n,r,a){var i=n.getSize(),o=i[0],s=i[1];return e=Math.min(e+o,r)-o,t=Math.min(t+s,a)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function hse(e,t,n,r){var a=n[0],i=n[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-a/2,l=t.y+c/2-i/2;break;case"top":s=t.x+u/2-a/2,l=t.y-i-o;break;case"bottom":s=t.x+u/2-a/2,l=t.y+c+o;break;case"left":s=t.x-a-o,l=t.y+c/2-i/2;break;case"right":s=t.x+u+o,l=t.y+c/2-i/2}return[s,l]}function MR(e){return e==="center"||e==="middle"}function vse(e,t,n){var r=q2(e).queryOptionMap,a=r.keys()[0];if(!(!a||a==="series")){var i=Mm(t,a,r.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=n.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=qt(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}}const pse=cse;function mse(e){wn(vU),e.registerComponentModel(qoe),e.registerComponentView(pse),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ci),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ci)}var gse=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(en),yse=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){if(this.group.removeAll(),!!n.get("show")){var i=this.group,o=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),u=Ut(n.get("textBaseline"),n.get("textVerticalAlign")),c=new rr({style:uo(o,{text:n.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=n.get("subtext"),h=new rr({style:uo(s,{text:d,fill:s.getTextColor(),y:f.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=n.get("link"),p=n.get("sublink"),m=n.get("triggerEvent",!0);c.silent=!v&&!m,h.silent=!p&&!m,v&&c.on("click",function(){iL(v,"_"+n.get("target"))}),p&&h.on("click",function(){iL(p,"_"+n.get("subtarget"))}),qt(c).eventData=qt(h).eventData=m?{componentType:"title",componentIndex:n.componentIndex}:null,i.add(c),d&&i.add(h);var g=i.getBoundingRect(),y=n.getBoxLayoutParams();y.width=g.width,y.height=g.height;var _=Fo(y,{width:a.getWidth(),height:a.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),u||(u=n.get("top")||n.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),i.x=_.x,i.y=_.y,i.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),h.setStyle(x),g=i.getBoundingRect();var w=_.margin,b=n.getItemStyle(["color","opacity"]);b.fill=n.get("backgroundColor");var S=new wr({shape:{x:g.x-w[3],y:g.y-w[0],width:g.width+w[1]+w[3],height:g.height+w[0]+w[2],r:n.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});i.add(S)}},t.type="title",t}(Aa);function QA(e){e.registerComponentModel(gse),e.registerComponentView(yse)}var _se=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},xse=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},t.prototype._updateSelector=function(n){var r=n.selector,a=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),Be(r)&&j(r,function(i,o){ot(i)&&(i={type:i}),r[o]=Ze(i,_se(a,i.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,a=0;a<n.length;a++){var i=n[a].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var r=[],a=[];n.eachRawSeries(function(l){var u=l.name;a.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();n.isSeriesFiltered(l)||(a=a.concat(d)),d.length?r=r.concat(d):c=!0}else c=!0;c&&X2(l)&&r.push(l.name)}),this._availableNames=a;var i=this.get("data")||r,o=Dt(),s=at(i,function(l){return(ot(l)||En(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new fr(l,this,this.ecModel))},this);this._data=gr(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var r=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;j(i,function(o){r[o.get("name")]=!1})}r[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,r=this.option.selected;j(n,function(a){r[a.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;j(n,function(a){var i=a.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},t.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&Xt(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(en);const YT=xse;var Kf=jn,jT=j,Yg=oa,bse=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new Yg),this.group.add(this._selectorGroup=new Yg),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,r,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var o=n.get("align"),s=n.get("orient");(!o||o==="auto")&&(o=n.get("left")==="right"&&s==="vertical"?"right":"left");var l=n.get("selector",!0),u=n.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,n,r,a,l,s,u);var c=n.getBoxLayoutParams(),f={width:a.getWidth(),height:a.getHeight()},d=n.get("padding"),h=Fo(c,f,d),v=this.layoutInner(n,o,h,i,l,u),p=Fo(Ft({width:v.width,height:v.height},c),f,d);this.group.x=p.x-v.x,this.group.y=p.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=joe(v,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,r,a,i,o,s,l){var u=this.getContentGroup(),c=Dt(),f=r.get("selectedMode"),d=[];a.eachRawSeries(function(h){!h.get("legendHoverLink")&&d.push(h.id)}),jT(r.getData(),function(h,v){var p=h.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var m=new Yg;m.newline=!0,u.add(m);return}var g=a.getSeriesByName(p)[0];if(!c.get(p)){if(g){var y=g.getData(),_=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),w=y.getVisual("style"),b=this._createItem(g,p,v,h,r,n,_,w,x,f,i);b.on("click",Kf(PR,p,null,i,d)).on("mouseover",Kf(XT,g.name,null,i,d)).on("mouseout",Kf(qT,g.name,null,i,d)),c.set(p,!0)}else a.eachRawSeries(function(S){if(!c.get(p)&&S.legendVisualProvider){var C=S.legendVisualProvider;if(!C.containName(p))return;var A=C.indexOfName(p),M=C.getItemVisual(A,"style"),T=C.getItemVisual(A,"legendIcon"),E=ko(M.fill);E&&E[3]===0&&(E[3]=.2,M=Pe(Pe({},M),{fill:i1(E,"rgba")}));var P=this._createItem(S,p,v,h,r,n,{},M,T,f,i);P.on("click",Kf(PR,null,p,i,d)).on("mouseover",Kf(XT,null,p,i,d)).on("mouseout",Kf(qT,null,p,i,d)),c.set(p,!0)}},this);c.get(p)||console.warn(p+" series not exists. Legend data should be same with series name or data name.")}},this),o&&this._createSelector(o,r,i,s,l)},t.prototype._createSelector=function(n,r,a,i,o){var s=this.getSelectorGroup();jT(n,function(u){var c=u.type,f=new rr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(f);var d=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);Pm(f,{normal:d,emphasis:h},{defaultText:u.title}),fT(f)})},t.prototype._createItem=function(n,r,a,i,o,s,l,u,c,f,d){var h=n.visualDrawType,v=o.get("itemWidth"),p=o.get("itemHeight"),m=o.isSelected(r),g=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),_=i.get("icon");c=_||c||"roundRect";var x=wse(c,i,l,u,h,m,d),w=new Yg,b=i.getModel("textStyle");if(yt(n.getLegendIcon)&&(!_||_==="inherit"))w.add(n.getLegendIcon({itemWidth:v,itemHeight:p,icon:c,iconRotate:g,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));else{var S=_==="inherit"&&n.getData().getVisual("symbol")?g==="inherit"?n.getData().getVisual("symbolRotate"):g:0;w.add(Sse({itemWidth:v,itemHeight:p,icon:c,iconRotate:S,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}var C=s==="left"?v+5:-5,A=s,M=o.get("formatter"),T=r;ot(M)&&M?T=M.replace("{name}",r??""):yt(M)&&(T=M(r));var E=m?b.getTextColor():i.get("inactiveColor");w.add(new rr({style:uo(b,{text:T,x:C,y:p/2,fill:E,align:A,verticalAlign:"middle"},{inheritColor:E})}));var P=new wr({shape:w.getBoundingRect(),invisible:!0}),I=i.getModel("tooltip");return I.get("show")&&g1({el:P,componentModel:o,itemName:r,itemTooltipOption:I.option}),w.add(P),w.eachChild(function(k){k.silent=!0}),P.silent=!f,this.getContentGroup().add(w),fT(w),w.__legendDataIndex=a,w},t.prototype.layoutInner=function(n,r,a,i,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();vp(n.get("orient"),l,n.get("itemGap"),a.width,a.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){vp("horizontal",u,n.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],v=n.get("selectorButtonGap",!0),p=n.getOrient().index,m=p===0?"width":"height",g=p===0?"height":"width",y=p===0?"y":"x";s==="end"?h[p]+=c[m]+v:f[p]+=d[m]+v,h[1-p]+=c[g]/2-d[g]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var _={x:0,y:0};return _[m]=c[m]+v+d[m],_[g]=Math.max(c[g],d[g]),_[y]=Math.min(0,d[y]+h[1-p]),_}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Aa);function wse(e,t,n,r,a,i,o){function s(m,g){m.lineWidth==="auto"&&(m.lineWidth=g.lineWidth>0?2:0),jT(m,function(y,_){m[_]==="inherit"&&(m[_]=g[_])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:DT(f,o),u.fill==="inherit"&&(u.fill=r[a]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?r:n).opacity),s(u,r);var d=t.getModel("lineStyle"),h=d.getLineStyle();if(s(h,n),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!i){var v=t.get("inactiveBorderWidth"),p=u[c];u.lineWidth=v==="auto"?r.lineWidth>0&&p?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function Sse(e){var t=e.icon||"roundRect",n=rf(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function PR(e,t,n,r){qT(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:e??t}),XT(e,t,n,r)}function xU(e){for(var t=e.getZr().storage.getDisplayList(),n,r=0,a=t.length;r<a&&!(n=t[r].states.emphasis);)r++;return n&&n.hoverLayer}function XT(e,t,n,r){xU(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function qT(e,t,n,r){xU(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}const bU=bse;function Tse(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var r=0;r<t.length;r++)if(!t[r].isSelected(n.name))return!1;return!0})}function _v(e,t,n){var r={},a=e==="toggleSelected",i;return n.eachComponent("legend",function(o){a&&i!=null?o[i?"select":"unSelect"](t.name):e==="allSelect"||e==="inverseSelect"?o[e]():(o[e](t.name),i=o.isSelected(t.name));var s=o.getData();j(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var c=o.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&c:r[u]=c}})}),e==="allSelect"||e==="inverseSelect"?{selected:r}:{name:t.name,selected:r}}function Cse(e){e.registerAction("legendToggleSelect","legendselectchanged",jn(_v,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",jn(_v,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",jn(_v,"inverseSelect")),e.registerAction("legendSelect","legendselected",jn(_v,"select")),e.registerAction("legendUnSelect","legendunselected",jn(_v,"unSelect"))}function wU(e){e.registerComponentModel(YT),e.registerComponentView(bU),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,Tse),e.registerSubTypeDefaulter("legend",function(){return"plain"}),Cse(e)}var Ase=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,r,a){var i=E1(n);e.prototype.init.call(this,n,r,a),LR(this,n,i)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),LR(this,this.option,n)},t.type="legend.scroll",t.defaultOption=EF(YT.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(YT);function LR(e,t,n){var r=e.getOrient(),a=[1,1];a[r.index]=0,nf(t,n,{type:"box",ignoreSize:!!a})}const Ese=Ase;var IR=oa,aw=["width","height"],iw=["x","y"],Dse=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new IR),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new IR)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,r,a,i,o,s,l){var u=this;e.prototype.renderInner.call(this,n,r,a,i,o,s,l);var c=this._controllerGroup,f=r.get("pageIconSize",!0),d=Be(f)?f:[f,f];v("pagePrev",0);var h=r.getModel("pageTextStyle");c.add(new rr({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(p,m){var g=p+"DataIndex",y=lA(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:$n(u._pageGo,u,g,r,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});y.name=p,c.add(y)}},t.prototype.layoutInner=function(n,r,a,i,o,s){var l=this.getSelectorGroup(),u=n.getOrient().index,c=aw[u],f=iw[u],d=aw[1-u],h=iw[1-u];o&&vp("horizontal",l,n.get("selectorItemGap",!0));var v=n.get("selectorButtonGap",!0),p=l.getBoundingRect(),m=[-p.x,-p.y],g=tn(a);o&&(g[c]=a[c]-p[c]-v);var y=this._layoutContentAndController(n,i,g,u,c,d,h,f);if(o){if(s==="end")m[u]+=y[c]+v;else{var _=p[c]+v;m[u]-=_,y[f]-=_}y[c]+=p[c]+v,m[1-u]+=y[h]+y[d]/2-p[d]/2,y[d]=Math.max(y[d],p[d]),y[h]=Math.min(y[h],p[h]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return y},t.prototype._layoutContentAndController=function(n,r,a,i,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;vp(n.get("orient"),c,n.get("itemGap"),i?a.width:null,i?null:a.height),vp("horizontal",d,n.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),v=d.getBoundingRect(),p=this._showController=h[o]>a[o],m=[-h.x,-h.y];r||(m[i]=c[u]);var g=[0,0],y=[-v.x,-v.y],_=Ut(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(p){var x=n.get("pageButtonPosition",!0);x==="end"?y[i]+=a[o]-v[o]:g[i]+=v[o]+_}y[1-i]+=h[s]/2-v[s]/2,c.setPosition(m),f.setPosition(g),d.setPosition(y);var w={x:0,y:0};if(w[o]=p?a[o]:h[o],w[s]=Math.max(h[s],v[s]),w[l]=Math.min(0,v[l]+y[1-i]),f.__rectSize=a[o],p){var b={x:0,y:0};b[o]=Math.max(a[o]-v[o]-_,0),b[s]=w[s],f.setClipPath(new wr({shape:b})),f.__rectSize=b[o]}else d.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(n);return S.pageIndex!=null&&Hr(c,{x:S.contentPosition[0],y:S.contentPosition[1]},p?n:null),this._updatePageInfoView(n,S),w},t.prototype._pageGo=function(n,r,a){var i=this._getPageInfo(r)[n];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},t.prototype._updatePageInfoView=function(n,r){var a=this._controllerGroup;j(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=r[f]!=null,h=a.childOfName(c);h&&(h.setStyle("fill",d?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var i=a.childOfName("pageText"),o=n.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;i&&o&&i.setStyle("text",ot(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,o=n.getOrient().index,s=aw[o],l=iw[o],u=this._findTargetItemIndex(r),c=a.children(),f=c[u],d=c.length,h=d?1:0,v={contentPosition:[a.x,a.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var p=x(f);v.contentPosition[o]=-p.s;for(var m=u+1,g=p,y=p,_=null;m<=d;++m)_=x(c[m]),(!_&&y.e>g.s+i||_&&!w(_,g.s))&&(y.i>g.i?g=y:g=_,g&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=g.i),++v.pageCount)),y=_;for(var m=u-1,g=p,y=p,_=null;m>=-1;--m)_=x(c[m]),(!_||!w(y,_.s))&&g.i<y.i&&(y=g,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=g.i),++v.pageCount,++v.pageIndex),g=_;return v;function x(b){if(b){var S=b.getBoundingRect(),C=S[l]+b[l];return{s:C,e:C+S[s],i:b.__legendDataIndex}}}function w(b,S){return b.e>=S&&b.s<=S+i}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,a=this.getContentGroup(),i;return a.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===n&&(r=s)}),r??i},t.type="legend.scroll",t}(bU);const Mse=Dse;function Pse(e){e.registerAction("legendScroll","legendscroll",function(t,n){var r=t.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(r)})})}function Lse(e){wn(wU),e.registerComponentModel(Ese),e.registerComponentView(Mse),Pse(e)}function SU(e){wn(wU),wn(Lse)}var Ise=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataset",n}return t.prototype.init=function(n,r,a){e.prototype.init.call(this,n,r,a),this._sourceManager=new s5(this),EL(this)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),EL(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:ps},t}(en),Rse=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataset",n}return t.type="dataset",t}(Aa);function Ose(e){e.registerComponentModel(Ise),e.registerComponentView(Rse)}const ow=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+(11-e[0].value)+"등"},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":11-e+"등"},fontSize:20,fontWeight:"bold",color:"black"},interval:1,max:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0}}),sw=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+e[0].value.toFixed(2)},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e},fontSize:20,fontWeight:"bold",color:"black"},splitNumber:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0},graphic:[{type:"text",left:"10%",top:20,style:{text:"단위: 억원",fontWeight:"bold",color:"grey"}}]}),lw=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+e[0].value.toFixed(2)},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e},fontSize:20,fontWeight:"bold",color:"black"},splitNumber:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0},graphic:[{type:"text",left:"10%",top:20,style:{text:"단위: 만명",fontWeight:"bold",color:"grey"}}]}),uw=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+e[0].value+"개"},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e+"개"},fontSize:20,fontWeight:"bold",color:"black"},splitNumber:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0}}),cw=te({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){return e[0].name+"<br/>"+e[0].value+"번"},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e+"번"},fontSize:20,fontWeight:"bold",color:"black"},splitNumber:10},series:[{data:[],type:"bar",barWidth:"60%",itemStyle:{color:"pink"}}],grid:{containLabel:!0}}),kse=hn({__name:"BarCharts",setup(e){wn([G4,qA,QA,ZA]);const t=vl(),n=O(()=>t.path.split("/")[2]),r=te("rank");return nn(async()=>{const a=await RX(n.value);if(a.data.dates==null){r.value="";return}const i=a.data.rank[0].datas.map((s,l)=>s!==0?l:-1).filter(s=>s!==-1),o=i.map(s=>a.data.dates[s]);ow.value.xAxis.data=o,sw.value.xAxis.data=o,lw.value.xAxis.data=o,uw.value.xAxis.data=o,cw.value.xAxis.data=o,ow.value.series[0].data=i.map(s=>a.data.rank[0].datas.map(l=>l===0?null:-l+11)[s]),sw.value.series[0].data=i.map(s=>a.data.sales[0].datas.map(l=>l/1e8)[s]),lw.value.series[0].data=i.map(s=>a.data.audienceCount[0].datas.map(l=>l/1e4)[s]),uw.value.series[0].data=i.map(s=>a.data.screeningsCount[0].datas[s]),cw.value.series[0].data=i.map(s=>a.data.theatersCount[0].datas[s])}),(a,i)=>{const o=Ue("v-tab"),s=Ue("v-tabs"),l=Ue("v-row"),u=Ue("v-container");return r.value!=""?(J(),Ie(u,{key:0},{default:ne(()=>[D(l,{justify:"center"},{default:ne(()=>[D(s,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=c=>r.value=c),"selected-class":"text-pink"},{default:ne(()=>[D(o,{class:"font-weight-bold text-h5",value:"rank"},{default:ne(()=>[qe("순위")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"sales"},{default:ne(()=>[qe("매출액")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"audienceCount"},{default:ne(()=>[qe("관객수")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"screeningsCount"},{default:ne(()=>[qe("상영한 스크린수")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"theatersCount"},{default:ne(()=>[qe("상영된 횟수")]),_:1})]),_:1},8,["modelValue"])]),_:1}),D(l,null,{default:ne(()=>[r.value==="rank"?(J(),Ie(ie(Ha),{key:0,class:"chart",option:ie(ow)},null,8,["option"])):he("v-if",!0),r.value==="sales"?(J(),Ie(ie(Ha),{key:1,class:"chart",option:ie(sw)},null,8,["option"])):he("v-if",!0),r.value==="audienceCount"?(J(),Ie(ie(Ha),{key:2,class:"chart",option:ie(lw)},null,8,["option"])):he("v-if",!0),r.value==="screeningsCount"?(J(),Ie(ie(Ha),{key:3,class:"chart",option:ie(uw)},null,8,["option"])):he("v-if",!0),r.value==="theatersCount"?(J(),Ie(ie(Ha),{key:4,class:"chart",option:ie(cw)},null,8,["option"])):he("v-if",!0)]),_:1})]),_:1})):he("v-if",!0)}}});const Nse=kr(kse,[["__scopeId","data-v-b9fc8122"],["__file","/Users/gimjinbeom/movierankchart/frontend/src/components/moviedetails/BarCharts.vue"]]),Bse=Fe("br",null,null,-1),Vse=["textContent"],Fse=Fe("br",null,null,-1),Use={key:0,class:"mt-2"},zse=Fe("span",{class:"font-weight-bold"},"개봉일: ",-1),Hse=["textContent"],$se={key:1,class:"mt-2"},Gse=Fe("span",{class:"font-weight-bold"},"장르: ",-1),Wse=["textContent"],Yse={key:2,class:"mt-2"},jse=Fe("span",{class:"font-weight-bold"},"제작국가: ",-1),Xse=["textContent"],qse={key:3,class:"mt-2"},Zse=Fe("span",{class:"font-weight-bold"},"제작사: ",-1),Kse=["textContent"],Qse={key:4,class:"mt-2"},Jse=Fe("span",{class:"font-weight-bold"},"상영시간: ",-1),ele=["textContent"],tle={key:5,class:"mt-2"},nle=Fe("span",{class:"font-weight-bold"},"관람등급: ",-1),rle=["textContent"],ale=hn({__name:"MovieDetailsView",setup(e){const t=vl(),n=O(()=>t.path.split("/")[2]),r=Rn({title:"",openingDate:"",poster:"",genre:"",nation:"",company:"",runtime:"",ratingGrade:""});return nn(async()=>{const i=(await BB(n.value)).data.movies[0];r.title=i.title,r.openingDate=i.openingDate,r.poster=i.poster,r.genre=i.genre,r.nation=i.nation,r.company=i.company,r.runtime=i.runtime,r.ratingGrade=i.ratingGrade}),(a,i)=>{const o=Ue("v-col"),s=Ue("v-img"),l=Ue("v-btn"),u=Ue("v-row");return J(),we(Ae,null,[D(u,null,{default:ne(()=>[D(o,{cols:"3"}),D(o,{cols:"2",align:"center"},{default:ne(()=>[r.poster==""?(J(),Ie(s,{key:0,src:ie(VB),cover:""},null,8,["src"])):(J(),Ie(s,{key:1,src:r.poster,cover:""},null,8,["src"])),D(l,{class:"mt-5 font-weight-bold",color:"pink"},{default:ne(()=>[qe("채팅방 입장하기")]),_:1})]),_:1}),D(o,{class:"ml-10"},{default:ne(()=>[Bse,Fe("div",{class:"font-weight-bold text-h4",textContent:Bt(r.title)},null,8,Vse),Fse,r.openingDate!=null?(J(),we("div",Use,[zse,Fe("span",{textContent:Bt(r.openingDate)},null,8,Hse)])):he("v-if",!0),r.genre!=""?(J(),we("div",$se,[Gse,Fe("span",{textContent:Bt(r.genre)},null,8,Wse)])):he("v-if",!0),r.nation!=""?(J(),we("div",Yse,[jse,Fe("span",{textContent:Bt(r.nation)},null,8,Xse)])):he("v-if",!0),r.company!=""?(J(),we("div",qse,[Zse,Fe("span",{textContent:Bt(r.company)},null,8,Kse)])):he("v-if",!0),r.runtime!=""?(J(),we("div",Qse,[Jse,Fe("span",{textContent:Bt(r.runtime)},null,8,ele),qe("분")])):he("v-if",!0),r.ratingGrade!=""?(J(),we("div",tle,[nle,Fe("span",{textContent:Bt(r.ratingGrade)},null,8,rle)])):he("v-if",!0)]),_:1}),D(o,{cols:"3"})]),_:1}),D(Nse,{class:"mt-5"})],64)}}}),ile=kr(ale,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/views/moviedetails/MovieDetailsView.vue"]]),jg=te({tooltip:{trigger:"item",formatter:function(e){return`<span style='color: ${e.color}' class='font-weight-bold'>${e.name} <br/>${(e.value/1e8).toFixed(2)}억원 (${e.percent}%)</span>`}},label:{fontSize:15,fontWeight:"bold"},series:[{type:"pie",data:[],emphasis:{itemStyle:{shadowBlur:100}}}]}),Xg=te({tooltip:{trigger:"item",formatter:function(e){return`<span style='color: ${e.color}' class='font-weight-bold'>${e.name} <br/>${e.value/1e4}만명 (${e.percent}%)</span>`}},label:{fontSize:15,fontWeight:"bold"},series:[{type:"pie",data:[],emphasis:{itemStyle:{shadowBlur:100}}}]}),qg=te({tooltip:{trigger:"item",formatter:function(e){return`<span style='color: ${e.color}' class='font-weight-bold'>${e.name} <br/>${e.value}개 (${e.percent}%)</span>`}},label:{fontSize:15,fontWeight:"bold"},series:[{type:"pie",data:[],emphasis:{itemStyle:{shadowBlur:100}}}]}),Zg=te({tooltip:{trigger:"item",formatter:function(e){return`<span style='color: ${e.color}' class='font-weight-bold'>${e.name} <br/>${e.value}번 (${e.percent}%)</span>`}},label:{fontSize:15,fontWeight:"bold"},series:[{type:"pie",data:[],emphasis:{itemStyle:{shadowBlur:100}}}]}),ole=hn({__name:"PieCharts",props:{datePeriod:{type:Array,default:()=>[e1(),jd()]}},setup(e){const t=e;wn([Bae,qA,QA,ZA,SU]);const n=te("rank"),r=a=>{of.push(`/movie-details/${a.data.id}`)};return qn(async()=>{var i,o;const a=await kX(b0((i=t.datePeriod)==null?void 0:i[0]),b0((o=t.datePeriod)==null?void 0:o[1]));jg.value={...jg.value},Xg.value={...Xg.value},qg.value={...qg.value},Zg.value={...Zg.value},jg.value.series[0].data=a.data.sales,Xg.value.series[0].data=a.data.audienceCount,qg.value.series[0].data=a.data.screeningsCount,Zg.value.series[0].data=a.data.theatersCount}),(a,i)=>{const o=Ue("v-tab"),s=Ue("v-tabs"),l=Ue("v-row"),u=Ue("v-container");return J(),Ie(u,null,{default:ne(()=>[D(l,{justify:"center",class:"mt-3"},{default:ne(()=>[D(s,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),"selected-class":"text-pink"},{default:ne(()=>[D(o,{class:"font-weight-bold text-h5",value:"sales"},{default:ne(()=>[qe("매출액")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"audienceCount"},{default:ne(()=>[qe("관객수")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"screeningsCount"},{default:ne(()=>[qe("상영한 스크린수")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"theatersCount"},{default:ne(()=>[qe("상영된 횟수")]),_:1})]),_:1},8,["modelValue"])]),_:1}),D(l,null,{default:ne(()=>[n.value==="sales"?(J(),Ie(ie(Ha),{key:0,class:"chart",option:ie(jg),onClick:r},null,8,["option"])):he("v-if",!0),n.value==="audienceCount"?(J(),Ie(ie(Ha),{key:1,class:"chart",option:ie(Xg),onClick:r},null,8,["option"])):he("v-if",!0),n.value==="screeningsCount"?(J(),Ie(ie(Ha),{key:2,class:"chart",option:ie(qg),onClick:r},null,8,["option"])):he("v-if",!0),n.value==="theatersCount"?(J(),Ie(ie(Ha),{key:3,class:"chart",option:ie(Zg),onClick:r},null,8,["option"])):he("v-if",!0)]),_:1})]),_:1})}}});const sle=kr(ole,[["__scopeId","data-v-c8a2be04"],["__file","/Users/gimjinbeom/movierankchart/frontend/src/components/statistics/PieCharts.vue"]]),Qf=te({legend:{data:[],top:"bottom",itemWidth:5,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+(11-e.value)+"등"},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":11-e+"등"},fontSize:20,fontWeight:"bold",color:"black"},interval:1,max:10},series:[]}),Jf=te({legend:{data:[],top:"bottom",itemWidth:10,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+e.value.toFixed(2)},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e},fontSize:20,fontWeight:"bold",color:"black"}},series:[],grid:{containLabel:!0},graphic:[{type:"text",left:"10%",top:20,style:{text:"단위: 억원",fontWeight:"bold",color:"grey"}}]}),ed=te({legend:{data:[],top:"bottom",itemWidth:10,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+e.value.toFixed(2)},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e},fontSize:20,fontWeight:"bold",color:"black"}},series:[],grid:{containLabel:!0},graphic:[{type:"text",left:"10%",top:20,style:{text:"단위: 만명",fontWeight:"bold",color:"grey"}}]}),td=te({legend:{data:[],top:"bottom",itemWidth:10,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+e.value+"개"},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e+"개"},fontSize:20,fontWeight:"bold",color:"black"}},series:[],grid:{containLabel:!0}}),nd=te({legend:{data:[],top:"bottom",itemWidth:10,itemHeight:10},tooltip:{formatter:function(e){return e.seriesName+"<br/>"+e.value+"번"},textStyle:{fontSize:20,fontWeight:"bold",color:"black"}},xAxis:{type:"category",data:[],axisLabel:{fontSize:10,fontWeight:"bold",color:"black"}},yAxis:{type:"value",axisLabel:{formatter:function(e){return e===0?"":e+"번"},fontSize:20,fontWeight:"bold",color:"black"}},series:[],grid:{containLabel:!0}}),lle=hn({__name:"LineCharts",props:{datePeriod:{type:Array,default:()=>[e1(),jd()]}},setup(e){const t=e;wn([aae,qA,QA,ZA,SU]);const n=te("rank"),r=a=>{of.push(`/movie-details/${a.seriesId}`)};return qn(async()=>{var s,l;const a=await OX(b0((s=t.datePeriod)==null?void 0:s[0]),b0((l=t.datePeriod)==null?void 0:l[1])),i=a.data.dates,o=a.data.rank.map(u=>u.movieTitle);Qf.value={...Qf.value},Qf.value.legend.data=o,Qf.value.xAxis.data=i,Qf.value.series=a.data.rank.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:10},data:u.datas.map(c=>c===0?null:-c+11),id:u.moviesId,endLabel:{show:!0,formatter:c=>bd(c.seriesName,15)},emphasis:{focus:"series"}})),Jf.value={...Jf.value},Jf.value.legend.data=o,Jf.value.xAxis.data=i,Jf.value.series=a.data.sales.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:5},data:u.datas.map(c=>c===0?null:c/1e8),id:u.moviesId,endLabel:{show:!0,formatter:c=>bd(c.seriesName,15)},emphasis:{focus:"series"}})),ed.value={...ed.value},ed.value.legend.data=o,ed.value.xAxis.data=i,ed.value.series=a.data.audienceCount.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:5},data:u.datas.map(c=>c===0?null:c/1e4),id:u.moviesId,endLabel:{show:!0,formatter:c=>bd(c.seriesName,15)},emphasis:{focus:"series"}})),td.value={...td.value},td.value.legend.data=o,td.value.xAxis.data=i,td.value.series=a.data.screeningsCount.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:5},data:u.datas.map(c=>c===0?null:c),id:u.moviesId,endLabel:{show:!0,formatter:c=>bd(c.seriesName,15)},emphasis:{focus:"series"}})),nd.value={...nd.value},nd.value.legend.data=o,nd.value.xAxis.data=i,nd.value.series=a.data.theatersCount.map(u=>({name:u.movieTitle,type:"line",lineStyle:{width:5},data:u.datas.map(c=>c===0?null:c),id:u.moviesId,endLabel:{show:!0,formatter:c=>bd(c.seriesName,15)},emphasis:{focus:"series"}}))}),(a,i)=>{const o=Ue("v-tab"),s=Ue("v-tabs"),l=Ue("v-row"),u=Ue("v-container");return J(),Ie(u,null,{default:ne(()=>[D(l,{justify:"center",class:"mt-3"},{default:ne(()=>[D(s,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),"selected-class":"text-pink"},{default:ne(()=>[D(o,{class:"font-weight-bold text-h5",value:"rank"},{default:ne(()=>[qe("순위")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"sales"},{default:ne(()=>[qe("매출액")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"audienceCount"},{default:ne(()=>[qe("관객수")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"screeningsCount"},{default:ne(()=>[qe("상영한 스크린수")]),_:1}),D(o,{class:"font-weight-bold text-h5",value:"theatersCount"},{default:ne(()=>[qe("상영된 횟수")]),_:1})]),_:1},8,["modelValue"])]),_:1}),D(l,null,{default:ne(()=>[n.value==="rank"?(J(),Ie(ie(Ha),{key:0,class:"chart",option:ie(Qf),onClick:r},null,8,["option"])):he("v-if",!0),n.value==="sales"?(J(),Ie(ie(Ha),{key:1,class:"chart",option:ie(Jf),onClick:r},null,8,["option"])):he("v-if",!0),n.value==="audienceCount"?(J(),Ie(ie(Ha),{key:2,class:"chart",option:ie(ed),onClick:r},null,8,["option"])):he("v-if",!0),n.value==="screeningsCount"?(J(),Ie(ie(Ha),{key:3,class:"chart",option:ie(td),onClick:r},null,8,["option"])):he("v-if",!0),n.value==="theatersCount"?(J(),Ie(ie(Ha),{key:4,class:"chart",option:ie(nd),onClick:r},null,8,["option"])):he("v-if",!0)]),_:1})]),_:1})}}});const ule=kr(lle,[["__scopeId","data-v-9d129e63"],["__file","/Users/gimjinbeom/movierankchart/frontend/src/components/statistics/LineCharts.vue"]]),cle=hn({__name:"StatisticsView",setup(e){const t=FB(),n=vl(),r=te(n.path),a=te([e1(),jd()]);return t.findMovieDataRange(),qn(()=>{r.value=n.path}),(i,o)=>{const s=Ue("v-col"),l=Ue("VueDatePicker"),u=Ue("v-row"),c=Ue("v-container");return J(),Ie(c,null,{default:ne(()=>[D(u,null,{default:ne(()=>[D(s),D(s,{cols:"3"},{default:ne(()=>[D(l,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=f=>a.value=f),"enable-time-picker":!1,"min-date":ie(t).state.startDate,"max-date":ie(t).state.endDateDaily,"week-picker":""},null,8,["modelValue","min-date","max-date"])]),_:1}),D(s)]),_:1}),r.value=="/statistics/line-chart"?(J(),Ie(ule,{key:0,datePeriod:a.value},null,8,["datePeriod"])):he("v-if",!0),r.value=="/statistics/pie-chart"?(J(),Ie(sle,{key:1,datePeriod:a.value},null,8,["datePeriod"])):he("v-if",!0)]),_:1})}}}),RR=kr(cle,[["__file","/Users/gimjinbeom/movierankchart/frontend/src/views/statistics/StatisticsView.vue"]]),Xv={LF:`
`,NULL:"\0"};class Ql{constructor(t){const{command:n,headers:r,body:a,binaryBody:i,escapeHeaderValues:o,skipContentLengthHeader:s}=t;this.command=n,this.headers=Object.assign({},r||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=a||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=s||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}static fromRawFrame(t,n){const r={},a=i=>i.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const o=a(i[0]);let s=a(i[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(s=Ql.hdrValueUnEscape(s)),r[o]=s}return new Ql({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Ql.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Xv.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${Ql.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Xv.LF)+Xv.LF+Xv.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),a=new Uint8Array([0]),i=new Uint8Array(r.length+n.length+a.length);return i.set(r),i.set(n,r.length),i.set(a,r.length+n.length),i}static marshall(t){return new Ql(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const OR=0,Kg=10,Qg=13,fle=58;let dle=class{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const a=new Uint8Array(r.length+1);a.set(r,0),a[r.length]=0,r=a}for(let a=0;a<r.length;a++){const i=r[a];this._onByte(i)}}_collectFrame(t){if(t!==OR&&t!==Qg){if(t===Kg){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Qg){if(t===Kg){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Qg){if(t===Kg){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===fle){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Qg){if(t===Kg){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===OR){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var $s;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})($s=$s||($s={}));var Fi;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Fi=Fi||(Fi={}));class za{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}za.V1_0="1.0";za.V1_1="1.1";za.V1_2="1.2";za.default=new za([za.V1_2,za.V1_1,za.V1_0]);function hle(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,a=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=o=>{const s=new Date().getTime()-r.getTime();t(`Discarded socket (#${a})  closed after ${s}ms, with code/reason: ${o.code}/${o.reason}`)},this.close(),i==null||i.call(e,{code:4001,reason:`Quick discarding socket (#${a}) without waiting for the shutdown sequence.`,wasClean:!1})}}class vle{constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:a=>{this.debug(`connected to server ${a.headers.server}`),this._connected=!0,this._connectedVersion=a.headers.version,this._connectedVersion===za.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(a.headers),this.onConnect(a)},MESSAGE:a=>{const i=a.headers.subscription,o=this._subscriptions[i]||this.onUnhandledMessage,s=a,l=this,u=this._connectedVersion===za.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(c={})=>l.ack(u,i,c),s.nack=(c={})=>l.nack(u,i,c),o(s)},RECEIPT:a=>{const i=this._receiptWatchers[a.headers["receipt-id"]];i?(i(a),delete this._receiptWatchers[a.headers["receipt-id"]]):this.onUnhandledReceipt(a)},ERROR:a=>{this.onStompError(a)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const t=new dle(n=>{const r=Ql.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==za.V1_1&&t.version!==za.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(a=>parseInt(a,10));if(this.heartbeatOutgoing!==0&&r!==0){const a=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${a}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===$s.OPEN&&(this._webSocket.send(Xv.LF),this.debug(">>> PING"))},a)}if(this.heartbeatIncoming!==0&&n!==0){const a=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${a}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>a*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},a)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===$s.CONNECTING||this._webSocket.readyState===$s.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&hle(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:a,binaryBody:i,skipContentLengthHeader:o}=t,s=new Ql({command:n,headers:r,body:a,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o});let l=s.serialize();if(this.logRawCommunication?this.debug(`>>> ${l}`):this.debug(`>>> ${s}`),this.forceBinaryWSFrames&&typeof l=="string"&&(l=new TextEncoder().encode(l)),typeof l!="string"||!this.splitLargeFrames)this._webSocket.send(l);else{let u=l;for(;u.length>0;){const c=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(c),this.debug(`chunk sent = ${c.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===$s.CONNECTING||this._webSocket.readyState===$s.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:a,binaryBody:i,skipContentLengthHeader:o}=t,s=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:s,body:a,binaryBody:i,skipContentLengthHeader:o})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const a=this;return{id:r.id,unsubscribe(i){return a.unsubscribe(r.id,i)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===za.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===za.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class ple{constructor(t={}){this.stompVersions=za.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Fi.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Fi.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Fi.ACTIVE),this._connect()};this.state===Fi.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new vle(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Fi.DEACTIVATING&&this._changeState(Fi.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}async deactivate(t={}){var i;const n=t.force||!1,r=this.active;let a;if(this.state===Fi.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Fi.DEACTIVATING),this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==$s.CLOSED){const o=this._stompHandler.onWebSocketClose;a=new Promise((s,l)=>{this._stompHandler.onWebSocketClose=u=>{o(u),s()}})}else return this._changeState(Fi.INACTIVE),Promise.resolve();return n?(i=this._stompHandler)==null||i.discardWebsocket():r&&this._disposeStompHandler(),a}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}const mle=e=>(ZW("data-v-a17bd66b"),e=e(),KW(),e),gle={class:"font-weight-bold text-h5"},yle={class:"font-weight-bold text-h5 ml-5"},_le={class:"font-weight-bold"},xle={key:0,style:{fontSize:"10px",alignSelf:"end",width:"35px"},class:"font-weight-bold"},ble={key:1,style:{width:"35px"}},wle=mle(()=>Fe("span",null,null,-1)),Sle={key:0,style:{fontSize:"10px",display:"grid",alignItems:"end"},class:"font-weight-bold"},Tle=hn({__name:"ChatRoomView",setup(e){const t=vl(),n=hl(),r=te(),a=te(0),i=te(""),o=te(),s=Rn([]),l=te(),u=te("");n.isLogin||of.push("/"),nn(async()=>{r.value=t.path.split("/")[2];const p=await BB(r.value);i.value=p.data.movies[0].title}),la(()=>{o.value!=null&&(o.value.unsubscribe("/topic/"+r.value),o.value.deactivate())});const f=p=>{const m=JSON.parse(p.body);s.push(m),l.value=m.subscribedUsers.subscribedUsers,a.value=l.value.length};qn(()=>{!n.isLogin||o.value!=null||(o.value=new ple({brokerURL:Vj,connectHeaders:{Authorization:pB+n.state.accessToken},onConnect:()=>o.value.subscribe("/topic/"+r.value,f),onStompError:()=>window.location.reload()}),o.value.activate())}),Le(l,()=>{const p=l.value.findIndex(g=>g.usersId==n.state.id),m=l.value.splice(p,1)[0];l.value.unshift(m)}),Le(s,()=>Ot(()=>document.querySelector(".scroll-container").scrollTop=document.querySelector(".scroll-container").scrollHeight));const d=p=>{p.shiftKey||(p.preventDefault(),o.value.publish({destination:"/app/send-message/"+r.value,body:JSON.stringify({content:u.value})}),u.value="")},h=(p,m)=>p[m].id!=n.state.id&&(m==0||p[m].id!=p[m-1].id),v=(p,m)=>m==p.length-1||p[m].id!=p[m+1].id||tg(p[m].time)!=tg(p[m+1].time);return(p,m)=>{const g=Ue("v-icon"),y=Ue("v-col"),_=Ue("v-btn"),x=Ue("RouterLink"),w=Ue("v-row"),b=Ue("v-card-text"),S=Ue("v-card"),C=Ue("v-img"),A=Ue("v-textarea"),M=Ue("v-container");return J(),Ie(M,null,{default:ne(()=>[D(w,{style:{"background-color":"gray"}},{default:ne(()=>[D(y,null,{default:ne(()=>[D(g,{size:"35"},{default:ne(()=>[qe(" mdi-account")]),_:1}),Fe("span",gle,Bt(a.value),1),Fe("span",yle,"["+Bt(i.value)+"] 채팅방",1)]),_:1}),D(x,{to:"/chat"},{default:ne(()=>[D(y,{cols:"1"},{default:ne(()=>[D(_,{class:"font-weight-bold text-h6"},{default:ne(()=>[qe("나가기")]),_:1})]),_:1})]),_:1})]),_:1}),D(w,null,{default:ne(()=>[D(y,{cols:"10",class:"scroll-container"},{default:ne(()=>[(J(!0),we(Ae,null,cr(s,(T,E)=>(J(),we(Ae,{key:E},[T.sendMessageType==="JOIN"?(J(),Ie(w,{key:0},{default:ne(()=>[D(y),D(y,{cols:"3"},{default:ne(()=>[D(S,null,{default:ne(()=>[D(b,{style:{textAlign:"center",backgroundColor:"pink"},class:"font-weight-bold"},{default:ne(()=>[qe(Bt(T.name)+"님이 들어왔습니다.",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),D(y)]),_:2},1024)):he("v-if",!0),T.sendMessageType==="LEAVE"?(J(),Ie(w,{key:1},{default:ne(()=>[D(y),D(y,{cols:"3"},{default:ne(()=>[D(S,null,{default:ne(()=>[D(b,{style:{textAlign:"center",backgroundColor:"grey"},class:"font-weight-bold"},{default:ne(()=>[qe(Bt(T.name)+"님이 나갔습니다.",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),D(y)]),_:2},1024)):T.sendMessageType==="TALK"?(J(),we(Ae,{key:2},[h(s,E)?(J(),Ie(w,{key:0,style:{height:"30px"}},{default:ne(()=>[D(y,{style:{display:"grid",gridTemplateColumns:"50px auto"}},{default:ne(()=>[D(C,{src:T.picture,width:"30px",style:{"border-radius":"100%"}},null,8,["src"]),Fe("span",_le,Bt(T.name),1)]),_:2},1024)]),_:2},1024)):he("v-if",!0),s[E].id==ie(n).state.id?(J(),Ie(w,{key:1},{default:ne(()=>[D(y,{cols:"3"}),D(y,{style:{fontSize:"10px",display:"grid",justifyContent:"end",gridTemplateColumns:"auto auto"},cols:"9"},{default:ne(()=>[v(s,E)?(J(),we("span",xle,Bt(ie(tg)(T.time)),1)):(J(),we("span",ble)),D(S,{color:"yellow"},{default:ne(()=>[D(b,{style:{whiteSpace:"pre-wrap"}},{default:ne(()=>[qe(Bt(T.content),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):he("v-if",!0),s[E].id!=ie(n).state.id?(J(),Ie(w,{key:2},{default:ne(()=>[D(y,{style:{display:"grid",gridTemplateColumns:"40px auto 35px",justifyContent:"start",justifyItems:"end"},cols:"9"},{default:ne(()=>[wle,D(S,null,{default:ne(()=>[D(b,{style:{whiteSpace:"pre-wrap"}},{default:ne(()=>[qe(Bt(T.content),1)]),_:2},1024)]),_:2},1024),v(s,E)?(J(),we("span",Sle,Bt(ie(tg)(T.time)),1)):he("v-if",!0)]),_:2},1024)]),_:2},1024)):he("v-if",!0)],64)):he("v-if",!0)],64))),128))]),_:1}),D(y,{cols:"2"},{default:ne(()=>[(J(!0),we(Ae,null,cr(l.value,(T,E)=>(J(),Ie(S,{key:E,style:{display:"grid",gridTemplateColumns:"2fr 1fr 4fr",justifyItems:"center",alignItems:"center"},class:"mb-3"},{default:ne(()=>[D(C,{src:T.picture,height:"30px",width:"30px",style:{borderRadius:"100%"}},null,8,["src"]),T.usersId===ie(n).state.id?(J(),Ie(b,{key:0,style:{backgroundColor:"pink"},class:"font-weight-bold"},{default:ne(()=>[qe("나")]),_:1})):(J(),Ie(b,{key:1})),D(b,{class:"font-weight-bold"},{default:ne(()=>[qe(Bt(T.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),D(w,null,{default:ne(()=>[D(y,null,{default:ne(()=>[D(A,{"append-inner-icon":"mdi-comment",rows:"1",modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=T=>u.value=T),"onClick:appendInner":d,onKeypress:At(d,["enter"]),style:{whiteSpace:"pre"}},null,8,["modelValue","onKeypress"])]),_:1})]),_:1})]),_:1})}}});const Cle=kr(Tle,[["__scopeId","data-v-a17bd66b"],["__file","/Users/gimjinbeom/movierankchart/frontend/src/views/chat/ChatRoomView.vue"]]),Ale=[{path:"/",name:"home",redirect:"/rank/total/daily"},{path:"/rank/total/daily",name:"totalDailyRank",components:{default:Of,header:kf},props:{header:{periodType:"daily"}}},{path:"/rank/korean/daily",name:"koreanDailyRank",components:{default:Of,header:kf},props:{header:{periodType:"daily"}}},{path:"/rank/foreign/daily",name:"foreignDailyRank",components:{default:Of,header:kf},props:{header:{periodType:"daily"}}},{path:"/rank/total/weekly",name:"totalWeeklyRank",components:{default:Of,header:kf},props:{header:{periodType:"weekly"}}},{path:"/rank/korean/weekly",name:"koreanWeeklyRank",components:{default:Of,header:kf},props:{header:{periodType:"weekly"}}},{path:"/rank/foreign/weekly",name:"foreignWeeklyRank",components:{default:Of,header:kf},props:{header:{periodType:"weekly"}}},{path:"/statistics/line-chart",name:"lineChart",components:{default:RR,header:RM}},{path:"/statistics/pie-chart",name:"pieChart",components:{default:RR,header:RM}},{path:"/chat",name:"chat",components:{default:LX,header:ng}},{path:"/chat/:id",name:"chatRoom",components:{default:Cle,header:ng}},{path:"/movie-details",name:"movieDetailsSearch",components:{default:KX,header:ng}},{path:"/movie-details/:id",name:"movieDetails",components:{default:ile,header:ng}}],of=fX({history:f7(),routes:Ale});function de(e,t){return n=>Object.keys(e).reduce((r,a)=>{const o=typeof e[a]=="object"&&e[a]!=null&&!Array.isArray(e[a])?e[a]:{type:e[a]};return n&&a in n?r[a]={...o,default:n[a]}:r[a]=o,t&&!r[a].source&&(r[a].source=t),r},{})}const Ve=de({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function kR(e,t,n){Ele(e,t),t.set(e,n)}function Ele(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dle(e,t,n){var r=TU(e,t,"set");return Mle(e,r,n),n}function Mle(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function Ku(e,t){var n=TU(e,t,"get");return Ple(e,n)}function TU(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Ple(e,t){return t.get?t.get.call(e):t.value}function CU(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let a=0;a<r;a++){if(e==null)return n;e=e[t[a]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function xf(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>xf(e[r],t[r]))}function ZT(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),CU(e,t.split("."),n))}function is(e,t,n){if(t==null)return e===void 0?n:e;if(e!==Object(e)){if(typeof t!="function")return n;const a=t(e,n);return typeof a>"u"?n:a}if(typeof t=="string")return ZT(e,t,n);if(Array.isArray(t))return CU(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function Ks(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function ze(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function KT(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function QT(e){return e&&"$el"in e?e.$el:e}const NR=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),JT=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function AU(e){return Object.keys(e)}function Sc(e,t){return t.every(n=>e.hasOwnProperty(n))}function Ah(e,t,n){const r=Object.create(null),a=Object.create(null);for(const i in e)t.some(o=>o instanceof RegExp?o.test(i):o===i)&&!(n!=null&&n.some(o=>o===i))?r[i]=e[i]:a[i]=e[i];return[r,a]}function As(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function bf(e){return Ah(e,["class","style","id",/^data-/])}function to(e){return e==null?[]:Array.isArray(e)?e:[e]}function xa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function BR(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function VR(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function Lle(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function FR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<n.length-1;)e/=t,++r;return`${e.toFixed(1)} ${n[r]}B`}function Ki(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const a in e)r[a]=e[a];for(const a in t){const i=e[a],o=t[a];if(KT(i)&&KT(o)){r[a]=Ki(i,o,n);continue}if(Array.isArray(i)&&Array.isArray(o)&&n){r[a]=n(i,o);continue}r[a]=o}return r}function EU(e){return e.map(t=>t.type===Ae?EU(t.children):t).flat()}function Gc(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Gc.cache.has(e))return Gc.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Gc.cache.set(e,t),t}Gc.cache=new Map;function _p(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>_p(e,n)).flat(1);if(Array.isArray(t.children))return t.children.map(n=>_p(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return _p(e,t.component.subTree).flat(1)}return[]}var Jg=new WeakMap,rd=new WeakMap;class Ile{constructor(t){kR(this,Jg,{writable:!0,value:[]}),kR(this,rd,{writable:!0,value:0}),this.size=t}push(t){Ku(this,Jg)[Ku(this,rd)]=t,Dle(this,rd,(Ku(this,rd)+1)%this.size)}values(){return Ku(this,Jg).slice(Ku(this,rd)).concat(Ku(this,Jg).slice(0,Ku(this,rd)))}}function Rle(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function JA(e){const t=Rn({}),n=O(e);return qn(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),Hd(t)}function i_(e,t){return e.includes(t)}const Ole=/^on[^a-z]/,eE=e=>Ole.test(e);function DU(e){return e[2].toLowerCase()+e.slice(3)}const ms=()=>[Function,Array];function UR(e,t){return t="on"+oo(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function tE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const a of e)a(...n);else typeof e=="function"&&e(...n)}function nE(e){const t=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(n=>`${n}:not([tabindex="-1"]):not([disabled])`).join(", ");return[...e.querySelectorAll(t)]}function o_(e,t){var a,i,o;const n=nE(e),r=n.indexOf(document.activeElement);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((a=n[0])==null||a.focus());else if(t==="first")(i=n[0])==null||i.focus();else if(t==="last")(o=n.at(-1))==null||o.focus();else{let s,l=r;const u=t==="next"?1:-1;do l+=u,s=n[l];while((!s||s.offsetParent==null)&&l<n.length&&l>=0);s?s.focus():o_(e,t==="next"?"first":"last")}}function MU(){}const PU=["top","bottom"],kle=["start","end","left","right"];function eC(e,t){let[n,r]=e.split(" ");return r||(r=i_(PU,n)?"start":i_(kle,n)?"top":"center"),{side:tC(n,t),align:tC(r,t)}}function tC(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function fw(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function dw(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function zR(e){return{side:e.align,align:e.side}}function HR(e){return i_(PU,e.side)?"y":"x"}class Fd{constructor(t){let{x:n,y:r,width:a,height:i}=t;this.x=n,this.y=r,this.width=a,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function $R(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function rE(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let a,i,o,s,l;if(r.startsWith("matrix3d("))a=r.slice(9,-1).split(/, /),i=+a[0],o=+a[5],s=+a[12],l=+a[13];else if(r.startsWith("matrix("))a=r.slice(7,-1).split(/, /),i=+a[0],o=+a[3],s=+a[4],l=+a[5];else return new Fd(t);const u=n.transformOrigin,c=t.x-s-(1-i)*parseFloat(u),f=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),d=i?t.width/i:e.offsetWidth+1,h=o?t.height/o:e.offsetHeight+1;return new Fd({x:c,y:f,width:d,height:h})}else return new Fd(t)}function Tc(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(a=>{r.onfinish=()=>{a(r)}})),r}const Xy=new WeakMap;function Nle(e,t){Object.keys(t).forEach(n=>{if(eE(n)){const r=DU(n),a=Xy.get(e);if(t[n]==null)a==null||a.forEach(i=>{const[o,s]=i;o===r&&(e.removeEventListener(r,s),a.delete(i))});else if(!a||![...a].some(i=>i[0]===r&&i[1]===t[n])){e.addEventListener(r,t[n]);const i=a||new Set;i.add([r,t[n]]),Xy.has(e)||Xy.set(e,i)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function Ble(e,t){Object.keys(t).forEach(n=>{if(eE(n)){const r=DU(n),a=Xy.get(e);a==null||a.forEach(i=>{const[o,s]=i;o===r&&(e.removeEventListener(r,s),a.delete(i))})}else e.removeAttribute(n)})}function al(e){Te(`Vuetify: ${e}`)}function nC(e){Te(`Vuetify error: ${e}`)}function Vle(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`,Te(`[Vuetify UPGRADE] '${e}' is deprecated, use ${t} instead.`)}const s_=.20689655172413793,Fle=e=>e>s_**3?Math.cbrt(e):e/(3*s_**2)+4/29,Ule=e=>e>s_?e**3:3*s_**2*(e-4/29);function LU(e){const t=Fle,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function IU(e){const t=Ule,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const zle=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Hle=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,$le=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Gle=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function RU(e){const t=Array(3),n=Hle,r=zle;for(let a=0;a<3;++a)t[a]=Math.round(xa(n(r[a][0]*e[0]+r[a][1]*e[1]+r[a][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function aE(e){let{r:t,g:n,b:r}=e;const a=[0,0,0],i=Gle,o=$le;t=i(t/255),n=i(n/255),r=i(r/255);for(let s=0;s<3;++s)a[s]=o[s][0]*t+o[s][1]*n+o[s][2]*r;return a}function GR(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}const WR=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Wle={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>YR({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>YR({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>sl({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>sl({h:e,s:t,v:n,a:r})};function Qs(e){if(typeof e=="number")return(isNaN(e)||e<0||e>16777215)&&al(`'${e}' is not a valid hex color`),{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&WR.test(e)){const{groups:t}=e.match(WR),{fn:n,values:r}=t,a=r.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return Wle[n](...a)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;[3,4].includes(t.length)?t=t.split("").map(r=>r+r).join(""):[6,8].includes(t.length)||al(`'${e}' is not a valid hex(a) color`);const n=parseInt(t,16);return(isNaN(n)||n<0||n>4294967295)&&al(`'${e}' is not a valid hex(a) color`),VU(t)}else if(typeof e=="object"){if(Sc(e,["r","g","b"]))return e;if(Sc(e,["h","s","l"]))return sl(iE(e));if(Sc(e,["h","s","v"]))return sl(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function sl(e){const{h:t,s:n,v:r,a}=e,i=s=>{const l=(s+t/60)%6;return r-r*n*Math.max(Math.min(l,4-l,1),0)},o=[i(5),i(3),i(1)].map(s=>Math.round(s*255));return{r:o[0],g:o[1],b:o[2],a}}function YR(e){return sl(iE(e))}function F1(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),i=Math.min(t,n,r);let o=0;a!==i&&(a===t?o=60*(0+(n-r)/(a-i)):a===n?o=60*(2+(r-t)/(a-i)):a===r&&(o=60*(4+(t-n)/(a-i)))),o<0&&(o=o+360);const s=a===0?0:(a-i)/a,l=[o,s,a];return{h:l[0],s:l[1],v:l[2],a:e.a}}function OU(e){const{h:t,s:n,v:r,a}=e,i=r-r*n/2,o=i===1||i===0?0:(r-i)/Math.min(i,1-i);return{h:t,s:o,l:i,a}}function iE(e){const{h:t,s:n,l:r,a}=e,i=r+n*Math.min(r,1-r),o=i===0?0:2-2*r/i;return{h:t,s:o,v:i,a}}function kU(e){let{r:t,g:n,b:r,a}=e;return a===void 0?`rgb(${t}, ${n}, ${r})`:`rgba(${t}, ${n}, ${r}, ${a})`}function NU(e){return kU(sl(e))}function ey(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function BU(e){let{r:t,g:n,b:r,a}=e;return`#${[ey(t),ey(n),ey(r),a!==void 0?ey(Math.round(a*255)):""].join("")}`}function VU(e){e=jle(e);let[t,n,r,a]=Lle(e,2).map(i=>parseInt(i,16));return a=a===void 0?a:a/255,{r:t,g:n,b:r,a}}function Yle(e){const t=VU(e);return F1(t)}function FU(e){return BU(sl(e))}function jle(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=VR(VR(e,6),8,"F")),e}function Xle(e,t){const n=LU(aE(e));return n[0]=n[0]+t*10,RU(IU(n))}function qle(e,t){const n=LU(aE(e));return n[0]=n[0]-t*10,RU(IU(n))}function rC(e){const t=Qs(e);return aE(t)[1]}function Zle(e,t){const n=rC(e),r=rC(t),a=Math.max(n,r),i=Math.min(n,r);return(a+.05)/(i+.05)}function ll(e,t){let n;function r(){n=bm(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}Le(e,a=>{a&&!n?r():a||(n==null||n.stop(),n=void 0)},{immediate:!0}),wa(()=>{n==null||n.stop()})}const em=Symbol.for("vuetify:defaults");function Kle(e){return te(e)}function oE(){const e=It(em);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Rr(e,t){const n=oE(),r=te(e),a=O(()=>{if(ie(t==null?void 0:t.disabled))return n.value;const o=ie(t==null?void 0:t.scoped),s=ie(t==null?void 0:t.reset),l=ie(t==null?void 0:t.root);let u=Ki(r.value,{prev:n.value});if(o)return u;if(s||l){const c=Number(s||1/0);for(let f=0;f<=c&&!(!u||!("prev"in u));f++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=Ki(Ki(u,{prev:u}),u[l])),u}return u.prev?Ki(u.prev,u):u});return dr(em,a),a}function Qle(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[Gc(t)])<"u"}function Jle(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oE();const r=ta("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const a=O(()=>{var l;return(l=n.value)==null?void 0:l[e._as??t]}),i=new Proxy(e,{get(l,u){var f,d,h,v;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(f=a.value)==null?void 0:f[u],c].filter(p=>p!=null):typeof u=="string"&&!Qle(r.vnode,u)?((d=a.value)==null?void 0:d[u])??((v=(h=n.value)==null?void 0:h.global)==null?void 0:v[u])??c:c}}),o=ke();qn(()=>{if(a.value){const l=Object.entries(a.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});l.length&&(o.value=Object.fromEntries(l))}});function s(){ll(o,()=>{var l;Rr(Ki(((l=aue(em))==null?void 0:l.value)??{},o.value))})}return{props:i,provideSubDefaults:s}}function po(e){if(e._setup=e._setup??e.setup,!e.name)return al("The component is missing an explicit name, unable to generate default prop value"),e;if(e._setup){e.props=de(e.props??{},e.name)();const t=Object.keys(e.props);e.filterProps=function(r){return Ah(r,t,["class","style"])},e.props._as=String,e.setup=function(r,a){const i=oE();if(!i.value)return e._setup(r,a);const{props:o,provideSubDefaults:s}=Jle(r,r._as??e.name,i),l=e._setup(o,a);return s(),l}}return e}function be(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?po:hn)(t)}function $o(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return be()({name:n??oo(io(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ve()},setup(r,a){let{slots:i}=a;return()=>{var o;return so(r.tag,{class:[e,r.class],style:r.style},(o=i.default)==null?void 0:o.call(i))}}})}function UU(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const tm="cubic-bezier(0.4, 0, 0.2, 1)",eue="cubic-bezier(0.0, 0, 0.2, 1)",tue="cubic-bezier(0.4, 0, 1, 1)";function ta(e,t){const n=gu();if(!n)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return n}function yl(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=ta(e).type;return Gc((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let zU=0,qy=new WeakMap;function Ma(){const e=ta("getUid");if(qy.has(e))return qy.get(e);{const t=zU++;return qy.set(e,t),t}}Ma.reset=()=>{zU=0,qy=new WeakMap};function sE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?nue(e):lE(e))return e;e=e.parentElement}return document.scrollingElement}function l_(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(lE(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function lE(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function nue(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}const Tr=typeof window<"u",uE=Tr&&"IntersectionObserver"in window,rue=Tr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),aC=Tr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function aue(e){const{provides:t}=ta("injectSelf");if(t&&e in t)return t[e]}function iue(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Me(e){const t=ta("useRender");t.render=e}function ws(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=te(),r=te();if(Tr){const a=new ResizeObserver(i=>{e==null||e(i,a),i.length&&(t==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});la(()=>{a.disconnect()}),Le(n,(i,o)=>{o&&(a.unobserve(QT(o)),r.value=void 0),i&&a.observe(QT(i))},{flush:"post"})}return{resizeRef:n,contentRect:wm(r)}}const u_=Symbol.for("vuetify:layout"),HU=Symbol.for("vuetify:layout-item"),jR=1e3,$U=de({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Eh=de({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function oue(){const e=It(u_);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Dh(e){const t=It(u_);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Ma()}`,r=ta("useLayoutItem");dr(HU,{id:n});const a=ke(!1);o3(()=>a.value=!0),i3(()=>a.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:o}=t.register(r,{...e,active:O(()=>a.value?!1:e.active.value),id:n});return la(()=>t.unregister(n)),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const sue=(e,t,n,r)=>{let a={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...a}}];for(const o of e){const s=t.get(o),l=n.get(o),u=r.get(o);if(!s||!l||!u)continue;const c={...a,[s.value]:parseInt(a[s.value],10)+(u.value?parseInt(l.value,10):0)};i.push({id:o,layer:c}),a=c}return i};function GU(e){const t=It(u_,null),n=O(()=>t?t.rootZIndex.value-100:jR),r=te([]),a=Rn(new Map),i=Rn(new Map),o=Rn(new Map),s=Rn(new Map),l=Rn(new Map),{resizeRef:u,contentRect:c}=ws(),f=O(()=>{const b=new Map,S=e.overlaps??[];for(const C of S.filter(A=>A.includes(":"))){const[A,M]=C.split(":");if(!r.value.includes(A)||!r.value.includes(M))continue;const T=a.get(A),E=a.get(M),P=i.get(A),I=i.get(M);!T||!E||!P||!I||(b.set(M,{position:T.value,amount:parseInt(P.value,10)}),b.set(A,{position:E.value,amount:-parseInt(I.value,10)}))}return b}),d=O(()=>{const b=[...new Set([...o.values()].map(C=>C.value))].sort((C,A)=>C-A),S=[];for(const C of b){const A=r.value.filter(M=>{var T;return((T=o.get(M))==null?void 0:T.value)===C});S.push(...A)}return sue(S,a,i,s)}),h=O(()=>!Array.from(l.values()).some(b=>b.value)),v=O(()=>d.value[d.value.length-1].layer),p=O(()=>({"--v-layout-left":ze(v.value.left),"--v-layout-right":ze(v.value.right),"--v-layout-top":ze(v.value.top),"--v-layout-bottom":ze(v.value.bottom),...h.value?void 0:{transition:"none"}})),m=O(()=>d.value.slice(1).map((b,S)=>{let{id:C}=b;const{layer:A}=d.value[S],M=i.get(C),T=a.get(C);return{id:C,...A,size:Number(M.value),position:T.value}})),g=b=>m.value.find(S=>S.id===b),y=ta("createLayout"),_=ke(!1);nn(()=>{_.value=!0}),dr(u_,{register:(b,S)=>{let{id:C,order:A,position:M,layoutSize:T,elementSize:E,active:P,disableTransitions:I,absolute:k}=S;o.set(C,A),a.set(C,M),i.set(C,T),s.set(C,P),I&&l.set(C,I);const U=_p(HU,y==null?void 0:y.vnode).indexOf(b);U>-1?r.value.splice(U,0,C):r.value.push(C);const R=O(()=>m.value.findIndex(Y=>Y.id===C)),L=O(()=>n.value+d.value.length*2-R.value*2),z=O(()=>{const Y=M.value==="left"||M.value==="right",$=M.value==="right",F=M.value==="bottom",N={[M.value]:0,zIndex:L.value,transform:`translate${Y?"X":"Y"}(${(P.value?0:-110)*($||F?-1:1)}%)`,position:k.value||n.value!==jR?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!_.value)return N;const H=m.value[R.value];if(!H)throw new Error(`[Vuetify] Could not find layout item "${C}"`);const K=f.value.get(C);return K&&(H[K.position]+=K.amount),{...N,height:Y?`calc(100% - ${H.top}px - ${H.bottom}px)`:E.value?`${E.value}px`:void 0,left:$?void 0:`${H.left}px`,right:$?`${H.right}px`:void 0,top:M.value!=="bottom"?`${H.top}px`:void 0,bottom:M.value!=="top"?`${H.bottom}px`:void 0,width:Y?E.value?`${E.value}px`:void 0:`calc(100% - ${H.left}px - ${H.right}px)`}}),X=O(()=>({zIndex:L.value-1}));return{layoutItemStyles:z,layoutItemScrimStyles:X,zIndex:L}},unregister:b=>{o.delete(b),a.delete(b),i.delete(b),s.delete(b),l.delete(b),r.value=r.value.filter(S=>S!==b)},mainRect:v,mainStyles:p,getLayoutItem:g,items:m,layoutRect:c,rootZIndex:n});const x=O(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),w=O(()=>({zIndex:n.value,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:x,layoutStyles:w,getLayoutItem:g,items:m,layoutRect:c,layoutRef:u}}const lue={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{ok:"OK",cancel:"Cancel",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},uue={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function Tt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const i=ta("useProxiedModel"),o=te(e[t]!==void 0?e[t]:n),s=Gc(t),u=O(s!==t?()=>{var f,d,h,v;return e[t],!!(((f=i.vnode.props)!=null&&f.hasOwnProperty(t)||(d=i.vnode.props)!=null&&d.hasOwnProperty(s))&&((h=i.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)||(v=i.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${s}`)))}:()=>{var f,d;return e[t],!!((f=i.vnode.props)!=null&&f.hasOwnProperty(t)&&((d=i.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${t}`)))});ll(()=>!u.value,()=>{Le(()=>e[t],f=>{o.value=f})});const c=O({get(){const f=e[t];return r(u.value?f:o.value)},set(f){const d=a(f),h=it(u.value?e[t]:o.value);h===d||r(h)===f||(o.value=d,i==null||i.emit(`update:${t}`,d))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:o.value}),c}const XR="$vuetify.",qR=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),WU=(e,t,n)=>function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(!r.startsWith(XR))return qR(r,i);const s=r.replace(XR,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let c=ZT(l,s,null);return c||(al(`Translation key "${r}" not found in "${e.value}", trying fallback locale`),c=ZT(u,s,null)),c||(nC(`Translation key "${r}" not found in fallback`),c=r),typeof c!="string"&&(nC(`Translation key "${r}" has a non-string value`),c=r),qR(c,i)};function YU(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function hw(e,t,n){const r=Tt(e,t,e[t]??n.value);return r.value=e[t]??n.value,Le(n,a=>{e[t]==null&&(r.value=n.value)}),r}function jU(e){return t=>{const n=hw(t,"locale",e.current),r=hw(t,"fallback",e.fallback),a=hw(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:a,t:WU(n,r,a),n:YU(n,r),provide:jU({current:n,fallback:r,messages:a})}}}function cue(e){const t=ke((e==null?void 0:e.locale)??"en"),n=ke((e==null?void 0:e.fallback)??"en"),r=te({en:lue,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:WU(t,n,r),n:YU(t,n),provide:jU({current:t,fallback:n,messages:r})}}const th=Symbol.for("vuetify:locale");function fue(e){return e.name!=null}function due(e){const t=e!=null&&e.adapter&&fue(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:cue(e),n=vue(t,e);return{...t,...n}}function mo(){const e=It(th);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function hue(e){const t=It(th);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),r=pue(n,t.rtl,e),a={...n,...r};return dr(th,a),a}function vue(e,t){const n=te((t==null?void 0:t.rtl)??uue),r=O(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:O(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function pue(e,t,n){const r=O(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:r,rtl:t,rtlClasses:O(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function na(){const e=It(th);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const ad=2.4,ZR=.2126729,KR=.7151522,QR=.072175,mue=.55,gue=.58,yue=.57,_ue=.62,ty=.03,JR=1.45,xue=5e-4,bue=1.25,wue=1.25,eO=.078,tO=12.82051282051282,ny=.06,nO=.001;function rO(e,t){const n=(e.r/255)**ad,r=(e.g/255)**ad,a=(e.b/255)**ad,i=(t.r/255)**ad,o=(t.g/255)**ad,s=(t.b/255)**ad;let l=n*ZR+r*KR+a*QR,u=i*ZR+o*KR+s*QR;if(l<=ty&&(l+=(ty-l)**JR),u<=ty&&(u+=(ty-u)**JR),Math.abs(u-l)<xue)return 0;let c;if(u>l){const f=(u**mue-l**gue)*bue;c=f<nO?0:f<eO?f-f*tO*ny:f-ny}else{const f=(u**_ue-l**yue)*wue;c=f>-nO?0:f>-eO?f-f*tO*ny:f+ny}return c*100}const nm=Symbol.for("vuetify:theme"),Zt=de({theme:String},"theme"),xv={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function Sue(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xv;if(!e)return{...xv,isDisabled:!0};const t={};for(const[a,i]of Object.entries(e.themes??{})){const o=i.dark||a==="dark"?(n=xv.themes)==null?void 0:n.dark:(r=xv.themes)==null?void 0:r.light;t[a]=Ki(o,i)}return Ki(xv,{...e,themes:t})}function Tue(e){const t=Sue(e),n=te(t.defaultTheme),r=te(t.themes),a=O(()=>{const c={};for(const[f,d]of Object.entries(r.value)){const h=c[f]={...d,colors:{...d.colors}};if(t.variations)for(const v of t.variations.colors){const p=h.colors[v];if(p)for(const m of["lighten","darken"]){const g=m==="lighten"?Xle:qle;for(const y of Ks(t.variations[m],1))h.colors[`${v}-${m}-${y}`]=BU(g(Qs(p),y))}}for(const v of Object.keys(h.colors)){if(/^on-[a-z]/.test(v)||h.colors[`on-${v}`])continue;const p=`on-${v}`,m=Qs(h.colors[v]),g=Math.abs(rO(Qs(0),m)),y=Math.abs(rO(Qs(16777215),m));h.colors[p]=y>Math.min(g,50)?"#fff":"#000"}}return c}),i=O(()=>a.value[n.value]),o=O(()=>{const c=[];i.value.dark&&Qu(c,":root",["color-scheme: dark"]),Qu(c,":root",aO(i.value));for(const[v,p]of Object.entries(a.value))Qu(c,`.v-theme--${v}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...aO(p)]);const f=[],d=[],h=new Set(Object.values(a.value).flatMap(v=>Object.keys(v.colors)));for(const v of h)/^on-[a-z]/.test(v)?Qu(d,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(Qu(f,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),Qu(d,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),Qu(d,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return c.push(...f,...d),c.map((v,p)=>p===0?v:`    ${v}`).join("")});function s(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(c){if(t.isDisabled)return;const f=c._context.provides.usehead;if(f)if(f.push){const h=f.push(s);Le(o,()=>{h.patch(s)})}else Tr?(f.addHeadObjs(O(s)),qn(()=>f.updateDOM())):f.addHeadObjs(s());else{let v=function(){if(typeof document<"u"&&!h){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",t.cspNonce&&p.setAttribute("nonce",t.cspNonce),h=p,document.head.appendChild(h)}h&&(h.innerHTML=o.value)};var d=v;let h=Tr?document.getElementById("vuetify-theme-stylesheet"):null;Le(o,v,{immediate:!0})}}const u=O(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:r,current:i,computedThemes:a,themeClasses:u,styles:o,global:{name:n,current:i}}}function yn(e){ta("provideTheme");const t=It(nm,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=O(()=>e.theme??(t==null?void 0:t.name.value)),r=O(()=>t.isDisabled?void 0:`v-theme--${n.value}`),a={...t,name:n,themeClasses:r};return dr(nm,a),a}function XU(){ta("useTheme");const e=It(nm,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Qu(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function aO(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[a,i]of Object.entries(e.colors)){const o=Qs(i);r.push(`--v-theme-${a}: ${o.r},${o.g},${o.b}`),a.startsWith("on-")||r.push(`--v-theme-${a}-overlay-multiplier: ${rC(i)>.18?t:n}`)}for(const[a,i]of Object.entries(e.variables)){const o=typeof i=="string"&&i.startsWith("#")?Qs(i):void 0,s=o?`${o.r}, ${o.g}, ${o.b}`:void 0;r.push(`--v-${a}: ${s??i}`)}return r}const Cue=de({...Ve(),...$U({fullHeight:!0}),...Zt()},"VApp"),Aue=be()({name:"VApp",props:Cue(),setup(e,t){let{slots:n}=t;const r=yn(e),{layoutClasses:a,layoutStyles:i,getLayoutItem:o,items:s,layoutRef:l}=GU(e),{rtlClasses:u}=na();return Me(()=>{var c;return D("div",{ref:l,class:["v-application",r.themeClasses.value,a.value,u.value,e.class],style:[i.value,e.style]},[D("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:o,items:s,theme:r}}});const Pt=de({tag:{type:String,default:"div"}},"tag"),qU=de({text:String,...Ve(),...Pt()},"VToolbarTitle"),cE=be()({name:"VToolbarTitle",props:qU(),setup(e,t){let{slots:n}=t;return Me(()=>{const r=!!(n.default||n.text||e.text);return D(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[r&&D("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(a=n.default)==null?void 0:a.call(n)])]}})}),{}}}),Eue=de({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Ti(e,t,n){return be()({name:e,props:Eue({mode:n,origin:t}),setup(r,a){let{slots:i}=a;const o={onBeforeEnter(s){r.origin&&(s.style.transformOrigin=r.origin)},onLeave(s){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:f}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${l}px`,s.style.left=`${u}px`,s.style.width=`${c}px`,s.style.height=`${f}px`}r.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(r.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:l,top:u,left:c,width:f,height:d}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=l||"",s.style.top=u||"",s.style.left=c||"",s.style.width=f||"",s.style.height=d||""}}};return()=>{const s=r.group?M6:Ta;return so(s,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},i.default)}}})}function ZU(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return be()({name:e,props:{mode:{type:String,default:n},disabled:Boolean},setup(r,a){let{slots:i}=a;return()=>so(Ta,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},i.default)}})}function KU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=io(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const s=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=s.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:i,onEnterCancelled:i,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:a,onLeaveCancelled:a};function a(o){e&&o._parent&&o._parent.classList.remove(e),i(o)}function i(o){const s=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,s!=null&&(o.style[n]=s),delete o._initialStyle}}const Due=de({target:Object},"v-dialog-transition"),U1=be()({name:"VDialogTransition",props:Due(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,i){var d;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),a.style.visibility="";const{x:o,y:s,sx:l,sy:u,speed:c}=oO(e.target,a),f=Tc(a,[{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:eue});(d=iO(a))==null||d.forEach(h=>{Tc(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:tm})}),f.finished.then(()=>i())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,i){var d;await new Promise(h=>requestAnimationFrame(h));const{x:o,y:s,sx:l,sy:u,speed:c}=oO(e.target,a);Tc(a,[{},{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:tue}).finished.then(()=>i()),(d=iO(a))==null||d.forEach(h=>{Tc(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:tm})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>e.target?D(Ta,Ee({name:"dialog-transition"},r,{css:!1}),n):D(Ta,{name:"dialog-transition"},n)}});function iO(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function oO(e,t){const n=e.getBoundingClientRect(),r=rE(t),[a,i]=getComputedStyle(t).transformOrigin.split(" ").map(g=>parseFloat(g)),[o,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||s==="left"?l-=n.width/2:(o==="right"||s==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||s==="top"?u-=n.height/2:(o==="bottom"||s==="bottom")&&(u+=n.height/2);const c=n.width/r.width,f=n.height/r.height,d=Math.max(1,c,f),h=c/d||0,v=f/d||0,p=r.width*r.height/(window.innerWidth*window.innerHeight),m=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(a+r.left),y:u-(i+r.top),sx:h,sy:v,speed:m}}const Mue=Ti("fab-transition","center center","out-in"),Pue=Ti("dialog-bottom-transition"),Lue=Ti("dialog-top-transition"),iC=Ti("fade-transition"),QU=Ti("scale-transition"),Iue=Ti("scroll-x-transition"),Rue=Ti("scroll-x-reverse-transition"),Oue=Ti("scroll-y-transition"),kue=Ti("scroll-y-reverse-transition"),Nue=Ti("slide-x-transition"),Bue=Ti("slide-x-reverse-transition"),fE=Ti("slide-y-transition"),Vue=Ti("slide-y-reverse-transition"),z1=ZU("expand-transition",KU()),dE=ZU("expand-x-transition",KU("",!0)),Fue=de({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),An=be(!1)({name:"VDefaultsProvider",props:Fue(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:a,reset:i,root:o,scoped:s}=Hd(e);return Rr(r,{reset:i,root:o,scoped:s,disabled:a}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}});const go=de({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function yo(e){return{dimensionStyles:O(()=>({height:ze(e.height),maxHeight:ze(e.maxHeight),maxWidth:ze(e.maxWidth),minHeight:ze(e.minHeight),minWidth:ze(e.minWidth),width:ze(e.width)}))}}function Uue(e){return{aspectStyles:O(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const JU=de({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Ve(),...go()},"VResponsive"),oC=be()({name:"VResponsive",props:JU(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=Uue(e),{dimensionStyles:a}=yo(e);return Me(()=>{var i;return D("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[a.value,e.style]},[D("div",{class:"v-responsive__sizer",style:r.value},null),(i=n.additional)==null?void 0:i.call(n),n.default&&D("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}}),_l=de({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Oo=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:a,...i}=e,{component:o=Ta,...s}=typeof r=="object"?r:{};return so(o,Ee(typeof r=="string"?{name:a?"":r}:s,i,{disabled:a}),n)};function zue(e,t){if(!uE)return;const n=t.modifiers||{},r=t.value,{handler:a,options:i}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var f;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(f=e._observe)==null?void 0:f[t.instance.$.uid];if(!u)return;const c=s.some(d=>d.isIntersecting);a&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&a(c,s,l),c&&n.once?ez(e,t):u.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function ez(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Nm={mounted:zue,unmounted:ez},tz=de({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...JU(),...Ve(),..._l()},"VImg"),sf=be()({name:"VImg",directives:{intersect:Nm},props:tz(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=ke(""),i=te(),o=ke(e.eager?"loading":"idle"),s=ke(),l=ke(),u=O(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),c=O(()=>u.value.aspect||s.value/l.value||0);Le(()=>e.src,()=>{f(o.value!=="idle")}),Le(c,(C,A)=>{!C&&A&&i.value&&m(i.value)}),z_(()=>f());function f(C){if(!(e.eager&&C)&&!(uE&&!C&&!e.eager)){if(o.value="loading",u.value.lazySrc){const A=new Image;A.src=u.value.lazySrc,m(A,null)}u.value.src&&Ot(()=>{var A,M;if(n("loadstart",((A=i.value)==null?void 0:A.currentSrc)||u.value.src),(M=i.value)!=null&&M.complete){if(i.value.naturalWidth||h(),o.value==="error")return;c.value||m(i.value,null),d()}else c.value||m(i.value),v()})}}function d(){var C;v(),o.value="loaded",n("load",((C=i.value)==null?void 0:C.currentSrc)||u.value.src)}function h(){var C;o.value="error",n("error",((C=i.value)==null?void 0:C.currentSrc)||u.value.src)}function v(){const C=i.value;C&&(a.value=C.currentSrc||C.src)}let p=-1;function m(C){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const M=()=>{clearTimeout(p);const{naturalHeight:T,naturalWidth:E}=C;T||E?(s.value=E,l.value=T):!C.complete&&o.value==="loading"&&A!=null?p=window.setTimeout(M,A):(C.currentSrc.endsWith(".svg")||C.currentSrc.startsWith("data:image/svg+xml"))&&(s.value=1,l.value=1)};M()}const g=O(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),y=()=>{var M;if(!u.value.src||o.value==="idle")return null;const C=D("img",{class:["v-img__img",g.value],src:u.value.src,srcset:u.value.srcset,alt:e.alt,sizes:e.sizes,ref:i,onLoad:d,onError:h},null),A=(M=r.sources)==null?void 0:M.call(r);return D(Oo,{transition:e.transition,appear:!0},{default:()=>[On(A?D("picture",{class:"v-img__picture"},[A,C]):C,[[ui,o.value==="loaded"]])]})},_=()=>D(Oo,{transition:e.transition},{default:()=>[u.value.lazySrc&&o.value!=="loaded"&&D("img",{class:["v-img__img","v-img__img--preload",g.value],src:u.value.lazySrc,alt:e.alt},null)]}),x=()=>r.placeholder?D(Oo,{transition:e.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!r.error)&&D("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,w=()=>r.error?D(Oo,{transition:e.transition,appear:!0},{default:()=>[o.value==="error"&&D("div",{class:"v-img__error"},[r.error()])]}):null,b=()=>e.gradient?D("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,S=ke(!1);{const C=Le(c,A=>{A&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{S.value=!0})}),C())})}return Me(()=>{const[C]=oC.filterProps(e);return On(D(oC,Ee({class:["v-img",{"v-img--booting":!S.value},e.class],style:[{width:ze(e.width==="auto"?s.value:e.width)},e.style]},C,{aspectRatio:c.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>D(Ae,null,[D(y,null,null),D(_,null,null),D(b,null,null),D(x,null,null),D(w,null,null)]),default:r.default}),[[di("intersect"),{handler:f,options:e.options},null,{once:!0}]])}),{currentSrc:a,image:i,state:o,naturalWidth:s,naturalHeight:l}}}),Ci=de({border:[Boolean,Number,String]},"border");function _o(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl();return{borderClasses:O(()=>{const r=sn(e)?e.value:e.border,a=[];if(r===!0||r==="")a.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))a.push(`border-${i}`);return a})}}function hE(e){return JA(()=>{const t=[],n={};return e.value.background&&(GR(e.value.background)?n.backgroundColor=e.value.background:t.push(`bg-${e.value.background}`)),e.value.text&&(GR(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Ea(e,t){const n=O(()=>({text:sn(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:a}=hE(n);return{textColorClasses:r,textColorStyles:a}}function Cr(e,t){const n=O(()=>({background:sn(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:a}=hE(n);return{backgroundColorClasses:r,backgroundColorStyles:a}}const Wr=de({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function ua(e){return{elevationClasses:O(()=>{const n=sn(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const Zn=de({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function ar(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl();return{roundedClasses:O(()=>{const r=sn(e)?e.value:e.rounded,a=[];if(r===!0||r==="")a.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))a.push(`rounded-${i}`);return a})}}const Hue=[null,"prominent","default","comfortable","compact"],nz=de({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Hue.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ci(),...Ve(),...Wr(),...Zn(),...Pt({tag:"header"}),...Zt()},"VToolbar"),sC=be()({name:"VToolbar",props:nz(),setup(e,t){var h;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=Cr(ye(e,"color")),{borderClasses:i}=_o(e),{elevationClasses:o}=ua(e),{roundedClasses:s}=ar(e),{themeClasses:l}=yn(e),{rtlClasses:u}=na(),c=ke(!!(e.extended||(h=n.extension)!=null&&h.call(n))),f=O(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),d=O(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Rr({VBtn:{variant:"text"}}),Me(()=>{var g;const v=!!(e.title||n.title),p=!!(n.image||e.image),m=(g=n.extension)==null?void 0:g.call(n);return c.value=!!(e.extended||m),D(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,i.value,o.value,s.value,l.value,u.value,e.class],style:[a.value,e.style]},{default:()=>[p&&D("div",{key:"image",class:"v-toolbar__image"},[n.image?D(An,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):D(sf,{key:"image-img",cover:!0,src:e.image},null)]),D(An,{defaults:{VTabs:{height:ze(f.value)}}},{default:()=>{var y,_,x;return[D("div",{class:"v-toolbar__content",style:{height:ze(f.value)}},[n.prepend&&D("div",{class:"v-toolbar__prepend"},[(y=n.prepend)==null?void 0:y.call(n)]),v&&D(cE,{key:"title",text:e.title},{text:n.title}),(_=n.default)==null?void 0:_.call(n),n.append&&D("div",{class:"v-toolbar__append"},[(x=n.append)==null?void 0:x.call(n)])])]}}),D(An,{defaults:{VTabs:{height:ze(d.value)}}},{default:()=>[D(z1,null,{default:()=>[c.value&&D("div",{class:"v-toolbar__extension",style:{height:ze(d.value)}},[m])]})]})]})}),{contentHeight:f,extensionHeight:d}}}),$ue=de({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Gue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0;const a=te(null),i=ke(0),o=ke(0),s=ke(0),l=ke(!1),u=ke(!1),c=O(()=>Number(e.scrollThreshold)),f=O(()=>xa((c.value-i.value)/c.value||0)),d=()=>{const h=a.value;!h||n&&!n.value||(r=i.value,i.value="window"in h?h.pageYOffset:h.scrollTop,u.value=i.value<r,s.value=Math.abs(i.value-c.value))};return Le(u,()=>{o.value=o.value||i.value}),Le(l,()=>{o.value=0}),nn(()=>{Le(()=>e.scrollTarget,h=>{var p;const v=h?document.querySelector(h):window;if(!v){al(`Unable to locate element with identifier ${h}`);return}v!==a.value&&((p=a.value)==null||p.removeEventListener("scroll",d),a.value=v,a.value.addEventListener("scroll",d,{passive:!0}))},{immediate:!0})}),la(()=>{var h;(h=a.value)==null||h.removeEventListener("scroll",d)}),n&&Le(n,d,{immediate:!0}),{scrollThreshold:c,currentScroll:i,currentThreshold:s,isScrollActive:l,scrollRatio:f,isScrollingUp:u,savedScroll:o}}function wf(){const e=ke(!1);return nn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:O(()=>e.value?void 0:{transition:"none !important"}),isBooted:wm(e)}}const Wue=de({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...nz(),...Eh(),...$ue(),height:{type:[Number,String],default:64}},"VAppBar"),Yue=be()({name:"VAppBar",props:Wue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=te(),a=Tt(e,"modelValue"),i=O(()=>{var y;const g=new Set(((y=e.scrollBehavior)==null?void 0:y.split(" "))??[]);return{hide:g.has("hide"),inverted:g.has("inverted"),collapse:g.has("collapse"),elevate:g.has("elevate"),fadeImage:g.has("fade-image")}}),o=O(()=>{const g=i.value;return g.hide||g.inverted||g.collapse||g.elevate||g.fadeImage||!a.value}),{currentScroll:s,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=Gue(e,{canScroll:o}),f=O(()=>e.collapse||i.value.collapse&&(i.value.inverted?c.value>0:c.value===0)),d=O(()=>e.flat||i.value.elevate&&(i.value.inverted?s.value>0:s.value===0)),h=O(()=>i.value.fadeImage?i.value.inverted?1-c.value:c.value:void 0),v=O(()=>{var _,x;if(i.value.hide&&i.value.inverted)return 0;const g=((_=r.value)==null?void 0:_.contentHeight)??0,y=((x=r.value)==null?void 0:x.extensionHeight)??0;return g+y});ll(O(()=>!!e.scrollBehavior),()=>{qn(()=>{i.value.hide?i.value.inverted?a.value=s.value>l.value:a.value=u.value||s.value<l.value:a.value=!0})});const{ssrBootStyles:p}=wf(),{layoutItemStyles:m}=Dh({id:e.name,order:O(()=>parseInt(e.order,10)),position:ye(e,"location"),layoutSize:v,elementSize:ke(void 0),active:a,absolute:ye(e,"absolute")});return Me(()=>{const[g]=sC.filterProps(e);return D(sC,Ee({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...m.value,"--v-toolbar-image-opacity":h.value,height:void 0,...p.value},e.style]},g,{collapse:f.value,flat:d.value}),n)}),{}}});const jue=[null,"default","comfortable","compact"],Yr=de({density:{type:String,default:"default",validator:e=>jue.includes(e)}},"density");function Pa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl();return{densityClasses:O(()=>`${t}--density-${e.density}`)}}const Xue=["elevated","flat","tonal","outlined","text","plain"];function Sf(e,t){return D(Ae,null,[e&&D("span",{key:"overlay",class:`${t}__overlay`},null),D("span",{key:"underlay",class:`${t}__underlay`},null)])}const xo=de({color:String,variant:{type:String,default:"elevated",validator:e=>Xue.includes(e)}},"variant");function Tf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl();const n=O(()=>{const{variant:i}=ie(e);return`${t}--variant-${i}`}),{colorClasses:r,colorStyles:a}=hE(O(()=>{const{variant:i,color:o}=ie(e);return{[["elevated","flat"].includes(i)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:a,variantClasses:n}}const rz=de({divided:Boolean,...Ci(),...Ve(),...Yr(),...Wr(),...Zn(),...Pt(),...Zt(),...xo()},"VBtnGroup"),lC=be()({name:"VBtnGroup",props:rz(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{densityClasses:a}=Pa(e),{borderClasses:i}=_o(e),{elevationClasses:o}=ua(e),{roundedClasses:s}=ar(e);Rr({VBtn:{height:"auto",color:ye(e,"color"),density:ye(e,"density"),flat:!0,variant:ye(e,"variant")}}),Me(()=>D(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,i.value,a.value,o.value,s.value,e.class],style:e.style},n))}}),Mh=de({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Ph=de({value:null,disabled:Boolean,selectedClass:String},"group-item");function Lh(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=ta("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const a=Ma();dr(Symbol.for(`${t.description}:id`),a);const i=It(t,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=ye(e,"value"),s=O(()=>i.disabled.value||e.disabled);i.register({id:a,value:o,disabled:s},r),la(()=>{i.unregister(a)});const l=O(()=>i.isSelected(a)),u=O(()=>l.value&&[i.selectedClass.value,e.selectedClass]);return Le(l,c=>{r.emit("group:selected",{value:c})}),{id:a,isSelected:l,toggle:()=>i.select(a,!l.value),select:c=>i.select(a,c),selectedClass:u,value:o,disabled:s,group:i}}function Cf(e,t){let n=!1;const r=Rn([]),a=Tt(e,"modelValue",[],d=>d==null?[]:az(r,to(d)),d=>{const h=Zue(r,d);return e.multiple?h:h[0]}),i=ta("useGroup");function o(d,h){const v=d,p=Symbol.for(`${t.description}:id`),g=_p(p,i==null?void 0:i.vnode).indexOf(h);g>-1?r.splice(g,0,v):r.push(v)}function s(d){if(n)return;l();const h=r.findIndex(v=>v.id===d);r.splice(h,1)}function l(){const d=r.find(h=>!h.disabled);d&&e.mandatory==="force"&&!a.value.length&&(a.value=[d.id])}nn(()=>{l()}),la(()=>{n=!0});function u(d,h){const v=r.find(p=>p.id===d);if(!(h&&(v!=null&&v.disabled)))if(e.multiple){const p=a.value.slice(),m=p.findIndex(y=>y===d),g=~m;if(h=h??!g,g&&e.mandatory&&p.length<=1||!g&&e.max!=null&&p.length+1>e.max)return;m<0&&h?p.push(d):m>=0&&!h&&p.splice(m,1),a.value=p}else{const p=a.value.includes(d);if(e.mandatory&&p)return;a.value=h??!p?[d]:[]}}function c(d){if(e.multiple&&al('This method is not supported when using "multiple" prop'),a.value.length){const h=a.value[0],v=r.findIndex(g=>g.id===h);let p=(v+d)%r.length,m=r[p];for(;m.disabled&&p!==v;)p=(p+d)%r.length,m=r[p];if(m.disabled)return;a.value=[r[p].id]}else{const h=r.find(v=>!v.disabled);h&&(a.value=[h.id])}}const f={register:o,unregister:s,selected:a,select:u,disabled:ye(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:d=>a.value.includes(d),selectedClass:O(()=>e.selectedClass),items:O(()=>r),getItemIndex:d=>que(r,d)};return dr(t,f),f}function que(e,t){const n=az(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function az(e,t){const n=[];return t.forEach(r=>{const a=e.find(o=>xf(r,o.value)),i=e[r];(a==null?void 0:a.value)!=null?n.push(a.id):i!=null&&n.push(i.id)}),n}function Zue(e,t){const n=[];return t.forEach(r=>{const a=e.findIndex(i=>i.id===r);if(~a){const i=e[a];n.push(i.value!=null?i.value:a)}}),n}const vE=Symbol.for("vuetify:v-btn-toggle"),Kue=de({...rz(),...Mh()},"VBtnToggle"),Que=be()({name:"VBtnToggle",props:Kue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:a,prev:i,select:o,selected:s}=Cf(e,vE);return Me(()=>{const[l]=lC.filterProps(e);return D(lC,Ee({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,next:a,prev:i,select:o,selected:s})]}})}),{next:a,prev:i,select:o}}});const Jue={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar"},ece={component:e=>so(mE,{...e,class:"mdi"})},xt=[String,Function,Object,Array],uC=Symbol.for("vuetify:icons"),H1=de({icon:{type:xt},tag:{type:String,required:!0}},"icon"),cC=be()({name:"VComponentIcon",props:H1(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return D(e.tag,null,{default:()=>{var a;return[e.icon?D(r,null,null):(a=n.default)==null?void 0:a.call(n)]}})}}}),pE=po({name:"VSvgIcon",inheritAttrs:!1,props:H1(),setup(e,t){let{attrs:n}=t;return()=>D(e.tag,Ee(n,{style:null}),{default:()=>[D("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?D("path",{d:r[0],"fill-opacity":r[1]},null):D("path",{d:r},null)):D("path",{d:e.icon},null)])]})}}),tce=po({name:"VLigatureIcon",props:H1(),setup(e){return()=>D(e.tag,null,{default:()=>[e.icon]})}}),mE=po({name:"VClassIcon",props:H1(),setup(e){return()=>D(e.tag,{class:e.icon},null)}}),nce={svg:{component:pE},class:{component:mE}};function rce(e){return Ki({defaultSet:"mdi",sets:{...nce,mdi:ece},aliases:{...Jue,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},e)}const ace=e=>{const t=It(uC);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:O(()=>{var l;const r=ie(e);if(!r)return{component:cC};let a=r;if(typeof a=="string"&&(a=a.trim(),a.startsWith("$")&&(a=(l=t.aliases)==null?void 0:l[a.slice(1)])),!a)throw new Error(`Could not find aliased icon "${r}"`);if(Array.isArray(a))return{component:pE,icon:a};if(typeof a!="string")return{component:cC,icon:a};const i=Object.keys(t.sets).find(u=>typeof a=="string"&&a.startsWith(`${u}:`)),o=i?a.slice(i.length+1):a;return{component:t.sets[i??t.defaultSet].component,icon:o}})}},ice=["x-small","small","default","large","x-large"],xl=de({size:{type:[String,Number],default:"default"}},"size");function Ih(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl();return JA(()=>{let n,r;return i_(ice,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:ze(e.size),height:ze(e.size)}),{sizeClasses:n,sizeStyles:r}})}const oce=de({color:String,start:Boolean,end:Boolean,icon:xt,...Ve(),...xl(),...Pt({tag:"i"}),...Zt()},"VIcon"),Nn=be()({name:"VIcon",props:oce(),setup(e,t){let{attrs:n,slots:r}=t;const a=te(),{themeClasses:i}=yn(e),{iconData:o}=ace(O(()=>a.value||e.icon)),{sizeClasses:s}=Ih(e),{textColorClasses:l,textColorStyles:u}=Ea(ye(e,"color"));return Me(()=>{var f,d;const c=(f=r.default)==null?void 0:f.call(r);return c&&(a.value=(d=EU(c).filter(h=>h.type===vh&&h.children&&typeof h.children=="string")[0])==null?void 0:d.children),D(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",i.value,s.value,l.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[s.value?void 0:{fontSize:ze(e.size),height:ze(e.size),width:ze(e.size)},u.value,e.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[c]})}),{}}});function gE(e,t){const n=te(),r=ke(!1);if(uE){const a=new IntersectionObserver(i=>{e==null||e(i,a),r.value=!!i.find(o=>o.isIntersecting)},t);la(()=>{a.disconnect()}),Le(n,(i,o)=>{o&&(a.unobserve(o),r.value=!1),i&&a.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const sce=de({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ve(),...xl(),...Pt({tag:"div"}),...Zt()},"VProgressCircular"),yE=be()({name:"VProgressCircular",props:sce(),setup(e,t){let{slots:n}=t;const r=20,a=2*Math.PI*r,i=te(),{themeClasses:o}=yn(e),{sizeClasses:s,sizeStyles:l}=Ih(e),{textColorClasses:u,textColorStyles:c}=Ea(ye(e,"color")),{textColorClasses:f,textColorStyles:d}=Ea(ye(e,"bgColor")),{intersectionRef:h,isIntersecting:v}=gE(),{resizeRef:p,contentRect:m}=ws(),g=O(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),y=O(()=>Number(e.width)),_=O(()=>l.value?Number(e.size):m.value?m.value.width:Math.max(y.value,32)),x=O(()=>r/(1-y.value/_.value)*2),w=O(()=>y.value/_.value*x.value),b=O(()=>ze((100-g.value)/100*a));return qn(()=>{h.value=i.value,p.value=i.value}),Me(()=>D(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":v.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,s.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:g.value},{default:()=>[D("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${x.value} ${x.value}`},[D("circle",{class:["v-progress-circular__underlay",f.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":w.value,"stroke-dasharray":a,"stroke-dashoffset":0},null),D("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":w.value,"stroke-dasharray":a,"stroke-dashoffset":b.value},null)]),n.default&&D("div",{class:"v-progress-circular__content"},[n.default({value:g.value})])]})),{}}});const sO={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},yu=de({location:String},"location");function _u(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=na();return{locationStyles:O(()=>{if(!e.location)return{};const{side:i,align:o}=eC(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function s(u){return n?n(u):0}const l={};return i!=="center"&&(t?l[sO[i]]=`calc(100% - ${s(i)}px)`:l[i]=0),o!=="center"?t?l[sO[o]]=`calc(100% - ${s(o)}px)`:l[o]=0:(i==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),l})}}const lce=de({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ve(),...yu({location:"top"}),...Zn(),...Pt(),...Zt()},"VProgressLinear"),_E=be()({name:"VProgressLinear",props:lce(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),{isRtl:a,rtlClasses:i}=na(),{themeClasses:o}=yn(e),{locationStyles:s}=_u(e),{textColorClasses:l,textColorStyles:u}=Ea(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:f}=Cr(O(()=>e.bgColor||e.color)),{backgroundColorClasses:d,backgroundColorStyles:h}=Cr(e,"color"),{roundedClasses:v}=ar(e),{intersectionRef:p,isIntersecting:m}=gE(),g=O(()=>parseInt(e.max,10)),y=O(()=>parseInt(e.height,10)),_=O(()=>parseFloat(e.bufferValue)/g.value*100),x=O(()=>parseFloat(r.value)/g.value*100),w=O(()=>a.value!==e.reverse),b=O(()=>e.indeterminate?"fade-transition":"slide-x-transition"),S=O(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function C(A){if(!p.value)return;const{left:M,right:T,width:E}=p.value.getBoundingClientRect(),P=w.value?E-A.clientX+(T-E):A.clientX-M;r.value=Math.round(P/E*g.value)}return Me(()=>D(e.tag,{ref:p,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&m.value,"v-progress-linear--reverse":w.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},v.value,o.value,i.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?ze(y.value):0,"--v-progress-linear-height":ze(y.value),...s.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:x.value,onClick:e.clickable&&C},{default:()=>[e.stream&&D("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[w.value?"left":"right"]:ze(-y.value),borderTop:`${ze(y.value/2)} dotted`,opacity:S.value,top:`calc(50% - ${ze(y.value/4)})`,width:ze(100-_.value,"%"),"--v-progress-linear-stream-to":ze(y.value*(w.value?1:-1))}},null),D("div",{class:["v-progress-linear__background",c.value],style:[f.value,{opacity:S.value,width:ze(e.stream?_.value:100,"%")}]},null),D(Ta,{name:b.value},{default:()=>[e.indeterminate?D("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(A=>D("div",{key:A,class:["v-progress-linear__indeterminate",A,d.value],style:h.value},null))]):D("div",{class:["v-progress-linear__determinate",d.value],style:[h.value,{width:ze(x.value,"%")}]},null)]}),n.default&&D("div",{class:"v-progress-linear__content"},[n.default({value:x.value,buffer:_.value})])]})),{}}}),xE=de({loading:[Boolean,String]},"loader");function $1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl();return{loaderClasses:O(()=>({[`${t}--loading`]:e.loading}))}}function bE(e,t){var r;let{slots:n}=t;return D("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||D(_E,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const uce=["static","relative","fixed","absolute","sticky"],Rh=de({position:{type:String,validator:e=>uce.includes(e)}},"position");function Oh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl();return{positionClasses:O(()=>e.position?`${t}--${e.position}`:void 0)}}function iz(){var e,t;return(t=(e=ta("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Bm(e,t){const n=g2("RouterLink"),r=O(()=>!!(e.href||e.to)),a=O(()=>(r==null?void 0:r.value)||UR(t,"click")||UR(e,"click"));if(typeof n=="string")return{isLink:r,isClickable:a,href:ye(e,"href")};const i=e.to?n.useLink(e):void 0;return{isLink:r,isClickable:a,route:i==null?void 0:i.route,navigate:i==null?void 0:i.navigate,isActive:i&&O(()=>{var o,s;return e.exact?(o=i.isExactActive)==null?void 0:o.value:(s=i.isActive)==null?void 0:s.value}),href:O(()=>e.to?i==null?void 0:i.route.value.href:e.href)}}const Vm=de({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let vw=!1;function cce(e,t){let n=!1,r,a;Tr&&(Ot(()=>{window.addEventListener("popstate",i),r=e==null?void 0:e.beforeEach((o,s,l)=>{vw?n?t(l):l():setTimeout(()=>n?t(l):l()),vw=!0}),a=e==null?void 0:e.afterEach(()=>{vw=!1})}),wa(()=>{window.removeEventListener("popstate",i),r==null||r(),a==null||a()}));function i(o){var s;(s=o.state)!=null&&s.replaced||(n=!0,setTimeout(()=>n=!1))}}function fce(e,t){Le(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Ot(()=>{t(!0)})},{immediate:!0})}const fC=Symbol("rippleStop"),dce=80;function lO(e,t){e.style.transform=t,e.style.webkitTransform=t}function dC(e){return e.constructor.name==="TouchEvent"}function oz(e){return e.constructor.name==="KeyboardEvent"}const hce=function(e,t){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,a=0;if(!oz(e)){const d=t.getBoundingClientRect(),h=dC(e)?e.touches[e.touches.length-1]:e;r=h.clientX-d.left,a=h.clientY-d.top}let i=0,o=.3;(f=t._ripple)!=null&&f.circle?(o=.15,i=t.clientWidth/2,i=n.center?i:i+Math.sqrt((r-i)**2+(a-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-i*2)/2}px`,l=`${(t.clientHeight-i*2)/2}px`,u=n.center?s:`${r-i}px`,c=n.center?l:`${a-i}px`;return{radius:i,scale:o,x:u,y:c,centerX:s,centerY:l}},c_={show(e,t){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=document.createElement("span"),a=document.createElement("span");r.appendChild(a),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:i,scale:o,x:s,y:l,centerX:u,centerY:c}=hce(e,t,n),f=`${i*2}px`;a.className="v-ripple__animation",a.style.width=f,a.style.height=f,t.appendChild(r);const d=window.getComputedStyle(t);d&&d.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),lO(a,`translate(${s}, ${l}) scale3d(${o},${o},${o})`),a.dataset.activated=String(performance.now()),setTimeout(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),lO(a,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var i;if(!((i=e==null?void 0:e._ripple)!=null&&i.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),a=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=n.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(n.parentNode)},300)},a)}};function sz(e){return typeof e>"u"||!!e}function rm(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[fC])){if(e[fC]=!0,dC(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||oz(e),n._ripple.class&&(t.class=n._ripple.class),dC(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{c_.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},dce)}else c_.show(e,n,t)}}function uO(e){e[fC]=!0}function bi(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{bi(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),c_.hide(t)}}function lz(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let am=!1;function uz(e){!am&&(e.keyCode===NR.enter||e.keyCode===NR.space)&&(am=!0,rm(e))}function cz(e){am=!1,bi(e)}function fz(e){am&&(am=!1,bi(e))}function dz(e,t,n){const{value:r,modifiers:a}=t,i=sz(r);if(i||c_.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=i,e._ripple.centered=a.center,e._ripple.circle=a.circle,KT(r)&&r.class&&(e._ripple.class=r.class),i&&!n){if(a.stop){e.addEventListener("touchstart",uO,{passive:!0}),e.addEventListener("mousedown",uO);return}e.addEventListener("touchstart",rm,{passive:!0}),e.addEventListener("touchend",bi,{passive:!0}),e.addEventListener("touchmove",lz,{passive:!0}),e.addEventListener("touchcancel",bi),e.addEventListener("mousedown",rm),e.addEventListener("mouseup",bi),e.addEventListener("mouseleave",bi),e.addEventListener("keydown",uz),e.addEventListener("keyup",cz),e.addEventListener("blur",fz),e.addEventListener("dragstart",bi,{passive:!0})}else!i&&n&&hz(e)}function hz(e){e.removeEventListener("mousedown",rm),e.removeEventListener("touchstart",rm),e.removeEventListener("touchend",bi),e.removeEventListener("touchmove",lz),e.removeEventListener("touchcancel",bi),e.removeEventListener("mouseup",bi),e.removeEventListener("mouseleave",bi),e.removeEventListener("keydown",uz),e.removeEventListener("keyup",cz),e.removeEventListener("dragstart",bi),e.removeEventListener("blur",fz)}function vce(e,t){dz(e,t,!1)}function pce(e){delete e._ripple,hz(e)}function mce(e,t){if(t.value===t.oldValue)return;const n=sz(t.oldValue);dz(e,t,n)}const xu={mounted:vce,unmounted:pce,updated:mce},wE=de({active:{type:Boolean,default:void 0},symbol:{type:null,default:vE},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:xt,appendIcon:xt,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Ci(),...Ve(),...Yr(),...go(),...Wr(),...Ph(),...xE(),...yu(),...Rh(),...Zn(),...Vm(),...xl(),...Pt({tag:"button"}),...Zt(),...xo({variant:"elevated"})},"VBtn"),$a=be()({name:"VBtn",directives:{Ripple:xu},props:wE(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=yn(e),{borderClasses:i}=_o(e),{colorClasses:o,colorStyles:s,variantClasses:l}=Tf(e),{densityClasses:u}=Pa(e),{dimensionStyles:c}=yo(e),{elevationClasses:f}=ua(e),{loaderClasses:d}=$1(e),{locationStyles:h}=_u(e),{positionClasses:v}=Oh(e),{roundedClasses:p}=ar(e),{sizeClasses:m,sizeStyles:g}=Ih(e),y=Lh(e,e.symbol,!1),_=Bm(e,n),x=O(()=>{var A;return e.active!==void 0?e.active:_.isLink.value?(A=_.isActive)==null?void 0:A.value:y==null?void 0:y.isSelected.value}),w=O(()=>(y==null?void 0:y.disabled.value)||e.disabled),b=O(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),S=O(()=>{if(e.value!==void 0)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function C(A){var M;w.value||_.isLink.value&&(A.metaKey||A.ctrlKey||A.shiftKey||A.button!==0||n.target==="_blank")||((M=_.navigate)==null||M.call(_,A),y==null||y.toggle())}return fce(_,y==null?void 0:y.select),Me(()=>{var I,k;const A=_.isLink.value?"a":e.tag,M=!!(e.prependIcon||r.prepend),T=!!(e.appendIcon||r.append),E=!!(e.icon&&e.icon!==!0),P=(y==null?void 0:y.isSelected.value)&&(!_.isLink.value||((I=_.isActive)==null?void 0:I.value))||!y||((k=_.isActive)==null?void 0:k.value);return On(D(A,{type:A==="a"?void 0:"button",class:["v-btn",y==null?void 0:y.selectedClass.value,{"v-btn--active":x.value,"v-btn--block":e.block,"v-btn--disabled":w.value,"v-btn--elevated":b.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},a.value,i.value,P?o.value:void 0,u.value,f.value,d.value,v.value,p.value,m.value,l.value,e.class],style:[P?s.value:void 0,c.value,h.value,g.value,e.style],disabled:w.value||void 0,href:_.href.value,onClick:C,value:S.value},{default:()=>{var B;return[Sf(!0,"v-btn"),!e.icon&&M&&D("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?D(An,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):D(Nn,{key:"prepend-icon",icon:e.prependIcon},null)]),D("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&E?D(Nn,{key:"content-icon",icon:e.icon},null):D(An,{key:"content-defaults",disabled:!E,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var U;return[((U=r.default)==null?void 0:U.call(r))??e.text]}})]),!e.icon&&T&&D("span",{key:"append",class:"v-btn__append"},[r.append?D(An,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):D(Nn,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&D("span",{key:"loader",class:"v-btn__loader"},[((B=r.loader)==null?void 0:B.call(r))??D(yE,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[di("ripple"),!w.value&&e.ripple,null]])}),{}}}),gce=de({...wE({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),yce=be()({name:"VAppBarNavIcon",props:gce(),setup(e,t){let{slots:n}=t;return Me(()=>D($a,Ee(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),_ce=be()({name:"VAppBarTitle",props:qU(),setup(e,t){let{slots:n}=t;return Me(()=>D(cE,Ee(e,{class:"v-app-bar-title"}),n)),{}}});const vz=$o("v-alert-title"),xce=["success","info","warning","error"],bce=de({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:xt,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>xce.includes(e)},...Ve(),...Yr(),...go(),...Wr(),...yu(),...Rh(),...Zn(),...Pt(),...Zt(),...xo({variant:"flat"})},"VAlert"),wce=be()({name:"VAlert",props:bce(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=Tt(e,"modelValue"),i=O(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=O(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:s}=yn(e),{colorClasses:l,colorStyles:u,variantClasses:c}=Tf(o),{densityClasses:f}=Pa(e),{dimensionStyles:d}=yo(e),{elevationClasses:h}=ua(e),{locationStyles:v}=_u(e),{positionClasses:p}=Oh(e),{roundedClasses:m}=ar(e),{textColorClasses:g,textColorStyles:y}=Ea(ye(e,"borderColor")),{t:_}=mo(),x=O(()=>({"aria-label":_(e.closeLabel),onClick(w){a.value=!1,n("click:close",w)}}));return()=>{const w=!!(r.prepend||i.value),b=!!(r.title||e.title),S=!!(r.close||e.closable);return a.value&&D(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},s.value,l.value,f.value,h.value,p.value,m.value,c.value,e.class],style:[u.value,d.value,v.value,e.style],role:"alert"},{default:()=>{var C,A;return[Sf(!1,"v-alert"),e.border&&D("div",{key:"border",class:["v-alert__border",g.value],style:y.value},null),w&&D("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?D(An,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},r.prepend):D(Nn,{key:"prepend-icon",density:e.density,icon:i.value,size:e.prominent?44:28},null)]),D("div",{class:"v-alert__content"},[b&&D(vz,{key:"title"},{default:()=>{var M;return[((M=r.title)==null?void 0:M.call(r))??e.title]}}),((C=r.text)==null?void 0:C.call(r))??e.text,(A=r.default)==null?void 0:A.call(r)]),r.append&&D("div",{key:"append",class:"v-alert__append"},[r.append()]),S&&D("div",{key:"close",class:"v-alert__close"},[r.close?D(An,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var M;return[(M=r.close)==null?void 0:M.call(r,{props:x.value})]}}):D($a,Ee({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},x.value),null)])]}})}}});const Sce=de({text:String,clickable:Boolean,...Ve(),...Zt()},"VLabel"),kh=be()({name:"VLabel",props:Sce(),setup(e,t){let{slots:n}=t;return Me(()=>{var r;return D("label",{class:["v-label",{"v-label--clickable":e.clickable},e.class],style:e.style},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}});const pz=Symbol.for("vuetify:selection-control-group"),SE=de({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:xt,trueIcon:xt,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:xf},...Ve(),...Yr(),...Zt()},"SelectionControlGroup"),Tce=de({...SE({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),mz=be()({name:"VSelectionControlGroup",props:Tce(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),a=Ma(),i=O(()=>e.id||`v-selection-control-group-${a}`),o=O(()=>e.name||i.value),s=new Set;return dr(pz,{modelValue:r,forceUpdate:()=>{s.forEach(l=>l())},onForceUpdate:l=>{s.add(l),wa(()=>{s.delete(l)})}}),Rr({[e.defaultsTarget]:{color:ye(e,"color"),disabled:ye(e,"disabled"),density:ye(e,"density"),error:ye(e,"error"),inline:ye(e,"inline"),modelValue:r,multiple:O(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:o,falseIcon:ye(e,"falseIcon"),trueIcon:ye(e,"trueIcon"),readonly:ye(e,"readonly"),ripple:ye(e,"ripple"),type:ye(e,"type"),valueComparator:ye(e,"valueComparator")}}),Me(()=>{var l;return D("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),G1=de({label:String,trueValue:null,falseValue:null,value:null,...Ve(),...SE()},"VSelectionControl");function Cce(e){const t=It(pz,void 0),{densityClasses:n}=Pa(e),r=Tt(e,"modelValue"),a=O(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=O(()=>e.falseValue!==void 0?e.falseValue:!1),o=O(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),s=O({get(){const f=t?t.modelValue.value:r.value;return o.value?f.some(d=>e.valueComparator(d,a.value)):e.valueComparator(f,a.value)},set(f){if(e.readonly)return;const d=f?a.value:i.value;let h=d;o.value&&(h=f?[...to(r.value),d]:to(r.value).filter(v=>!e.valueComparator(v,a.value))),t?t.modelValue.value=h:r.value=h}}),{textColorClasses:l,textColorStyles:u}=Ea(O(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),c=O(()=>s.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:a,falseValue:i,model:s,textColorClasses:l,textColorStyles:u,icon:c}}const nh=be()({name:"VSelectionControl",directives:{Ripple:xu},inheritAttrs:!1,props:G1(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:a,densityClasses:i,icon:o,model:s,textColorClasses:l,textColorStyles:u,trueValue:c}=Cce(e),f=Ma(),d=O(()=>e.id||`input-${f}`),h=ke(!1),v=ke(!1),p=te();a==null||a.onForceUpdate(()=>{p.value&&(p.value.checked=s.value)});function m(_){h.value=!0,(!aC||aC&&_.target.matches(":focus-visible"))&&(v.value=!0)}function g(){h.value=!1,v.value=!1}function y(_){e.readonly&&a&&Ot(()=>a.forceUpdate()),s.value=_.target.checked}return Me(()=>{var b,S;const _=r.label?r.label({label:e.label,props:{for:d.value}}):e.label,[x,w]=bf(n);return D("div",Ee({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},i.value,e.class]},x,{style:e.style}),[D("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(b=r.default)==null?void 0:b.call(r),On(D("div",{class:["v-selection-control__input"]},[o.value&&D(Nn,{key:"icon",icon:o.value},null),D("input",Ee({ref:p,checked:s.value,disabled:!!(e.readonly||e.disabled),id:d.value,onBlur:g,onFocus:m,onInput:y,"aria-disabled":!!(e.readonly||e.disabled),type:e.type,value:c.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},w),null),(S=r.input)==null?void 0:S.call(r,{model:s,textColorClasses:l,textColorStyles:u,props:{onFocus:m,onBlur:g,id:d.value}})]),[[di("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),_&&D(kh,{for:d.value,clickable:!0},{default:()=>[_]})])}),{isFocused:h,input:p}}}),gz=de({indeterminate:Boolean,indeterminateIcon:{type:xt,default:"$checkboxIndeterminate"},...G1({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),rh=be()({name:"VCheckboxBtn",props:gz(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"indeterminate"),a=Tt(e,"modelValue");function i(l){r.value&&(r.value=!1)}const o=O(()=>r.value?e.indeterminateIcon:e.falseIcon),s=O(()=>r.value?e.indeterminateIcon:e.trueIcon);return Me(()=>D(nh,Ee(e,{modelValue:a.value,"onUpdate:modelValue":[l=>a.value=l,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:s.value,"aria-checked":r.value?"mixed":void 0}),n)),{}}});function yz(e){const{t}=mo();function n(r){let{name:a}=r;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[a],o=e[`onClick:${a}`],s=o&&i?t(`$vuetify.input.${i}`,e.label??""):void 0;return D(Nn,{icon:e[`${a}Icon`],"aria-label":s,onClick:o},null)}return{InputIcon:n}}const Ace=de({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ve(),..._l({transition:{component:fE,leaveAbsolute:!0,group:!0}})},"VMessages"),_z=be()({name:"VMessages",props:Ace(),setup(e,t){let{slots:n}=t;const r=O(()=>to(e.messages)),{textColorClasses:a,textColorStyles:i}=Ea(O(()=>e.color));return Me(()=>D(Oo,{transition:e.transition,tag:"div",class:["v-messages",a.value,e.class],style:[i.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((o,s)=>D("div",{class:"v-messages__message",key:`${s}-${r.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),W1=de({focused:Boolean,"onUpdate:focused":ms()},"focus");function bu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl();const n=Tt(e,"focused"),r=O(()=>({[`${t}--focused`]:n.value}));function a(){n.value=!0}function i(){n.value=!1}return{focusClasses:r,isFocused:n,focus:a,blur:i}}const xz=Symbol.for("vuetify:form"),Ece=de({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Dce(e){const t=Tt(e,"modelValue"),n=O(()=>e.disabled),r=O(()=>e.readonly),a=ke(!1),i=te([]),o=te([]);async function s(){const c=[];let f=!0;o.value=[],a.value=!0;for(const d of i.value){const h=await d.validate();if(h.length>0&&(f=!1,c.push({id:d.id,errorMessages:h})),!f&&e.fastFail)break}return o.value=c,a.value=!1,{valid:f,errors:o.value}}function l(){i.value.forEach(c=>c.reset())}function u(){i.value.forEach(c=>c.resetValidation())}return Le(i,()=>{let c=0,f=0;const d=[];for(const h of i.value)h.isValid===!1?(f++,d.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&c++;o.value=d,t.value=f>0?!1:c===i.value.length?!0:null},{deep:!0}),dr(xz,{register:c=>{let{id:f,validate:d,reset:h,resetValidation:v}=c;i.value.some(p=>p.id===f)&&al(`Duplicate input name "${f}"`),i.value.push({id:f,validate:d,reset:h,resetValidation:v,isValid:null,errorMessages:[]})},unregister:c=>{i.value=i.value.filter(f=>f.id!==c)},update:(c,f,d)=>{const h=i.value.find(v=>v.id===c);h&&(h.isValid=f,h.errorMessages=d)},isDisabled:n,isReadonly:r,isValidating:a,isValid:t,items:i,validateOn:ye(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:r,isValidating:a,isValid:t,items:i,validate:s,reset:l,resetValidation:u}}function Y1(){return It(xz,null)}const bz=de({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...W1()},"validation");function wz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yl(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ma();const r=Tt(e,"modelValue"),a=O(()=>e.validationValue===void 0?r.value:e.validationValue),i=Y1(),o=te([]),s=ke(!0),l=O(()=>!!(to(r.value===""?null:r.value).length||to(a.value===""?null:a.value).length)),u=O(()=>!!(e.disabled??(i==null?void 0:i.isDisabled.value))),c=O(()=>!!(e.readonly??(i==null?void 0:i.isReadonly.value))),f=O(()=>e.errorMessages.length?to(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):o.value),d=O(()=>{let x=(e.validateOn??(i==null?void 0:i.validateOn.value))||"input";x==="lazy"&&(x="input lazy");const w=new Set((x==null?void 0:x.split(" "))??[]);return{blur:w.has("blur")||w.has("input"),input:w.has("input"),submit:w.has("submit"),lazy:w.has("lazy")}}),h=O(()=>e.error||e.errorMessages.length?!1:e.rules.length?s.value?o.value.length||d.value.lazy?null:!0:!o.value.length:!0),v=ke(!1),p=O(()=>({[`${t}--error`]:h.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),m=O(()=>e.name??ie(n));z_(()=>{i==null||i.register({id:m.value,validate:_,reset:g,resetValidation:y})}),la(()=>{i==null||i.unregister(m.value)}),nn(async()=>{d.value.lazy||await _(!0),i==null||i.update(m.value,h.value,f.value)}),ll(()=>d.value.input,()=>{Le(a,()=>{if(a.value!=null)_();else if(e.focused){const x=Le(()=>e.focused,w=>{w||_(),x()})}})}),ll(()=>d.value.blur,()=>{Le(()=>e.focused,x=>{x||_()})}),Le(h,()=>{i==null||i.update(m.value,h.value,f.value)});function g(){r.value=null,Ot(y)}function y(){s.value=!0,d.value.lazy?o.value=[]:_(!0)}async function _(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const w=[];v.value=!0;for(const b of e.rules){if(w.length>=+(e.maxErrors??1))break;const C=await(typeof b=="function"?b:()=>b)(a.value);if(C!==!0){if(C!==!1&&typeof C!="string"){console.warn(`${C} is not a valid value. Rule functions must return boolean true or a string.`);continue}w.push(C||"")}}return o.value=w,v.value=!1,s.value=x,o.value}return{errorMessages:f,isDirty:l,isDisabled:u,isReadonly:c,isPristine:s,isValid:h,isValidating:v,reset:g,resetValidation:y,validate:_,validationClasses:p}}const bl=de({id:String,appendIcon:xt,centerAffix:{type:Boolean,default:!0},prependIcon:xt,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":ms(),"onClick:append":ms(),...Ve(),...Yr(),...bz()},"VInput"),sa=be()({name:"VInput",props:{...bl()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:a}=t;const{densityClasses:i}=Pa(e),{rtlClasses:o}=na(),{InputIcon:s}=yz(e),l=Ma(),u=O(()=>e.id||`input-${l}`),c=O(()=>`${u.value}-messages`),{errorMessages:f,isDirty:d,isDisabled:h,isReadonly:v,isPristine:p,isValid:m,isValidating:g,reset:y,resetValidation:_,validate:x,validationClasses:w}=wz(e,"v-input",u),b=O(()=>({id:u,messagesId:c,isDirty:d,isDisabled:h,isReadonly:v,isPristine:p,isValid:m,isValidating:g,reset:y,resetValidation:_,validate:x})),S=O(()=>{var C;return(C=e.errorMessages)!=null&&C.length||!p.value&&f.value.length?f.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Me(()=>{var E,P,I,k;const C=!!(r.prepend||e.prependIcon),A=!!(r.append||e.appendIcon),M=S.value.length>0,T=!e.hideDetails||e.hideDetails==="auto"&&(M||!!r.details);return D("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix},i.value,o.value,w.value,e.class],style:e.style},[C&&D("div",{key:"prepend",class:"v-input__prepend"},[(E=r.prepend)==null?void 0:E.call(r,b.value),e.prependIcon&&D(s,{key:"prepend-icon",name:"prepend"},null)]),r.default&&D("div",{class:"v-input__control"},[(P=r.default)==null?void 0:P.call(r,b.value)]),A&&D("div",{key:"append",class:"v-input__append"},[e.appendIcon&&D(s,{key:"append-icon",name:"append"},null),(I=r.append)==null?void 0:I.call(r,b.value)]),T&&D("div",{class:"v-input__details"},[D(_z,{id:c.value,active:M,messages:S.value},{message:r.message}),(k=r.details)==null?void 0:k.call(r,b.value)])])}),{reset:y,resetValidation:_,validate:x}}}),Mce=de({...bl(),...As(gz(),["inline"])},"VCheckbox"),Pce=be()({name:"VCheckbox",inheritAttrs:!1,props:Mce(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=Tt(e,"modelValue"),{isFocused:i,focus:o,blur:s}=bu(e),l=Ma(),u=O(()=>e.id||`checkbox-${l}`);return Me(()=>{const[c,f]=bf(n),[d,h]=sa.filterProps(e),[v,p]=rh.filterProps(e);return D(sa,Ee({class:["v-checkbox",e.class]},c,d,{modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,id:u.value,focused:i.value,style:e.style}),{...r,default:m=>{let{id:g,messagesId:y,isDisabled:_,isReadonly:x}=m;return D(rh,Ee(v,{id:g.value,"aria-describedby":y.value,disabled:_.value,readonly:x.value},f,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,onFocus:o,onBlur:s}),r)}})}),{}}});const Lce=de({start:Boolean,end:Boolean,icon:xt,image:String,...Ve(),...Yr(),...Zn(),...xl(),...Pt(),...Zt(),...xo({variant:"flat"})},"VAvatar"),hu=be()({name:"VAvatar",props:Lce(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{colorClasses:a,colorStyles:i,variantClasses:o}=Tf(e),{densityClasses:s}=Pa(e),{roundedClasses:l}=ar(e),{sizeClasses:u,sizeStyles:c}=Ih(e);return Me(()=>D(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,a.value,s.value,l.value,u.value,o.value,e.class],style:[i.value,c.value,e.style]},{default:()=>{var f;return[e.image?D(sf,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?D(Nn,{key:"icon",icon:e.icon},null):(f=n.default)==null?void 0:f.call(n),Sf(!1,"v-avatar")]}})),{}}});const Sz=Symbol.for("vuetify:v-chip-group"),Ice=de({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:xf},...Ve(),...Mh({selectedClass:"v-chip--selected"}),...Pt(),...Zt(),...xo({variant:"tonal"})},"VChipGroup"),Rce=be()({name:"VChipGroup",props:Ice(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{isSelected:a,select:i,next:o,prev:s,selected:l}=Cf(e,Sz);return Rr({VChip:{color:ye(e,"color"),disabled:ye(e,"disabled"),filter:ye(e,"filter"),variant:ye(e,"variant")}}),Me(()=>D(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:a,select:i,next:o,prev:s,selected:l.value})]}})),{}}}),Oce=de({activeClass:String,appendAvatar:String,appendIcon:xt,closable:Boolean,closeIcon:{type:xt,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:xt,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ms(),onClickOnce:ms(),...Ci(),...Ve(),...Yr(),...Wr(),...Ph(),...Zn(),...Vm(),...xl(),...Pt({tag:"span"}),...Zt(),...xo({variant:"tonal"})},"VChip"),Fm=be()({name:"VChip",directives:{Ripple:xu},props:Oce(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{t:i}=mo(),{borderClasses:o}=_o(e),{colorClasses:s,colorStyles:l,variantClasses:u}=Tf(e),{densityClasses:c}=Pa(e),{elevationClasses:f}=ua(e),{roundedClasses:d}=ar(e),{sizeClasses:h}=Ih(e),{themeClasses:v}=yn(e),p=Tt(e,"modelValue"),m=Lh(e,Sz,!1),g=Bm(e,n),y=O(()=>e.link!==!1&&g.isLink.value),_=O(()=>!e.disabled&&e.link!==!1&&(!!m||e.link||g.isClickable.value)),x=O(()=>({"aria-label":i(e.closeLabel),onClick(S){p.value=!1,r("click:close",S)}}));function w(S){var C;r("click",S),_.value&&((C=g.navigate)==null||C.call(g,S),m==null||m.toggle())}function b(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),w(S))}return()=>{const S=g.isLink.value?"a":e.tag,C=!!(e.appendIcon||e.appendAvatar),A=!!(C||a.append),M=!!(a.close||e.closable),T=!!(a.filter||e.filter)&&m,E=!!(e.prependIcon||e.prependAvatar),P=!!(E||a.prepend),I=!m||m.isSelected.value;return p.value&&On(D(S,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":_.value,"v-chip--filter":T,"v-chip--pill":e.pill},v.value,o.value,I?s.value:void 0,c.value,f.value,d.value,h.value,u.value,m==null?void 0:m.selectedClass.value,e.class],style:[I?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:g.href.value,tabindex:_.value?0:void 0,onClick:w,onKeydown:_.value&&!y.value&&b},{default:()=>{var k;return[Sf(_.value,"v-chip"),T&&D(dE,{key:"filter"},{default:()=>[On(D("div",{class:"v-chip__filter"},[a.filter?On(D(An,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[di("slot"),a.filter,"default"]]):D(Nn,{key:"filter-icon",icon:e.filterIcon},null)]),[[ui,m.isSelected.value]])]}),P&&D("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?D(An,{key:"prepend-defaults",disabled:!E,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):D(Ae,null,[e.prependIcon&&D(Nn,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&D(hu,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),D("div",{class:"v-chip__content"},[((k=a.default)==null?void 0:k.call(a,{isSelected:m==null?void 0:m.isSelected.value,selectedClass:m==null?void 0:m.selectedClass.value,select:m==null?void 0:m.select,toggle:m==null?void 0:m.toggle,value:m==null?void 0:m.value.value,disabled:e.disabled}))??e.text]),A&&D("div",{key:"append",class:"v-chip__append"},[a.append?D(An,{key:"append-defaults",disabled:!C,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):D(Ae,null,[e.appendIcon&&D(Nn,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&D(hu,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),M&&D("div",Ee({key:"close",class:"v-chip__close"},x.value),[a.close?D(An,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):D(Nn,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[di("ripple"),_.value&&e.ripple,null]])}}});const hC=Symbol.for("vuetify:list");function Tz(){const e=It(hC,{hasPrepend:ke(!1),updateHasPrepend:()=>null}),t={hasPrepend:ke(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return dr(hC,t),e}function Cz(){return It(hC,null)}const kce={open:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(n){const i=new Set;i.add(t);let o=a.get(t);for(;o!=null;)i.add(o),o=a.get(o);return i}else return r.delete(t),r},select:()=>null},Az={open:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(n){let i=a.get(t);for(r.add(t);i!=null&&i!==t;)r.add(i),i=a.get(i);return r}else r.delete(t);return r},select:()=>null},Nce={open:Az.open,select:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(!n)return r;const i=[];let o=a.get(t);for(;o!=null;)i.push(o),o=a.get(o);return new Set(i)}},TE=e=>{const t={select:n=>{let{id:r,value:a,selected:i}=n;if(r=it(r),e&&!a){const o=Array.from(i.entries()).reduce((s,l)=>{let[u,c]=l;return c==="on"?[...s,u]:s},[]);if(o.length===1&&o[0]===r)return i}return i.set(r,a?"on":"off"),i},in:(n,r,a)=>{let i=new Map;for(const o of n||[])i=t.select({id:o,value:!0,selected:new Map(i),children:r,parents:a});return i},out:n=>{const r=[];for(const[a,i]of n.entries())i==="on"&&r.push(a);return r}};return t},Ez=e=>{const t=TE(e);return{select:r=>{let{selected:a,id:i,...o}=r;i=it(i);const s=a.has(i)?new Map([[i,a.get(i)]]):new Map;return t.select({...o,id:i,selected:s})},in:(r,a,i)=>{let o=new Map;return r!=null&&r.length&&(o=t.in(r.slice(0,1),a,i)),o},out:(r,a,i)=>t.out(r,a,i)}},Bce=e=>{const t=TE(e);return{select:r=>{let{id:a,selected:i,children:o,...s}=r;return a=it(a),o.has(a)?i:t.select({id:a,selected:i,children:o,...s})},in:t.in,out:t.out}},Vce=e=>{const t=Ez(e);return{select:r=>{let{id:a,selected:i,children:o,...s}=r;return a=it(a),o.has(a)?i:t.select({id:a,selected:i,children:o,...s})},in:t.in,out:t.out}},Fce=e=>{const t={select:n=>{let{id:r,value:a,selected:i,children:o,parents:s}=n;r=it(r);const l=new Map(i),u=[r];for(;u.length;){const f=u.shift();i.set(f,a?"on":"off"),o.has(f)&&u.push(...o.get(f))}let c=s.get(r);for(;c;){const f=o.get(c),d=f.every(v=>i.get(v)==="on"),h=f.every(v=>!i.has(v)||i.get(v)==="off");i.set(c,d?"on":h?"off":"indeterminate"),c=s.get(c)}return e&&!a&&Array.from(i.entries()).reduce((d,h)=>{let[v,p]=h;return p==="on"?[...d,v]:d},[]).length===0?l:i},in:(n,r,a)=>{let i=new Map;for(const o of n||[])i=t.select({id:o,value:!0,selected:new Map(i),children:r,parents:a});return i},out:(n,r)=>{const a=[];for(const[i,o]of n.entries())o==="on"&&!r.has(i)&&a.push(i);return a}};return t},im=Symbol.for("vuetify:nested"),Dz={id:ke(),root:{register:()=>null,unregister:()=>null,parents:te(new Map),children:te(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:te(new Set),selected:te(new Map),selectedValues:te([])}},Uce=de({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),zce=e=>{let t=!1;const n=te(new Map),r=te(new Map),a=Tt(e,"opened",e.opened,f=>new Set(f),f=>[...f.values()]),i=O(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return Vce(e.mandatory);case"leaf":return Bce(e.mandatory);case"independent":return TE(e.mandatory);case"single-independent":return Ez(e.mandatory);case"classic":default:return Fce(e.mandatory)}}),o=O(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Nce;case"single":return kce;case"multiple":default:return Az}}),s=Tt(e,"selected",e.selected,f=>i.value.in(f,n.value,r.value),f=>i.value.out(f,n.value,r.value));la(()=>{t=!0});function l(f){const d=[];let h=f;for(;h!=null;)d.unshift(h),h=r.value.get(h);return d}const u=ta("nested"),c={id:ke(),root:{opened:a,selected:s,selectedValues:O(()=>{const f=[];for(const[d,h]of s.value.entries())h==="on"&&f.push(d);return f}),register:(f,d,h)=>{d&&f!==d&&r.value.set(f,d),h&&n.value.set(f,[]),d!=null&&n.value.set(d,[...n.value.get(d)||[],f])},unregister:f=>{if(t)return;n.value.delete(f);const d=r.value.get(f);if(d){const h=n.value.get(d)??[];n.value.set(d,h.filter(v=>v!==f))}r.value.delete(f),a.value.delete(f)},open:(f,d,h)=>{u.emit("click:open",{id:f,value:d,path:l(f),event:h});const v=o.value.open({id:f,value:d,opened:new Set(a.value),children:n.value,parents:r.value,event:h});v&&(a.value=v)},openOnSelect:(f,d,h)=>{const v=o.value.select({id:f,value:d,selected:new Map(s.value),opened:new Set(a.value),children:n.value,parents:r.value,event:h});v&&(a.value=v)},select:(f,d,h)=>{u.emit("click:select",{id:f,value:d,path:l(f),event:h});const v=i.value.select({id:f,value:d,selected:new Map(s.value),children:n.value,parents:r.value,event:h});v&&(s.value=v),c.root.openOnSelect(f,d,h)},children:n,parents:r}};return dr(im,c),c.root},Mz=(e,t)=>{const n=It(im,Dz),r=Symbol(Ma()),a=O(()=>e.value!==void 0?e.value:r),i={...n,id:a,open:(o,s)=>n.root.open(a.value,o,s),openOnSelect:(o,s)=>n.root.openOnSelect(a.value,o,s),isOpen:O(()=>n.root.opened.value.has(a.value)),parent:O(()=>n.root.parents.value.get(a.value)),select:(o,s)=>n.root.select(a.value,o,s),isSelected:O(()=>n.root.selected.value.get(it(a.value))==="on"),isIndeterminate:O(()=>n.root.selected.value.get(a.value)==="indeterminate"),isLeaf:O(()=>!n.root.children.value.get(a.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(a.value,n.id.value,t),la(()=>{!n.isGroupActivator&&n.root.unregister(a.value)}),t&&dr(im,i),i},Hce=()=>{const e=It(im,Dz);dr(im,{...e,isGroupActivator:!0})},$ce=po({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return Hce(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),Gce=de({activeColor:String,baseColor:String,color:String,collapseIcon:{type:xt,default:"$collapse"},expandIcon:{type:xt,default:"$expand"},prependIcon:xt,appendIcon:xt,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ve(),...Pt()},"VListGroup"),vC=be()({name:"VListGroup",props:Gce(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:a,id:i}=Mz(ye(e,"value"),!0),o=O(()=>`v-list-group--id-${String(i.value)}`),s=Cz(),{isBooted:l}=wf();function u(h){a(!r.value,h)}const c=O(()=>({onClick:u,class:"v-list-group__header",id:o.value})),f=O(()=>r.value?e.collapseIcon:e.expandIcon),d=O(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return Me(()=>D(e.tag,{class:["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&D(An,{defaults:d.value},{default:()=>[D($ce,null,{default:()=>[n.activator({props:c.value,isOpen:r.value})]})]}),D(Oo,{transition:{component:z1},disabled:!l.value},{default:()=>{var h;return[On(D("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(h=n.default)==null?void 0:h.call(n)]),[[ui,r.value]])]}})]})),{}}});const Pz=$o("v-list-item-subtitle"),Lz=$o("v-list-item-title"),Wce=de({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:xt,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:xt,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:ms(),onClickOnce:ms(),...Ci(),...Ve(),...Yr(),...go(),...Wr(),...Zn(),...Vm(),...Pt(),...Zt(),...xo({variant:"text"})},"VListItem"),ul=be()({name:"VListItem",directives:{Ripple:xu},props:Wce(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:a}=t;const i=Bm(e,n),o=O(()=>e.value===void 0?i.href.value:e.value),{select:s,isSelected:l,isIndeterminate:u,isGroupActivator:c,root:f,parent:d,openOnSelect:h}=Mz(o,!1),v=Cz(),p=O(()=>{var R;return e.active!==!1&&(e.active||((R=i.isActive)==null?void 0:R.value)||l.value)}),m=O(()=>e.link!==!1&&i.isLink.value),g=O(()=>!e.disabled&&e.link!==!1&&(e.link||i.isClickable.value||e.value!=null&&!!v)),y=O(()=>e.rounded||e.nav),_=O(()=>e.color??e.activeColor),x=O(()=>({color:p.value?_.value??e.baseColor:e.baseColor,variant:e.variant}));Le(()=>{var R;return(R=i.isActive)==null?void 0:R.value},R=>{R&&d.value!=null&&f.open(d.value,!0),R&&h(R)},{immediate:!0});const{themeClasses:w}=yn(e),{borderClasses:b}=_o(e),{colorClasses:S,colorStyles:C,variantClasses:A}=Tf(x),{densityClasses:M}=Pa(e),{dimensionStyles:T}=yo(e),{elevationClasses:E}=ua(e),{roundedClasses:P}=ar(y),I=O(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),k=O(()=>({isActive:p.value,select:s,isSelected:l.value,isIndeterminate:u.value}));function B(R){var L;a("click",R),!(c||!g.value)&&((L=i.navigate)==null||L.call(i,R),e.value!=null&&s(!l.value,R))}function U(R){(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),B(R))}return Me(()=>{const R=m.value?"a":e.tag,L=r.title||e.title,z=r.subtitle||e.subtitle,X=!!(e.appendAvatar||e.appendIcon),Y=!!(X||r.append),$=!!(e.prependAvatar||e.prependIcon),F=!!($||r.prepend);return v==null||v.updateHasPrepend(F),e.activeColor&&Vle("active-color",["color","base-color"]),On(D(R,{class:["v-list-item",{"v-list-item--active":p.value,"v-list-item--disabled":e.disabled,"v-list-item--link":g.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!F&&(v==null?void 0:v.hasPrepend.value),[`${e.activeClass}`]:e.activeClass&&p.value},w.value,b.value,S.value,M.value,E.value,I.value,P.value,A.value,e.class],style:[C.value,T.value,e.style],href:i.href.value,tabindex:g.value?v?-2:0:void 0,onClick:B,onKeydown:g.value&&!m.value&&U},{default:()=>{var N;return[Sf(g.value||p.value,"v-list-item"),F&&D("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?D(An,{key:"prepend-defaults",disabled:!$,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var H;return[(H=r.prepend)==null?void 0:H.call(r,k.value)]}}):D(Ae,null,[e.prependAvatar&&D(hu,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&D(Nn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),D("div",{class:"v-list-item__content","data-no-activator":""},[L&&D(Lz,{key:"title"},{default:()=>{var H;return[((H=r.title)==null?void 0:H.call(r,{title:e.title}))??e.title]}}),z&&D(Pz,{key:"subtitle"},{default:()=>{var H;return[((H=r.subtitle)==null?void 0:H.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(N=r.default)==null?void 0:N.call(r,k.value)]),Y&&D("div",{key:"append",class:"v-list-item__append"},[r.append?D(An,{key:"append-defaults",disabled:!X,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var H;return[(H=r.append)==null?void 0:H.call(r,k.value)]}}):D(Ae,null,[e.appendIcon&&D(Nn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&D(hu,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}}),[[di("ripple"),g.value&&e.ripple]])}),{}}}),Yce=de({color:String,inset:Boolean,sticky:Boolean,title:String,...Ve(),...Pt()},"VListSubheader"),Iz=be()({name:"VListSubheader",props:Yce(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:a}=Ea(ye(e,"color"));return Me(()=>{const i=!!(n.default||e.title);return D(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:a},e.style]},{default:()=>{var o;return[i&&D("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}});const jce=de({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Ve(),...Zt()},"VDivider"),Rz=be()({name:"VDivider",props:jce(),setup(e,t){let{attrs:n}=t;const{themeClasses:r}=yn(e),{textColorClasses:a,textColorStyles:i}=Ea(ye(e,"color")),o=O(()=>{const s={};return e.length&&(s[e.vertical?"maxHeight":"maxWidth"]=ze(e.length)),e.thickness&&(s[e.vertical?"borderRightWidth":"borderTopWidth"]=ze(e.thickness)),s});return Me(()=>D("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,a.value,e.class],style:[o.value,i.value,e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),Xce=de({items:Array},"VListChildren"),Oz=be()({name:"VListChildren",props:Xce(),setup(e,t){let{slots:n}=t;return Tz(),()=>{var r,a;return((r=n.default)==null?void 0:r.call(n))??((a=e.items)==null?void 0:a.map(i=>{var h,v;let{children:o,props:s,type:l,raw:u}=i;if(l==="divider")return((h=n.divider)==null?void 0:h.call(n,{props:s}))??D(Rz,s,null);if(l==="subheader")return((v=n.subheader)==null?void 0:v.call(n,{props:s}))??D(Iz,s,null);const c={subtitle:n.subtitle?p=>{var m;return(m=n.subtitle)==null?void 0:m.call(n,{...p,item:u})}:void 0,prepend:n.prepend?p=>{var m;return(m=n.prepend)==null?void 0:m.call(n,{...p,item:u})}:void 0,append:n.append?p=>{var m;return(m=n.append)==null?void 0:m.call(n,{...p,item:u})}:void 0,title:n.title?p=>{var m;return(m=n.title)==null?void 0:m.call(n,{...p,item:u})}:void 0},[f,d]=vC.filterProps(s);return o?D(vC,Ee({value:s==null?void 0:s.value},f),{activator:p=>{let{props:m}=p;return n.header?n.header({props:{...s,...m}}):D(ul,Ee(s,m),c)},default:()=>D(Oz,{items:o},n)}):n.item?n.item({props:s}):D(ul,s,c)}))}}}),kz=de({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"list-items");function Ed(e,t){const n=is(t,e.itemTitle,t),r=e.returnObject?t:is(t,e.itemValue,n),a=is(t,e.itemChildren),i=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Ah(t,["children"])[1]:t:void 0:is(t,e.itemProps),o={title:n,value:r,...i};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(a)?Nz(e,a):void 0,raw:t}}function Nz(e,t){const n=[];for(const r of t)n.push(Ed(e,r));return n}function CE(e){const t=O(()=>Nz(e,e.items));return qce(t,n=>Ed(e,n))}function qce(e,t){function n(a){return a.filter(i=>i!==null||e.value.some(o=>o.value===null)).map(i=>e.value.find(s=>xf(i,s.value))??t(i))}function r(a){return a.map(i=>{let{value:o}=i;return o})}return{items:e,transformIn:n,transformOut:r}}function Zce(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function Kce(e,t){const n=is(t,e.itemType,"item"),r=Zce(t)?t:is(t,e.itemTitle),a=is(t,e.itemValue,void 0),i=is(t,e.itemChildren),o=e.itemProps===!0?Ah(t,["children"])[1]:is(t,e.itemProps),s={title:r,value:a,...o};return{type:n,title:s.title,value:s.value,props:s,children:n==="item"&&i?Bz(e,i):void 0,raw:t}}function Bz(e,t){const n=[];for(const r of t)n.push(Kce(e,r));return n}function Qce(e){return{items:O(()=>Bz(e,e.items))}}const Jce=de({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...Uce({selectStrategy:"single-leaf",openStrategy:"list"}),...Ci(),...Ve(),...Yr(),...go(),...Wr(),itemType:{type:String,default:"type"},...kz(),...Zn(),...Pt(),...Zt(),...xo({variant:"text"})},"VList"),j1=be()({name:"VList",props:Jce(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=Qce(e),{themeClasses:a}=yn(e),{backgroundColorClasses:i,backgroundColorStyles:o}=Cr(ye(e,"bgColor")),{borderClasses:s}=_o(e),{densityClasses:l}=Pa(e),{dimensionStyles:u}=yo(e),{elevationClasses:c}=ua(e),{roundedClasses:f}=ar(e),{open:d,select:h}=zce(e),v=O(()=>e.lines?`v-list--${e.lines}-line`:void 0),p=ye(e,"activeColor"),m=ye(e,"baseColor"),g=ye(e,"color");Tz(),Rr({VListGroup:{activeColor:p,baseColor:m,color:g},VListItem:{activeClass:ye(e,"activeClass"),activeColor:p,baseColor:m,color:g,density:ye(e,"density"),disabled:ye(e,"disabled"),lines:ye(e,"lines"),nav:ye(e,"nav"),variant:ye(e,"variant")}});const y=ke(!1),_=te();function x(A){y.value=!0}function w(A){y.value=!1}function b(A){var M;!y.value&&!(A.relatedTarget&&((M=_.value)!=null&&M.contains(A.relatedTarget)))&&C()}function S(A){if(_.value){if(A.key==="ArrowDown")C("next");else if(A.key==="ArrowUp")C("prev");else if(A.key==="Home")C("first");else if(A.key==="End")C("last");else return;A.preventDefault()}}function C(A){if(_.value)return o_(_.value,A)}return Me(()=>D(e.tag,{ref:_,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},a.value,i.value,s.value,l.value,c.value,v.value,f.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||y.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:x,onFocusout:w,onFocus:b,onKeydown:S},{default:()=>[D(Oz,{items:r.value},n)]})),{open:d,select:h,focus:C}}}),efe=$o("v-list-img"),tfe=de({start:Boolean,end:Boolean,...Ve(),...Pt()},"VListItemAction"),nfe=be()({name:"VListItemAction",props:tfe(),setup(e,t){let{slots:n}=t;return Me(()=>D(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),rfe=de({start:Boolean,end:Boolean,...Ve(),...Pt()},"VListItemMedia"),afe=be()({name:"VListItemMedia",props:rfe(),setup(e,t){let{slots:n}=t;return Me(()=>D(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},n)),{}}});function pw(e,t){return{x:e.x+t.x,y:e.y+t.y}}function ife(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cO(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,a=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,i=n==="top"?0:n==="bottom"?t.height:n;return pw({x:a,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,a=n==="left"?0:n==="right"?t.width:n,i=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return pw({x:a,y:i},t)}return pw({x:t.width/2,y:t.height/2},t)}const Vz={static:lfe,connected:cfe},ofe=de({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Vz},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function sfe(e,t){const n=te({}),r=te();Tr&&(ll(()=>!!(t.isActive.value&&e.locationStrategy),i=>{var o,s;Le(()=>e.locationStrategy,i),wa(()=>{r.value=void 0}),typeof e.locationStrategy=="function"?r.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:r.value=(s=Vz[e.locationStrategy](t,e,n))==null?void 0:s.updateLocation}),window.addEventListener("resize",a,{passive:!0}),wa(()=>{window.removeEventListener("resize",a),r.value=void 0}));function a(i){var o;(o=r.value)==null||o.call(r,i)}return{contentStyles:n,updateLocation:r}}function lfe(){}function ufe(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=rE(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function cfe(e,t,n){iue(e.activatorEl.value)&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:a,preferredOrigin:i}=JA(()=>{const v=eC(t.location,e.isRtl.value),p=t.origin==="overlap"?v:t.origin==="auto"?fw(v):eC(t.origin,e.isRtl.value);return v.side===p.side&&v.align===dw(p).align?{preferredAnchor:zR(v),preferredOrigin:zR(p)}:{preferredAnchor:v,preferredOrigin:p}}),[o,s,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>O(()=>{const p=parseFloat(t[v]);return isNaN(p)?1/0:p})),c=O(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const v=t.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const d=new ResizeObserver(()=>{f&&h()});Le([e.activatorEl,e.contentEl],(v,p)=>{let[m,g]=v,[y,_]=p;y&&d.unobserve(y),m&&d.observe(m),_&&d.unobserve(_),g&&d.observe(g)},{immediate:!0}),wa(()=>{d.disconnect()});function h(){if(f=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>f=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const v=e.activatorEl.value.getBoundingClientRect(),p=ufe(e.contentEl.value,e.isRtl.value),m=l_(e.contentEl.value),g=12;m.length||(m.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const y=m.reduce((T,E)=>{const P=E.getBoundingClientRect(),I=new Fd({x:E===document.documentElement?0:P.x,y:E===document.documentElement?0:P.y,width:E.clientWidth,height:E.clientHeight});return T?new Fd({x:Math.max(T.left,I.left),y:Math.max(T.top,I.top),width:Math.min(T.right,I.right)-Math.max(T.left,I.left),height:Math.min(T.bottom,I.bottom)-Math.max(T.top,I.top)}):I},void 0);y.x+=g,y.y+=g,y.width-=g*2,y.height-=g*2;let _={anchor:a.value,origin:i.value};function x(T){const E=new Fd(p),P=cO(T.anchor,v),I=cO(T.origin,E);let{x:k,y:B}=ife(P,I);switch(T.anchor.side){case"top":B-=c.value[0];break;case"bottom":B+=c.value[0];break;case"left":k-=c.value[0];break;case"right":k+=c.value[0];break}switch(T.anchor.align){case"top":B-=c.value[1];break;case"bottom":B+=c.value[1];break;case"left":k-=c.value[1];break;case"right":k+=c.value[1];break}return E.x+=k,E.y+=B,E.width=Math.min(E.width,l.value),E.height=Math.min(E.height,u.value),{overflows:$R(E,y),x:k,y:B}}let w=0,b=0;const S={x:0,y:0},C={x:!1,y:!1};let A=-1;for(;;){if(A++>10){nC("Infinite loop detected in connectedLocationStrategy");break}const{x:T,y:E,overflows:P}=x(_);w+=T,b+=E,p.x+=T,p.y+=E;{const I=HR(_.anchor),k=P.x.before||P.x.after,B=P.y.before||P.y.after;let U=!1;if(["x","y"].forEach(R=>{if(R==="x"&&k&&!C.x||R==="y"&&B&&!C.y){const L={anchor:{..._.anchor},origin:{..._.origin}},z=R==="x"?I==="y"?dw:fw:I==="y"?fw:dw;L.anchor=z(L.anchor),L.origin=z(L.origin);const{overflows:X}=x(L);(X[R].before<=P[R].before&&X[R].after<=P[R].after||X[R].before+X[R].after<(P[R].before+P[R].after)/2)&&(_=L,U=C[R]=!0)}}),U)continue}P.x.before&&(w+=P.x.before,p.x+=P.x.before),P.x.after&&(w-=P.x.after,p.x-=P.x.after),P.y.before&&(b+=P.y.before,p.y+=P.y.before),P.y.after&&(b-=P.y.after,p.y-=P.y.after);{const I=$R(p,y);S.x=y.width-I.x.before-I.x.after,S.y=y.height-I.y.before-I.y.after,w+=I.x.before,p.x+=I.x.before,b+=I.y.before,p.y+=I.y.before}break}const M=HR(_.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${_.anchor.side} ${_.anchor.align}`,transformOrigin:`${_.origin.side} ${_.origin.align}`,top:ze(mw(b)),left:e.isRtl.value?void 0:ze(mw(w)),right:e.isRtl.value?ze(mw(-w)):void 0,minWidth:ze(M==="y"?Math.min(o.value,v.width):o.value),maxWidth:ze(fO(xa(S.x,o.value===1/0?0:o.value,l.value))),maxHeight:ze(fO(xa(S.y,s.value===1/0?0:s.value,u.value)))}),{available:S,contentBox:p}}return Le(()=>[a.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>h()),Ot(()=>{const v=h();if(!v)return;const{available:p,contentBox:m}=v;m.height>p.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function mw(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function fO(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let pC=!0;const f_=[];function ffe(e){!pC||f_.length?(f_.push(e),mC()):(pC=!1,e(),mC())}let dO=-1;function mC(){cancelAnimationFrame(dO),dO=requestAnimationFrame(()=>{const e=f_.shift();e&&e(),f_.length?mC():pC=!0})}const Zy={none:null,close:vfe,block:pfe,reposition:mfe},dfe=de({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Zy}},"VOverlay-scroll-strategies");function hfe(e,t){if(!Tr)return;let n;qn(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=bm(),await Ot(),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=Zy[e.scrollStrategy])==null||r.call(Zy,t,e,n)}))}),wa(()=>{n==null||n.stop()})}function vfe(e){function t(n){e.isActive.value=!1}Fz(e.activatorEl.value??e.contentEl.value,t)}function pfe(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,r=[...new Set([...l_(e.activatorEl.value,t.contained?n:void 0),...l_(e.contentEl.value,t.contained?n:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),a=window.innerWidth-document.documentElement.offsetWidth,i=(s=>lE(s)&&s)(n||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((s,l)=>{s.style.setProperty("--v-body-scroll-x",ze(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",ze(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",ze(a)),s.classList.add("v-overlay-scroll-blocked")}),wa(()=>{r.forEach((s,l)=>{const u=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(s.style.getPropertyValue("--v-body-scroll-y"));s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-u,s.scrollTop=-c}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function mfe(e,t,n){let r=!1,a=-1,i=-1;function o(s){ffe(()=>{var c,f;const l=performance.now();(f=(c=e.updateLocation).value)==null||f.call(c,s),r=(performance.now()-l)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{n.run(()=>{Fz(e.activatorEl.value??e.contentEl.value,s=>{r?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{o(s)})})):o(s)})})}),wa(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(a)})}function Fz(e,t){const n=[document,...l_(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),wa(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const gC=Symbol.for("vuetify:v-menu"),Uz=de({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function zz(e,t){const n={},r=a=>()=>{if(!Tr)return Promise.resolve(!0);const i=a==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(o=>{const s=parseInt(e[a]??0,10);n[a]=window.setTimeout(()=>{t==null||t(i),o(i)},s)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const gfe=de({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Uz()},"VOverlay-activator");function yfe(e,t){let{isActive:n,isTop:r}=t;const a=te();let i=!1,o=!1,s=!0;const l=O(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),u=O(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!l.value),{runOpenDelay:c,runCloseDelay:f}=zz(e,_=>{_===(e.openOnHover&&i||l.value&&o)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==_&&(s=!0),n.value=_)}),d={onClick:_=>{_.stopPropagation(),a.value=_.currentTarget||_.target,n.value=!n.value},onMouseenter:_=>{var x;(x=_.sourceCapabilities)!=null&&x.firesTouchEvents||(i=!0,a.value=_.currentTarget||_.target,c())},onMouseleave:_=>{i=!1,f()},onFocus:_=>{aC&&!_.target.matches(":focus-visible")||(o=!0,_.stopPropagation(),a.value=_.currentTarget||_.target,c())},onBlur:_=>{o=!1,_.stopPropagation(),f()}},h=O(()=>{const _={};return u.value&&(_.onClick=d.onClick),e.openOnHover&&(_.onMouseenter=d.onMouseenter,_.onMouseleave=d.onMouseleave),l.value&&(_.onFocus=d.onFocus,_.onBlur=d.onBlur),_}),v=O(()=>{const _={};if(e.openOnHover&&(_.onMouseenter=()=>{i=!0,c()},_.onMouseleave=()=>{i=!1,f()}),l.value&&(_.onFocusin=()=>{o=!0,c()},_.onFocusout=()=>{o=!1,f()}),e.closeOnContentClick){const x=It(gC,null);_.onClick=()=>{n.value=!1,x==null||x.closeParents()}}return _}),p=O(()=>{const _={};return e.openOnHover&&(_.onMouseenter=()=>{s&&(i=!0,s=!1,c())},_.onMouseleave=()=>{i=!1,f()}),_});Le(r,_=>{_&&(e.openOnHover&&!i&&(!l.value||!o)||l.value&&!o&&(!e.openOnHover||!i))&&(n.value=!1)});const m=te();qn(()=>{m.value&&Ot(()=>{a.value=QT(m.value)})});const g=ta("useActivator");let y;return Le(()=>!!e.activator,_=>{_&&Tr?(y=bm(),y.run(()=>{_fe(e,g,{activatorEl:a,activatorEvents:h})})):y&&y.stop()},{flush:"post",immediate:!0}),wa(()=>{y==null||y.stop()}),{activatorEl:a,activatorRef:m,activatorEvents:h,contentEvents:v,scrimEvents:p}}function _fe(e,t,n){let{activatorEl:r,activatorEvents:a}=n;Le(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=s(u);c&&o(c)}l&&Ot(()=>i())},{immediate:!0}),Le(()=>e.activatorProps,()=>{i()}),wa(()=>{o()});function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&Nle(l,Ee(a.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&Ble(l,Ee(a.value,u))}function s(){var c,f;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,u;if(l)if(l==="parent"){let d=(f=(c=t==null?void 0:t.proxy)==null?void 0:c.$el)==null?void 0:f.parentNode;for(;d.hasAttribute("data-no-activator");)d=d.parentNode;u=d}else typeof l=="string"?u=document.querySelector(l):"$el"in l?u=l.$el:u=l;return r.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:null,r.value}}const X1=["sm","md","lg","xl","xxl"],yC=Symbol.for("vuetify:display"),hO={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},xfe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hO;return Ki(hO,e)};function vO(e){return Tr&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function pO(e){return Tr&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function mO(e){const t=Tr&&!e?window.navigator.userAgent:"ssr";function n(v){return!!t.match(v)}const r=n(/android/i),a=n(/iphone|ipad|ipod/i),i=n(/cordova/i),o=n(/electron/i),s=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),c=n(/opera/i),f=n(/win/i),d=n(/mac/i),h=n(/linux/i);return{android:r,ios:a,cordova:i,electron:o,chrome:s,edge:l,firefox:u,opera:c,win:f,mac:d,linux:h,touch:rue,ssr:t==="ssr"}}function bfe(e,t){const{thresholds:n,mobileBreakpoint:r}=xfe(e),a=ke(pO(t)),i=ke(mO(t)),o=Rn({}),s=ke(vO(t));function l(){a.value=pO(),s.value=vO()}function u(){l(),i.value=mO()}return qn(()=>{const c=s.value<n.sm,f=s.value<n.md&&!c,d=s.value<n.lg&&!(f||c),h=s.value<n.xl&&!(d||f||c),v=s.value<n.xxl&&!(h||d||f||c),p=s.value>=n.xxl,m=c?"xs":f?"sm":d?"md":h?"lg":v?"xl":"xxl",g=typeof r=="number"?r:n[r],y=s.value<g;o.xs=c,o.sm=f,o.md=d,o.lg=h,o.xl=v,o.xxl=p,o.smAndUp=!c,o.mdAndUp=!(c||f),o.lgAndUp=!(c||f||d),o.xlAndUp=!(c||f||d||h),o.smAndDown=!(d||h||v||p),o.mdAndDown=!(h||v||p),o.lgAndDown=!(v||p),o.xlAndDown=!p,o.name=m,o.height=a.value,o.width=s.value,o.mobile=y,o.mobileBreakpoint=r,o.platform=i.value,o.thresholds=n}),Tr&&window.addEventListener("resize",l,{passive:!0}),{...Hd(o),update:u,ssr:!!t}}function Af(){const e=It(yC);if(!e)throw new Error("Could not find Vuetify display injection");return e}function Hz(){if(!Tr)return ke(!1);const{ssr:e}=Af();if(e){const t=ke(!1);return nn(()=>{t.value=!0}),t}else return ke(!0)}const q1=de({eager:Boolean},"lazy");function AE(e,t){const n=ke(!1),r=O(()=>n.value||e.eager||t.value);Le(t,()=>n.value=!0);function a(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:a}}function Nh(){const t=ta("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const gO=Symbol.for("vuetify:stack"),bv=Rn([]);function wfe(e,t,n){const r=ta("useStack"),a=!n,i=It(gO,void 0),o=Rn({activeChildren:new Set});dr(gO,o);const s=ke(+t.value);ll(e,()=>{var f;const c=(f=bv.at(-1))==null?void 0:f[1];s.value=c?c+10:+t.value,a&&bv.push([r.uid,s.value]),i==null||i.activeChildren.add(r.uid),wa(()=>{if(a){const d=it(bv).findIndex(h=>h[0]===r.uid);bv.splice(d,1)}i==null||i.activeChildren.delete(r.uid)})});const l=ke(!0);a&&qn(()=>{var f;const c=((f=bv.at(-1))==null?void 0:f[0])===r.uid;setTimeout(()=>l.value=c)});const u=O(()=>!o.activeChildren.size);return{globalTop:wm(l),localTop:u,stackStyles:O(()=>({zIndex:s.value}))}}function Sfe(e){return{teleportTarget:O(()=>{const n=e.value;if(n===!0||!Tr)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null){Te(`Unable to locate target ${n}`);return}let a=r.querySelector(":scope > .v-overlay-container");return a||(a=document.createElement("div"),a.className="v-overlay-container",r.appendChild(a)),a})}}function Tfe(){return!0}function $z(e,t,n){if(!e||Gz(e,n)===!1)return!1;const r=UU(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const a=(typeof n.value=="object"&&n.value.include||(()=>[]))();return a.push(t),!a.some(i=>i==null?void 0:i.contains(e.target))}function Gz(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Tfe)(e)}function Cfe(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&$z(e,t,n)&&setTimeout(()=>{Gz(e,n)&&r&&r(e)},0)}function yO(e,t){const n=UU(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const Wz={mounted(e,t){const n=a=>Cfe(a,e,t),r=a=>{e._clickOutside.lastMousedownWasOutside=$z(a,e,t)};yO(e,a=>{a.addEventListener("click",n,!0),a.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(yO(e,n=>{var i;if(!n||!((i=e._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:r,onMousedown:a}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Afe(e){const{modelValue:t,color:n,...r}=e;return D(Ta,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&D("div",Ee({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const Um=de({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...gfe(),...Ve(),...go(),...q1(),...ofe(),...dfe(),...Zt(),..._l()},"VOverlay"),cl=be()({name:"VOverlay",directives:{ClickOutside:Wz},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Um()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:a}=t;const i=Tt(e,"modelValue"),o=O({get:()=>i.value,set:L=>{L&&e.disabled||(i.value=L)}}),{teleportTarget:s}=Sfe(O(()=>e.attach||e.contained)),{themeClasses:l}=yn(e),{rtlClasses:u,isRtl:c}=na(),{hasContent:f,onAfterLeave:d}=AE(e,o),h=Cr(O(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:p,stackStyles:m}=wfe(o,ye(e,"zIndex"),e._disableGlobalStack),{activatorEl:g,activatorRef:y,activatorEvents:_,contentEvents:x,scrimEvents:w}=yfe(e,{isActive:o,isTop:p}),{dimensionStyles:b}=yo(e),S=Hz(),{scopeId:C}=Nh();Le(()=>e.disabled,L=>{L&&(o.value=!1)});const A=te(),M=te(),{contentStyles:T,updateLocation:E}=sfe(e,{isRtl:c,contentEl:M,activatorEl:g,isActive:o});hfe(e,{root:A,contentEl:M,activatorEl:g,isActive:o,updateLocation:E});function P(L){a("click:outside",L),e.persistent?R():o.value=!1}function I(){return o.value&&v.value}Tr&&Le(o,L=>{L?window.addEventListener("keydown",k):window.removeEventListener("keydown",k)},{immediate:!0});function k(L){var z,X;L.key==="Escape"&&v.value&&(e.persistent?R():(o.value=!1,(z=M.value)!=null&&z.contains(document.activeElement)&&((X=g.value)==null||X.focus())))}const B=iz();ll(()=>e.closeOnBack,()=>{cce(B,L=>{v.value&&o.value?(L(!1),e.persistent?R():o.value=!1):L()})});const U=te();Le(()=>o.value&&(e.absolute||e.contained)&&s.value==null,L=>{if(L){const z=sE(A.value);z&&z!==document.scrollingElement&&(U.value=z.scrollTop)}});function R(){e.noClickAnimation||M.value&&Tc(M.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:tm})}return Me(()=>{var L;return D(Ae,null,[(L=n.activator)==null?void 0:L.call(n,{isActive:o.value,props:Ee({ref:y},_.value,e.activatorProps)}),S.value&&f.value&&D(x3,{disabled:!s.value,to:s.value},{default:()=>[D("div",Ee({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},l.value,u.value,e.class],style:[m.value,{top:ze(U.value)},e.style],ref:A},C,r),[D(Afe,Ee({color:h,modelValue:o.value&&!!e.scrim},w.value),null),D(Oo,{appear:!0,persisted:!0,transition:e.transition,target:g.value,onAfterLeave:()=>{d(),a("afterLeave")}},{default:()=>{var z;return[On(D("div",Ee({ref:M,class:["v-overlay__content",e.contentClass],style:[b.value,T.value]},x.value,e.contentProps),[(z=n.default)==null?void 0:z.call(n,{isActive:o})]),[[ui,o.value],[di("click-outside"),{handler:P,closeConditional:I,include:()=>[g.value]}]])]}})])]})])}),{activatorEl:g,animateClick:R,contentEl:M,globalTop:v,localTop:p,updateLocation:E}}}),gw=Symbol("Forwarded refs");function yw(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Go(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[gw]=n,new Proxy(e,{get(a,i){if(Reflect.has(a,i))return Reflect.get(a,i);if(!(typeof i=="symbol"||i.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,i)){const s=Reflect.get(o.value,i);return typeof s=="function"?s.bind(o.value):s}}},has(a,i){if(Reflect.has(a,i))return!0;if(typeof i=="symbol"||i.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(a,i,o){if(Reflect.has(a,i))return Reflect.set(a,i,o);if(typeof i=="symbol"||i.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,i))return Reflect.set(s.value,i,o);return!1},getOwnPropertyDescriptor(a,i){var s;const o=Reflect.getOwnPropertyDescriptor(a,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=yw(l.value,i)??("_"in l.value?yw((s=l.value._)==null?void 0:s.setupState,i):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[gw];if(!u)continue;const c=u.slice();for(;c.length;){const f=c.shift(),d=yw(f.value,i);if(d)return d;const h=f.value&&f.value[gw];h&&c.push(...h)}}}}})}const Efe=de({id:String,...As(Um({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:U1}}),["absolute"])},"VMenu"),Z1=be()({name:"VMenu",props:Efe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),{scopeId:a}=Nh(),i=Ma(),o=O(()=>e.id||`v-menu-${i}`),s=te(),l=It(gC,null),u=ke(0);dr(gC,{register(){++u.value},unregister(){--u.value},closeParents(){setTimeout(()=>{u.value||(r.value=!1,l==null||l.closeParents())},40)}}),Le(r,v=>{v?l==null||l.register():l==null||l.unregister()});function c(){l==null||l.closeParents()}function f(v){var p,m;e.disabled||v.key==="Tab"&&(r.value=!1,(m=(p=s.value)==null?void 0:p.activatorEl)==null||m.focus())}function d(v){var m;if(e.disabled)return;const p=(m=s.value)==null?void 0:m.contentEl;p&&r.value?v.key==="ArrowDown"?(v.preventDefault(),o_(p,"next")):v.key==="ArrowUp"&&(v.preventDefault(),o_(p,"prev")):["ArrowDown","ArrowUp"].includes(v.key)&&(r.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>d(v))))}const h=O(()=>Ee({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":o.value,onKeydown:d},e.activatorProps));return Me(()=>{const[v]=cl.filterProps(e);return D(cl,Ee({ref:s,class:["v-menu",e.class],style:e.style},v,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,absolute:!0,activatorProps:h.value,"onClick:outside":c,onKeydown:f},a),{activator:n.activator,default:function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return D(An,{root:"VMenu"},{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,...m)]}})}})}),Go({id:o,ΨopenChildren:u},s)}});const Dfe=de({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ve(),..._l({transition:{component:fE}})},"VCounter"),K1=be()({name:"VCounter",functional:!0,props:Dfe(),setup(e,t){let{slots:n}=t;const r=O(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Me(()=>D(Oo,{transition:e.transition},{default:()=>[On(D("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[ui,e.active]])]})),{}}});const Mfe=de({floating:Boolean,...Ve()},"VFieldLabel"),qv=be()({name:"VFieldLabel",props:Mfe(),setup(e,t){let{slots:n}=t;return Me(()=>D(kh,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),Pfe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Q1=de({appendInnerIcon:xt,bgColor:String,clearable:Boolean,clearIcon:{type:xt,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:xt,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Pfe.includes(e)},"onClick:clear":ms(),"onClick:appendInner":ms(),"onClick:prependInner":ms(),...Ve(),...xE(),...Zn(),...Zt()},"VField"),zm=be()({name:"VField",inheritAttrs:!1,props:{id:String,...W1(),...Q1()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{themeClasses:i}=yn(e),{loaderClasses:o}=$1(e),{focusClasses:s,isFocused:l,focus:u,blur:c}=bu(e),{InputIcon:f}=yz(e),{roundedClasses:d}=ar(e),{rtlClasses:h}=na(),v=O(()=>e.dirty||e.active),p=O(()=>!e.singleLine&&!!(e.label||a.label)),m=Ma(),g=O(()=>e.id||`input-${m}`),y=O(()=>`${g.value}-messages`),_=te(),x=te(),w=te(),b=O(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:S,backgroundColorStyles:C}=Cr(ye(e,"bgColor")),{textColorClasses:A,textColorStyles:M}=Ea(O(()=>e.error||e.disabled?void 0:v.value&&l.value?e.color:e.baseColor));Le(v,P=>{if(p.value){const I=_.value.$el,k=x.value.$el;requestAnimationFrame(()=>{const B=rE(I),U=k.getBoundingClientRect(),R=U.x-B.x,L=U.y-B.y-(B.height/2-U.height/2),z=U.width/.75,X=Math.abs(z-B.width)>1?{maxWidth:ze(z)}:void 0,Y=getComputedStyle(I),$=getComputedStyle(k),F=parseFloat(Y.transitionDuration)*1e3||150,N=parseFloat($.getPropertyValue("--v-field-label-scale")),H=$.getPropertyValue("color");I.style.visibility="visible",k.style.visibility="hidden",Tc(I,{transform:`translate(${R}px, ${L}px) scale(${N})`,color:H,...X},{duration:F,easing:tm,direction:P?"normal":"reverse"}).finished.then(()=>{I.style.removeProperty("visibility"),k.style.removeProperty("visibility")})})}},{flush:"post"});const T=O(()=>({isActive:v,isFocused:l,controlRef:w,blur:c,focus:u}));function E(P){P.target!==document.activeElement&&P.preventDefault()}return Me(()=>{var R,L,z;const P=e.variant==="outlined",I=a["prepend-inner"]||e.prependInnerIcon,k=!!(e.clearable||a.clear),B=!!(a["append-inner"]||e.appendInnerIcon||k),U=a.label?a.label({...T.value,label:e.label,props:{for:g.value}}):e.label;return D("div",Ee({class:["v-field",{"v-field--active":v.value,"v-field--appended":B,"v-field--center-affix":e.centerAffix??!b.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":I,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!U,[`v-field--variant-${e.variant}`]:!0},i.value,S.value,s.value,o.value,d.value,h.value,e.class],style:[C.value,M.value,e.style],onClick:E},n),[D("div",{class:"v-field__overlay"},null),D(bE,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),I&&D("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&D(f,{key:"prepend-icon",name:"prependInner"},null),(R=a["prepend-inner"])==null?void 0:R.call(a,T.value)]),D("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&p.value&&D(qv,{key:"floating-label",ref:x,class:[A.value],floating:!0,for:g.value},{default:()=>[U]}),D(qv,{ref:_,for:g.value},{default:()=>[U]}),(L=a.default)==null?void 0:L.call(a,{...T.value,props:{id:g.value,class:"v-field__input","aria-describedby":y.value},focus:u,blur:c})]),k&&D(dE,{key:"clear"},{default:()=>[On(D("div",{class:"v-field__clearable",onMousedown:X=>{X.preventDefault(),X.stopPropagation()}},[a.clear?a.clear():D(f,{name:"clear"},null)]),[[ui,e.dirty]])]}),B&&D("div",{key:"append",class:"v-field__append-inner"},[(z=a["append-inner"])==null?void 0:z.call(a,T.value),e.appendInnerIcon&&D(f,{key:"append-icon",name:"appendInner"},null)]),D("div",{class:["v-field__outline",A.value]},[P&&D(Ae,null,[D("div",{class:"v-field__outline__start"},null),p.value&&D("div",{class:"v-field__outline__notch"},[D(qv,{ref:x,floating:!0,for:g.value},{default:()=>[U]})]),D("div",{class:"v-field__outline__end"},null)]),b.value&&p.value&&D(qv,{ref:x,floating:!0,for:g.value},{default:()=>[U]})])])}),{controlRef:w}}});function EE(e){const t=Object.keys(zm.props).filter(n=>!eE(n)&&n!=="class"&&n!=="style");return Ah(e,t)}const Lfe=["color","file","time","date","datetime-local","week","month"],J1=de({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...bl(),...Q1()},"VTextField"),lf=be()({name:"VTextField",directives:{Intersect:Nm},inheritAttrs:!1,props:J1(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const i=Tt(e,"modelValue"),{isFocused:o,focus:s,blur:l}=bu(e),u=O(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value??"").toString().length),c=O(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=O(()=>["plain","underlined"].includes(e.variant));function d(b,S){var C,A;!e.autofocus||!b||(A=(C=S[0].target)==null?void 0:C.focus)==null||A.call(C)}const h=te(),v=te(),p=te(),m=O(()=>Lfe.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function g(){var b;p.value!==document.activeElement&&((b=p.value)==null||b.focus()),o.value||s()}function y(b){r("mousedown:control",b),b.target!==p.value&&(g(),b.preventDefault())}function _(b){g(),r("click:control",b)}function x(b){b.stopPropagation(),g(),Ot(()=>{i.value=null,tE(e["onClick:clear"],b)})}function w(b){var C;const S=b.target;if(i.value=S.value,(C=e.modelModifiers)!=null&&C.trim&&["text","search","password","tel","url"].includes(e.type)){const A=[S.selectionStart,S.selectionEnd];Ot(()=>{S.selectionStart=A[0],S.selectionEnd=A[1]})}}return Me(()=>{const b=!!(a.counter||e.counter||e.counterValue),S=!!(b||a.details),[C,A]=bf(n),[{modelValue:M,...T}]=sa.filterProps(e),[E]=EE(e);return D(sa,Ee({ref:h,modelValue:i.value,"onUpdate:modelValue":P=>i.value=P,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},C,T,{centerAffix:!f.value,focused:o.value}),{...a,default:P=>{let{id:I,isDisabled:k,isDirty:B,isReadonly:U,isValid:R}=P;return D(zm,Ee({ref:v,onMousedown:y,onClick:_,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},E,{id:I.value,active:m.value||B.value,dirty:B.value||e.dirty,disabled:k.value,focused:o.value,error:R.value===!1}),{...a,default:L=>{let{props:{class:z,...X}}=L;const Y=On(D("input",Ee({ref:p,value:i.value,onInput:w,autofocus:e.autofocus,readonly:U.value,disabled:k.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:l},X,A),null),[[di("intersect"),{handler:d},null,{once:!0}]]);return D(Ae,null,[e.prefix&&D("span",{class:"v-text-field__prefix"},[D("span",{class:"v-text-field__prefix__text"},[e.prefix])]),D("div",{class:z,"data-no-activator":""},[a.default?D(Ae,null,[a.default(),Y]):Bo(Y)]),e.suffix&&D("span",{class:"v-text-field__suffix"},[D("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:S?P=>{var I;return D(Ae,null,[(I=a.details)==null?void 0:I.call(a,P),b&&D(Ae,null,[D("span",null,null),D(K1,{active:e.persistentCounter||o.value,value:u.value,max:c.value},a.counter)])])}:void 0})}),Go({},h,v,p)}});const Ife=de({renderless:Boolean,...Ve()},"VVirtualScrollItem"),Rfe=be()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ife(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{resizeRef:i,contentRect:o}=ws(void 0,"border");Le(()=>{var s;return(s=o.value)==null?void 0:s.height},s=>{s!=null&&r("update:height",s)}),Me(()=>{var s,l;return e.renderless?D(Ae,null,[(s=a.default)==null?void 0:s.call(a,{itemRef:i})]):D("div",Ee({ref:i,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=a.default)==null?void 0:l.call(a)])})}}),_O=-1,xO=1,Ofe=de({itemHeight:{type:[Number,String],default:48}},"virtual");function kfe(e,t,n){const r=ke(0),a=ke(e.itemHeight),i=O({get:()=>parseInt(a.value??0,10),set(S){a.value=S}}),o=te(),{resizeRef:s,contentRect:l}=ws();qn(()=>{s.value=o.value});const u=Af(),c=new Map;let f=Array.from({length:t.value.length});const d=O(()=>{const S=(!l.value||o.value===document.documentElement?u.height.value:l.value.height)-((n==null?void 0:n.value)??0);return Math.ceil(S/i.value*1.7+1)});function h(S,C){i.value=Math.max(i.value,C),f[S]=C,c.set(t.value[S],C)}function v(S){return f.slice(0,S).reduce((C,A)=>C+(A||i.value),0)}function p(S){const C=t.value.length;let A=0,M=0;for(;M<S&&A<C;)M+=f[A++]||i.value;return A-1}let m=0;function g(){if(!o.value||!l.value)return;const S=l.value.height-56,C=o.value.scrollTop,A=C<m?_O:xO,M=p(C+S/2),T=Math.round(d.value/3),E=M-T,P=r.value+T*2-1;A===_O&&M<=P?r.value=xa(E,0,t.value.length):A===xO&&M>=P&&(r.value=xa(E,0,t.value.length-d.value)),m=C}function y(S){if(!o.value)return;const C=v(S);o.value.scrollTop=C}const _=O(()=>Math.min(t.value.length,r.value+d.value)),x=O(()=>t.value.slice(r.value,_.value).map((S,C)=>({raw:S,index:C+r.value}))),w=O(()=>v(r.value)),b=O(()=>v(t.value.length)-v(_.value));return Le(()=>t.value.length,()=>{f=Ks(t.value.length).map(()=>i.value),c.forEach((S,C)=>{const A=t.value.indexOf(C);A===-1?c.delete(C):f[A]=S})}),{containerRef:o,computedItems:x,itemHeight:i,paddingTop:w,paddingBottom:b,scrollToIndex:y,handleScroll:g,handleItemResize:h}}const Nfe=de({items:{type:Array,default:()=>[]},renderless:Boolean,...Ofe(),...Ve(),...go()},"VVirtualScroll"),ex=be()({name:"VVirtualScroll",props:Nfe(),setup(e,t){let{slots:n}=t;const r=ta("VVirtualScroll"),{dimensionStyles:a}=yo(e),{containerRef:i,handleScroll:o,handleItemResize:s,scrollToIndex:l,paddingTop:u,paddingBottom:c,computedItems:f}=kfe(e,ye(e,"items"));return ll(()=>e.renderless,()=>{nn(()=>{var d;i.value=sE(r.vnode.el,!0),(d=i.value)==null||d.addEventListener("scroll",o)}),wa(()=>{var d;(d=i.value)==null||d.removeEventListener("scroll",o)})}),Me(()=>{const d=f.value.map(h=>D(Rfe,{key:h.index,renderless:e.renderless,"onUpdate:height":v=>s(h.index,v)},{default:v=>{var p;return(p=n.default)==null?void 0:p.call(n,{item:h.raw,index:h.index,...v})}}));return e.renderless?D(Ae,null,[D("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:ze(u.value)}},null),d,D("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ze(c.value)}},null)]):D("div",{ref:i,class:["v-virtual-scroll",e.class],onScroll:o,style:[a.value,e.style]},[D("div",{class:"v-virtual-scroll__container",style:{paddingTop:ze(u.value),paddingBottom:ze(c.value)}},[d])])}),{scrollToIndex:l}}});function DE(e,t){const n=ke(!1);let r;function a(s){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function i(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(n.value){const l=Le(n,()=>{l(),s()})}else s()})}async function o(s){var c,f;if(s.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(f=e.value)==null?void 0:f.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await i();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const d=l.getBoundingClientRect().top;for(const h of u)if(h.getBoundingClientRect().top>=d){h.focus();break}}else{const d=l.getBoundingClientRect().bottom;for(const h of[...u].reverse())if(h.getBoundingClientRect().bottom<=d){h.focus();break}}}return{onListScroll:a,onListKeydown:o}}const ME=de({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:xt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:xf},...kz({itemChildren:!1})},"Select"),Bfe=de({...ME(),...As(J1({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),..._l({transition:{component:U1}})},"VSelect"),Vfe=be()({name:"VSelect",props:Bfe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=mo(),a=te(),i=te(),o=Tt(e,"menu"),s=O({get:()=>o.value,set:k=>{var B;o.value&&!k&&((B=i.value)!=null&&B.ΨopenChildren)||(o.value=k)}}),{items:l,transformIn:u,transformOut:c}=CE(e),f=Tt(e,"modelValue",[],k=>u(k===null?[null]:to(k)),k=>{const B=c(k);return e.multiple?B:B[0]??null}),d=Y1(),h=O(()=>f.value.map(k=>l.value.find(B=>e.valueComparator(B.value,k.value))||k)),v=O(()=>h.value.map(k=>k.props.value)),p=ke(!1);let m="",g;const y=O(()=>e.hideSelected?l.value.filter(k=>!h.value.some(B=>B===k)):l.value),_=O(()=>e.hideNoData&&!l.value.length||e.readonly||(d==null?void 0:d.isReadonly.value)),x=te(),{onListScroll:w,onListKeydown:b}=DE(x,a);function S(k){e.openOnClear&&(s.value=!0)}function C(){_.value||(s.value=!s.value)}function A(k){var z,X;if(!k.key||e.readonly||d!=null&&d.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(k.key)&&k.preventDefault(),["Enter","ArrowDown"," "].includes(k.key)&&(s.value=!0),["Escape","Tab"].includes(k.key)&&(s.value=!1),k.key==="Home"?(z=x.value)==null||z.focus("first"):k.key==="End"&&((X=x.value)==null||X.focus("last"));const B=1e3;function U(Y){const $=Y.key.length===1,F=!Y.ctrlKey&&!Y.metaKey&&!Y.altKey;return $&&F}if(e.multiple||!U(k))return;const R=performance.now();R-g>B&&(m=""),m+=k.key.toLowerCase(),g=R;const L=l.value.find(Y=>Y.title.toLowerCase().startsWith(m));L!==void 0&&(f.value=[L])}function M(k){if(e.multiple){const B=v.value.findIndex(U=>e.valueComparator(U,k.value));if(B===-1)f.value=[...f.value,k];else{const U=[...f.value];U.splice(B,1),f.value=U}}else f.value=[k],s.value=!1}function T(k){var B;(B=x.value)!=null&&B.$el.contains(k.relatedTarget)||(s.value=!1)}function E(){var k;p.value&&((k=a.value)==null||k.focus())}function P(k){p.value=!0}function I(k){var B,U;if(k==null)f.value=[];else if((B=a.value)!=null&&B.matches(":autofill")||(U=a.value)!=null&&U.matches(":-webkit-autofill")){const R=l.value.find(L=>L.title===k);R&&M(R)}else a.value&&(a.value.value="")}return Me(()=>{const k=!!(e.chips||n.chip),B=!!(!e.hideNoData||y.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),U=f.value.length>0,[R]=lf.filterProps(e),L=U||!p.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return D(lf,Ee({ref:a},R,{modelValue:f.value.map(z=>z.props.value).join(", "),"onUpdate:modelValue":I,focused:p.value,"onUpdate:focused":z=>p.value=z,validationValue:f.externalValue,dirty:U,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:L,"onClick:clear":S,"onMousedown:control":C,onBlur:T,onKeydown:A}),{...n,default:()=>D(Ae,null,[D(Z1,Ee({ref:i,modelValue:s.value,"onUpdate:modelValue":z=>s.value=z,activator:"parent",contentClass:"v-select__content",disabled:_.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:E},e.menuProps),{default:()=>[B&&D(j1,{ref:x,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:z=>z.preventDefault(),onKeydown:b,onFocusin:P,onScrollPassive:w,tabindex:"-1"},{default:()=>{var z,X,Y;return[(z=n["prepend-item"])==null?void 0:z.call(n),!y.value.length&&!e.hideNoData&&(((X=n["no-data"])==null?void 0:X.call(n))??D(ul,{title:r(e.noDataText)},null)),D(ex,{renderless:!0,items:y.value},{default:$=>{var Z;let{item:F,index:N,itemRef:H}=$;const K=Ee(F.props,{ref:H,key:N,onClick:()=>M(F)});return((Z=n.item)==null?void 0:Z.call(n,{item:F,index:N,props:K}))??D(ul,K,{prepend:q=>{let{isSelected:ce}=q;return D(Ae,null,[e.multiple&&!e.hideSelected?D(rh,{key:F.value,modelValue:ce,ripple:!1,tabindex:"-1"},null):void 0,F.props.prependIcon&&D(Nn,{icon:F.props.prependIcon},null)])}})}}),(Y=n["append-item"])==null?void 0:Y.call(n)]}})]}),h.value.map((z,X)=>{var F;function Y(N){N.stopPropagation(),N.preventDefault(),M(z)}const $={"onClick:close":Y,onMousedown(N){N.preventDefault(),N.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return D("div",{key:z.value,class:"v-select__selection"},[k?n.chip?D(An,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:z.title}}},{default:()=>{var N;return[(N=n.chip)==null?void 0:N.call(n,{item:z,index:X,props:$})]}}):D(Fm,Ee({key:"chip",closable:e.closableChips,size:"small",text:z.title},$),null):((F=n.selection)==null?void 0:F.call(n,{item:z,index:X}))??D("span",{class:"v-select__selection-text"},[z.title,e.multiple&&X<h.value.length-1&&D("span",{class:"v-select__selection-comma"},[qe(",")])])])})]),"append-inner":function(){var $;for(var z=arguments.length,X=new Array(z),Y=0;Y<z;Y++)X[Y]=arguments[Y];return D(Ae,null,[($=n["append-inner"])==null?void 0:$.call(n,...X),e.menuIcon?D(Nn,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Go({isFocused:p,menu:s,select:M},a)}}),Ffe=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Yz=de({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Ufe(e,t,n){var s;const r=[],a=(n==null?void 0:n.default)??Ffe,i=n!=null&&n.filterKeys?to(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let l=0;l<e.length;l++){const u=e[l],c={},f={};let d=-1;if(t&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const p=i||Object.keys(u);for(const m of p){const g=is(u,m,u),y=(s=n==null?void 0:n.customKeyFilter)==null?void 0:s[m];if(d=y?y(g,t,u):a(g,t,u),d!==-1&&d!==!1)y?c[m]=d:f[m]=d;else if((n==null?void 0:n.filterMode)==="every")continue e}}else d=a(u,t,u),d!==-1&&d!==!1&&(f.title=d);const h=Object.keys(f).length,v=Object.keys(c).length;if(!h&&!v||(n==null?void 0:n.filterMode)==="union"&&v!==o&&!h||(n==null?void 0:n.filterMode)==="intersection"&&(v!==o||!h))continue}r.push({index:l,matches:{...f,...c}})}return r}function jz(e,t,n,r){const a=te([]),i=te(new Map),o=O(()=>r!=null&&r.transform?ie(t).map(r==null?void 0:r.transform):ie(t));qn(()=>{const l=typeof n=="function"?n():ie(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=Ufe(o.value,u,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),f=ie(t),d=[],h=new Map;c.forEach(v=>{let{index:p,matches:m}=v;const g=f[p];d.push(g),h.set(g.value,m)}),a.value=d,i.value=h});function s(l){return i.value.get(l.value)}return{filteredItems:a,filteredMatches:i,getMatches:s}}function zfe(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?D(Ae,null,[D("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),D("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),D("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const Hfe=de({autoSelectFirst:{type:[Boolean,String]},search:String,...Yz({filterKeys:["title"]}),...ME(),...As(J1({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),..._l({transition:!1})},"VAutocomplete"),$fe=be()({name:"VAutocomplete",props:Hfe(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=mo(),a=te(),i=ke(!1),o=ke(!0),s=te(!1),l=te(),u=Tt(e,"menu"),c=O({get:()=>u.value,set:Z=>{var q;u.value&&!Z&&((q=l.value)!=null&&q.ΨopenChildren)||(u.value=Z)}}),f=ke(-1),d=O(()=>{var Z;return(Z=a.value)==null?void 0:Z.color}),{items:h,transformIn:v,transformOut:p}=CE(e),{textColorClasses:m,textColorStyles:g}=Ea(d),y=Tt(e,"search",""),_=Tt(e,"modelValue",[],Z=>v(Z===null?[null]:to(Z)),Z=>{const q=p(Z);return e.multiple?q:q[0]??null}),x=Y1(),{filteredItems:w,getMatches:b}=jz(e,h,()=>o.value?"":y.value),S=O(()=>_.value.map(Z=>h.value.find(q=>e.valueComparator(q.value,Z.value))||Z)),C=O(()=>e.hideSelected?w.value.filter(Z=>!S.value.some(q=>q.value===Z.value)):w.value),A=O(()=>S.value.map(Z=>Z.props.value)),M=O(()=>S.value[f.value]),T=O(()=>{var q;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&y.value===((q=C.value[0])==null?void 0:q.title))&&C.value.length>0&&!o.value&&!s.value}),E=O(()=>e.hideNoData&&!h.value.length||e.readonly||(x==null?void 0:x.isReadonly.value)),P=te(),{onListScroll:I,onListKeydown:k}=DE(P,a);function B(Z){e.openOnClear&&(c.value=!0),y.value=""}function U(){E.value||(c.value=!0)}function R(Z){E.value||(i.value&&(Z.preventDefault(),Z.stopPropagation()),c.value=!c.value)}function L(Z){var oe,ae,V;if(e.readonly||x!=null&&x.isReadonly.value)return;const q=a.value.selectionStart,ce=A.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Z.key))&&Z.preventDefault(),["Enter","ArrowDown"].includes(Z.key)&&(c.value=!0),["Escape"].includes(Z.key)&&(c.value=!1),["Enter","Escape","Tab"].includes(Z.key)&&(T.value&&["Enter","Tab"].includes(Z.key)&&K(w.value[0]),o.value=!0),Z.key==="ArrowDown"&&T.value&&((oe=P.value)==null||oe.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(Z.key)){if(f.value<0){Z.key==="Backspace"&&!y.value&&(f.value=ce-1);return}const G=f.value;M.value&&K(M.value),f.value=G>=ce-1?ce-2:G}if(Z.key==="ArrowLeft"){if(f.value<0&&q>0)return;const G=f.value>-1?f.value-1:ce-1;S.value[G]?f.value=G:(f.value=-1,a.value.setSelectionRange((ae=y.value)==null?void 0:ae.length,(V=y.value)==null?void 0:V.length))}if(Z.key==="ArrowRight"){if(f.value<0)return;const G=f.value+1;S.value[G]?f.value=G:(f.value=-1,a.value.setSelectionRange(0,0))}}}function z(Z){y.value=Z.target.value}function X(Z){var q,ce;if((q=a.value)!=null&&q.matches(":autofill")||(ce=a.value)!=null&&ce.matches(":-webkit-autofill")){const oe=h.value.find(ae=>ae.title===Z.target.value);oe&&K(oe)}}function Y(){var Z;i.value&&(o.value=!0,(Z=a.value)==null||Z.focus())}function $(Z){i.value=!0,setTimeout(()=>{s.value=!0})}function F(Z){s.value=!1}function N(Z){(Z==null||Z===""&&!e.multiple)&&(_.value=[])}const H=ke(!1);function K(Z){if(e.multiple){const q=A.value.findIndex(ce=>e.valueComparator(ce,Z.value));if(q===-1)_.value=[..._.value,Z];else{const ce=[..._.value];ce.splice(q,1),_.value=ce}}else _.value=[Z],H.value=!0,y.value=Z.title,c.value=!1,o.value=!0,Ot(()=>H.value=!1)}return Le(i,(Z,q)=>{var ce;Z!==q&&(Z?(H.value=!0,y.value=e.multiple?"":String(((ce=S.value.at(-1))==null?void 0:ce.props.title)??""),o.value=!0,Ot(()=>H.value=!1)):(!e.multiple&&!y.value?_.value=[]:T.value&&!s.value&&!S.value.some(oe=>{let{value:ae}=oe;return ae===C.value[0].value})&&K(C.value[0]),c.value=!1,y.value="",f.value=-1))}),Le(y,Z=>{!i.value||H.value||(Z&&(c.value=!0),o.value=!Z)}),Me(()=>{const Z=!!(e.chips||n.chip),q=!!(!e.hideNoData||C.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),ce=_.value.length>0,[oe]=lf.filterProps(e);return D(lf,Ee({ref:a},oe,{modelValue:y.value,"onUpdate:modelValue":N,focused:i.value,"onUpdate:focused":ae=>i.value=ae,validationValue:_.externalValue,dirty:ce,onInput:z,onChange:X,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!n.selection,"v-autocomplete--selecting-index":f.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:ce?void 0:e.placeholder,"onClick:clear":B,"onMousedown:control":U,onKeydown:L}),{...n,default:()=>D(Ae,null,[D(Z1,Ee({ref:l,modelValue:c.value,"onUpdate:modelValue":ae=>c.value=ae,activator:"parent",contentClass:"v-autocomplete__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:Y},e.menuProps),{default:()=>[q&&D(j1,{ref:P,selected:A.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ae=>ae.preventDefault(),onKeydown:k,onFocusin:$,onFocusout:F,onScrollPassive:I,tabindex:"-1"},{default:()=>{var ae,V,G;return[(ae=n["prepend-item"])==null?void 0:ae.call(n),!C.value.length&&!e.hideNoData&&(((V=n["no-data"])==null?void 0:V.call(n))??D(ul,{title:r(e.noDataText)},null)),D(ex,{renderless:!0,items:C.value},{default:Q=>{var Se;let{item:ue,index:fe,itemRef:ge}=Q;const De=Ee(ue.props,{ref:ge,key:fe,active:T.value&&fe===0?!0:void 0,onClick:()=>K(ue)});return((Se=n.item)==null?void 0:Se.call(n,{item:ue,index:fe,props:De}))??D(ul,De,{prepend:le=>{let{isSelected:se}=le;return D(Ae,null,[e.multiple&&!e.hideSelected?D(rh,{key:ue.value,modelValue:se,ripple:!1,tabindex:"-1"},null):void 0,ue.props.prependIcon&&D(Nn,{icon:ue.props.prependIcon},null)])},title:()=>{var le,se;return o.value?ue.title:zfe(ue.title,(le=b(ue))==null?void 0:le.title,((se=y.value)==null?void 0:se.length)??0)}})}}),(G=n["append-item"])==null?void 0:G.call(n)]}})]}),S.value.map((ae,V)=>{var ue;function G(fe){fe.stopPropagation(),fe.preventDefault(),K(ae)}const Q={"onClick:close":G,onMousedown(fe){fe.preventDefault(),fe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return D("div",{key:ae.value,class:["v-autocomplete__selection",V===f.value&&["v-autocomplete__selection--selected",m.value]],style:V===f.value?g.value:{}},[Z?n.chip?D(An,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ae.title}}},{default:()=>{var fe;return[(fe=n.chip)==null?void 0:fe.call(n,{item:ae,index:V,props:Q})]}}):D(Fm,Ee({key:"chip",closable:e.closableChips,size:"small",text:ae.title},Q),null):((ue=n.selection)==null?void 0:ue.call(n,{item:ae,index:V}))??D("span",{class:"v-autocomplete__selection-text"},[ae.title,e.multiple&&V<S.value.length-1&&D("span",{class:"v-autocomplete__selection-comma"},[qe(",")])])])})]),"append-inner":function(){var Q;for(var ae=arguments.length,V=new Array(ae),G=0;G<ae;G++)V[G]=arguments[G];return D(Ae,null,[(Q=n["append-inner"])==null?void 0:Q.call(n,...V),e.menuIcon?D(Nn,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:R,onClick:MU},null):void 0])}})}),Go({isFocused:i,isPristine:o,menu:c,search:y,filteredItems:w,select:K},a)}});const Gfe=de({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:xt,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ve(),...yu({location:"top end"}),...Zn(),...Pt(),...Zt(),..._l({transition:"scale-rotate-transition"})},"VBadge"),Wfe=be()({name:"VBadge",inheritAttrs:!1,props:Gfe(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:r}=Cr(ye(e,"color")),{roundedClasses:a}=ar(e),{t:i}=mo(),{textColorClasses:o,textColorStyles:s}=Ea(ye(e,"textColor")),{themeClasses:l}=XU(),{locationStyles:u}=_u(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+(e.offsetY??0):["left","right"].includes(c)?+(e.offsetX??0):0));return Me(()=>{const c=Number(e.content),f=!e.max||isNaN(c)?e.content:c<=+e.max?c:`${e.max}+`,[d,h]=Ah(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return D(e.tag,Ee({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},h,{style:e.style}),{default:()=>{var v,p;return[D("div",{class:"v-badge__wrapper"},[(p=(v=t.slots).default)==null?void 0:p.call(v),D(Oo,{transition:e.transition},{default:()=>{var m,g;return[On(D("span",Ee({class:["v-badge__badge",l.value,n.value,a.value,o.value],style:[r.value,s.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":i(e.label,c),"aria-live":"polite",role:"status"},d),[e.dot?void 0:t.slots.badge?(g=(m=t.slots).badge)==null?void 0:g.call(m):e.icon?D(Nn,{icon:e.icon},null):f]),[[ui,e.modelValue]])]}})])]}})}),{}}});const Yfe=de({color:String,density:String,...Ve()},"VBannerActions"),Xz=be()({name:"VBannerActions",props:Yfe(),setup(e,t){let{slots:n}=t;return Rr({VBtn:{color:e.color,density:e.density,variant:"text"}}),Me(()=>{var r;return D("div",{class:["v-banner-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),qz=$o("v-banner-text"),jfe=de({avatar:String,color:String,icon:xt,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Ci(),...Ve(),...Yr(),...go(),...Wr(),...yu(),...Rh(),...Zn(),...Pt(),...Zt()},"VBanner"),Xfe=be()({name:"VBanner",props:jfe(),setup(e,t){let{slots:n}=t;const{borderClasses:r}=_o(e),{densityClasses:a}=Pa(e),{mobile:i}=Af(),{dimensionStyles:o}=yo(e),{elevationClasses:s}=ua(e),{locationStyles:l}=_u(e),{positionClasses:u}=Oh(e),{roundedClasses:c}=ar(e),{themeClasses:f}=yn(e),d=ye(e,"color"),h=ye(e,"density");Rr({VBannerActions:{color:d,density:h}}),Me(()=>{const v=!!(e.text||n.text),p=!!(e.avatar||e.icon),m=!!(p||n.prepend);return D(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||i.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},r.value,a.value,s.value,u.value,c.value,f.value,e.class],style:[o.value,l.value,e.style],role:"banner"},{default:()=>{var g;return[m&&D("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?D(An,{key:"prepend-defaults",disabled:!p,defaults:{VAvatar:{color:d.value,density:h.value,icon:e.icon,image:e.avatar}}},n.prepend):D(hu,{key:"prepend-avatar",color:d.value,density:h.value,icon:e.icon,image:e.avatar},null)]),D("div",{class:"v-banner__content"},[v&&D(qz,{key:"text"},{default:()=>{var y;return[((y=n.text)==null?void 0:y.call(n))??e.text]}}),(g=n.default)==null?void 0:g.call(n)]),n.actions&&D(Xz,{key:"actions"},n.actions)]}})})}});const qfe=de({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Ci(),...Ve(),...Yr(),...Wr(),...Zn(),...Eh({name:"bottom-navigation"}),...Pt({tag:"header"}),...Mh({modelValue:!0,selectedClass:"v-btn--selected"}),...Zt()},"VBottomNavigation"),Zfe=be()({name:"VBottomNavigation",props:qfe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=XU(),{borderClasses:a}=_o(e),{backgroundColorClasses:i,backgroundColorStyles:o}=Cr(ye(e,"bgColor")),{densityClasses:s}=Pa(e),{elevationClasses:l}=ua(e),{roundedClasses:u}=ar(e),{ssrBootStyles:c}=wf(),f=O(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),d=ye(e,"active"),{layoutItemStyles:h}=Dh({id:e.name,order:O(()=>parseInt(e.order,10)),position:O(()=>"bottom"),layoutSize:O(()=>d.value?f.value:0),elementSize:f,active:d,absolute:ye(e,"absolute")});return Cf(e,vE),Rr({VBtn:{color:ye(e,"color"),density:ye(e,"density"),stacked:O(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Me(()=>D(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":d.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},r.value,i.value,a.value,s.value,l.value,u.value,e.class],style:[o.value,h.value,{height:ze(f.value),transform:`translateY(${ze(d.value?0:100,"%")})`},c.value,e.style]},{default:()=>[n.default&&D("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}});const Kfe=de({divider:[Number,String],...Ve()},"VBreadcrumbsDivider"),Zz=be()({name:"VBreadcrumbsDivider",props:Kfe(),setup(e,t){let{slots:n}=t;return Me(()=>{var r;return D("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((r=n==null?void 0:n.default)==null?void 0:r.call(n))??e.divider])}),{}}}),Qfe=de({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Ve(),...Vm(),...Pt({tag:"li"})},"VBreadcrumbsItem"),Kz=be()({name:"VBreadcrumbsItem",props:Qfe(),setup(e,t){let{slots:n,attrs:r}=t;const a=Bm(e,r),i=O(()=>{var u;return e.active||((u=a.isActive)==null?void 0:u.value)}),o=O(()=>i.value?e.activeColor:e.color),{textColorClasses:s,textColorStyles:l}=Ea(o);return Me(()=>D(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":i.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:i.value&&e.activeClass},s.value,e.class],style:[l.value,e.style],"aria-current":i.value?"page":void 0},{default:()=>{var u,c;return[a.isLink.value?D("a",{class:"v-breadcrumbs-item--link",href:a.href.value,"aria-current":i.value?"page":void 0,onClick:a.navigate},[((c=n.default)==null?void 0:c.call(n))??e.title]):((u=n.default)==null?void 0:u.call(n))??e.title]}})),{}}}),Jfe=de({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:xt,items:{type:Array,default:()=>[]},...Ve(),...Yr(),...Zn(),...Pt({tag:"ul"})},"VBreadcrumbs"),ede=be()({name:"VBreadcrumbs",props:Jfe(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=Cr(ye(e,"bgColor")),{densityClasses:i}=Pa(e),{roundedClasses:o}=ar(e);Rr({VBreadcrumbsDivider:{divider:ye(e,"divider")},VBreadcrumbsItem:{activeClass:ye(e,"activeClass"),activeColor:ye(e,"activeColor"),color:ye(e,"color"),disabled:ye(e,"disabled")}});const s=O(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return Me(()=>{const l=!!(n.prepend||e.icon);return D(e.tag,{class:["v-breadcrumbs",r.value,i.value,o.value,e.class],style:[a.value,e.style]},{default:()=>{var u;return[l&&D("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?D(An,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):D(Nn,{key:"prepend-icon",start:!0,icon:e.icon},null)]),s.value.map((c,f,d)=>{let{item:h,raw:v}=c;return D(Ae,null,[D(Kz,Ee({key:h.title,disabled:f>=d.length-1},h),{default:n.title?()=>{var p;return(p=n.title)==null?void 0:p.call(n,{item:v,index:f})}:void 0}),f<d.length-1&&D(Zz,null,{default:n.divider?()=>{var p;return(p=n.divider)==null?void 0:p.call(n,{item:v,index:f})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}});const Qz=be()({name:"VCardActions",props:Ve(),setup(e,t){let{slots:n}=t;return Rr({VBtn:{variant:"text"}}),Me(()=>{var r;return D("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),Jz=$o("v-card-subtitle"),eH=$o("v-card-title"),tde=de({appendAvatar:String,appendIcon:xt,prependAvatar:String,prependIcon:xt,subtitle:String,title:String,...Ve(),...Yr()},"VCardItem"),tH=be()({name:"VCardItem",props:tde(),setup(e,t){let{slots:n}=t;return Me(()=>{var u;const r=!!(e.prependAvatar||e.prependIcon),a=!!(r||n.prepend),i=!!(e.appendAvatar||e.appendIcon),o=!!(i||n.append),s=!!(e.title||n.title),l=!!(e.subtitle||n.subtitle);return D("div",{class:["v-card-item",e.class],style:e.style},[a&&D("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?D(An,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},n.prepend):r&&D(hu,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),D("div",{class:"v-card-item__content"},[s&&D(eH,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&D(Jz,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),o&&D("div",{key:"append",class:"v-card-item__append"},[n.append?D(An,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},n.append):i&&D(hu,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),nH=$o("v-card-text"),nde=de({appendAvatar:String,appendIcon:xt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:xt,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...Ci(),...Ve(),...Yr(),...go(),...Wr(),...xE(),...yu(),...Rh(),...Zn(),...Vm(),...Pt(),...Zt(),...xo({variant:"elevated"})},"VCard"),rde=be()({name:"VCard",directives:{Ripple:xu},props:nde(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=yn(e),{borderClasses:i}=_o(e),{colorClasses:o,colorStyles:s,variantClasses:l}=Tf(e),{densityClasses:u}=Pa(e),{dimensionStyles:c}=yo(e),{elevationClasses:f}=ua(e),{loaderClasses:d}=$1(e),{locationStyles:h}=_u(e),{positionClasses:v}=Oh(e),{roundedClasses:p}=ar(e),m=Bm(e,n),g=O(()=>e.link!==!1&&m.isLink.value),y=O(()=>!e.disabled&&e.link!==!1&&(e.link||m.isClickable.value));return Me(()=>{const _=g.value?"a":e.tag,x=!!(r.title||e.title),w=!!(r.subtitle||e.subtitle),b=x||w,S=!!(r.append||e.appendAvatar||e.appendIcon),C=!!(r.prepend||e.prependAvatar||e.prependIcon),A=!!(r.image||e.image),M=b||C||S,T=!!(r.text||e.text);return On(D(_,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":y.value},a.value,i.value,o.value,u.value,f.value,d.value,v.value,p.value,l.value,e.class],style:[s.value,c.value,h.value,e.style],href:m.href.value,onClick:y.value&&m.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var E;return[A&&D("div",{key:"image",class:"v-card__image"},[r.image?D(An,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):D(sf,{key:"image-img",cover:!0,src:e.image},null)]),D(bE,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),M&&D(tH,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),T&&D(nH,{key:"text"},{default:()=>{var P;return[((P=r.text)==null?void 0:P.call(r))??e.text]}}),(E=r.default)==null?void 0:E.call(r),r.actions&&D(Qz,null,{default:r.actions}),Sf(y.value,"v-card")]}}),[[di("ripple"),y.value&&e.ripple]])}),{}}});const ade=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:a}=e,i=.5,o=16;e.offsetX=n-t,e.offsetY=a-r,Math.abs(e.offsetY)<i*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<i*Math.abs(e.offsetY)&&(e.up&&a<r-o&&e.up(e),e.down&&a>r+o&&e.down(e))};function ide(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function ode(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),ade(t)}function sde(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function lde(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>ide(n,t),touchend:n=>ode(n,t),touchmove:n=>sde(n,t)}}function ude(e,t){var s;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,a=(n==null?void 0:n.options)??{passive:!0},i=(s=t.instance)==null?void 0:s.$.uid;if(!r||!i)return;const o=lde(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[i]=o,AU(o).forEach(l=>{r.addEventListener(l,o[l],a)})}function cde(e,t){var i,o;const n=(i=t.value)!=null&&i.parent?e.parentElement:e,r=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const a=n._touchHandlers[r];AU(a).forEach(s=>{n.removeEventListener(s,a[s])}),delete n._touchHandlers[r]}const PE={mounted:ude,unmounted:cde},rH=Symbol.for("vuetify:v-window"),aH=Symbol.for("vuetify:v-window-group"),iH=de({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...Ve(),...Pt(),...Zt()},"VWindow"),_C=be()({name:"VWindow",directives:{Touch:PE},props:iH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{isRtl:a}=na(),{t:i}=mo(),o=Cf(e,aH),s=te(),l=O(()=>a.value?!e.reverse:e.reverse),u=ke(!1),c=O(()=>{const x=e.direction==="vertical"?"y":"x",b=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${x}${b}-transition`}),f=ke(0),d=te(void 0),h=O(()=>o.items.value.findIndex(x=>o.selected.value.includes(x.id)));Le(h,(x,w)=>{const b=o.items.value.length,S=b-1;b<=2?u.value=x<w:x===S&&w===0?u.value=!0:x===0&&w===S?u.value=!1:u.value=x<w}),dr(rH,{transition:c,isReversed:u,transitionCount:f,transitionHeight:d,rootRef:s});const v=O(()=>e.continuous||h.value!==0),p=O(()=>e.continuous||h.value!==o.items.value.length-1);function m(){v.value&&o.prev()}function g(){p.value&&o.next()}const y=O(()=>{const x=[],w={icon:a.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,ariaLabel:i("$vuetify.carousel.prev")};x.push(v.value?n.prev?n.prev({props:w}):D($a,w,null):D("div",null,null));const b={icon:a.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,ariaLabel:i("$vuetify.carousel.next")};return x.push(p.value?n.next?n.next({props:b}):D($a,b,null):D("div",null,null)),x}),_=O(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?m():g()},right:()=>{l.value?g():m()},start:w=>{let{originalEvent:b}=w;b.stopPropagation()}},...e.touch===!0?{}:e.touch});return Me(()=>On(D(e.tag,{ref:s,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var x,w;return[D("div",{class:"v-window__container",style:{height:d.value}},[(x=n.default)==null?void 0:x.call(n,{group:o}),e.showArrows!==!1&&D("div",{class:"v-window__controls"},[y.value])]),(w=n.additional)==null?void 0:w.call(n,{group:o})]}}),[[di("touch"),_.value]])),{group:o}}}),fde=de({color:String,cycle:Boolean,delimiterIcon:{type:xt,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...iH({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),dde=be()({name:"VCarousel",props:fde(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),{t:a}=mo(),i=te();let o=-1;Le(r,l),Le(()=>e.interval,l),Le(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),nn(s);function s(){!e.cycle||!i.value||(o=window.setTimeout(i.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(s)}return Me(()=>{const[u]=_C.filterProps(e);return D(_C,Ee({ref:i},u,{modelValue:r.value,"onUpdate:modelValue":c=>r.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:ze(e.height)},e.style]}),{default:n.default,additional:c=>{let{group:f}=c;return D(Ae,null,[!e.hideDelimiters&&D("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[f.items.value.length>0&&D(An,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[f.items.value.map((d,h)=>{const v={id:`carousel-item-${d.id}`,"aria-label":a("$vuetify.carousel.ariaLabel.delimiter",h+1,f.items.value.length),class:[f.isSelected(d.id)&&"v-btn--active"],onClick:()=>f.select(d.id,!0)};return n.item?n.item({props:v,item:d}):D($a,Ee(d,v),null)})]})]),e.progress&&D(_E,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(f.getItemIndex(r.value)+1)/f.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),oH=de({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ve(),...Ph(),...q1()},"VWindowItem"),xC=be()({name:"VWindowItem",directives:{Touch:PE},props:oH(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=It(rH),a=Lh(e,aH),{isBooted:i}=wf();if(!r||!a)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=ke(!1),s=O(()=>i.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!r||(o.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function u(){var v;o.value||!r||(o.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=ze((v=r.rootRef.value)==null?void 0:v.clientHeight)),r.transitionCount.value+=1)}function c(){l()}function f(v){o.value&&Ot(()=>{!s.value||!o.value||!r||(r.transitionHeight.value=ze(v.clientHeight))})}const d=O(()=>{const v=r.isReversed.value?e.reverseTransition:e.transition;return s.value?{name:typeof v!="string"?r.transition.value:v,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:f}:!1}),{hasContent:h}=AE(e,a.isSelected);return Me(()=>D(Oo,{transition:d.value,disabled:!i.value},{default:()=>{var v;return[On(D("div",{class:["v-window-item",a.selectedClass.value,e.class],style:e.style},[h.value&&((v=n.default)==null?void 0:v.call(n))]),[[ui,a.isSelected.value]])]}})),{}}}),hde=de({...tz(),...oH()},"VCarouselItem"),vde=be()({name:"VCarouselItem",inheritAttrs:!1,props:hde(),setup(e,t){let{slots:n,attrs:r}=t;Me(()=>{const[a]=sf.filterProps(e),[i]=xC.filterProps(e);return D(xC,Ee({class:"v-carousel-item"},i),{default:()=>[D(sf,Ee(r,a),n)]})})}});const pde=$o("v-code");const mde=de({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Ve()},"VColorPickerCanvas"),gde=po({name:"VColorPickerCanvas",props:mde(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const r=ke(!1),a=ke(!1),i=te({x:0,y:0}),o=O(()=>{const{x:g,y}=i.value,_=parseInt(e.dotSize,10)/2;return{width:ze(e.dotSize),height:ze(e.dotSize),transform:`translate(${ze(g-_)}, ${ze(y-_)})`}}),s=te(),l=ke(parseFloat(e.width)),u=ke(parseFloat(e.height)),{resizeRef:c}=ws(g=>{var x;if(!((x=c.value)!=null&&x.offsetParent))return;const{width:y,height:_}=g[0].contentRect;l.value=y,u.value=_});function f(g,y,_){const{left:x,top:w,width:b,height:S}=_;i.value={x:xa(g-x,0,b),y:xa(y-w,0,S)}}function d(g){e.disabled||!s.value||f(g.clientX,g.clientY,s.value.getBoundingClientRect())}function h(g){g.preventDefault(),!e.disabled&&(r.value=!0,window.addEventListener("mousemove",v),window.addEventListener("mouseup",p),window.addEventListener("touchmove",v),window.addEventListener("touchend",p))}function v(g){if(e.disabled||!s.value)return;r.value=!0;const y=Rle(g);f(y.clientX,y.clientY,s.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",p)}Le(i,()=>{var _,x;if(a.value){a.value=!1;return}if(!s.value)return;const{x:g,y}=i.value;n("update:color",{h:((_=e.color)==null?void 0:_.h)??0,s:xa(g,0,l.value)/l.value,v:1-xa(y,0,u.value)/u.value,a:((x=e.color)==null?void 0:x.a)??1})});function m(){var w;if(!s.value)return;const g=s.value,y=g.getContext("2d");if(!y)return;const _=y.createLinearGradient(0,0,g.width,0);_.addColorStop(0,"hsla(0, 0%, 100%, 1)"),_.addColorStop(1,`hsla(${((w=e.color)==null?void 0:w.h)??0}, 100%, 50%, 1)`),y.fillStyle=_,y.fillRect(0,0,g.width,g.height);const x=y.createLinearGradient(0,0,0,g.height);x.addColorStop(0,"hsla(0, 0%, 100%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),y.fillStyle=x,y.fillRect(0,0,g.width,g.height)}return Le(()=>{var g;return(g=e.color)==null?void 0:g.h},m,{immediate:!0}),Le(()=>[l.value,u.value],(g,y)=>{m(),i.value={x:i.value.x*g[0]/y[0],y:i.value.y*g[1]/y[1]}},{flush:"post"}),Le(()=>e.color,()=>{if(r.value){r.value=!1;return}a.value=!0,i.value=e.color?{x:e.color.s*l.value,y:(1-e.color.v)*u.value}:{x:0,y:0}},{deep:!0,immediate:!0}),nn(()=>m()),Me(()=>D("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onClick:d,onMousedown:h,onTouchstart:h},[D("canvas",{ref:s,width:l.value,height:u.value},null),e.color&&D("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:o.value},null)])),{}}});function yde(e,t){if(t){const{a:n,...r}=e;return r}return e}function _de(e,t){if(t==null||typeof t=="string"){const n=FU(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return Sc(t,["r","g","b"])?n=sl(e):Sc(t,["h","s","l"])?n=OU(e):Sc(t,["h","s","v"])&&(n=e),yde(n,!Sc(t,["a"])&&e.a===1)}return e}const xp={h:0,s:0,v:1,a:1},bC={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:sl,from:F1};var mN;const xde={...bC,inputs:(mN=bC.inputs)==null?void 0:mN.slice(0,3)},wC={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:OU,from:iE},bde={...wC,inputs:wC.inputs.slice(0,3)},sH={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:FU,from:Yle},wde={...sH,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},Wc={rgb:xde,rgba:bC,hsl:bde,hsla:wC,hex:wde,hexa:sH},Sde=e=>{let{label:t,...n}=e;return D("div",{class:"v-color-picker-edit__input"},[D("input",n,null),D("span",null,[t])])},Tde=de({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Wc).includes(e)},modes:{type:Array,default:()=>Object.keys(Wc),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Wc).includes(t))},...Ve()},"VColorPickerEdit"),Cde=po({name:"VColorPickerEdit",props:Tde(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const r=O(()=>e.modes.map(i=>({...Wc[i],name:i}))),a=O(()=>{var s;const i=r.value.find(l=>l.name===e.mode);if(!i)return[];const o=e.color?i.to(e.color):null;return(s=i.inputs)==null?void 0:s.map(l=>{let{getValue:u,getColor:c,...f}=l;return{...i.inputProps,...f,disabled:e.disabled,value:o&&u(o),onChange:d=>{const h=d.target;h&&n("update:color",i.from(c(o??xp,h.value)))}}})});return Me(()=>{var i;return D("div",{class:["v-color-picker-edit",e.class],style:e.style},[(i=a.value)==null?void 0:i.map(o=>D(Sde,o,null)),r.value.length>1&&D($a,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=r.value.findIndex(s=>s.name===e.mode);n("update:mode",r.value[(o+1)%r.value.length].name)}},null)])}),{}}});const LE=Symbol.for("vuetify:v-slider");function SC(e,t,n){const r=n==="vertical",a=t.getBoundingClientRect(),i="touches"in e?e.touches[0]:e;return r?i.clientY-(a.top+a.height/2):i.clientX-(a.left+a.width/2)}function Ade(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const lH=de({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Zn(),...Wr({elevation:2})},"Slider"),uH=e=>{const t=O(()=>parseFloat(e.min)),n=O(()=>parseFloat(e.max)),r=O(()=>+e.step>0?parseFloat(e.step):0),a=O(()=>Math.max(BR(r.value),BR(t.value)));function i(o){if(r.value<=0)return o;const s=xa(o,t.value,n.value),l=t.value%r.value,u=Math.round((s-l)/r.value)*r.value+l;return parseFloat(Math.min(u,n.value).toFixed(a.value))}return{min:t,max:n,step:r,decimals:a,roundValue:i}},cH=e=>{let{props:t,steps:n,onSliderStart:r,onSliderMove:a,onSliderEnd:i,getActiveThumb:o}=e;const{isRtl:s}=na(),l=ye(t,"reverse"),u=O(()=>{let H=s.value?"rtl":"ltr";return t.reverse&&(H=H==="rtl"?"ltr":"rtl"),H}),{min:c,max:f,step:d,decimals:h,roundValue:v}=n,p=O(()=>parseInt(t.thumbSize,10)),m=O(()=>parseInt(t.tickSize,10)),g=O(()=>parseInt(t.trackSize,10)),y=O(()=>(f.value-c.value)/d.value),_=ye(t,"disabled"),x=O(()=>t.direction==="vertical"),w=O(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),b=O(()=>t.error||t.disabled?void 0:t.trackColor??t.color),S=O(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),C=ke(!1),A=ke(0),M=te(),T=te();function E(H){var Q;const K=t.direction==="vertical",Z=K?"top":"left",q=K?"height":"width",ce=K?"clientY":"clientX",{[Z]:oe,[q]:ae}=(Q=M.value)==null?void 0:Q.$el.getBoundingClientRect(),V=Ade(H,ce);let G=Math.min(Math.max((V-oe-A.value)/ae,0),1)||0;return(K||u.value==="rtl")&&(G=1-G),v(c.value+G*(f.value-c.value))}const P=H=>{i({value:E(H)}),C.value=!1,A.value=0},I=H=>{T.value=o(H),T.value&&(T.value.focus(),C.value=!0,T.value.contains(H.target)?A.value=SC(H,T.value,t.direction):(A.value=0,a({value:E(H)})),r({value:E(H)}))},k={passive:!0,capture:!0};function B(H){a({value:E(H)})}function U(H){H.stopPropagation(),H.preventDefault(),P(H),window.removeEventListener("mousemove",B,k),window.removeEventListener("mouseup",U)}function R(H){var K;P(H),window.removeEventListener("touchmove",B,k),(K=H.target)==null||K.removeEventListener("touchend",R)}function L(H){var K;I(H),window.addEventListener("touchmove",B,k),(K=H.target)==null||K.addEventListener("touchend",R,{passive:!1})}function z(H){H.preventDefault(),I(H),window.addEventListener("mousemove",B,k),window.addEventListener("mouseup",U,{passive:!1})}const X=H=>{const K=(H-c.value)/(f.value-c.value)*100;return xa(isNaN(K)?0:K,0,100)},Y=ye(t,"showTicks"),$=O(()=>Y.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(H=>({value:H,position:X(H),label:H.toString()})):Object.keys(t.ticks).map(H=>({value:parseFloat(H),position:X(parseFloat(H)),label:t.ticks[H]})):y.value!==1/0?Ks(y.value+1).map(H=>{const K=c.value+H*d.value;return{value:K,position:X(K)}}):[]:[]),F=O(()=>$.value.some(H=>{let{label:K}=H;return!!K})),N={activeThumbRef:T,color:ye(t,"color"),decimals:h,disabled:_,direction:ye(t,"direction"),elevation:ye(t,"elevation"),hasLabels:F,horizontalDirection:u,isReversed:l,min:c,max:f,mousePressed:C,numTicks:y,onSliderMousedown:z,onSliderTouchstart:L,parsedTicks:$,parseMouseMove:E,position:X,readonly:ye(t,"readonly"),rounded:ye(t,"rounded"),roundValue:v,showTicks:Y,startOffset:A,step:d,thumbSize:p,thumbColor:w,thumbLabel:ye(t,"thumbLabel"),ticks:ye(t,"ticks"),tickSize:m,trackColor:b,trackContainerRef:M,trackFillColor:S,trackSize:g,vertical:x};return dr(LE,N),N},Ede=de({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...Ve()},"VSliderThumb"),TC=be()({name:"VSliderThumb",directives:{Ripple:xu},props:Ede(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=It(LE),{rtlClasses:i}=na();if(!a)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:s,vertical:l,disabled:u,thumbSize:c,thumbLabel:f,direction:d,readonly:h,elevation:v,isReversed:p,horizontalDirection:m,mousePressed:g,decimals:y}=a,{textColorClasses:_,textColorStyles:x}=Ea(o),{pageup:w,pagedown:b,end:S,home:C,left:A,right:M,down:T,up:E}=JT,P=[w,b,S,C,A,M,T,E],I=O(()=>s.value?[1,2,3]:[1,5,10]);function k(U,R){if(!P.includes(U.key))return;U.preventDefault();const L=s.value||.1,z=(e.max-e.min)/L;if([A,M,T,E].includes(U.key)){const Y=(m.value==="rtl"?[A,E]:[M,E]).includes(U.key)?1:-1,$=U.shiftKey?2:U.ctrlKey?1:0;R=R+Y*L*I.value[$]}else if(U.key===C)R=e.min;else if(U.key===S)R=e.max;else{const X=U.key===b?1:-1;R=R-X*L*(z>100?z/10:10)}return Math.max(e.min,Math.min(e.max,R))}function B(U){const R=k(U,e.modelValue);R!=null&&r("update:modelValue",R)}return Me(()=>{const U=ze(l.value||p.value?100-e.position:e.position,"%"),{elevationClasses:R}=ua(O(()=>u.value?void 0:v.value));return D("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&g.value},e.class,i.value],style:[{"--v-slider-thumb-position":U,"--v-slider-thumb-size":ze(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!h.value,"aria-orientation":d.value,onKeydown:h.value?void 0:B},[D("div",{class:["v-slider-thumb__surface",_.value,R.value],style:{...x.value}},null),On(D("div",{class:["v-slider-thumb__ripple",_.value],style:x.value},null),[[di("ripple"),e.ripple,null,{circle:!0,center:!0}]]),D(QU,{origin:"bottom center"},{default:()=>{var L;return[On(D("div",{class:"v-slider-thumb__label-container"},[D("div",{class:["v-slider-thumb__label"]},[D("div",null,[((L=n["thumb-label"])==null?void 0:L.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(s.value?y.value:1)])])]),[[ui,f.value&&e.focused||f.value==="always"]])]}})])}),{}}});const Dde=de({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ve()},"VSliderTrack"),fH=be()({name:"VSliderTrack",props:Dde(),emits:{},setup(e,t){let{slots:n}=t;const r=It(LE);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:a,horizontalDirection:i,parsedTicks:o,rounded:s,showTicks:l,tickSize:u,trackColor:c,trackFillColor:f,trackSize:d,vertical:h,min:v,max:p}=r,{roundedClasses:m}=ar(s),{backgroundColorClasses:g,backgroundColorStyles:y}=Cr(f),{backgroundColorClasses:_,backgroundColorStyles:x}=Cr(c),w=O(()=>`inset-${h.value?"block-end":"inline-start"}`),b=O(()=>h.value?"height":"width"),S=O(()=>({[w.value]:"0%",[b.value]:"100%"})),C=O(()=>e.stop-e.start),A=O(()=>({[w.value]:ze(e.start,"%"),[b.value]:ze(C.value,"%")})),M=O(()=>l.value?(h.value?o.value.slice().reverse():o.value).map((E,P)=>{var B;const I=h.value?"bottom":"margin-inline-start",k=E.value!==v.value&&E.value!==p.value?ze(E.position,"%"):void 0;return D("div",{key:E.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":E.position>=e.start&&E.position<=e.stop,"v-slider-track__tick--first":E.value===v.value,"v-slider-track__tick--last":E.value===p.value}],style:{[I]:k}},[(E.label||n["tick-label"])&&D("div",{class:"v-slider-track__tick-label"},[((B=n["tick-label"])==null?void 0:B.call(n,{tick:E,index:P}))??E.label])])}):[]);return Me(()=>D("div",{class:["v-slider-track",m.value,e.class],style:[{"--v-slider-track-size":ze(d.value),"--v-slider-tick-size":ze(u.value),direction:h.value?void 0:i.value},e.style]},[D("div",{class:["v-slider-track__background",_.value,{"v-slider-track__background--opacity":!!a.value||!f.value}],style:{...S.value,...x.value}},null),D("div",{class:["v-slider-track__fill",g.value],style:{...A.value,...y.value}},null),l.value&&D("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}]},[M.value])])),{}}}),Mde=de({...W1(),...lH(),...bl(),modelValue:{type:[Number,String],default:0}},"VSlider"),CC=be()({name:"VSlider",props:Mde(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=te(),{rtlClasses:i}=na(),o=uH(e),s=Tt(e,"modelValue",void 0,b=>{const S=typeof b=="string"?parseFloat(b):b??o.min.value;return o.roundValue(S)}),{min:l,max:u,mousePressed:c,roundValue:f,onSliderMousedown:d,onSliderTouchstart:h,trackContainerRef:v,position:p,hasLabels:m,readonly:g}=cH({props:e,steps:o,onSliderStart:()=>{r("start",s.value)},onSliderEnd:b=>{let{value:S}=b;const C=f(S);s.value=C,r("end",C)},onSliderMove:b=>{let{value:S}=b;return s.value=f(S)},getActiveThumb:()=>{var b;return(b=a.value)==null?void 0:b.$el}}),{isFocused:y,focus:_,blur:x}=bu(e),w=O(()=>p(s.value));return Me(()=>{const[b,S]=sa.filterProps(e),C=!!(e.label||n.label||n.prepend);return D(sa,Ee({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||m.value,"v-slider--focused":y.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style},b,{focused:y.value}),{...n,prepend:C?A=>{var M,T;return D(Ae,null,[((M=n.label)==null?void 0:M.call(n,A))??e.label?D(kh,{id:A.id.value,class:"v-slider__label",text:e.label},null):void 0,(T=n.prepend)==null?void 0:T.call(n,A)])}:void 0,default:A=>{let{id:M,messagesId:T}=A;return D("div",{class:"v-slider__container",onMousedown:g.value?void 0:d,onTouchstartPassive:g.value?void 0:h},[D("input",{id:M.value,name:e.name||M.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:s.value},null),D(fH,{ref:v,start:0,stop:w.value},{"tick-label":n["tick-label"]}),D(TC,{ref:a,"aria-describedby":T.value,focused:y.value,min:l.value,max:u.value,modelValue:s.value,"onUpdate:modelValue":E=>s.value=E,position:w.value,elevation:e.elevation,onFocus:_,onBlur:x},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Pde=de({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Ve()},"VColorPickerPreview"),Lde=po({name:"VColorPickerPreview",props:Pde(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return Me(()=>{var r,a;return D("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[D("div",{class:"v-color-picker-preview__dot"},[D("div",{style:{background:NU(e.color??xp)}},null)]),D("div",{class:"v-color-picker-preview__sliders"},[D(CC,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=e.color)==null?void 0:r.h,"onUpdate:modelValue":i=>n("update:color",{...e.color??xp,h:i}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&D(CC,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((a=e.color)==null?void 0:a.a)??1,"onUpdate:modelValue":i=>n("update:color",{...e.color??xp,a:i}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}});const Ide=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),Rde=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),Ode=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),kde=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),Nde=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),Bde=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),Vde=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),Fde=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),Ude=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),zde=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),Hde=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),$de=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),Gde=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),Wde=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),Yde=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),jde=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),Xde=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),qde=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),Zde=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),Kde=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),Qde=Object.freeze({red:Ide,pink:Rde,purple:Ode,deepPurple:kde,indigo:Nde,blue:Bde,lightBlue:Vde,cyan:Fde,teal:Ude,green:zde,lightGreen:Hde,lime:$de,yellow:Gde,amber:Wde,orange:Yde,deepOrange:jde,brown:Xde,blueGrey:qde,grey:Zde,shades:Kde}),Jde=de({swatches:{type:Array,default:()=>ehe(Qde)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Ve()},"VColorPickerSwatches");function ehe(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const the=po({name:"VColorPickerSwatches",props:Jde(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return Me(()=>D("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:ze(e.maxHeight)},e.style]},[D("div",null,[e.swatches.map(r=>D("div",{class:"v-color-picker-swatches__swatch"},[r.map(a=>{const i=Qs(a),o=F1(i),s=kU(i);return D("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[D("div",{style:{background:s}},[e.color&&xf(e.color,o)?D(Nn,{size:"x-small",icon:"$success",color:Zle(a,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}});const dH=de({color:String,...Ci(),...Ve(),...go(),...Wr(),...yu(),...Rh(),...Zn(),...Pt(),...Zt()},"VSheet"),AC=be()({name:"VSheet",props:dH(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{backgroundColorClasses:a,backgroundColorStyles:i}=Cr(ye(e,"color")),{borderClasses:o}=_o(e),{dimensionStyles:s}=yo(e),{elevationClasses:l}=ua(e),{locationStyles:u}=_u(e),{positionClasses:c}=Oh(e),{roundedClasses:f}=ar(e);return Me(()=>D(e.tag,{class:["v-sheet",r.value,a.value,o.value,l.value,c.value,f.value,e.class],style:[i.value,s.value,u.value,e.style]},n)),{}}}),nhe=de({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Wc).includes(e)},modes:{type:Array,default:()=>Object.keys(Wc),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Wc).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...As(dH({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),rhe=po({name:"VColorPicker",props:nhe(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=Tt(e,"mode"),n=te(null),r=Tt(e,"modelValue",void 0,o=>{if(o==null||o==="")return null;let s;try{s=F1(Qs(o))}catch(l){return al(l),null}return n.value&&(s={...s,h:n.value.h},n.value=null),s},o=>o?_de(o,e.modelValue):null),{rtlClasses:a}=na(),i=o=>{r.value=o,n.value=o};return nn(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),Rr({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Me(()=>{const[o]=AC.filterProps(e);return D(AC,Ee({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",a.value,e.class],style:[{"--v-color-picker-color-hsv":NU({...r.value??xp,a:1})},e.style]},o,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&D(gde,{key:"canvas",color:r.value,"onUpdate:color":i,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&D("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&D(Lde,{key:"preview",color:r.value,"onUpdate:color":i,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&D(Cde,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":s=>t.value=s,color:r.value,"onUpdate:color":i,disabled:e.disabled},null)]),e.showSwatches&&D(the,{key:"swatches",color:r.value,"onUpdate:color":i,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function ahe(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?D(Ae,null,[D("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),D("span",{class:"v-combobox__mask"},[e.substr(t,n)]),D("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const ihe=de({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...Yz({filterKeys:["title"]}),...ME({hideNoData:!0,returnObject:!0}),...As(J1({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),..._l({transition:!1})},"VCombobox"),ohe=be()({name:"VCombobox",props:ihe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var Z;let{emit:n,slots:r}=t;const{t:a}=mo(),i=te(),o=ke(!1),s=ke(!0),l=te(!1),u=te(),c=Tt(e,"menu"),f=O({get:()=>c.value,set:q=>{var ce;c.value&&!q&&((ce=u.value)!=null&&ce.ΨopenChildren)||(c.value=q)}}),d=ke(-1);let h=!1;const v=O(()=>{var q;return(q=i.value)==null?void 0:q.color}),{items:p,transformIn:m,transformOut:g}=CE(e),{textColorClasses:y,textColorStyles:_}=Ea(v),x=Tt(e,"modelValue",[],q=>m(to(q)),q=>{const ce=g(q);return e.multiple?ce:ce[0]??null}),w=Y1(),b=ke(e.multiple?"":((Z=x.value[0])==null?void 0:Z.title)??""),S=O({get:()=>b.value,set:q=>{var ce;if(b.value=q,e.multiple||(x.value=[Ed(e,q)]),q&&e.multiple&&((ce=e.delimiters)!=null&&ce.length)){const oe=q.split(new RegExp(`(?:${e.delimiters.join("|")})+`));oe.length>1&&(oe.forEach(ae=>{ae=ae.trim(),ae&&F(Ed(e,ae))}),b.value="")}q||(d.value=-1),s.value=!q}});Le(b,q=>{h?Ot(()=>h=!1):o.value&&!f.value&&(f.value=!0),n("update:search",q)}),Le(x,q=>{var ce;e.multiple||(b.value=((ce=q[0])==null?void 0:ce.title)??"")});const{filteredItems:C,getMatches:A}=jz(e,p,()=>s.value?"":S.value),M=O(()=>x.value.map(q=>p.value.find(ce=>e.valueComparator(ce.value,q.value))||q)),T=O(()=>e.hideSelected?C.value.filter(q=>!M.value.some(ce=>ce.value===q.value)):C.value),E=O(()=>M.value.map(q=>q.props.value)),P=O(()=>M.value[d.value]),I=O(()=>{var ce;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&S.value===((ce=T.value[0])==null?void 0:ce.title))&&T.value.length>0&&!s.value&&!l.value}),k=O(()=>e.hideNoData&&!p.value.length||e.readonly||(w==null?void 0:w.isReadonly.value)),B=te(),{onListScroll:U,onListKeydown:R}=DE(B,i);function L(q){h=!0,e.openOnClear&&(f.value=!0)}function z(){k.value||(f.value=!0)}function X(q){k.value||(o.value&&(q.preventDefault(),q.stopPropagation()),f.value=!f.value)}function Y(q){var ae;if(e.readonly||w!=null&&w.isReadonly.value)return;const ce=i.value.selectionStart,oe=E.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(q.key))&&q.preventDefault(),["Enter","ArrowDown"].includes(q.key)&&(f.value=!0),["Escape"].includes(q.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(q.key)&&(I.value&&["Enter","Tab"].includes(q.key)&&F(C.value[0]),s.value=!0),q.key==="ArrowDown"&&I.value&&((ae=B.value)==null||ae.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(q.key)){if(d.value<0){q.key==="Backspace"&&!S.value&&(d.value=oe-1);return}const V=d.value;P.value&&F(P.value),d.value=V>=oe-1?oe-2:V}if(q.key==="ArrowLeft"){if(d.value<0&&ce>0)return;const V=d.value>-1?d.value-1:oe-1;M.value[V]?d.value=V:(d.value=-1,i.value.setSelectionRange(S.value.length,S.value.length))}if(q.key==="ArrowRight"){if(d.value<0)return;const V=d.value+1;M.value[V]?d.value=V:(d.value=-1,i.value.setSelectionRange(0,0))}q.key==="Enter"&&S.value&&(F(Ed(e,S.value)),S.value="")}}function $(){var q;o.value&&(s.value=!0,(q=i.value)==null||q.focus())}function F(q){if(e.multiple){const ce=E.value.findIndex(oe=>e.valueComparator(oe,q.value));if(ce===-1)x.value=[...x.value,q];else{const oe=[...x.value];oe.splice(ce,1),x.value=oe}S.value=""}else x.value=[q],b.value=q.title,Ot(()=>{f.value=!1,s.value=!0})}function N(q){o.value=!0,setTimeout(()=>{l.value=!0})}function H(q){l.value=!1}function K(q){(q==null||q===""&&!e.multiple)&&(x.value=[])}return Le(C,q=>{!q.length&&e.hideNoData&&(f.value=!1)}),Le(o,(q,ce)=>{q||q===ce||(d.value=-1,f.value=!1,I.value&&!l.value&&!M.value.some(oe=>{let{value:ae}=oe;return ae===T.value[0].value})?F(T.value[0]):e.multiple&&S.value&&(x.value=[...x.value,Ed(e,S.value)],S.value=""))}),Me(()=>{const q=!!(e.chips||r.chip),ce=!!(!e.hideNoData||T.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),oe=x.value.length>0,[ae]=lf.filterProps(e);return D(lf,Ee({ref:i},ae,{modelValue:S.value,"onUpdate:modelValue":[V=>S.value=V,K],focused:o.value,"onUpdate:focused":V=>o.value=V,validationValue:x.externalValue,dirty:oe,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!r.selection,"v-combobox--selecting-index":d.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:oe?void 0:e.placeholder,"onClick:clear":L,"onMousedown:control":z,onKeydown:Y}),{...r,default:()=>D(Ae,null,[D(Z1,Ee({ref:u,modelValue:f.value,"onUpdate:modelValue":V=>f.value=V,activator:"parent",contentClass:"v-combobox__content",disabled:k.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:$},e.menuProps),{default:()=>[ce&&D(j1,{ref:B,selected:E.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:V=>V.preventDefault(),onKeydown:R,onFocusin:N,onFocusout:H,onScrollPassive:U,tabindex:"-1"},{default:()=>{var V,G,Q;return[(V=r["prepend-item"])==null?void 0:V.call(r),!T.value.length&&!e.hideNoData&&(((G=r["no-data"])==null?void 0:G.call(r))??D(ul,{title:a(e.noDataText)},null)),D(ex,{renderless:!0,items:T.value},{default:ue=>{var le;let{item:fe,index:ge,itemRef:De}=ue;const Se=Ee(fe.props,{ref:De,key:ge,active:I.value&&ge===0?!0:void 0,onClick:()=>F(fe)});return((le=r.item)==null?void 0:le.call(r,{item:fe,index:ge,props:Se}))??D(ul,Se,{prepend:se=>{let{isSelected:xe}=se;return D(Ae,null,[e.multiple&&!e.hideSelected?D(rh,{key:fe.value,modelValue:xe,ripple:!1,tabindex:"-1"},null):void 0,fe.props.prependIcon&&D(Nn,{icon:fe.props.prependIcon},null)])},title:()=>{var se,xe;return s.value?fe.title:ahe(fe.title,(se=A(fe))==null?void 0:se.title,((xe=S.value)==null?void 0:xe.length)??0)}})}}),(Q=r["append-item"])==null?void 0:Q.call(r)]}})]}),M.value.map((V,G)=>{var fe;function Q(ge){ge.stopPropagation(),ge.preventDefault(),F(V)}const ue={"onClick:close":Q,onMousedown(ge){ge.preventDefault(),ge.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return D("div",{key:V.value,class:["v-combobox__selection",G===d.value&&["v-combobox__selection--selected",y.value]],style:G===d.value?_.value:{}},[q?r.chip?D(An,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:V.title}}},{default:()=>{var ge;return[(ge=r.chip)==null?void 0:ge.call(r,{item:V,index:G,props:ue})]}}):D(Fm,Ee({key:"chip",closable:e.closableChips,size:"small",text:V.title},ue),null):((fe=r.selection)==null?void 0:fe.call(r,{item:V,index:G}))??D("span",{class:"v-combobox__selection-text"},[V.title,e.multiple&&G<M.value.length-1&&D("span",{class:"v-combobox__selection-comma"},[qe(",")])])])})]),"append-inner":function(){var ue;for(var V=arguments.length,G=new Array(V),Q=0;Q<V;Q++)G[Q]=arguments[Q];return D(Ae,null,[(ue=r["append-inner"])==null?void 0:ue.call(r,...G),(!e.hideNoData||e.items.length)&&e.menuIcon?D(Nn,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:X,onClick:MU},null):void 0])}})}),Go({isFocused:o,isPristine:s,menu:f,search:S,selectionIndex:d,filteredItems:C,select:F},i)}});const she=de({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Um({origin:"center center",scrollStrategy:"block",transition:{component:U1},zIndex:2400})},"VDialog"),lhe=be()({name:"VDialog",props:she(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),{scopeId:a}=Nh(),i=te();function o(l){var f,d;const u=l.relatedTarget,c=l.target;if(u!==c&&((f=i.value)!=null&&f.contentEl)&&((d=i.value)!=null&&d.globalTop)&&![document,i.value.contentEl].includes(c)&&!i.value.contentEl.contains(c)){const h=nE(i.value.contentEl);if(!h.length)return;const v=h[0],p=h[h.length-1];u===v?p.focus():v.focus()}}Tr&&Le(()=>r.value&&e.retainFocus,l=>{l?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),Le(r,async l=>{var u,c;await Ot(),l?(u=i.value.contentEl)==null||u.focus({preventScroll:!0}):(c=i.value.activatorEl)==null||c.focus({preventScroll:!0})});const s=O(()=>Ee({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps));return Me(()=>{const[l]=cl.filterProps(e);return D(cl,Ee({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},l,{modelValue:r.value,"onUpdate:modelValue":u=>r.value=u,"aria-modal":"true",activatorProps:s.value,role:"dialog"},a),{activator:n.activator,default:function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return D(An,{root:"VDialog"},{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,...c)]}})}})}),Go({},i)}});const om=Symbol.for("vuetify:v-expansion-panel"),uhe=["default","accordion","inset","popout"],che=de({color:String,variant:{type:String,default:"default",validator:e=>uhe.includes(e)},readonly:Boolean,...Ve(),...Mh(),...Pt(),...Zt()},"VExpansionPanels"),fhe=be()({name:"VExpansionPanels",props:che(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;Cf(e,om);const{themeClasses:r}=yn(e),a=O(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Rr({VExpansionPanel:{color:ye(e,"color")},VExpansionPanelTitle:{readonly:ye(e,"readonly")}}),Me(()=>D(e.tag,{class:["v-expansion-panels",r.value,a.value,e.class],style:e.style},n)),{}}}),dhe=de({...Ve(),...q1()},"VExpansionPanelText"),hH=be()({name:"VExpansionPanelText",props:dhe(),setup(e,t){let{slots:n}=t;const r=It(om);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:i}=AE(e,r.isSelected);return Me(()=>D(z1,{onAfterLeave:i},{default:()=>{var o;return[On(D("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&a.value&&D("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[ui,r.isSelected.value]])]}})),{}}}),vH=de({color:String,expandIcon:{type:xt,default:"$expand"},collapseIcon:{type:xt,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ve()},"VExpansionPanelTitle"),pH=be()({name:"VExpansionPanelTitle",directives:{Ripple:xu},props:vH(),setup(e,t){let{slots:n}=t;const r=It(om);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:i}=Cr(e,"color"),o=O(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return Me(()=>{var s;return On(D("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value},a.value,e.class],style:[i.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[D("span",{class:"v-expansion-panel-title__overlay"},null),(s=n.default)==null?void 0:s.call(n,o.value),!e.hideActions&&D("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(o.value):D(Nn,{icon:r.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[di("ripple"),e.ripple]])}),{}}}),hhe=de({title:String,text:String,bgColor:String,...Ve(),...Wr(),...Ph(),...q1(),...Zn(),...Pt(),...vH()},"VExpansionPanel"),vhe=be()({name:"VExpansionPanel",props:hhe(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=Lh(e,om),{backgroundColorClasses:a,backgroundColorStyles:i}=Cr(e,"bgColor"),{elevationClasses:o}=ua(e),{roundedClasses:s}=ar(e),l=O(()=>(r==null?void 0:r.disabled.value)||e.disabled),u=O(()=>r.group.items.value.reduce((d,h,v)=>(r.group.selected.value.includes(h.id)&&d.push(v),d),[])),c=O(()=>{const d=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-d===1)}),f=O(()=>{const d=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-d===-1)});return dr(om,r),Me(()=>{const d=!!(n.text||e.text),h=!!(n.title||e.title);return D(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":f.value,"v-expansion-panel--disabled":l.value},s.value,a.value,e.class],style:[i.value,e.style]},{default:()=>{var v;return[D("div",{class:["v-expansion-panel__shadow",...o.value]},null),h&&D(pH,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[n.title?n.title():e.title]}),d&&D(hH,{key:"text",eager:e.eager},{default:()=>[n.text?n.text():e.text]}),(v=n.default)==null?void 0:v.call(n)]}})}),{}}});const phe=de({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...bl({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>to(e).every(t=>t!=null&&typeof t=="object")},...Q1({clearable:!0})},"VFileInput"),mhe=be()({name:"VFileInput",inheritAttrs:!1,props:phe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{t:i}=mo(),o=Tt(e,"modelValue"),{isFocused:s,focus:l,blur:u}=bu(e),c=O(()=>typeof e.showSize!="boolean"?e.showSize:void 0),f=O(()=>(o.value??[]).reduce((A,M)=>{let{size:T=0}=M;return A+T},0)),d=O(()=>FR(f.value,c.value)),h=O(()=>(o.value??[]).map(A=>{const{name:M="",size:T=0}=A;return e.showSize?`${M} (${FR(T,c.value)})`:M})),v=O(()=>{var M;const A=((M=o.value)==null?void 0:M.length)??0;return e.showSize?i(e.counterSizeString,A,d.value):i(e.counterString,A)}),p=te(),m=te(),g=te(),y=O(()=>s.value||e.active),_=O(()=>["plain","underlined"].includes(e.variant));function x(){var A;g.value!==document.activeElement&&((A=g.value)==null||A.focus()),s.value||l()}function w(A){S(A)}function b(A){r("mousedown:control",A)}function S(A){var M;(M=g.value)==null||M.click(),r("click:control",A)}function C(A){A.stopPropagation(),x(),Ot(()=>{o.value=[],tE(e["onClick:clear"],A)})}return Le(o,A=>{(!Array.isArray(A)||!A.length)&&g.value&&(g.value.value="")}),Me(()=>{const A=!!(a.counter||e.counter),M=!!(A||a.details),[T,E]=bf(n),[{modelValue:P,...I}]=sa.filterProps(e),[k]=EE(e);return D(sa,Ee({ref:p,modelValue:o.value,"onUpdate:modelValue":B=>o.value=B,class:["v-file-input",{"v-text-field--plain-underlined":_.value},e.class],style:e.style,"onClick:prepend":w},T,I,{centerAffix:!_.value,focused:s.value}),{...a,default:B=>{let{id:U,isDisabled:R,isDirty:L,isReadonly:z,isValid:X}=B;return D(zm,Ee({ref:m,"prepend-icon":e.prependIcon,onMousedown:b,onClick:S,"onClick:clear":C,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},k,{id:U.value,active:y.value||L.value,dirty:L.value,disabled:R.value,focused:s.value,error:X.value===!1}),{...a,default:Y=>{var N;let{props:{class:$,...F}}=Y;return D(Ae,null,[D("input",Ee({ref:g,type:"file",readonly:z.value,disabled:R.value,multiple:e.multiple,name:e.name,onClick:H=>{H.stopPropagation(),z.value&&H.preventDefault(),x()},onChange:H=>{if(!H.target)return;const K=H.target;o.value=[...K.files??[]]},onFocus:x,onBlur:u},F,E),null),D("div",{class:$},[!!((N=o.value)!=null&&N.length)&&(a.selection?a.selection({fileNames:h.value,totalBytes:f.value,totalBytesReadable:d.value}):e.chips?h.value.map(H=>D(Fm,{key:H,size:"small",color:e.color},{default:()=>[H]})):h.value.join(", "))])])}})},details:M?B=>{var U,R;return D(Ae,null,[(U=a.details)==null?void 0:U.call(a,B),A&&D(Ae,null,[D("span",null,null),D(K1,{active:!!((R=o.value)!=null&&R.length),value:v.value},a.counter)])])}:void 0})}),Go({},p,m,g)}});const ghe=de({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Ci(),...Ve(),...Wr(),...Eh(),...Zn(),...Pt({tag:"footer"}),...Zt()},"VFooter"),yhe=be()({name:"VFooter",props:ghe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{backgroundColorClasses:a,backgroundColorStyles:i}=Cr(ye(e,"color")),{borderClasses:o}=_o(e),{elevationClasses:s}=ua(e),{roundedClasses:l}=ar(e),u=ke(32),{resizeRef:c}=ws(h=>{h.length&&(u.value=h[0].target.clientHeight)}),f=O(()=>e.height==="auto"?u.value:parseInt(e.height,10)),{layoutItemStyles:d}=Dh({id:e.name,order:O(()=>parseInt(e.order,10)),position:O(()=>"bottom"),layoutSize:f,elementSize:O(()=>e.height==="auto"?void 0:f.value),active:O(()=>e.app),absolute:ye(e,"absolute")});return Me(()=>D(e.tag,{ref:c,class:["v-footer",r.value,a.value,o.value,s.value,l.value,e.class],style:[i.value,e.app?d.value:{height:ze(e.height)},e.style]},n)),{}}}),_he=de({...Ve(),...Ece()},"VForm"),xhe=be()({name:"VForm",props:_he(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=Dce(e),i=te();function o(l){l.preventDefault(),a.reset()}function s(l){const u=l,c=a.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),r("submit",u),u.defaultPrevented||c.then(f=>{var h;let{valid:d}=f;d&&((h=i.value)==null||h.submit())}),u.preventDefault()}return Me(()=>{var l;return D("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:s},[(l=n.default)==null?void 0:l.call(n,a)])}),Go(a,i)}});const bhe=de({fluid:{type:Boolean,default:!1},...Ve(),...Pt()},"VContainer"),whe=be()({name:"VContainer",props:bhe(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=na();return Me(()=>D(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:e.style},n)),{}}}),mH=(()=>X1.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),gH=(()=>X1.reduce((e,t)=>{const n="offset"+oo(t);return e[n]={type:[String,Number],default:null},e},{}))(),yH=(()=>X1.reduce((e,t)=>{const n="order"+oo(t);return e[n]={type:[String,Number],default:null},e},{}))(),bO={col:Object.keys(mH),offset:Object.keys(gH),order:Object.keys(yH)};function She(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const a=t.replace(e,"");r+=`-${a}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const The=["auto","start","end","center","baseline","stretch"],Che=de({cols:{type:[Boolean,String,Number],default:!1},...mH,offset:{type:[String,Number],default:null},...gH,order:{type:[String,Number],default:null},...yH,alignSelf:{type:String,default:null,validator:e=>The.includes(e)},...Ve(),...Pt()},"VCol"),Ahe=be()({name:"VCol",props:Che(),setup(e,t){let{slots:n}=t;const r=O(()=>{const a=[];let i;for(i in bO)bO[i].forEach(s=>{const l=e[s],u=She(i,s,l);u&&a.push(u)});const o=a.some(s=>s.startsWith("v-col-"));return a.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),a});return()=>{var a;return so(e.tag,{class:[r.value,e.class],style:e.style},(a=n.default)==null?void 0:a.call(n))}}}),IE=["start","end","center"],_H=["space-between","space-around","space-evenly"];function RE(e,t){return X1.reduce((n,r)=>{const a=e+oo(r);return n[a]=t(),n},{})}const Ehe=[...IE,"baseline","stretch"],xH=e=>Ehe.includes(e),bH=RE("align",()=>({type:String,default:null,validator:xH})),Dhe=[...IE,..._H],wH=e=>Dhe.includes(e),SH=RE("justify",()=>({type:String,default:null,validator:wH})),Mhe=[...IE,..._H,"stretch"],TH=e=>Mhe.includes(e),CH=RE("alignContent",()=>({type:String,default:null,validator:TH})),wO={align:Object.keys(bH),justify:Object.keys(SH),alignContent:Object.keys(CH)},Phe={align:"align",justify:"justify",alignContent:"align-content"};function Lhe(e,t,n){let r=Phe[e];if(n!=null){if(t){const a=t.replace(e,"");r+=`-${a}`}return r+=`-${n}`,r.toLowerCase()}}const Ihe=de({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:xH},...bH,justify:{type:String,default:null,validator:wH},...SH,alignContent:{type:String,default:null,validator:TH},...CH,...Ve(),...Pt()},"VRow"),Rhe=be()({name:"VRow",props:Ihe(),setup(e,t){let{slots:n}=t;const r=O(()=>{const a=[];let i;for(i in wO)wO[i].forEach(o=>{const s=e[o],l=Lhe(i,o,s);l&&a.push(l)});return a.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),a});return()=>{var a;return so(e.tag,{class:["v-row",r.value,e.class],style:e.style},(a=n.default)==null?void 0:a.call(n))}}}),Ohe=$o("flex-grow-1","div","VSpacer"),khe=de({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...Uz()},"VHover"),Nhe=be()({name:"VHover",props:khe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),{runOpenDelay:a,runCloseDelay:i}=zz(e,o=>!e.disabled&&(r.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:r.value,props:{onMouseenter:a,onMouseleave:i}})}}});const AH=Symbol.for("vuetify:v-item-group"),Bhe=de({...Ve(),...Mh({selectedClass:"v-item--selected"}),...Pt(),...Zt()},"VItemGroup"),Vhe=be()({name:"VItemGroup",props:Bhe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{isSelected:a,select:i,next:o,prev:s,selected:l}=Cf(e,AH);return()=>D(e.tag,{class:["v-item-group",r.value,e.class],style:e.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:a,select:i,next:o,prev:s,selected:l.value})]}})}}),Fhe=be()({name:"VItem",props:Ph(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,select:a,toggle:i,selectedClass:o,value:s,disabled:l}=Lh(e,AH);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:r.value,selectedClass:o.value,select:a,toggle:i,value:s.value,disabled:l.value})}}});const Uhe=$o("v-kbd");const zhe=de({...Ve(),...$U()},"VLayout"),Hhe=be()({name:"VLayout",props:zhe(),setup(e,t){let{slots:n}=t;const{layoutClasses:r,layoutStyles:a,getLayoutItem:i,items:o,layoutRef:s}=GU(e);return Me(()=>{var l;return D("div",{ref:s,class:[r.value,e.class],style:[a.value,e.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:i,items:o}}});const $he=de({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Ve(),...Eh()},"VLayoutItem"),Ghe=be()({name:"VLayoutItem",props:$he(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:r}=Dh({id:e.name,order:O(()=>parseInt(e.order,10)),position:ye(e,"position"),elementSize:ye(e,"size"),layoutSize:ye(e,"size"),active:ye(e,"modelValue"),absolute:ye(e,"absolute")});return()=>{var a;return D("div",{class:["v-layout-item",e.class],style:[r.value,e.style]},[(a=n.default)==null?void 0:a.call(n)])}}}),Whe=de({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Ve(),...go(),...Pt(),..._l({transition:"fade-transition"})},"VLazy"),Yhe=be()({name:"VLazy",directives:{intersect:Nm},props:Whe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=yo(e),a=Tt(e,"modelValue");function i(o){a.value||(a.value=o)}return Me(()=>On(D(e.tag,{class:["v-lazy",e.class],style:[r.value,e.style]},{default:()=>[a.value&&D(Oo,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})]}),[[di("intersect"),{handler:i,options:e.options},null]])),{}}});const jhe=de({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Ve()},"VLocaleProvider"),Xhe=be()({name:"VLocaleProvider",props:jhe(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=hue(e);return Me(()=>{var a;return D("div",{class:["v-locale-provider",r.value,e.class],style:e.style},[(a=n.default)==null?void 0:a.call(n)])}),{}}});const qhe=de({scrollable:Boolean,...Ve(),...Pt({tag:"main"})},"VMain"),Zhe=be()({name:"VMain",props:qhe(),setup(e,t){let{slots:n}=t;const{mainStyles:r}=oue(),{ssrBootStyles:a}=wf();return Me(()=>D(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,a.value,e.style]},{default:()=>{var i,o;return[e.scrollable?D("div",{class:"v-main__scroller"},[(i=n.default)==null?void 0:i.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function Khe(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const a=ke(!1),i=ke(0),o=O(()=>{const u=typeof a.value=="boolean"?"top":a.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[u]:ze(i.value)}:{top:r.value.top}]});nn(()=>{Le(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),la(()=>{window.removeEventListener("scroll",l)});let s=0;function l(){const u=s>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),f=parseFloat(r.value.top??0),d=window.scrollY-Math.max(0,i.value-f),h=c.height+Math.max(i.value,f)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-f?(a.value="top",i.value=f):u==="up"&&a.value==="bottom"||u==="down"&&a.value==="top"?(i.value=window.scrollY+c.top-v,a.value=!0):u==="down"&&h<=0?(i.value=0,a.value="bottom"):u==="up"&&d<=0&&(v?a.value!=="top"&&(i.value=-d+v+f,a.value="top"):(i.value=c.top+d,a.value="top")),s=window.scrollY}return{isStuck:a,stickyStyles:o}}const Qhe=100,Jhe=20;function SO(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function TO(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=SO(t),a=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(a-r)*Math.abs(a),n===e.length-1&&(t*=.5)}return SO(t)*1e3}function eve(){const e={};function t(a){Array.from(a.changedTouches).forEach(i=>{(e[i.identifier]??(e[i.identifier]=new Ile(Jhe))).push([a.timeStamp,i])})}function n(a){Array.from(a.changedTouches).forEach(i=>{delete e[i.identifier]})}function r(a){var u;const i=(u=e[a])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${a}`);const o=i[0],s=[],l=[];for(const c of i){if(o[0]-c[0]>Qhe)break;s.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:TO(s),y:TO(l),get direction(){const{x:c,y:f}=this,[d,h]=[Math.abs(c),Math.abs(f)];return d>h&&c>=0?"right":d>h&&c<=0?"left":h>d&&f>=0?"down":h>d&&f<=0?"up":tve()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function tve(){throw new Error}function nve(e){let{isActive:t,isTemporary:n,width:r,touchless:a,position:i}=e;nn(()=>{window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("touchmove",y,{passive:!1}),window.addEventListener("touchend",_,{passive:!0})}),la(()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",_)});const o=O(()=>["left","right"].includes(i.value)),{addMovement:s,endTouch:l,getVelocity:u}=eve();let c=!1;const f=ke(!1),d=ke(0),h=ke(0);let v;function p(w,b){return(i.value==="left"?w:i.value==="right"?document.documentElement.clientWidth-w:i.value==="top"?w:i.value==="bottom"?document.documentElement.clientHeight-w:id())-(b?r.value:0)}function m(w){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=i.value==="left"?(w-h.value)/r.value:i.value==="right"?(document.documentElement.clientWidth-w-h.value)/r.value:i.value==="top"?(w-h.value)/r.value:i.value==="bottom"?(document.documentElement.clientHeight-w-h.value)/r.value:id();return b?Math.max(0,Math.min(1,S)):S}function g(w){if(a.value)return;const b=w.changedTouches[0].clientX,S=w.changedTouches[0].clientY,C=25,A=i.value==="left"?b<C:i.value==="right"?b>document.documentElement.clientWidth-C:i.value==="top"?S<C:i.value==="bottom"?S>document.documentElement.clientHeight-C:id(),M=t.value&&(i.value==="left"?b<r.value:i.value==="right"?b>document.documentElement.clientWidth-r.value:i.value==="top"?S<r.value:i.value==="bottom"?S>document.documentElement.clientHeight-r.value:id());(A||M||t.value&&n.value)&&(c=!0,v=[b,S],h.value=p(o.value?b:S,t.value),d.value=m(o.value?b:S),l(w),s(w))}function y(w){const b=w.changedTouches[0].clientX,S=w.changedTouches[0].clientY;if(c){if(!w.cancelable){c=!1;return}const A=Math.abs(b-v[0]),M=Math.abs(S-v[1]);(o.value?A>M&&A>3:M>A&&M>3)?(f.value=!0,c=!1):(o.value?M:A)>3&&(c=!1)}if(!f.value)return;w.preventDefault(),s(w);const C=m(o.value?b:S,!1);d.value=Math.max(0,Math.min(1,C)),C>1?h.value=p(o.value?b:S,!0):C<0&&(h.value=p(o.value?b:S,!1))}function _(w){if(c=!1,!f.value)return;s(w),f.value=!1;const b=u(w.changedTouches[0].identifier),S=Math.abs(b.x),C=Math.abs(b.y);(o.value?S>C&&S>400:C>S&&C>3)?t.value=b.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||id()):t.value=d.value>.5}const x=O(()=>f.value?{transform:i.value==="left"?`translateX(calc(-100% + ${d.value*r.value}px))`:i.value==="right"?`translateX(calc(100% - ${d.value*r.value}px))`:i.value==="top"?`translateY(calc(-100% + ${d.value*r.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${d.value*r.value}px))`:id(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:x}}function id(){throw new Error}const rve=["start","end","left","right","top","bottom"],ave=de({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>rve.includes(e)},sticky:Boolean,...Ci(),...Ve(),...Wr(),...Eh(),...Zn(),...Pt({tag:"nav"}),...Zt()},"VNavigationDrawer"),ive=be()({name:"VNavigationDrawer",props:ave(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{isRtl:i}=na(),{themeClasses:o}=yn(e),{borderClasses:s}=_o(e),{backgroundColorClasses:l,backgroundColorStyles:u}=Cr(ye(e,"color")),{elevationClasses:c}=ua(e),{mobile:f}=Af(),{roundedClasses:d}=ar(e),h=iz(),v=Tt(e,"modelValue",null,L=>!!L),{ssrBootStyles:p}=wf(),{scopeId:m}=Nh(),g=te(),y=ke(!1),_=O(()=>e.rail&&e.expandOnHover&&y.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),x=O(()=>tC(e.location,i.value)),w=O(()=>!e.permanent&&(f.value||e.temporary)),b=O(()=>e.sticky&&!w.value&&x.value!=="bottom");e.expandOnHover&&e.rail!=null&&Le(y,L=>r("update:rail",!L)),e.disableResizeWatcher||Le(w,L=>!e.permanent&&Ot(()=>v.value=!L)),!e.disableRouteWatcher&&h&&Le(h.currentRoute,()=>w.value&&(v.value=!1)),Le(()=>e.permanent,L=>{L&&(v.value=!0)}),z_(()=>{e.modelValue!=null||w.value||(v.value=e.permanent||!f.value)});const{isDragging:S,dragProgress:C,dragStyles:A}=nve({isActive:v,isTemporary:w,width:_,touchless:ye(e,"touchless"),position:x}),M=O(()=>{const L=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):_.value;return S.value?L*C.value:L}),{layoutItemStyles:T,layoutItemScrimStyles:E}=Dh({id:e.name,order:O(()=>parseInt(e.order,10)),position:x,layoutSize:M,elementSize:_,active:O(()=>v.value||S.value),disableTransitions:O(()=>S.value),absolute:O(()=>e.absolute||b.value&&typeof P.value!="string")}),{isStuck:P,stickyStyles:I}=Khe({rootEl:g,isSticky:b,layoutItemStyles:T}),k=Cr(O(()=>typeof e.scrim=="string"?e.scrim:null)),B=O(()=>({...S.value?{opacity:C.value*.2,transition:"none"}:void 0,...E.value}));Rr({VList:{bgColor:"transparent"}});function U(){y.value=!0}function R(){y.value=!1}return Me(()=>{const L=a.image||e.image;return D(Ae,null,[D(e.tag,Ee({ref:g,onMouseenter:U,onMouseleave:R,class:["v-navigation-drawer",`v-navigation-drawer--${x.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":y.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":b.value},o.value,l.value,s.value,c.value,d.value,e.class],style:[u.value,T.value,A.value,p.value,I.value,e.style]},m,n),{default:()=>{var z,X,Y,$;return[L&&D("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(z=a.image)==null?void 0:z.call(a,{image:e.image}):D("img",{src:e.image,alt:""},null)]),a.prepend&&D("div",{class:"v-navigation-drawer__prepend"},[(X=a.prepend)==null?void 0:X.call(a)]),D("div",{class:"v-navigation-drawer__content"},[(Y=a.default)==null?void 0:Y.call(a)]),a.append&&D("div",{class:"v-navigation-drawer__append"},[($=a.append)==null?void 0:$.call(a)])]}}),D(Ta,{name:"fade-transition"},{default:()=>[w.value&&(S.value||v.value)&&!!e.scrim&&D("div",Ee({class:["v-navigation-drawer__scrim",k.backgroundColorClasses.value],style:[B.value,k.backgroundColorStyles.value],onClick:()=>v.value=!1},m),null)]})])}),{isStuck:P}}}),ove=po({name:"VNoSsr",setup(e,t){let{slots:n}=t;const r=Hz();return()=>{var a;return r.value&&((a=n.default)==null?void 0:a.call(n))}}});function sve(){const e=te([]);m2(()=>e.value=[]);function t(n,r){e.value[r]=n}return{refs:e,updateRef:t}}const lve=de({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:xt,default:"$first"},prevIcon:{type:xt,default:"$prev"},nextIcon:{type:xt,default:"$next"},lastIcon:{type:xt,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Ci(),...Ve(),...Yr(),...Wr(),...Zn(),...xl(),...Pt({tag:"nav"}),...Zt(),...xo({variant:"text"})},"VPagination"),uve=be()({name:"VPagination",props:lve(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=Tt(e,"modelValue"),{t:i,n:o}=mo(),{isRtl:s}=na(),{themeClasses:l}=yn(e),{width:u}=Af(),c=ke(-1);Rr(void 0,{scoped:!0});const{resizeRef:f}=ws(C=>{if(!C.length)return;const{target:A,contentRect:M}=C[0],T=A.querySelector(".v-pagination__list > *");if(!T)return;const E=M.width,P=T.offsetWidth+parseFloat(getComputedStyle(T).marginRight)*2;c.value=p(E,P)}),d=O(()=>parseInt(e.length,10)),h=O(()=>parseInt(e.start,10)),v=O(()=>e.totalVisible?parseInt(e.totalVisible,10):c.value>=0?c.value:p(u.value,58));function p(C,A){const M=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((C-A*M)/A).toFixed(2)))}const m=O(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(v.value<=1)return[a.value];if(d.value<=v.value)return Ks(d.value,h.value);const C=v.value%2===0,A=C?v.value/2:Math.floor(v.value/2),M=C?A:A+1,T=d.value-A;if(M-a.value>=0)return[...Ks(Math.max(1,v.value-1),h.value),e.ellipsis,d.value];if(a.value-T>=(C?1:0)){const E=v.value-1,P=d.value-E+h.value;return[h.value,e.ellipsis,...Ks(E,P)]}else{const E=Math.max(1,v.value-3),P=E===1?a.value:a.value-Math.ceil(E/2)+h.value;return[h.value,e.ellipsis,...Ks(E,P),e.ellipsis,d.value]}});function g(C,A,M){C.preventDefault(),a.value=A,M&&r(M,A)}const{refs:y,updateRef:_}=sve();Rr({VPaginationBtn:{color:ye(e,"color"),border:ye(e,"border"),density:ye(e,"density"),size:ye(e,"size"),variant:ye(e,"variant"),rounded:ye(e,"rounded"),elevation:ye(e,"elevation")}});const x=O(()=>m.value.map((C,A)=>{const M=T=>_(T,A);if(typeof C=="string")return{isActive:!1,key:`ellipsis-${A}`,page:C,props:{ref:M,ellipsis:!0,icon:!0,disabled:!0}};{const T=C===a.value;return{isActive:T,key:C,page:o(C),props:{ref:M,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:T?e.activeColor:e.color,ariaCurrent:T,ariaLabel:i(T?e.currentPageAriaLabel:e.pageAriaLabel,C),onClick:E=>g(E,C)}}}})),w=O(()=>{const C=!!e.disabled||a.value<=h.value,A=!!e.disabled||a.value>=h.value+d.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:M=>g(M,h.value,"first"),disabled:C,ariaLabel:i(e.firstAriaLabel),ariaDisabled:C}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:M=>g(M,a.value-1,"prev"),disabled:C,ariaLabel:i(e.previousAriaLabel),ariaDisabled:C},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:M=>g(M,a.value+1,"next"),disabled:A,ariaLabel:i(e.nextAriaLabel),ariaDisabled:A},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:M=>g(M,h.value+d.value-1,"last"),disabled:A,ariaLabel:i(e.lastAriaLabel),ariaDisabled:A}:void 0}});function b(){var A;const C=a.value-h.value;(A=y.value[C])==null||A.$el.focus()}function S(C){C.key===JT.left&&!e.disabled&&a.value>+e.start?(a.value=a.value-1,Ot(b)):C.key===JT.right&&!e.disabled&&a.value<h.value+d.value-1&&(a.value=a.value+1,Ot(b))}return Me(()=>D(e.tag,{ref:f,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":i(e.ariaLabel),onKeydown:S,"data-test":"v-pagination-root"},{default:()=>[D("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&D("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(w.value.first):D($a,Ee({_as:"VPaginationBtn"},w.value.first),null)]),D("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(w.value.prev):D($a,Ee({_as:"VPaginationBtn"},w.value.prev),null)]),x.value.map((C,A)=>D("li",{key:C.key,class:["v-pagination__item",{"v-pagination__item--is-active":C.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(C):D($a,Ee({_as:"VPaginationBtn"},C.props),{default:()=>[C.page]})])),D("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(w.value.next):D($a,Ee({_as:"VPaginationBtn"},w.value.next),null)]),e.showFirstLastPage&&D("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(w.value.last):D($a,Ee({_as:"VPaginationBtn"},w.value.last),null)])])]})),{}}});function cve(e){return Math.floor(Math.abs(e))*Math.sign(e)}const fve=de({scale:{type:[Number,String],default:.5},...Ve()},"VParallax"),dve=be()({name:"VParallax",props:fve(),setup(e,t){let{slots:n}=t;const{intersectionRef:r,isIntersecting:a}=gE(),{resizeRef:i,contentRect:o}=ws(),{height:s}=Af(),l=te();qn(()=>{var h;r.value=i.value=(h=l.value)==null?void 0:h.$el});let u;Le(a,h=>{h?(u=sE(r.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",d,{passive:!0}),d()):u.removeEventListener("scroll",d)}),la(()=>{u==null||u.removeEventListener("scroll",d)}),Le(s,d),Le(()=>{var h;return(h=o.value)==null?void 0:h.height},d);const c=O(()=>1-xa(+e.scale));let f=-1;function d(){a.value&&(cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;const h=((w=l.value)==null?void 0:w.$el).querySelector(".v-img__img");if(!h)return;const v=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,p=u instanceof Document?window.scrollY:u.scrollTop,m=r.value.getBoundingClientRect().top+p,g=o.value.height,y=m+(g-v)/2,_=cve((p-y)*c.value),x=Math.max(1,(c.value*(v-g)+g)/g);h.style.setProperty("transform",`translateY(${_}px) scale(${x})`)}))}return Me(()=>D(sf,{class:["v-parallax",{"v-parallax--active":a.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:d,onLoad:d},n)),{}}}),hve=de({...G1({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),vve=be()({name:"VRadio",props:hve(),setup(e,t){let{slots:n}=t;return Me(()=>D(nh,Ee(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)),{}}});const pve=de({height:{type:[Number,String],default:"auto"},...bl(),...As(SE(),["multiple"]),trueIcon:{type:xt,default:"$radioOn"},falseIcon:{type:xt,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),mve=be()({name:"VRadioGroup",inheritAttrs:!1,props:pve(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=Ma(),i=O(()=>e.id||`radio-group-${a}`),o=Tt(e,"modelValue");return Me(()=>{const[s,l]=bf(n),[u,c]=sa.filterProps(e),[f,d]=nh.filterProps(e),h=r.label?r.label({label:e.label,props:{for:i.value}}):e.label;return D(sa,Ee({class:["v-radio-group",e.class],style:e.style},s,u,{modelValue:o.value,"onUpdate:modelValue":v=>o.value=v,id:i.value}),{...r,default:v=>{let{id:p,messagesId:m,isDisabled:g,isReadonly:y}=v;return D(Ae,null,[h&&D(kh,{id:p.value},{default:()=>[h]}),D(mz,Ee(f,{id:p.value,"aria-describedby":m.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:g.value,readonly:y.value,"aria-labelledby":h?p.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_}),r)])}})}),{}}}),gve=de({...W1(),...bl(),...lH(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),yve=be()({name:"VRangeSlider",props:gve(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=te(),i=te(),o=te(),{rtlClasses:s}=na();function l(A){if(!a.value||!i.value)return;const M=SC(A,a.value.$el,e.direction),T=SC(A,i.value.$el,e.direction),E=Math.abs(M),P=Math.abs(T);return E<P||E===P&&M<0?a.value.$el:i.value.$el}const u=uH(e),c=Tt(e,"modelValue",void 0,A=>A!=null&&A.length?A.map(M=>u.roundValue(M)):[0,0]),{activeThumbRef:f,hasLabels:d,max:h,min:v,mousePressed:p,onSliderMousedown:m,onSliderTouchstart:g,position:y,trackContainerRef:_}=cH({props:e,steps:u,onSliderStart:()=>{r("start",c.value)},onSliderEnd:A=>{var E;let{value:M}=A;const T=f.value===((E=a.value)==null?void 0:E.$el)?[M,c.value[1]]:[c.value[0],M];!e.strict&&T[0]<T[1]&&(c.value=T),r("end",c.value)},onSliderMove:A=>{var P,I,k,B;let{value:M}=A;const[T,E]=c.value;!e.strict&&T===E&&T!==v.value&&(f.value=M>T?(P=i.value)==null?void 0:P.$el:(I=a.value)==null?void 0:I.$el,(k=f.value)==null||k.focus()),f.value===((B=a.value)==null?void 0:B.$el)?c.value=[Math.min(M,E),E]:c.value=[T,Math.max(T,M)]},getActiveThumb:l}),{isFocused:x,focus:w,blur:b}=bu(e),S=O(()=>y(c.value[0])),C=O(()=>y(c.value[1]));return Me(()=>{const[A,M]=sa.filterProps(e),T=!!(e.label||n.label||n.prepend);return D(sa,Ee({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||d.value,"v-slider--focused":x.value,"v-slider--pressed":p.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style,ref:o},A,{focused:x.value}),{...n,prepend:T?E=>{var P,I;return D(Ae,null,[((P=n.label)==null?void 0:P.call(n,E))??e.label?D(kh,{class:"v-slider__label",text:e.label},null):void 0,(I=n.prepend)==null?void 0:I.call(n,E)])}:void 0,default:E=>{var k,B;let{id:P,messagesId:I}=E;return D("div",{class:"v-slider__container",onMousedown:m,onTouchstartPassive:g},[D("input",{id:`${P.value}_start`,name:e.name||P.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[0]},null),D("input",{id:`${P.value}_stop`,name:e.name||P.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[1]},null),D(fH,{ref:_,start:S.value,stop:C.value},{"tick-label":n["tick-label"]}),D(TC,{ref:a,"aria-describedby":I.value,focused:x&&f.value===((k=a.value)==null?void 0:k.$el),modelValue:c.value[0],"onUpdate:modelValue":U=>c.value=[U,c.value[1]],onFocus:U=>{var R,L,z,X;w(),f.value=(R=a.value)==null?void 0:R.$el,c.value[0]===c.value[1]&&c.value[1]===v.value&&U.relatedTarget!==((L=i.value)==null?void 0:L.$el)&&((z=a.value)==null||z.$el.blur(),(X=i.value)==null||X.$el.focus())},onBlur:()=>{b(),f.value=void 0},min:v.value,max:c.value[1],position:S.value},{"thumb-label":n["thumb-label"]}),D(TC,{ref:i,"aria-describedby":I.value,focused:x&&f.value===((B=i.value)==null?void 0:B.$el),modelValue:c.value[1],"onUpdate:modelValue":U=>c.value=[c.value[0],U],onFocus:U=>{var R,L,z,X;w(),f.value=(R=i.value)==null?void 0:R.$el,c.value[0]===c.value[1]&&c.value[0]===h.value&&U.relatedTarget!==((L=a.value)==null?void 0:L.$el)&&((z=i.value)==null||z.$el.blur(),(X=a.value)==null||X.$el.focus())},onBlur:()=>{b(),f.value=void 0},min:c.value[0],max:h.value,position:C.value},{"thumb-label":n["thumb-label"]})])}})}),{}}});const _ve=de({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:xt,default:"$ratingEmpty"},fullIcon:{type:xt,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Ve(),...Yr(),...xl(),...Pt(),...Zt()},"VRating"),xve=be()({name:"VRating",props:_ve(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=mo(),{themeClasses:a}=yn(e),i=Tt(e,"modelValue"),o=O(()=>xa(parseFloat(i.value),0,+e.length)),s=O(()=>Ks(Number(e.length),1)),l=O(()=>s.value.flatMap(p=>e.halfIncrements?[p-.5,p]:[p])),u=ke(-1),c=O(()=>l.value.map(p=>{const m=e.hover&&u.value>-1,g=o.value>=p,y=u.value>=p,x=(m?y:g)?e.fullIcon:e.emptyIcon,w=e.activeColor??e.color,b=g||y?w:e.color;return{isFilled:g,isHovered:y,icon:x,color:b}})),f=O(()=>[0,...l.value].map(p=>{function m(){u.value=p}function g(){u.value=-1}function y(){e.disabled||e.readonly||(i.value=o.value===p&&e.clearable?0:p)}return{onMouseenter:e.hover?m:void 0,onMouseleave:e.hover?g:void 0,onClick:y}})),d=O(()=>e.name??`v-rating-${Ma()}`);function h(p){var C,A;let{value:m,index:g,showStar:y=!0}=p;const{onMouseenter:_,onMouseleave:x,onClick:w}=f.value[g+1],b=`${d.value}-${String(m).replace(".","-")}`,S={color:(C=c.value[g])==null?void 0:C.color,density:e.density,disabled:e.disabled,icon:(A=c.value[g])==null?void 0:A.icon,ripple:e.ripple,size:e.size,variant:"plain"};return D(Ae,null,[D("label",{for:b,class:{"v-rating__item--half":e.halfIncrements&&m%1>0,"v-rating__item--full":e.halfIncrements&&m%1===0},onMouseenter:_,onMouseleave:x,onClick:w},[D("span",{class:"v-rating__hidden"},[r(e.itemAriaLabel,m,e.length)]),y?n.item?n.item({...c.value[g],props:S,value:m,index:g,rating:o.value}):D($a,S,null):void 0]),D("input",{class:"v-rating__hidden",name:d.value,id:b,type:"radio",value:m,checked:o.value===m,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function v(p){return n["item-label"]?n["item-label"](p):p.label?D("span",null,[p.label]):D("span",null,[qe(" ")])}return Me(()=>{var m;const p=!!((m=e.itemLabels)!=null&&m.length)||n["item-label"];return D(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},a.value,e.class],style:e.style},{default:()=>[D(h,{value:0,index:-1,showStar:!1},null),s.value.map((g,y)=>{var _,x;return D("div",{class:"v-rating__wrapper"},[p&&e.itemLabelPosition==="top"?v({value:g,index:y,label:(_=e.itemLabels)==null?void 0:_[y]}):void 0,D("div",{class:"v-rating__item"},[e.halfIncrements?D(Ae,null,[D(h,{value:g-.5,index:y*2},null),D(h,{value:g,index:y*2+1},null)]):D(h,{value:g,index:y},null)]),p&&e.itemLabelPosition==="bottom"?v({value:g,index:y,label:(x=e.itemLabels)==null?void 0:x[y]}):void 0])})]})}),{}}});function CO(e){const n=Math.abs(e);return Math.sign(e)*(n/((1/.501-2)*(1-n)+1))}function AO(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:a,currentScrollOffset:i,isHorizontal:o}=e;const s=o?t.clientWidth:t.clientHeight,l=o?t.offsetLeft:t.offsetTop,u=a&&o?r-l-s:l,c=n+i,f=s+u,d=s*.4;return u<=i?i=Math.max(u-d,0):c<=f&&(i=Math.min(i-(c-f-d),r-n)),i}function bve(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:a,isHorizontal:i}=e;const o=i?t.clientWidth:t.clientHeight,s=i?t.offsetLeft:t.offsetTop,l=a&&i?r-s-o/2-n/2:s+o/2-n/2;return Math.min(r-n,Math.max(0,l))}const EH=Symbol.for("vuetify:v-slide-group"),DH=de({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:EH},nextIcon:{type:xt,default:"$next"},prevIcon:{type:xt,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Ve(),...Pt(),...Mh({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),EC=be()({name:"VSlideGroup",props:DH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=na(),{mobile:a}=Af(),i=Cf(e,e.symbol),o=ke(!1),s=ke(0),l=ke(0),u=ke(0),c=O(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:d}=ws(),{resizeRef:h,contentRect:v}=ws(),p=O(()=>i.selected.value.length?i.items.value.findIndex(z=>z.id===i.selected.value[0]):-1),m=O(()=>i.selected.value.length?i.items.value.findIndex(z=>z.id===i.selected.value[i.selected.value.length-1]):-1);if(Tr){let z=-1;Le(()=>[i.selected.value,d.value,v.value,c.value],()=>{cancelAnimationFrame(z),z=requestAnimationFrame(()=>{if(d.value&&v.value){const X=c.value?"width":"height";l.value=d.value[X],u.value=v.value[X],o.value=l.value+1<u.value}if(p.value>=0&&h.value){const X=h.value.children[m.value];p.value===0||!o.value?s.value=0:e.centerActive?s.value=bve({selectedElement:X,containerSize:l.value,contentSize:u.value,isRtl:r.value,isHorizontal:c.value}):o.value&&(s.value=AO({selectedElement:X,containerSize:l.value,contentSize:u.value,isRtl:r.value,currentScrollOffset:s.value,isHorizontal:c.value}))}})})}const g=ke(!1);let y=0,_=0;function x(z){const X=c.value?"clientX":"clientY";_=(r.value&&c.value?-1:1)*s.value,y=z.touches[0][X],g.value=!0}function w(z){if(!o.value)return;const X=c.value?"clientX":"clientY",Y=r.value&&c.value?-1:1;s.value=Y*(_+y-z.touches[0][X])}function b(z){const X=u.value-l.value;s.value<0||!o.value?s.value=0:s.value>=X&&(s.value=X),g.value=!1}function S(){f.value&&(f.value[c.value?"scrollLeft":"scrollTop"]=0)}const C=ke(!1);function A(z){if(C.value=!0,!(!o.value||!h.value)){for(const X of z.composedPath())for(const Y of h.value.children)if(Y===X){s.value=AO({selectedElement:Y,containerSize:l.value,contentSize:u.value,isRtl:r.value,currentScrollOffset:s.value,isHorizontal:c.value});return}}}function M(z){C.value=!1}function T(z){var X;!C.value&&!(z.relatedTarget&&((X=h.value)!=null&&X.contains(z.relatedTarget)))&&P()}function E(z){h.value&&(c.value?z.key==="ArrowRight"?P(r.value?"prev":"next"):z.key==="ArrowLeft"&&P(r.value?"next":"prev"):z.key==="ArrowDown"?P("next"):z.key==="ArrowUp"&&P("prev"),z.key==="Home"?P("first"):z.key==="End"&&P("last"))}function P(z){var X,Y,$,F,N;if(h.value)if(!z)(X=nE(h.value)[0])==null||X.focus();else if(z==="next"){const H=(Y=h.value.querySelector(":focus"))==null?void 0:Y.nextElementSibling;H?H.focus():P("first")}else if(z==="prev"){const H=($=h.value.querySelector(":focus"))==null?void 0:$.previousElementSibling;H?H.focus():P("last")}else z==="first"?(F=h.value.firstElementChild)==null||F.focus():z==="last"&&((N=h.value.lastElementChild)==null||N.focus())}function I(z){const X=s.value+(z==="prev"?-1:1)*l.value;s.value=xa(X,0,u.value-l.value)}const k=O(()=>{let z=s.value>u.value-l.value?-(u.value-l.value)+CO(u.value-l.value-s.value):-s.value;s.value<=0&&(z=CO(-s.value));const X=r.value&&c.value?-1:1;return{transform:`translate${c.value?"X":"Y"}(${X*z}px)`,transition:g.value?"none":"",willChange:g.value?"transform":""}}),B=O(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),U=O(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return o.value||Math.abs(s.value)>0;case"mobile":return a.value||o.value||Math.abs(s.value)>0;default:return!a.value&&(o.value||Math.abs(s.value)>0)}}),R=O(()=>Math.abs(s.value)>0),L=O(()=>u.value>Math.abs(s.value)+l.value);return Me(()=>D(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":U.value,"v-slide-group--is-overflowing":o.value},e.class],style:e.style,tabindex:C.value||i.selected.value.length?-1:0,onFocus:T},{default:()=>{var z,X,Y;return[U.value&&D("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!R.value}],onClick:()=>I("prev")},[((z=n.prev)==null?void 0:z.call(n,B.value))??D(iC,null,{default:()=>[D(Nn,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),D("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:S},[D("div",{ref:h,class:"v-slide-group__content",style:k.value,onTouchstartPassive:x,onTouchmovePassive:w,onTouchendPassive:b,onFocusin:A,onFocusout:M,onKeydown:E},[(X=n.default)==null?void 0:X.call(n,B.value)])]),U.value&&D("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!L.value}],onClick:()=>I("next")},[((Y=n.next)==null?void 0:Y.call(n,B.value))??D(iC,null,{default:()=>[D(Nn,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:I,scrollOffset:s,focus:P}}}),wve=be()({name:"VSlideGroupItem",props:Ph(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=Lh(e,EH);return()=>{var a;return(a=n.default)==null?void 0:a.call(n,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}});const Sve=de({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...yu({location:"bottom"}),...Rh(),...Zn(),...xo(),...Zt(),...As(Um({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Tve=be()({name:"VSnackbar",props:Sve(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),{locationStyles:a}=_u(e),{positionClasses:i}=Oh(e),{scopeId:o}=Nh(),{themeClasses:s}=yn(e),{colorClasses:l,colorStyles:u,variantClasses:c}=Tf(e),{roundedClasses:f}=ar(e),d=te();Le(r,v),Le(()=>e.timeout,v),nn(()=>{r.value&&v()});let h=-1;function v(){window.clearTimeout(h);const m=Number(e.timeout);!r.value||m===-1||(h=window.setTimeout(()=>{r.value=!1},m))}function p(){window.clearTimeout(h)}return Me(()=>{const[m]=cl.filterProps(e);return D(cl,Ee({ref:d,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},i.value,e.class],style:e.style},m,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,contentProps:Ee({class:["v-snackbar__wrapper",s.value,l.value,f.value,c.value],style:[a.value,u.value],onPointerenter:p,onPointerleave:v},m.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},o),{default:()=>[Sf(!1,"v-snackbar"),n.default&&D("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&D(An,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[D("div",{class:"v-snackbar__actions"},[n.actions()])]})],activator:n.activator})}),Go({},d)}});const Cve=de({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...bl(),...G1()},"VSwitch"),Ave=be()({name:"VSwitch",inheritAttrs:!1,props:Cve(),emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=Tt(e,"indeterminate"),i=Tt(e,"modelValue"),{loaderClasses:o}=$1(e),{isFocused:s,focus:l,blur:u}=bu(e),c=O(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),f=Ma(),d=O(()=>e.id||`switch-${f}`);function h(){a.value&&(a.value=!1)}return Me(()=>{const[v,p]=bf(n),[m,g]=sa.filterProps(e),[y,_]=nh.filterProps(e),x=te();function w(b){var S,C;b.stopPropagation(),b.preventDefault(),(C=(S=x.value)==null?void 0:S.input)==null||C.click()}return D(sa,Ee({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":a.value},o.value,e.class],style:e.style},v,m,{id:d.value,focused:s.value}),{...r,default:b=>{let{id:S,messagesId:C,isDisabled:A,isReadonly:M,isValid:T}=b;return D(nh,Ee({ref:x},y,{modelValue:i.value,"onUpdate:modelValue":[E=>i.value=E,h],id:S.value,"aria-describedby":C.value,type:"checkbox","aria-checked":a.value?"mixed":void 0,disabled:A.value,readonly:M.value,onFocus:l,onBlur:u},p),{...r,default:()=>D("div",{class:"v-switch__track",onClick:w},null),input:E=>{let{textColorClasses:P,textColorStyles:I}=E;return D("div",{class:["v-switch__thumb",P.value],style:I.value},[e.loading&&D(bE,{name:"v-switch",active:!0,color:T.value===!1?void 0:c.value},{default:k=>r.loader?r.loader(k):D(yE,{active:k.isActive,color:k.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}});const Eve=de({color:String,height:[Number,String],window:Boolean,...Ve(),...Wr(),...Eh(),...Zn(),...Pt(),...Zt()},"VSystemBar"),Dve=be()({name:"VSystemBar",props:Eve(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{backgroundColorClasses:a,backgroundColorStyles:i}=Cr(ye(e,"color")),{elevationClasses:o}=ua(e),{roundedClasses:s}=ar(e),{ssrBootStyles:l}=wf(),u=O(()=>e.height??(e.window?32:24)),{layoutItemStyles:c}=Dh({id:e.name,order:O(()=>parseInt(e.order,10)),position:ke("top"),layoutSize:u,elementSize:u,active:O(()=>!0),absolute:ye(e,"absolute")});return Me(()=>D(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},r.value,a.value,o.value,s.value,e.class],style:[i.value,c.value,l.value,e.style]},n)),{}}});const MH=Symbol.for("vuetify:v-tabs"),Mve=de({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...As(wE({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),PH=be()({name:"VTab",props:Mve(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:a,textColorStyles:i}=Ea(e,"sliderColor"),o=O(()=>e.direction==="horizontal"),s=ke(!1),l=te(),u=te();function c(f){var h,v;let{value:d}=f;if(s.value=d,d){const p=(v=(h=l.value)==null?void 0:h.$el.parentElement)==null?void 0:v.querySelector(".v-tab--selected .v-tab__slider"),m=u.value;if(!p||!m)return;const g=getComputedStyle(p).color,y=p.getBoundingClientRect(),_=m.getBoundingClientRect(),x=o.value?"x":"y",w=o.value?"X":"Y",b=o.value?"right":"bottom",S=o.value?"width":"height",C=y[x],A=_[x],M=C>A?y[b]-_[b]:y[x]-_[x],T=Math.sign(M)>0?o.value?"right":"bottom":Math.sign(M)<0?o.value?"left":"top":"center",P=(Math.abs(M)+(Math.sign(M)<0?y[S]:_[S]))/Math.max(y[S],_[S]),I=y[S]/_[S],k=1.5;Tc(m,{backgroundColor:[g,"currentcolor"],transform:[`translate${w}(${M}px) scale${w}(${I})`,`translate${w}(${M/k}px) scale${w}(${(P-1)/k+1})`,"none"],transformOrigin:Array(3).fill(T)},{duration:225,easing:tm})}}return Me(()=>{const[f]=$a.filterProps(e);return D($a,Ee({symbol:MH,ref:l,class:["v-tab",e.class],style:e.style,tabindex:s.value?0:-1,role:"tab","aria-selected":String(s.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},f,r,{"onGroup:selected":c}),{default:()=>{var d;return[((d=n.default)==null?void 0:d.call(n))??e.text,!e.hideSlider&&D("div",{ref:u,class:["v-tab__slider",a.value],style:i.value},null)]}})}),{}}});function Pve(e){return e?e.map(t=>typeof t=="string"?{title:t,value:t}:t):[]}const Lve=de({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...DH({mandatory:"force"}),...Yr(),...Pt()},"VTabs"),Ive=be()({name:"VTabs",props:Lve(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),a=O(()=>Pve(e.items)),{densityClasses:i}=Pa(e),{backgroundColorClasses:o,backgroundColorStyles:s}=Cr(ye(e,"bgColor"));return Rr({VTab:{color:ye(e,"color"),direction:ye(e,"direction"),stacked:ye(e,"stacked"),fixed:ye(e,"fixedTabs"),sliderColor:ye(e,"sliderColor"),hideSlider:ye(e,"hideSlider")}}),Me(()=>{const[l]=EC.filterProps(e);return D(EC,Ee(l,{modelValue:r.value,"onUpdate:modelValue":u=>r.value=u,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,o.value,e.class],style:[{"--v-tabs-height":ze(e.height)},s.value,e.style],role:"tablist",symbol:MH}),{default:()=>[n.default?n.default():a.value.map(u=>D(PH,Ee(u,{key:u.title}),null))]})}),{}}});const Rve=de({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ve(),...Yr(),...Pt(),...Zt()},"VTable"),Ove=be()({name:"VTable",props:Rve(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{densityClasses:a}=Pa(e);return Me(()=>D(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,a.value,e.class],style:e.style},{default:()=>{var i,o,s;return[(i=n.top)==null?void 0:i.call(n),n.default?D("div",{class:"v-table__wrapper",style:{height:ze(e.height)}},[D("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(s=n.bottom)==null?void 0:s.call(n)]}})),{}}});const kve=de({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...bl(),...Q1()},"VTextarea"),Nve=be()({name:"VTextarea",directives:{Intersect:Nm},inheritAttrs:!1,props:kve(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const i=Tt(e,"modelValue"),{isFocused:o,focus:s,blur:l}=bu(e),u=O(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),c=O(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function f(T,E){var P,I;!e.autofocus||!T||(I=(P=E[0].target)==null?void 0:P.focus)==null||I.call(P)}const d=te(),h=te(),v=ke(""),p=te(),m=O(()=>e.persistentPlaceholder||o.value||e.active);function g(){var T;p.value!==document.activeElement&&((T=p.value)==null||T.focus()),o.value||s()}function y(T){g(),r("click:control",T)}function _(T){r("mousedown:control",T)}function x(T){T.stopPropagation(),g(),Ot(()=>{i.value="",tE(e["onClick:clear"],T)})}function w(T){var P;const E=T.target;if(i.value=E.value,(P=e.modelModifiers)!=null&&P.trim){const I=[E.selectionStart,E.selectionEnd];Ot(()=>{E.selectionStart=I[0],E.selectionEnd=I[1]})}}const b=te(),S=te(+e.rows),C=O(()=>["plain","underlined"].includes(e.variant));qn(()=>{e.autoGrow||(S.value=+e.rows)});function A(){e.autoGrow&&Ot(()=>{if(!b.value||!h.value)return;const T=getComputedStyle(b.value),E=getComputedStyle(h.value.$el),P=parseFloat(T.getPropertyValue("--v-field-padding-top"))+parseFloat(T.getPropertyValue("--v-input-padding-top"))+parseFloat(T.getPropertyValue("--v-field-padding-bottom")),I=b.value.scrollHeight,k=parseFloat(T.lineHeight),B=Math.max(parseFloat(e.rows)*k+P,parseFloat(E.getPropertyValue("--v-input-control-height"))),U=parseFloat(e.maxRows)*k+P||1/0,R=xa(I??0,B,U);S.value=Math.floor((R-P)/k),v.value=ze(R)})}nn(A),Le(i,A),Le(()=>e.rows,A),Le(()=>e.maxRows,A),Le(()=>e.density,A);let M;return Le(b,T=>{T?(M=new ResizeObserver(A),M.observe(b.value)):M==null||M.disconnect()}),la(()=>{M==null||M.disconnect()}),Me(()=>{const T=!!(a.counter||e.counter||e.counterValue),E=!!(T||a.details),[P,I]=bf(n),[{modelValue:k,...B}]=sa.filterProps(e),[U]=EE(e);return D(sa,Ee({ref:d,modelValue:i.value,"onUpdate:modelValue":R=>i.value=R,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":C.value},e.class],style:e.style},P,B,{centerAffix:S.value===1&&!C.value,focused:o.value}),{...a,default:R=>{let{isDisabled:L,isDirty:z,isReadonly:X,isValid:Y}=R;return D(zm,Ee({ref:h,style:{"--v-textarea-control-height":v.value},onClick:y,onMousedown:_,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},U,{active:m.value||z.value,centerAffix:S.value===1&&!C.value,dirty:z.value||e.dirty,disabled:L.value,focused:o.value,error:Y.value===!1}),{...a,default:$=>{let{props:{class:F,...N}}=$;return D(Ae,null,[e.prefix&&D("span",{class:"v-text-field__prefix"},[e.prefix]),On(D("textarea",Ee({ref:p,class:F,value:i.value,onInput:w,autofocus:e.autofocus,readonly:X.value,disabled:L.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:g,onBlur:l},N,I),null),[[di("intersect"),{handler:f},null,{once:!0}]]),e.autoGrow&&On(D("textarea",{class:[F,"v-textarea__sizer"],"onUpdate:modelValue":H=>i.value=H,ref:b,readonly:!0,"aria-hidden":"true"},null),[[k6,i.value]]),e.suffix&&D("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:E?R=>{var L;return D(Ae,null,[(L=a.details)==null?void 0:L.call(a,R),T&&D(Ae,null,[D("span",null,null),D(K1,{active:e.persistentCounter||o.value,value:u.value,max:c.value},a.counter)])])}:void 0})}),Go({},d,h,p)}});const Bve=de({withBackground:Boolean,...Ve(),...Zt(),...Pt()},"VThemeProvider"),Vve=be()({name:"VThemeProvider",props:Bve(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e);return()=>{var a;return e.withBackground?D(e.tag,{class:["v-theme-provider",r.value,e.class],style:e.style},{default:()=>{var i;return[(i=n.default)==null?void 0:i.call(n)]}}):(a=n.default)==null?void 0:a.call(n)}}});const Fve=de({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Ve(),...Yr(),...Pt(),...Zt()},"VTimeline"),Uve=be()({name:"VTimeline",props:Fve(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=yn(e),{densityClasses:a}=Pa(e),{rtlClasses:i}=na();Rr({VTimelineDivider:{lineColor:ye(e,"lineColor")},VTimelineItem:{density:ye(e,"density"),lineInset:ye(e,"lineInset")}});const o=O(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),s=O(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return Me(()=>D(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,s.value,{"v-timeline--inset-line":!!e.lineInset},r.value,a.value,o.value,i.value,e.class],style:[{"--v-timeline-line-thickness":ze(e.lineThickness)},e.style]},n)),{}}}),zve=de({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:xt,iconColor:String,lineColor:String,...Ve(),...Zn(),...xl(),...Wr()},"VTimelineDivider"),Hve=be()({name:"VTimelineDivider",props:zve(),setup(e,t){let{slots:n}=t;const{sizeClasses:r,sizeStyles:a}=Ih(e,"v-timeline-divider__dot"),{backgroundColorStyles:i,backgroundColorClasses:o}=Cr(ye(e,"dotColor")),{roundedClasses:s}=ar(e,"v-timeline-divider__dot"),{elevationClasses:l}=ua(e),{backgroundColorClasses:u,backgroundColorStyles:c}=Cr(ye(e,"lineColor"));return Me(()=>D("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[D("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&D("div",{key:"dot",class:["v-timeline-divider__dot",l.value,s.value,r.value],style:a.value},[D("div",{class:["v-timeline-divider__inner-dot",o.value,s.value],style:i.value},[n.default?D(An,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):D(Nn,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),D("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)])),{}}}),$ve=de({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:xt,iconColor:String,lineInset:[Number,String],...Ve(),...go(),...Wr(),...Zn(),...xl(),...Pt()},"VTimelineItem"),Gve=be()({name:"VTimelineItem",props:$ve(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=yo(e),a=ke(0),i=te();return Le(i,o=>{var s;o&&(a.value=((s=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:s.getBoundingClientRect().width)??0)},{flush:"post"}),Me(()=>{var o,s;return D("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":ze(a.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${ze(e.lineInset)})`:ze(0)},e.style]},[D("div",{class:"v-timeline-item__body",style:r.value},[(o=n.default)==null?void 0:o.call(n)]),D(Hve,{ref:i,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&D("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((s=n.opposite)==null?void 0:s.call(n))])])}),{}}}),Wve=de({...Ve(),...xo({variant:"text"})},"VToolbarItems"),Yve=be()({name:"VToolbarItems",props:Wve(),setup(e,t){let{slots:n}=t;return Rr({VBtn:{color:ye(e,"color"),height:"inherit",variant:ye(e,"variant")}}),Me(()=>{var r;return D("div",{class:["v-toolbar-items",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}});const jve=de({id:String,text:String,...As(Um({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Xve=be()({name:"VTooltip",props:jve(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Tt(e,"modelValue"),{scopeId:a}=Nh(),i=Ma(),o=O(()=>e.id||`v-tooltip-${i}`),s=te(),l=O(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=O(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=O(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),f=O(()=>Ee({"aria-describedby":o.value},e.activatorProps));return Me(()=>{const[d]=cl.filterProps(e);return D(cl,Ee({ref:s,class:["v-tooltip",e.class],style:e.style,id:o.value},d,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},a),{activator:n.activator,default:function(){var m;for(var h=arguments.length,v=new Array(h),p=0;p<h;p++)v[p]=arguments[p];return((m=n.default)==null?void 0:m.call(n,...v))??e.text}})}),Go({},s)}}),qve=be()({name:"VValidation",props:bz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=wz(e,"validation");return()=>{var a;return(a=n.default)==null?void 0:a.call(n,r)}}}),Zve=Object.freeze(Object.defineProperty({__proto__:null,VAlert:wce,VAlertTitle:vz,VApp:Aue,VAppBar:Yue,VAppBarNavIcon:yce,VAppBarTitle:_ce,VAutocomplete:$fe,VAvatar:hu,VBadge:Wfe,VBanner:Xfe,VBannerActions:Xz,VBannerText:qz,VBottomNavigation:Zfe,VBreadcrumbs:ede,VBreadcrumbsDivider:Zz,VBreadcrumbsItem:Kz,VBtn:$a,VBtnGroup:lC,VBtnToggle:Que,VCard:rde,VCardActions:Qz,VCardItem:tH,VCardSubtitle:Jz,VCardText:nH,VCardTitle:eH,VCarousel:dde,VCarouselItem:vde,VCheckbox:Pce,VCheckboxBtn:rh,VChip:Fm,VChipGroup:Rce,VClassIcon:mE,VCode:pde,VCol:Ahe,VColorPicker:rhe,VCombobox:ohe,VComponentIcon:cC,VContainer:whe,VCounter:K1,VDefaultsProvider:An,VDialog:lhe,VDialogBottomTransition:Pue,VDialogTopTransition:Lue,VDialogTransition:U1,VDivider:Rz,VExpandTransition:z1,VExpandXTransition:dE,VExpansionPanel:vhe,VExpansionPanelText:hH,VExpansionPanelTitle:pH,VExpansionPanels:fhe,VFabTransition:Mue,VFadeTransition:iC,VField:zm,VFieldLabel:qv,VFileInput:mhe,VFooter:yhe,VForm:xhe,VHover:Nhe,VIcon:Nn,VImg:sf,VInput:sa,VItem:Fhe,VItemGroup:Vhe,VKbd:Uhe,VLabel:kh,VLayout:Hhe,VLayoutItem:Ghe,VLazy:Yhe,VLigatureIcon:tce,VList:j1,VListGroup:vC,VListImg:efe,VListItem:ul,VListItemAction:nfe,VListItemMedia:afe,VListItemSubtitle:Pz,VListItemTitle:Lz,VListSubheader:Iz,VLocaleProvider:Xhe,VMain:Zhe,VMenu:Z1,VMessages:_z,VNavigationDrawer:ive,VNoSsr:ove,VOverlay:cl,VPagination:uve,VParallax:dve,VProgressCircular:yE,VProgressLinear:_E,VRadio:vve,VRadioGroup:mve,VRangeSlider:yve,VRating:xve,VResponsive:oC,VRow:Rhe,VScaleTransition:QU,VScrollXReverseTransition:Rue,VScrollXTransition:Iue,VScrollYReverseTransition:kue,VScrollYTransition:Oue,VSelect:Vfe,VSelectionControl:nh,VSelectionControlGroup:mz,VSheet:AC,VSlideGroup:EC,VSlideGroupItem:wve,VSlideXReverseTransition:Bue,VSlideXTransition:Nue,VSlideYReverseTransition:Vue,VSlideYTransition:fE,VSlider:CC,VSnackbar:Tve,VSpacer:Ohe,VSvgIcon:pE,VSwitch:Ave,VSystemBar:Dve,VTab:PH,VTable:Ove,VTabs:Ive,VTextField:lf,VTextarea:Nve,VThemeProvider:Vve,VTimeline:Uve,VTimelineItem:Gve,VToolbar:sC,VToolbarItems:Yve,VToolbarTitle:cE,VTooltip:Xve,VValidation:qve,VVirtualScroll:ex,VWindow:_C,VWindowItem:xC},Symbol.toStringTag,{value:"Module"}));function Kve(e,t){const n=t.modifiers||{},r=t.value,{once:a,immediate:i,...o}=n,s=!Object.keys(o).length,{handler:l,options:u}=typeof r=="object"?r:{handler:r,options:{attributes:(o==null?void 0:o.attr)??s,characterData:(o==null?void 0:o.char)??s,childList:(o==null?void 0:o.child)??s,subtree:(o==null?void 0:o.sub)??s}},c=new MutationObserver(function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;l==null||l(f,d),a&&LH(e,t)});i&&(l==null||l([],c)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:c},c.observe(e,u)}function LH(e,t){var n;(n=e._mutate)!=null&&n[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Qve={mounted:Kve,unmounted:LH};function Jve(e,t){var a,i;const n=t.value,r={passive:!((a=t.modifiers)!=null&&a.active)};window.addEventListener("resize",n,r),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:r},(i=t.modifiers)!=null&&i.quiet||n()}function epe(e,t){var a;if(!((a=e._onResize)!=null&&a[t.instance.$.uid]))return;const{handler:n,options:r}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,r),delete e._onResize[t.instance.$.uid]}const tpe={mounted:Jve,unmounted:epe};function IH(e,t){const{self:n=!1}=t.modifiers??{},r=t.value,a=typeof r=="object"&&r.options||{passive:!0},i=typeof r=="function"||"handleEvent"in r?r:r.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",i,a),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:i,options:a,target:n?void 0:o})}function RH(e,t){var i;if(!((i=e._onScroll)!=null&&i[t.instance.$.uid]))return;const{handler:n,options:r,target:a=e}=e._onScroll[t.instance.$.uid];a.removeEventListener("scroll",n,r),delete e._onScroll[t.instance.$.uid]}function npe(e,t){t.value!==t.oldValue&&(RH(e,t),IH(e,t))}const rpe={mounted:IH,unmounted:RH,updated:npe},ape=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:Wz,Intersect:Nm,Mutate:Qve,Resize:tpe,Ripple:xu,Scroll:rpe,Touch:PE},Symbol.toStringTag,{value:"Module"})),DC={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function ipe(e,t){const n=[];let r=[];const a=OH(e),i=kH(e),o=a.getDay()-DC[t.slice(-2).toUpperCase()],s=i.getDay()-DC[t.slice(-2).toUpperCase()];for(let l=0;l<o;l++){const u=new Date(a);u.setDate(u.getDate()-(o-l)),r.push(u)}for(let l=1;l<=i.getDate();l++){const u=new Date(e.getFullYear(),e.getMonth(),l);r.push(u),r.length===7&&(n.push(r),r=[])}for(let l=1;l<7-s;l++){const u=new Date(i);u.setDate(u.getDate()+l),r.push(u)}return n.push(r),n}function OH(e){return new Date(e.getFullYear(),e.getMonth(),1)}function kH(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function ope(e){const t=e.split("-").map(i=>i.padStart(2,"0")).join("-"),n=new Date().getTimezoneOffset()/-60,r=n<0?"-":"+",a=Math.abs(n).toString().padStart(2,"0");return`${t}T00:00:00.000${r}${a}:00`}const spe=/([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))/;function lpe(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(spe.test(e)?t=Date.parse(ope(e)):t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const EO=new Date(2e3,0,2);function upe(e){const t=DC[e.slice(-2).toUpperCase()];return Ks(7).map(n=>{const r=new Date(EO);return r.setDate(EO.getDate()+t+n),new Intl.DateTimeFormat(e,{weekday:"short"}).format(r)})}function cpe(e,t,n){const r=new Date(e);let a={};switch(t){case"fullDateWithWeekday":a={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":a={};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"dayOfMonth":a={day:"numeric"};break;default:a={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(r)}function fpe(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function dpe(e,t){const n=new Date(e);return n.setMonth(n.getMonth()+t),n}function hpe(e){return e.getFullYear()}function vpe(e){return e.getMonth()}function ppe(e){return new Date(e.getFullYear(),0,1)}function mpe(e){return new Date(e.getFullYear(),11,31)}function gpe(e,t){return MC(e,t[0])&&_pe(e,t[1])}function ype(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function MC(e,t){return e.getTime()>t.getTime()}function _pe(e,t){return e.getTime()<t.getTime()}function DO(e,t){return e.getTime()===t.getTime()}function xpe(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function bpe(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function wpe(e,t,n){const r=new Date(e),a=new Date(t);return n==="month"?r.getMonth()-a.getMonth()+(r.getFullYear()-a.getFullYear())*12:Math.floor((r.getTime()-a.getTime())/(1e3*60*60*24))}function Spe(e,t){const n=new Date(e);return n.setFullYear(t),n}class Tpe{constructor(t){this.locale=t.locale}date(t){return lpe(t)}toJsDate(t){return t}addDays(t,n){return fpe(t,n)}addMonths(t,n){return dpe(t,n)}getWeekArray(t){return ipe(t,this.locale)}startOfMonth(t){return OH(t)}endOfMonth(t){return kH(t)}format(t,n){return cpe(t,n,this.locale)}isEqual(t,n){return DO(t,n)}isValid(t){return ype(t)}isWithinRange(t,n){return gpe(t,n)}isAfter(t,n){return MC(t,n)}isBefore(t,n){return!MC(t,n)&&!DO(t,n)}isSameDay(t,n){return xpe(t,n)}isSameMonth(t,n){return bpe(t,n)}setYear(t,n){return Spe(t,n)}getDiff(t,n,r){return wpe(t,n,r)}getWeekdays(){return upe(this.locale)}getYear(t){return hpe(t)}getMonth(t){return vpe(t)}startOfYear(t){return ppe(t)}endOfYear(t){return mpe(t)}}const MO=Symbol.for("vuetify:date-adapter");function Cpe(e){return Ki({adapter:Tpe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"nn-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e)}function NH(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=Ki(t,n),{aliases:a={},components:i={},directives:o={}}=r,s=Kle(r.defaults),l=bfe(r.display,r.ssr),u=Tue(r.theme),c=rce(r.icons),f=due(r.locale),d=Cpe(r.date);return{install:v=>{for(const p in o)v.directive(p,o[p]);for(const p in i)v.component(p,i[p]);for(const p in a)v.component(p,po({...a[p],name:p,aliasName:a[p].name}));if(u.install(v),v.provide(em,s),v.provide(yC,l),v.provide(nm,u),v.provide(uC,c),v.provide(th,f),v.provide(MO,d),Tr&&r.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=v;v.mount=function(){const m=p(...arguments);return Ot(()=>l.update()),v.mount=p,m}}Ma.reset(),v.mixin({computed:{$vuetify(){return Rn({defaults:od.call(this,em),display:od.call(this,yC),theme:od.call(this,nm),icons:od.call(this,uC),locale:od.call(this,th),date:od.call(this,MO)})}}})},defaults:s,display:l,theme:u,icons:c,locale:f,date:d}}const Ape="3.3.10";NH.version=Ape;function od(e){var r,a;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((a=t.vnode.appContext)==null?void 0:a.provides);if(n&&e in n)return n[e]}const Epe=NH({components:Zve,directives:ape,theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function vt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function et(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function pt(e){et(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||fo(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Js(e,t){et(2,arguments);var n=pt(e),r=vt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ds(e,t){et(2,arguments);var n=pt(e),r=vt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var a=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function BH(e,t){if(et(2,arguments),!t||fo(t)!=="object")return new Date(NaN);var n=t.years?vt(t.years):0,r=t.months?vt(t.months):0,a=t.weeks?vt(t.weeks):0,i=t.days?vt(t.days):0,o=t.hours?vt(t.hours):0,s=t.minutes?vt(t.minutes):0,l=t.seconds?vt(t.seconds):0,u=pt(e),c=r||n?ds(u,r+n*12):u,f=i||a?Js(c,i+a*7):c,d=s+o*60,h=l+d*60,v=h*1e3,p=new Date(f.getTime()+v);return p}function Dpe(e,t){et(2,arguments);var n=pt(e).getTime(),r=vt(t);return new Date(n+r)}var Mpe={};function Es(){return Mpe}function uf(e,t){var n,r,a,i,o,s,l,u;et(1,arguments);var c=Es(),f=vt((n=(r=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=pt(e),h=d.getDay(),v=(h<f?7:0)+h-f;return d.setDate(d.getDate()-v),d.setHours(0,0,0,0),d}function d_(e){return et(1,arguments),uf(e,{weekStartsOn:1})}function Ppe(e){et(1,arguments);var t=pt(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=d_(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=d_(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Lpe(e){et(1,arguments);var t=Ppe(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=d_(n);return r}function h_(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function PO(e){et(1,arguments);var t=pt(e);return t.setHours(0,0,0,0),t}var Ipe=864e5;function Rpe(e,t){et(2,arguments);var n=PO(e),r=PO(t),a=n.getTime()-h_(n),i=r.getTime()-h_(r);return Math.round((a-i)/Ipe)}function VH(e,t){et(2,arguments);var n=vt(t);return ds(e,n*12)}var OE=6e4,kE=36e5,Ope=1e3;function FH(e){return et(1,arguments),e instanceof Date||fo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bp(e){if(et(1,arguments),!FH(e)&&typeof e!="number")return!1;var t=pt(e);return!isNaN(Number(t))}function LO(e,t){var n;et(1,arguments);var r=e||{},a=pt(r.start),i=pt(r.end),o=i.getTime();if(!(a.getTime()<=o))throw new RangeError("Invalid interval");var s=[],l=a;l.setHours(0,0,0,0);var u=Number((n=t==null?void 0:t.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)s.push(pt(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return s}function kpe(e,t){var n,r,a,i,o,s,l,u;et(1,arguments);var c=Es(),f=vt((n=(r=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=pt(e),h=d.getDay(),v=(h<f?-7:0)+6-(h-f);return d.setDate(d.getDate()+v),d.setHours(23,59,59,999),d}function UH(e,t){et(2,arguments);var n=vt(t);return Dpe(e,-n)}var Npe=864e5;function Bpe(e){et(1,arguments);var t=pt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/Npe)+1}function ah(e){et(1,arguments);var t=1,n=pt(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function zH(e){et(1,arguments);var t=pt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=ah(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=ah(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Vpe(e){et(1,arguments);var t=zH(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=ah(n);return r}var Fpe=6048e5;function HH(e){et(1,arguments);var t=pt(e),n=ah(t).getTime()-Vpe(t).getTime();return Math.round(n/Fpe)+1}function cf(e,t){var n,r,a,i,o,s,l,u;et(1,arguments);var c=Es(),f=vt((n=(r=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=pt(e),h=d.getUTCDay(),v=(h<f?7:0)+h-f;return d.setUTCDate(d.getUTCDate()-v),d.setUTCHours(0,0,0,0),d}function NE(e,t){var n,r,a,i,o,s,l,u;et(1,arguments);var c=pt(e),f=c.getUTCFullYear(),d=Es(),h=vt((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,h),v.setUTCHours(0,0,0,0);var p=cf(v,t),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var g=cf(m,t);return c.getTime()>=p.getTime()?f+1:c.getTime()>=g.getTime()?f:f-1}function Upe(e,t){var n,r,a,i,o,s,l,u;et(1,arguments);var c=Es(),f=vt((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=NE(e,t),h=new Date(0);h.setUTCFullYear(d,0,f),h.setUTCHours(0,0,0,0);var v=cf(h,t);return v}var zpe=6048e5;function $H(e,t){et(1,arguments);var n=pt(e),r=cf(n,t).getTime()-Upe(n,t).getTime();return Math.round(r/zpe)+1}function Sn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Hpe={y:function(t,n){var r=t.getUTCFullYear(),a=r>0?r:1-r;return Sn(n==="yy"?a%100:a,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Sn(r+1,2)},d:function(t,n){return Sn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Sn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Sn(t.getUTCHours(),n.length)},m:function(t,n){return Sn(t.getUTCMinutes(),n.length)},s:function(t,n){return Sn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,r-3));return Sn(i,n.length)}};const Fl=Hpe;var sd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$pe={G:function(t,n,r){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Fl.y(t,n)},Y:function(t,n,r,a){var i=NE(t,a),o=i>0?i:1-i;if(n==="YY"){var s=o%100;return Sn(s,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Sn(o,n.length)},R:function(t,n){var r=zH(t);return Sn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Sn(r,n.length)},Q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return Sn(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return Sn(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,r){var a=t.getUTCMonth();switch(n){case"M":case"MM":return Fl.M(t,n);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,r){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return Sn(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,r,a){var i=$H(t,a);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Sn(i,n.length)},I:function(t,n,r){var a=HH(t);return n==="Io"?r.ordinalNumber(a,{unit:"week"}):Sn(a,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Fl.d(t,n)},D:function(t,n,r){var a=Bpe(t);return n==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Sn(a,n.length)},E:function(t,n,r){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,r,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Sn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Sn(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var a=t.getUTCDay(),i=a===0?7:a;switch(n){case"i":return String(i);case"ii":return Sn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,r){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var a=t.getUTCHours(),i;switch(a===12?i=sd.noon:a===0?i=sd.midnight:i=a/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var a=t.getUTCHours(),i;switch(a>=17?i=sd.evening:a>=12?i=sd.afternoon:a>=4?i=sd.morning:i=sd.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Fl.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Fl.H(t,n)},K:function(t,n,r){var a=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Sn(a,n.length)},k:function(t,n,r){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?r.ordinalNumber(a,{unit:"hour"}):Sn(a,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Fl.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Fl.s(t,n)},S:function(t,n){return Fl.S(t,n)},X:function(t,n,r,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return RO(o);case"XXXX":case"XX":return hc(o);case"XXXXX":case"XXX":default:return hc(o,":")}},x:function(t,n,r,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"x":return RO(o);case"xxxx":case"xx":return hc(o);case"xxxxx":case"xxx":default:return hc(o,":")}},O:function(t,n,r,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+IO(o,":");case"OOOO":default:return"GMT"+hc(o,":")}},z:function(t,n,r,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+IO(o,":");case"zzzz":default:return"GMT"+hc(o,":")}},t:function(t,n,r,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return Sn(o,n.length)},T:function(t,n,r,a){var i=a._originalDate||t,o=i.getTime();return Sn(o,n.length)}};function IO(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(i===0)return n+String(a);var o=t||"";return n+String(a)+o+Sn(i,2)}function RO(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Sn(Math.abs(e)/60,2)}return hc(e,t)}function hc(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e),i=Sn(Math.floor(a/60),2),o=Sn(a%60,2);return r+i+n+o}const Gpe=$pe;var OO=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},GH=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Wpe=function(t,n){var r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return OO(t,n);var o;switch(a){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",OO(a,n)).replace("{{time}}",GH(i,n))},Ype={p:GH,P:Wpe};const PC=Ype;var jpe=["D","DD"],Xpe=["YY","YYYY"];function WH(e){return jpe.indexOf(e)!==-1}function YH(e){return Xpe.indexOf(e)!==-1}function v_(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var qpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zpe=function(t,n,r){var a,i=qpe[t];return typeof i=="string"?a=i:n===1?a=i.one:a=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};const Kpe=Zpe;function _w(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Qpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tme={date:_w({formats:Qpe,defaultWidth:"full"}),time:_w({formats:Jpe,defaultWidth:"full"}),dateTime:_w({formats:eme,defaultWidth:"full"})};const nme=tme;var rme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ame=function(t,n,r,a){return rme[t]};const ime=ame;function wv(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",a;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[s]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var ome={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ume={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dme=function(t,n){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hme={ordinalNumber:dme,era:wv({values:ome,defaultWidth:"wide"}),quarter:wv({values:sme,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:wv({values:lme,defaultWidth:"wide"}),day:wv({values:ume,defaultWidth:"wide"}),dayPeriod:wv({values:cme,defaultWidth:"wide",formattingValues:fme,defaultFormattingWidth:"wide"})};const vme=hme;function Sv(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?mme(s,function(f){return f.test(o)}):pme(s,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=t.slice(o.length);return{value:u,rest:c}}}function pme(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function mme(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function gme(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var s=t.slice(a.length);return{value:o,rest:s}}}var yme=/^(\d+)(th|st|nd|rd)?/i,_me=/\d+/i,xme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bme={any:[/^b/i,/^(a|c)/i]},wme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sme={any:[/1/i,/2/i,/3/i,/4/i]},Tme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ame={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Eme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pme={ordinalNumber:gme({matchPattern:yme,parsePattern:_me,valueCallback:function(t){return parseInt(t,10)}}),era:Sv({matchPatterns:xme,defaultMatchWidth:"wide",parsePatterns:bme,defaultParseWidth:"any"}),quarter:Sv({matchPatterns:wme,defaultMatchWidth:"wide",parsePatterns:Sme,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Sv({matchPatterns:Tme,defaultMatchWidth:"wide",parsePatterns:Cme,defaultParseWidth:"any"}),day:Sv({matchPatterns:Ame,defaultMatchWidth:"wide",parsePatterns:Eme,defaultParseWidth:"any"}),dayPeriod:Sv({matchPatterns:Dme,defaultMatchWidth:"any",parsePatterns:Mme,defaultParseWidth:"any"})};const Lme=Pme;var Ime={code:"en-US",formatDistance:Kpe,formatLong:nme,formatRelative:ime,localize:vme,match:Lme,options:{weekStartsOn:0,firstWeekContainsDate:1}};const jH=Ime;var Rme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ome=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kme=/^'([^]*?)'?$/,Nme=/''/g,Bme=/[a-zA-Z]/;function Yc(e,t,n){var r,a,i,o,s,l,u,c,f,d,h,v,p,m,g,y,_,x;et(2,arguments);var w=String(t),b=Es(),S=(r=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:b.locale)!==null&&r!==void 0?r:jH,C=vt((i=(o=(s=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:b.firstWeekContainsDate)!==null&&o!==void 0?o:(f=b.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=vt((h=(v=(p=(m=n==null?void 0:n.weekStartsOn)!==null&&m!==void 0?m:n==null||(g=n.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&v!==void 0?v:(_=b.locale)===null||_===void 0||(x=_.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&h!==void 0?h:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var M=pt(e);if(!bp(M))throw new RangeError("Invalid time value");var T=h_(M),E=UH(M,T),P={firstWeekContainsDate:C,weekStartsOn:A,locale:S,_originalDate:M},I=w.match(Ome).map(function(k){var B=k[0];if(B==="p"||B==="P"){var U=PC[B];return U(k,S.formatLong)}return k}).join("").match(Rme).map(function(k){if(k==="''")return"'";var B=k[0];if(B==="'")return Vme(k);var U=Gpe[B];if(U)return!(n!=null&&n.useAdditionalWeekYearTokens)&&YH(k)&&v_(k,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&WH(k)&&v_(k,t,String(e)),U(E,k,S.localize,P);if(B.match(Bme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return k}).join("");return I}function Vme(e){var t=e.match(kme);return t?t[1].replace(Nme,"'"):e}function Fme(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ume(e){et(1,arguments);var t=pt(e),n=t.getDay();return n}function zme(e){et(1,arguments);var t=pt(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Gs(e){et(1,arguments);var t=pt(e),n=t.getHours();return n}var Hme=6048e5;function $me(e){et(1,arguments);var t=pt(e),n=d_(t).getTime()-Lpe(t).getTime();return Math.round(n/Hme)+1}function Ws(e){et(1,arguments);var t=pt(e),n=t.getMinutes();return n}function Hn(e){et(1,arguments);var t=pt(e),n=t.getMonth();return n}function ih(e){et(1,arguments);var t=pt(e),n=t.getSeconds();return n}function Gme(e,t){var n,r,a,i,o,s,l,u;et(1,arguments);var c=pt(e),f=c.getFullYear(),d=Es(),h=vt((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,h),v.setHours(0,0,0,0);var p=uf(v,t),m=new Date(0);m.setFullYear(f,0,h),m.setHours(0,0,0,0);var g=uf(m,t);return c.getTime()>=p.getTime()?f+1:c.getTime()>=g.getTime()?f:f-1}function Wme(e,t){var n,r,a,i,o,s,l,u;et(1,arguments);var c=Es(),f=vt((n=(r=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=Gme(e,t),h=new Date(0);h.setFullYear(d,0,f),h.setHours(0,0,0,0);var v=uf(h,t);return v}var Yme=6048e5;function jme(e,t){et(1,arguments);var n=pt(e),r=uf(n,t).getTime()-Wme(n,t).getTime();return Math.round(r/Yme)+1}function Yn(e){return et(1,arguments),pt(e).getFullYear()}function sm(e,t){et(2,arguments);var n=pt(e),r=pt(t);return n.getTime()>r.getTime()}function lm(e,t){et(2,arguments);var n=pt(e),r=pt(t);return n.getTime()<r.getTime()}function Cc(e,t){et(2,arguments);var n=pt(e),r=pt(t);return n.getTime()===r.getTime()}function kO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xme(e,t){if(e){if(typeof e=="string")return kO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kO(e,t)}}function NO(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Xme(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function Ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},LC(e,t)}function un(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}function p_(e){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p_(e)}function qme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zme(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ye(e)}function cn(e){var t=qme();return function(){var r=p_(e),a;if(t){var i=p_(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Zme(this,a)}}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kme(e,t){if(fo(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XH(e){var t=Kme(e,"string");return fo(t)==="symbol"?t:String(t)}function BO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XH(r.key),r)}}function Qt(e,t,n){return t&&BO(e.prototype,t),n&&BO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $e(e,t,n){return t=XH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qme=10,qH=function(){function e(){Kt(this,e),$e(this,"priority",void 0),$e(this,"subPriority",0)}return Qt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),Jme=function(e){un(n,e);var t=cn(n);function n(r,a,i,o,s){var l;return Kt(this,n),l=t.call(this),l.value=r,l.validateValue=a,l.setValue=i,l.priority=o,s&&(l.subPriority=s),l}return Qt(n,[{key:"validate",value:function(a,i){return this.validateValue(a,this.value,i)}},{key:"set",value:function(a,i,o){return this.setValue(a,i,this.value,o)}}]),n}(qH),ege=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",Qme),$e(Ye(r),"subPriority",-1),r}return Qt(n,[{key:"set",value:function(a,i){if(i.timestampIsSet)return a;var o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}}]),n}(qH),_n=function(){function e(){Kt(this,e),$e(this,"incompatibleTokens",void 0),$e(this,"priority",void 0),$e(this,"subPriority",void 0)}return Qt(e,[{key:"run",value:function(n,r,a,i){var o=this.parse(n,r,a,i);return o?{setter:new Jme(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,a){return!0}}]),e}(),tge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",140),$e(Ye(r),"incompatibleTokens",["R","u","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"G":case"GG":case"GGG":return o.era(a,{width:"abbreviated"})||o.era(a,{width:"narrow"});case"GGGGG":return o.era(a,{width:"narrow"});case"GGGG":default:return o.era(a,{width:"wide"})||o.era(a,{width:"abbreviated"})||o.era(a,{width:"narrow"})}}},{key:"set",value:function(a,i,o){return i.era=o,a.setUTCFullYear(o,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(_n),_r={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},os={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xr(e,t){return e&&{value:t(e.value),rest:e.rest}}function nr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ss(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*kE+i*OE+o*Ope),rest:t.slice(n[0].length)}}function ZH(e){return nr(_r.anyDigitsSigned,e)}function hr(e,t){switch(e){case 1:return nr(_r.singleDigit,t);case 2:return nr(_r.twoDigits,t);case 3:return nr(_r.threeDigits,t);case 4:return nr(_r.fourDigits,t);default:return nr(new RegExp("^\\d{1,"+e+"}"),t)}}function m_(e,t){switch(e){case 1:return nr(_r.singleDigitSigned,t);case 2:return nr(_r.twoDigitsSigned,t);case 3:return nr(_r.threeDigitsSigned,t);case 4:return nr(_r.fourDigitsSigned,t);default:return nr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function BE(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function KH(e,t){var n=t>0,r=n?t:1-t,a;if(r<=50)a=e||100;else{var i=r+50,o=Math.floor(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return n?a:1-a}function QH(e){return e%400===0||e%4===0&&e%100!==0}var nge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",130),$e(Ye(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){var s=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return xr(hr(4,a),s);case"yo":return xr(o.ordinalNumber(a,{unit:"year"}),s);default:return xr(hr(i.length,a),s)}}},{key:"validate",value:function(a,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(a,i,o){var s=a.getUTCFullYear();if(o.isTwoDigitYear){var l=KH(o.year,s);return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}var u=!("era"in i)||i.era===1?o.year:1-o.year;return a.setUTCFullYear(u,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(_n),rge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",130),$e(Ye(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){var s=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return xr(hr(4,a),s);case"Yo":return xr(o.ordinalNumber(a,{unit:"year"}),s);default:return xr(hr(i.length,a),s)}}},{key:"validate",value:function(a,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(a,i,o,s){var l=NE(a,s);if(o.isTwoDigitYear){var u=KH(o.year,l);return a.setUTCFullYear(u,0,s.firstWeekContainsDate),a.setUTCHours(0,0,0,0),cf(a,s)}var c=!("era"in i)||i.era===1?o.year:1-o.year;return a.setUTCFullYear(c,0,s.firstWeekContainsDate),a.setUTCHours(0,0,0,0),cf(a,s)}}]),n}(_n),age=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",130),$e(Ye(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i){return m_(i==="R"?4:i.length,a)}},{key:"set",value:function(a,i,o){var s=new Date(0);return s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0),ah(s)}}]),n}(_n),ige=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",130),$e(Ye(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i){return m_(i==="u"?4:i.length,a)}},{key:"set",value:function(a,i,o){return a.setUTCFullYear(o,0,1),a.setUTCHours(0,0,0,0),a}}]),n}(_n),oge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",120),$e(Ye(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"Q":case"QQ":return hr(i.length,a);case"Qo":return o.ordinalNumber(a,{unit:"quarter"});case"QQQ":return o.quarter(a,{width:"abbreviated",context:"formatting"})||o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(a,{width:"wide",context:"formatting"})||o.quarter(a,{width:"abbreviated",context:"formatting"})||o.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=1&&i<=4}},{key:"set",value:function(a,i,o){return a.setUTCMonth((o-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),n}(_n),sge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",120),$e(Ye(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"q":case"qq":return hr(i.length,a);case"qo":return o.ordinalNumber(a,{unit:"quarter"});case"qqq":return o.quarter(a,{width:"abbreviated",context:"standalone"})||o.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(a,{width:"wide",context:"standalone"})||o.quarter(a,{width:"abbreviated",context:"standalone"})||o.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=1&&i<=4}},{key:"set",value:function(a,i,o){return a.setUTCMonth((o-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),n}(_n),lge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),$e(Ye(r),"priority",110),r}return Qt(n,[{key:"parse",value:function(a,i,o){var s=function(u){return u-1};switch(i){case"M":return xr(nr(_r.month,a),s);case"MM":return xr(hr(2,a),s);case"Mo":return xr(o.ordinalNumber(a,{unit:"month"}),s);case"MMM":return o.month(a,{width:"abbreviated",context:"formatting"})||o.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(a,{width:"wide",context:"formatting"})||o.month(a,{width:"abbreviated",context:"formatting"})||o.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){return a.setUTCMonth(o,1),a.setUTCHours(0,0,0,0),a}}]),n}(_n),uge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",110),$e(Ye(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){var s=function(u){return u-1};switch(i){case"L":return xr(nr(_r.month,a),s);case"LL":return xr(hr(2,a),s);case"Lo":return xr(o.ordinalNumber(a,{unit:"month"}),s);case"LLL":return o.month(a,{width:"abbreviated",context:"standalone"})||o.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(a,{width:"wide",context:"standalone"})||o.month(a,{width:"abbreviated",context:"standalone"})||o.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){return a.setUTCMonth(o,1),a.setUTCHours(0,0,0,0),a}}]),n}(_n);function cge(e,t,n){et(2,arguments);var r=pt(e),a=vt(t),i=$H(r,n)-a;return r.setUTCDate(r.getUTCDate()-i*7),r}var fge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",100),$e(Ye(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"w":return nr(_r.week,a);case"wo":return o.ordinalNumber(a,{unit:"week"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=53}},{key:"set",value:function(a,i,o,s){return cf(cge(a,o,s),s)}}]),n}(_n);function dge(e,t){et(2,arguments);var n=pt(e),r=vt(t),a=HH(n)-r;return n.setUTCDate(n.getUTCDate()-a*7),n}var hge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",100),$e(Ye(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"I":return nr(_r.week,a);case"Io":return o.ordinalNumber(a,{unit:"week"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=53}},{key:"set",value:function(a,i,o){return ah(dge(a,o))}}]),n}(_n),vge=[31,28,31,30,31,30,31,31,30,31,30,31],pge=[31,29,31,30,31,30,31,31,30,31,30,31],mge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",90),$e(Ye(r),"subPriority",1),$e(Ye(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"d":return nr(_r.date,a);case"do":return o.ordinalNumber(a,{unit:"date"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){var o=a.getUTCFullYear(),s=QH(o),l=a.getUTCMonth();return s?i>=1&&i<=pge[l]:i>=1&&i<=vge[l]}},{key:"set",value:function(a,i,o){return a.setUTCDate(o),a.setUTCHours(0,0,0,0),a}}]),n}(_n),gge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",90),$e(Ye(r),"subpriority",1),$e(Ye(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"D":case"DD":return nr(_r.dayOfYear,a);case"Do":return o.ordinalNumber(a,{unit:"date"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){var o=a.getUTCFullYear(),s=QH(o);return s?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(a,i,o){return a.setUTCMonth(0,o),a.setUTCHours(0,0,0,0),a}}]),n}(_n);function VE(e,t,n){var r,a,i,o,s,l,u,c;et(2,arguments);var f=Es(),d=vt((r=(a=(i=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(s=n.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&a!==void 0?a:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=pt(e),v=vt(t),p=h.getUTCDay(),m=v%7,g=(m+7)%7,y=(g<d?7:0)+v-p;return h.setUTCDate(h.getUTCDate()+y),h}var yge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",90),$e(Ye(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"E":case"EE":case"EEE":return o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=VE(a,o,s),a.setUTCHours(0,0,0,0),a}}]),n}(_n),_ge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",90),$e(Ye(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o,s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return xr(hr(i.length,a),l);case"eo":return xr(o.ordinalNumber(a,{unit:"day"}),l);case"eee":return o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"eeeee":return o.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=VE(a,o,s),a.setUTCHours(0,0,0,0),a}}]),n}(_n),xge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",90),$e(Ye(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o,s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return xr(hr(i.length,a),l);case"co":return xr(o.ordinalNumber(a,{unit:"day"}),l);case"ccc":return o.day(a,{width:"abbreviated",context:"standalone"})||o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"});case"ccccc":return o.day(a,{width:"narrow",context:"standalone"});case"cccccc":return o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(a,{width:"wide",context:"standalone"})||o.day(a,{width:"abbreviated",context:"standalone"})||o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,i){return i>=0&&i<=6}},{key:"set",value:function(a,i,o,s){return a=VE(a,o,s),a.setUTCHours(0,0,0,0),a}}]),n}(_n);function bge(e,t){et(2,arguments);var n=vt(t);n%7===0&&(n=n-7);var r=1,a=pt(e),i=a.getUTCDay(),o=n%7,s=(o+7)%7,l=(s<r?7:0)+n-i;return a.setUTCDate(a.getUTCDate()+l),a}var wge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",90),$e(Ye(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){var s=function(u){return u===0?7:u};switch(i){case"i":case"ii":return hr(i.length,a);case"io":return o.ordinalNumber(a,{unit:"day"});case"iii":return xr(o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s);case"iiiii":return xr(o.day(a,{width:"narrow",context:"formatting"}),s);case"iiiiii":return xr(o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s);case"iiii":default:return xr(o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(a,i){return i>=1&&i<=7}},{key:"set",value:function(a,i,o){return a=bge(a,o),a.setUTCHours(0,0,0,0),a}}]),n}(_n),Sge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",80),$e(Ye(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"a":case"aa":case"aaa":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(BE(o),0,0,0),a}}]),n}(_n),Tge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",80),$e(Ye(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"b":case"bb":case"bbb":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(BE(o),0,0,0),a}}]),n}(_n),Cge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",80),$e(Ye(r),"incompatibleTokens",["a","b","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"B":case"BB":case"BBB":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,i,o){return a.setUTCHours(BE(o),0,0,0),a}}]),n}(_n),Age=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",70),$e(Ye(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"h":return nr(_r.hour12h,a);case"ho":return o.ordinalNumber(a,{unit:"hour"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=12}},{key:"set",value:function(a,i,o){var s=a.getUTCHours()>=12;return s&&o<12?a.setUTCHours(o+12,0,0,0):!s&&o===12?a.setUTCHours(0,0,0,0):a.setUTCHours(o,0,0,0),a}}]),n}(_n),Ege=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",70),$e(Ye(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"H":return nr(_r.hour23h,a);case"Ho":return o.ordinalNumber(a,{unit:"hour"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=23}},{key:"set",value:function(a,i,o){return a.setUTCHours(o,0,0,0),a}}]),n}(_n),Dge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",70),$e(Ye(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"K":return nr(_r.hour11h,a);case"Ko":return o.ordinalNumber(a,{unit:"hour"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=11}},{key:"set",value:function(a,i,o){var s=a.getUTCHours()>=12;return s&&o<12?a.setUTCHours(o+12,0,0,0):a.setUTCHours(o,0,0,0),a}}]),n}(_n),Mge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",70),$e(Ye(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"k":return nr(_r.hour24h,a);case"ko":return o.ordinalNumber(a,{unit:"hour"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){return i>=1&&i<=24}},{key:"set",value:function(a,i,o){var s=o<=24?o%24:o;return a.setUTCHours(s,0,0,0),a}}]),n}(_n),Pge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",60),$e(Ye(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"m":return nr(_r.minute,a);case"mo":return o.ordinalNumber(a,{unit:"minute"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=59}},{key:"set",value:function(a,i,o){return a.setUTCMinutes(o,0,0),a}}]),n}(_n),Lge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",50),$e(Ye(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i,o){switch(i){case"s":return nr(_r.second,a);case"so":return o.ordinalNumber(a,{unit:"second"});default:return hr(i.length,a)}}},{key:"validate",value:function(a,i){return i>=0&&i<=59}},{key:"set",value:function(a,i,o){return a.setUTCSeconds(o,0),a}}]),n}(_n),Ige=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",30),$e(Ye(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(a,i){var o=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return xr(hr(i.length,a),o)}},{key:"set",value:function(a,i,o){return a.setUTCMilliseconds(o),a}}]),n}(_n),Rge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",10),$e(Ye(r),"incompatibleTokens",["t","T","x"]),r}return Qt(n,[{key:"parse",value:function(a,i){switch(i){case"X":return ss(os.basicOptionalMinutes,a);case"XX":return ss(os.basic,a);case"XXXX":return ss(os.basicOptionalSeconds,a);case"XXXXX":return ss(os.extendedOptionalSeconds,a);case"XXX":default:return ss(os.extended,a)}}},{key:"set",value:function(a,i,o){return i.timestampIsSet?a:new Date(a.getTime()-o)}}]),n}(_n),Oge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",10),$e(Ye(r),"incompatibleTokens",["t","T","X"]),r}return Qt(n,[{key:"parse",value:function(a,i){switch(i){case"x":return ss(os.basicOptionalMinutes,a);case"xx":return ss(os.basic,a);case"xxxx":return ss(os.basicOptionalSeconds,a);case"xxxxx":return ss(os.extendedOptionalSeconds,a);case"xxx":default:return ss(os.extended,a)}}},{key:"set",value:function(a,i,o){return i.timestampIsSet?a:new Date(a.getTime()-o)}}]),n}(_n),kge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",40),$e(Ye(r),"incompatibleTokens","*"),r}return Qt(n,[{key:"parse",value:function(a){return ZH(a)}},{key:"set",value:function(a,i,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(_n),Nge=function(e){un(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),$e(Ye(r),"priority",20),$e(Ye(r),"incompatibleTokens","*"),r}return Qt(n,[{key:"parse",value:function(a){return ZH(a)}},{key:"set",value:function(a,i,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(_n),Bge={G:new tge,y:new nge,Y:new rge,R:new age,u:new ige,Q:new oge,q:new sge,M:new lge,L:new uge,w:new fge,I:new hge,d:new mge,D:new gge,E:new yge,e:new _ge,c:new xge,i:new wge,a:new Sge,b:new Tge,B:new Cge,h:new Age,H:new Ege,K:new Dge,k:new Mge,m:new Pge,s:new Lge,S:new Ige,X:new Rge,x:new Oge,t:new kge,T:new Nge},Vge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uge=/^'([^]*?)'?$/,zge=/''/g,Hge=/\S/,$ge=/[a-zA-Z]/;function IC(e,t,n,r){var a,i,o,s,l,u,c,f,d,h,v,p,m,g,y,_,x,w;et(3,arguments);var b=String(e),S=String(t),C=Es(),A=(a=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:C.locale)!==null&&a!==void 0?a:jH;if(!A.match)throw new RangeError("locale must contain match property");var M=vt((o=(s=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&s!==void 0?s:(d=C.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=vt((v=(p=(m=(g=r==null?void 0:r.weekStartsOn)!==null&&g!==void 0?g:r==null||(y=r.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:C.weekStartsOn)!==null&&p!==void 0?p:(x=C.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&v!==void 0?v:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return b===""?pt(n):new Date(NaN);var E={firstWeekContainsDate:M,weekStartsOn:T,locale:A},P=[new ege],I=S.match(Fge).map(function(Z){var q=Z[0];if(q in PC){var ce=PC[q];return ce(Z,A.formatLong)}return Z}).join("").match(Vge),k=[],B=NO(I),U;try{var R=function(){var q=U.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&YH(q)&&v_(q,S,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&WH(q)&&v_(q,S,e);var ce=q[0],oe=Bge[ce];if(oe){var ae=oe.incompatibleTokens;if(Array.isArray(ae)){var V=k.find(function(Q){return ae.includes(Q.token)||Q.token===ce});if(V)throw new RangeError("The format string mustn't contain `".concat(V.fullToken,"` and `").concat(q,"` at the same time"))}else if(oe.incompatibleTokens==="*"&&k.length>0)throw new RangeError("The format string mustn't contain `".concat(q,"` and any other token at the same time"));k.push({token:ce,fullToken:q});var G=oe.run(b,q,A.match,E);if(!G)return{v:new Date(NaN)};P.push(G.setter),b=G.rest}else{if(ce.match($ge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ce+"`");if(q==="''"?q="'":ce==="'"&&(q=Gge(q)),b.indexOf(q)===0)b=b.slice(q.length);else return{v:new Date(NaN)}}};for(B.s();!(U=B.n()).done;){var L=R();if(fo(L)==="object")return L.v}}catch(Z){B.e(Z)}finally{B.f()}if(b.length>0&&Hge.test(b))return new Date(NaN);var z=P.map(function(Z){return Z.priority}).sort(function(Z,q){return q-Z}).filter(function(Z,q,ce){return ce.indexOf(Z)===q}).map(function(Z){return P.filter(function(q){return q.priority===Z}).sort(function(q,ce){return ce.subPriority-q.subPriority})}).map(function(Z){return Z[0]}),X=pt(n);if(isNaN(X.getTime()))return new Date(NaN);var Y=UH(X,h_(X)),$={},F=NO(z),N;try{for(F.s();!(N=F.n()).done;){var H=N.value;if(!H.validate(Y,E))return new Date(NaN);var K=H.set(Y,$,E);Array.isArray(K)?(Y=K[0],Fme($,K[1])):Y=K}}catch(Z){F.e(Z)}finally{F.f()}return Y}function Gge(e){return e.match(Uge)[1].replace(zge,"'")}function Wge(e,t){et(2,arguments);var n=vt(t);return Js(e,-n)}function Yge(e,t){var n;et(1,arguments);var r=vt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Zge(e),i;if(a.date){var o=Kge(a.date,r);i=Qge(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var s=i.getTime(),l=0,u;if(a.time&&(l=Jge(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(u=eye(a.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(s+l),f=new Date(0);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return new Date(s+l+u)}var ry={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jge=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xge=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qge=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Zge(e){var t={},n=e.split(ry.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],ry.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ry.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var a=ry.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function Kge(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function Qge(e,t){if(t===null)return new Date(NaN);var n=e.match(jge);if(!n)return new Date(NaN);var r=!!n[4],a=Tv(n[1]),i=Tv(n[2])-1,o=Tv(n[3]),s=Tv(n[4]),l=Tv(n[5])-1;if(r)return iye(t,s,l)?tye(t,s,l):new Date(NaN);var u=new Date(0);return!rye(t,i,o)||!aye(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}function Tv(e){return e?parseInt(e):1}function Jge(e){var t=e.match(Xge);if(!t)return NaN;var n=xw(t[1]),r=xw(t[2]),a=xw(t[3]);return oye(n,r,a)?n*kE+r*OE+a*1e3:NaN}function xw(e){return e&&parseFloat(e.replace(",","."))||0}function eye(e){if(e==="Z")return 0;var t=e.match(qge);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return sye(r,a)?n*(r*kE+a*OE):NaN}function tye(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}var nye=[31,null,31,30,31,30,31,31,30,31,30,31];function JH(e){return e%400===0||e%4===0&&e%100!==0}function rye(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(nye[t]||(JH(e)?29:28))}function aye(e,t){return t>=1&&t<=(JH(e)?366:365)}function iye(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function oye(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function sye(e,t){return t>=0&&t<=59}function Dd(e,t){et(2,arguments);var n=pt(e),r=vt(t),a=n.getFullYear(),i=n.getDate(),o=new Date(0);o.setFullYear(a,r,15),o.setHours(0,0,0,0);var s=zme(o);return n.setMonth(r,Math.min(i,s)),n}function Zr(e,t){if(et(2,arguments),fo(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=pt(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=Dd(n,t.month)),t.date!=null&&n.setDate(vt(t.date)),t.hours!=null&&n.setHours(vt(t.hours)),t.minutes!=null&&n.setMinutes(vt(t.minutes)),t.seconds!=null&&n.setSeconds(vt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(vt(t.milliseconds)),n)}function e$(e,t){et(2,arguments);var n=pt(e),r=vt(t);return n.setHours(r),n}function FE(e,t){et(2,arguments);var n=pt(e),r=vt(t);return n.setMilliseconds(r),n}function t$(e,t){et(2,arguments);var n=pt(e),r=vt(t);return n.setMinutes(r),n}function n$(e,t){et(2,arguments);var n=pt(e),r=vt(t);return n.setSeconds(r),n}function el(e,t){et(2,arguments);var n=pt(e),r=vt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Ud(e,t){et(2,arguments);var n=vt(t);return ds(e,-n)}function lye(e,t){if(et(2,arguments),!t||fo(t)!=="object")return new Date(NaN);var n=t.years?vt(t.years):0,r=t.months?vt(t.months):0,a=t.weeks?vt(t.weeks):0,i=t.days?vt(t.days):0,o=t.hours?vt(t.hours):0,s=t.minutes?vt(t.minutes):0,l=t.seconds?vt(t.seconds):0,u=Ud(e,r+n*12),c=Wge(u,i+a*7),f=s+o*60,d=l+f*60,h=d*1e3,v=new Date(c.getTime()-h);return v}function uye(e,t){et(2,arguments);var n=vt(t);return VH(e,-n)}function tx(){return J(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Fe("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Fe("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Fe("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Fe("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function cye(){return J(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Fe("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Fe("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function VO(){return J(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Fe("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function FO(){return J(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Fe("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function r$(){return J(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Fe("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Fe("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function a$(){return J(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Fe("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function i$(){return J(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Fe("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const UO=(e,t,n,r,a)=>{const i=IC(e,t.slice(0,e.length),new Date);return bp(i)&&FH(i)?r||a?i:Zr(i,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},fye=(e,t,n,r,a)=>{const i=Array.isArray(n)?n[0]:n;if(typeof t=="string")return UO(e,t,i,r,a);if(Array.isArray(t)){let o=null;for(const s of t)if(o=UO(e,s,i,r,a),o)break;return o}return typeof t=="function"?t(e):null},Ce=e=>e?new Date(e):new Date,dye=(e,t,n)=>{if(t){const a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),l=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${a}-${i}T${o}:${s}:${l}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},no=e=>{let t=Ce(JSON.parse(JSON.stringify(e)));return t=e$(t,0),t=t$(t,0),t=n$(t,0),t=FE(t,0),t},Ui=(e,t,n,r)=>{let a=e?Ce(e):Ce();return(t||t===0)&&(a=e$(a,+t)),(n||n===0)&&(a=t$(a,+n)),(r||r===0)&&(a=n$(a,+r)),FE(a,0)},ya=(e,t)=>!e||!t?!1:lm(no(e),no(t)),Cn=(e,t)=>!e||!t?!1:Cc(no(e),no(t)),ja=(e,t)=>!e||!t?!1:sm(no(e),no(t)),o$=(e,t,n)=>e&&e[0]&&e[1]?ja(n,e[0])&&ya(n,e[1]):e&&e[0]&&t?ja(n,e[0])&&ya(n,t)||ya(n,e[0])&&ja(n,t):!1,Cv=e=>{const t=Zr(new Date(e),{date:1});return no(t)},bw=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===t?[r,n]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},ay=e=>({hours:Gs(e),minutes:Ws(e),seconds:ih(e)}),Av=Rn({menuFocused:!1,shiftKeyInMenu:!1}),s$=()=>{const e=n=>{Av.menuFocused=n},t=n=>{Av.shiftKeyInMenu!==n&&(Av.shiftKeyInMenu=n)};return{control:O(()=>({shiftKeyInMenu:Av.shiftKeyInMenu,menuFocused:Av.menuFocused})),setMenuFocused:e,setShiftKey:t}};function UE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l$={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(l$);var hye=l$.exports,RC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var a=Number(r);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}e.exports=t.default})(RC,RC.exports);var vye=RC.exports;const pye=UE(vye);var OC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),r.getTime()-a.getTime()}e.exports=t.default})(OC,OC.exports);var mye=OC.exports;const zO=UE(mye);function gye(e,t){var n=bye(t);return n.formatToParts?_ye(n,e):xye(n,e)}var yye={year:0,month:1,day:2,hour:3,minute:4,second:5};function _ye(e,t){try{for(var n=e.formatToParts(t),r=[],a=0;a<n.length;a++){var i=yye[n[a].type];i>=0&&(r[i]=parseInt(n[a].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function xye(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var ww={};function bye(e){if(!ww[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";ww[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return ww[e]}function zE(e,t,n,r,a,i,o){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,a,i,o),s}var HO=36e5,wye=6e4,Sw={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function HE(e,t,n){var r,a;if(!e||(r=Sw.timezoneZ.exec(e),r))return 0;var i;if(r=Sw.timezoneHH.exec(e),r)return i=parseInt(r[1],10),$O(i)?-(i*HO):NaN;if(r=Sw.timezoneHHMM.exec(e),r){i=parseInt(r[1],10);var o=parseInt(r[2],10);return $O(i,o)?(a=Math.abs(i)*HO+o*wye,i>0?-a:a):NaN}if(Cye(e)){t=new Date(t||Date.now());var s=n?t:Sye(t),l=kC(s,e),u=n?l:Tye(t,l,e);return-u}return NaN}function Sye(e){return zE(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function kC(e,t){var n=gye(e,t),r=zE(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),a=e.getTime(),i=a%1e3;return a-=i>=0?i:1e3+i,r-a}function Tye(e,t,n){var r=e.getTime(),a=r-t,i=kC(new Date(a),n);if(t===i)return t;a-=i-t;var o=kC(new Date(a),n);return i===o?i:Math.max(i,o)}function $O(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var GO={};function Cye(e){if(GO[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),GO[e]=!0,!0}catch{return!1}}var Aye=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const u$=Aye;var Tw=36e5,WO=6e4,Eye=2,Ga={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:u$};function NC(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?Eye:pye(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Dye(e),i=Mye(a.date,r),o=i.year,s=i.restDateString,l=Pye(s,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,f;if(a.time&&(c=Lye(a.time),isNaN(c)))return new Date(NaN);if(a.timeZone||n.timeZone){if(f=HE(a.timeZone||n.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=zO(new Date(u+c)),f=zO(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function Dye(e){var t={},n=Ga.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=Ga.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var a=Ga.timeZone.exec(r);a?(t.time=r.replace(a[1],""),t.timeZone=a[1].trim()):t.time=r}return t}function Mye(e,t){var n=Ga.YYY[t],r=Ga.YYYYY[t],a;if(a=Ga.YYYY.exec(e)||r.exec(e),a){var i=a[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(a=Ga.YY.exec(e)||n.exec(e),a){var o=a[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function Pye(e,t){if(t===null)return null;var n,r,a,i;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=Ga.MM.exec(e),n)return r=new Date(0),a=parseInt(n[1],10)-1,jO(t,a)?(r.setUTCFullYear(t,a),r):new Date(NaN);if(n=Ga.DDD.exec(e),n){r=new Date(0);var o=parseInt(n[1],10);return Oye(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=Ga.MMDD.exec(e),n){r=new Date(0),a=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return jO(t,a,s)?(r.setUTCFullYear(t,a,s),r):new Date(NaN)}if(n=Ga.Www.exec(e),n)return i=parseInt(n[1],10)-1,XO(t,i)?YO(t,i):new Date(NaN);if(n=Ga.WwwD.exec(e),n){i=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return XO(t,i,l)?YO(t,i,l):new Date(NaN)}return null}function Lye(e){var t,n,r;if(t=Ga.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),Cw(n)?n%24*Tw:NaN;if(t=Ga.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),Cw(n,r)?n%24*Tw+r*WO:NaN;if(t=Ga.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return Cw(n,r,a)?n%24*Tw+r*WO+a*1e3:NaN}return null}function YO(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,i=t*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}var Iye=[31,28,31,30,31,30,31,31,30,31,30,31],Rye=[31,29,31,30,31,30,31,31,30,31,30,31];function c$(e){return e%400===0||e%4===0&&e%100!==0}function jO(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=c$(e);if(r&&n>Rye[t]||!r&&n>Iye[t])return!1}return!0}function Oye(e,t){if(t<1)return!1;var n=c$(e);return!(n&&t>366||!n&&t>365)}function XO(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function Cw(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}var BC={exports:{}},VC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,a){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i]);return r}e.exports=t.default})(VC,VC.exports);var kye=VC.exports;(function(e,t){var n=hye.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(kye);function a(i){return(0,r.default)({},i)}e.exports=t.default})(BC,BC.exports);var Nye=BC.exports;const Bye=UE(Nye);function Vye(e,t,n){var r=NC(e,n),a=HE(t,r,!0),i=new Date(r.getTime()-a),o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}function Fye(e,t,n){if(typeof e=="string"&&!e.match(u$)){var r=Bye(n);return r.timeZone=t,NC(e,r)}var a=NC(e,n),i=zE(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).getTime(),o=HE(t,new Date(i));return new Date(i+o)}const Uye=(e,t=3)=>{const n=[];for(let r=0;r<e.length;r+=t)n.push([e[r],e[r+1],e[r+2]]);return n};function qO(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function zye(e){return t=>Yc(new Date(`2017-01-0${t}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Hye=(e,t,n)=>{const r=[1,2,3,4,5,6,7];let a;if(e!==null)try{a=r.map(zye(e))}catch{a=r.map(qO(t))}else a=r.map(qO(t));const i=a.slice(0,n),o=a.slice(n+1,a.length);return[a[n]].concat(...o).concat(...i)},$ye=(e,t)=>{const n=[];for(let r=+e[0];r<=+e[1];r++)n.push({value:+r,text:`${r}`});return t?n.reverse():n},Gye=(e,t,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const o=i<10?`0${i}`:i;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const i=n==="long"?"MMMM":"MMM";return r.map((o,s)=>{const l=Yc(o,i,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:s}})}catch{}const a=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return r.map((i,o)=>{const s=a.format(i);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:o}})},Wye=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],ur=e=>{const t=ie(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},Yye=e=>Object.assign({type:"dot"},e),f$=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,g_={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},da=e=>e,ZO=e=>e===0?e:!e||isNaN(+e)?null:+e,jye=e=>e===0?!0:!!e,KO=e=>e===null,Xye=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},QO=e=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),qye=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},e),Zye=e=>e===null?0:typeof e=="boolean"?e?2:0:+e>=2?+e:2,Kye=(e,t,n)=>e||(typeof n=="string"?n:t),Qye=e=>typeof e=="boolean"?e?QO({}):!1:QO(e),Jye=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),e0e=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),t0e=e=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},e),Ai=e=>{const t=()=>{if(e.partialRange)return null;throw new Error(g_.prop("partial-range"))},n=O(()=>({ariaLabels:qye(e.ariaLabels),textInputOptions:Object.assign(Jye(),e.textInputOptions),multiCalendars:Zye(e.multiCalendars),previewFormat:Kye(e.previewFormat,e.format,i()),filters:e0e(e.filters),transitions:Qye(e.transitions),startTime:h(),actionRow:t0e(e.actionRow)})),r=$=>{if(e.range)return $();throw new Error(g_.prop("range"))},a=()=>{const $=e.enableSeconds?":ss":"";return e.is24?`HH:mm${$}`:`hh:mm${$} aa`},i=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy",o=($,F)=>{if(typeof e.format=="function")return e.format($);const N=F||i(),H=e.formatLocale?{locale:e.formatLocale}:void 0;return Array.isArray($)?`${Yc($[0],N,H)}${e.modelAuto&&!$[1]?"":n.value.textInputOptions.rangeSeparator||"-"}${$[1]?Yc($[1],N,H):""}`:Yc($,N,H)},s=$=>e.timezone?Vye($,e.timezone):$,l=$=>e.timezone?Fye($,e.timezone):$,u=O(()=>$=>{var F;return(F=e.hideNavigation)==null?void 0:F.includes($)}),c=$=>{var F,N,H,K;return Array.isArray(e.allowedDates)&&!((F=e.allowedDates)!=null&&F.length)?!0:(N=e.arrMapValues)!=null&&N.allowedDates?!y($,e.arrMapValues.allowedDates):(H=e.allowedDates)!=null&&H.length?!((K=e.allowedDates)!=null&&K.some(Z=>Cn(s(Ce(Z)),s($)))):!1},f=$=>{var F;const N=e.maxDate?ja(s($),s(Ce(e.maxDate))):!1,H=e.minDate?ya(s($),s(Ce(e.minDate))):!1,K=y($,(F=e.arrMapValues)!=null&&F.disabledDates?e.arrMapValues.disabledDates:e.disabledDates),Z=n.value.filters.months.map(V=>+V).includes(Hn($)),q=e.disabledWeekDays.length?e.disabledWeekDays.some(V=>+V===Ume($)):!1,ce=c($),oe=Yn($),ae=oe<+e.yearRange[0]||oe>+e.yearRange[1];return!(N||H||K||Z||ae||q||ce)},d=$=>{const F={hours:Gs(Ce()),minutes:Ws(Ce()),seconds:e.enableSeconds?ih(Ce()):0};return Object.assign(F,$)},h=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[d(e.startTime[0]),d(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?d(e.startTime):null,v=$=>!f($),p=$=>Array.isArray($)?bp($[0])&&($[1]?bp($[1]):!0):$?bp($):!1,m=$=>$ instanceof Date?$:Yge($),g=$=>{const F=uf(s($),{weekStartsOn:+e.weekStart}),N=kpe(s($),{weekStartsOn:+e.weekStart});return[F,N]},y=($,F)=>$?F instanceof Map?!!F.get(z($)):Array.isArray(F)?F.some(N=>Cn(s(Ce(N)),s($))):F(Ce(JSON.parse(JSON.stringify($)))):!0,_=($,F,N)=>{let H=$?Ce($):Ce();return(F||F===0)&&(H=Dd(H,F)),N&&(H=el(H,N)),H},x=$=>Zr(Ce(),ay($)),w=$=>Zr(Ce(),{hours:+$.hours||0,minutes:+$.minutes||0,seconds:+$.seconds||0}),b=($,F,N,H)=>{if(!$)return!0;if(H){const K=N==="max"?lm($,F):sm($,F),Z={seconds:0,milliseconds:0};return K||Cc(Zr($,Z),Zr(F,Z))}return N==="max"?$.getTime()<=F.getTime():$.getTime()>=F.getTime()},S=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,C=$=>Array.isArray($)?[$[0]?x($[0]):null,$[1]?x($[1]):null]:x($),A=$=>{const F=e.maxTime?w(e.maxTime):Ce(e.maxDate);return Array.isArray($)?b($[0],F,"max",!!e.maxDate)&&b($[1],F,"max",!!e.maxDate):b($,F,"max",!!e.maxDate)},M=($,F)=>{const N=e.minTime?w(e.minTime):Ce(e.minDate);return Array.isArray($)?b($[0],N,"min",!!e.minDate)&&b($[1],N,"min",!!e.minDate)&&F:b($,N,"min",!!e.minDate)&&F},T=$=>{let F=!0;if(!$||S())return!0;const N=!e.minDate&&!e.maxDate?C($):$;if((e.maxTime||e.maxDate)&&(F=A(da(N))),(e.minTime||e.minDate)&&(F=M(da(N),F)),e.disabledTimes){const H=Array.isArray($)?[ay($[0]),$[1]?ay($[1]):void 0]:ay($);F=!e.disabledTimes(H)}return F},E=($,F)=>{const N=Ce(JSON.parse(JSON.stringify($))),H=[];for(let K=0;K<7;K++){const Z=Js(N,K),q=Hn(Z)!==F;H.push({text:e.hideOffsetDates&&q?"":Z.getDate(),value:Z,current:!q,classData:{}})}return H},P=($,F)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[$==0,!0];case"fair":return[$==0||F>$,!0];case"append":return[!1,!1];default:return[!1,!1]}},I=($,F)=>{const N=[],H=Ce(s(new Date(F,$))),K=Ce(s(new Date(F,$+1,0))),Z=e.weekStart,q=uf(H,{weekStartsOn:Z}),ce=oe=>{const ae=E(oe,$);if(N.push({days:ae}),!N[N.length-1].days.some(V=>Cn(no(V.value),no(K)))){const V=Js(oe,7);ce(V)}};if(ce(q),e.sixWeeks&&N.length<6){const oe=6-N.length,ae=(H.getDay()+7-Z)%7,V=6-(K.getDay()+7-Z)%7,[G,Q]=P(ae,V);for(let ue=1;ue<=oe;ue++)if(Q?!!(ue%2)==G:G){const fe=N[0].days[0],ge=E(Js(fe.value,-7),Hn(H));N.unshift({days:ge})}else{const fe=N[N.length-1],ge=fe.days[fe.days.length-1],De=E(Js(ge.value,1),Hn(H));N.push({days:De})}}return N},k=($,F,N)=>[Zr(Ce($),{date:1}),Zr(Ce(),{month:F,year:N,date:1})],B=($,F)=>ya(...k(e.minDate,$,F))||Cn(...k(e.minDate,$,F)),U=($,F)=>ja(...k(e.maxDate,$,F))||Cn(...k(e.maxDate,$,F)),R=($,F,N)=>{let H=!1;return e.maxDate&&N&&U($,F)&&(H=!0),e.minDate&&!N&&B($,F)&&(H=!0),H},L=($,F,N,H)=>{let K=!1;return H?e.minDate&&e.maxDate?K=R($,F,N):(e.minDate&&B($,F)||e.maxDate&&U($,F))&&(K=!0):K=!0,K},z=$=>{const F=no(s(Ce($))).toISOString(),[N]=F.split("T");return N},X=$=>new Map($.map(F=>[z(F),!0])),Y=$=>Array.isArray($)&&$.length>0;return{checkPartialRangeValue:t,checkRangeEnabled:r,getZonedDate:s,getZonedToUtc:l,formatDate:o,getDefaultPattern:i,validateDate:f,getDefaultStartTime:h,isDisabled:v,isValidDate:p,sanitizeDate:m,getWeekFromDate:g,matchDate:y,setDateMonthOrYear:_,isValidTime:T,getCalendarDays:I,validateMonthYearInRange:L,validateMaxDate:U,validateMinDate:B,assignDefaultTime:d,mapDatesArrToMap:$=>{Y(e.allowedDates)&&($.allowedDates=X(e.allowedDates)),Y(e.highlight)&&($.highlightedDates=X(e.highlight)),Y(e.disabledDates)&&($.disabledDates=X(e.disabledDates))},defaults:n,hideNavigationButtons:u}},Wn=Rn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Aw=te(null),iy=te(!1),Ew=te(!1),Dw=te(!1),Mw=te(!1),Ra=te(0),aa=te(0),wu=()=>{const e=O(()=>iy.value?[...Wn.selectionGrid,Wn.actionRow].filter(f=>f.length):Ew.value?[...Wn.timePicker[0],...Wn.timePicker[1],Mw.value?[]:[Aw.value],Wn.actionRow].filter(f=>f.length):Dw.value?[...Wn.monthPicker,Wn.actionRow]:[Wn.monthYear,...Wn.calendar,Wn.time,Wn.actionRow].filter(f=>f.length)),t=f=>{Ra.value=f?Ra.value+1:Ra.value-1;let d=null;e.value[aa.value]&&(d=e.value[aa.value][Ra.value]),d||(Ra.value=f?Ra.value-1:Ra.value+1)},n=f=>{aa.value===0&&!f||aa.value===e.value.length&&f||(aa.value=f?aa.value+1:aa.value-1,e.value[aa.value]?e.value[aa.value]&&!e.value[aa.value][Ra.value]&&Ra.value!==0&&(Ra.value=e.value[aa.value].length-1):aa.value=f?aa.value-1:aa.value+1)},r=f=>{let d=null;e.value[aa.value]&&(d=e.value[aa.value][Ra.value]),d?d.focus({preventScroll:!iy.value}):Ra.value=f?Ra.value-1:Ra.value+1},a=()=>{t(!0),r(!0)},i=()=>{t(!1),r(!1)},o=()=>{n(!1),r(!0)},s=()=>{n(!0),r(!0)},l=(f,d)=>{Wn[d]=f},u=(f,d)=>{Wn[d]=f},c=()=>{Ra.value=0,aa.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:f=>{Aw.value=f},setSelectionGrid:f=>{iy.value=f,c(),f||(Wn.selectionGrid=[])},setTimePicker:(f,d=!1)=>{Ew.value=f,Mw.value=d,c(),f||(Wn.timePicker[0]=[],Wn.timePicker[1]=[])},setTimePickerElements:(f,d=0)=>{Wn.timePicker[d]=f},arrowRight:a,arrowLeft:i,arrowUp:o,arrowDown:s,clearArrowNav:()=>{Wn.monthYear=[],Wn.calendar=[],Wn.time=[],Wn.actionRow=[],Wn.selectionGrid=[],Wn.timePicker[0]=[],Wn.timePicker[1]=[],iy.value=!1,Ew.value=!1,Mw.value=!1,Dw.value=!1,c(),Aw.value=null},setMonthPicker:f=>{Dw.value=f,c()},refSets:Wn}},JO=e=>Array.isArray(e),Ju=e=>Array.isArray(e),ek=e=>Array.isArray(e)&&e.length===2,n0e=(e,t,n,r,a)=>{const{getDefaultStartTime:i,isDisabled:o,sanitizeDate:s,getWeekFromDate:l,setDateMonthOrYear:u,validateMonthYearInRange:c,defaults:f}=Ai(e),d=O({get:()=>e.internalModelValue,set:ee=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",ee)}}),h=te([]);Le(d,(ee,ve)=>{e.range?S():Cc(ee,ve)||S()});const v=ye(e,"multiCalendars");Le(v,()=>{le(0)});const p=te([{month:Hn(Ce()),year:Yn(Ce())}]);Le(p,()=>{p.value.forEach((ee,ve)=>{t("update-month-year",{instance:ve,month:ee.month,year:ee.year})})},{deep:!0});const m=Rn({hours:e.range?[Gs(Ce()),Gs(Ce())]:Gs(Ce()),minutes:e.range?[Ws(Ce()),Ws(Ce())]:Ws(Ce()),seconds:e.range?[0,0]:0}),g=O(()=>ee=>p.value[ee]?p.value[ee].month:0),y=O(()=>ee=>p.value[ee]?p.value[ee].year:0),_=O(()=>{var ee;return(ee=e.flow)!=null&&ee.length&&!e.partialFlow?a.value===e.flow.length:!0}),x=(ee,ve,st)=>{var je,an;p.value[ee]||(p.value[ee]={month:0,year:0}),p.value[ee].month=KO(ve)?(je=p.value[ee])==null?void 0:je.month:ve,p.value[ee].year=KO(st)?(an=p.value[ee])==null?void 0:an.year:st},w=(ee,ve)=>{m[ee]=ve},b=()=>{e.startDate&&(x(0,Hn(Ce(e.startDate)),Yn(Ce(e.startDate))),f.value.multiCalendars&&le(0))};nn(()=>{d.value||(b(),f.value.startTime&&U()),S(!0),e.focusStartDate&&e.startDate&&b()});const S=(ee=!1)=>{if(d.value)return Array.isArray(d.value)?(h.value=d.value,E(ee)):A(d.value,ee);if(e.timePicker)return P();if(e.monthPicker&&!e.range)return I();if(e.yearPicker&&!e.range)return k();if(f.value.multiCalendars&&ee&&!e.startDate)return C(Ce(),ee)},C=(ee,ve=!1)=>{if((!f.value.multiCalendars||!e.multiStatic||ve)&&x(0,Hn(ee),Yn(ee)),f.value.multiCalendars)for(let st=1;st<f.value.multiCalendars;st++){const je=Zr(Ce(),{month:g.value(st-1),year:y.value(st-1)}),an=BH(je,{months:1});p.value[st]={month:Hn(an),year:Yn(an)}}},A=(ee,ve)=>{C(ee),w("hours",Gs(ee)),w("minutes",Ws(ee)),w("seconds",ih(ee)),f.value.multiCalendars&&ve&&L()},M=(ee,ve)=>{ee[1]&&e.showLastInRange?C(ee[1],ve):C(ee[0],ve);const st=(je,an)=>[je(ee[0]),ee[1]?je(ee[1]):m[an][1]];w("hours",st(Gs,"hours")),w("minutes",st(Ws,"minutes")),w("seconds",st(ih,"seconds"))},T=(ee,ve)=>{if((e.range||e.weekPicker)&&!e.multiDates)return M(ee,ve);if(e.multiDates){const st=ee[ee.length-1];return A(st,ve)}},E=ee=>{const ve=d.value;T(ve,ee),f.value.multiCalendars&&e.multiCalendarsSolo&&L()},P=()=>{if(U(),!e.range)d.value=Ui(Ce(),m.hours,m.minutes,B());else{const ee=m.hours,ve=m.minutes;d.value=[Ui(Ce(),ee[0],ve[0],B()),Ui(Ce(),ee[1],ve[1],B(!1))]}},I=()=>{e.multiDates?d.value=[u(Ce(),g.value(0),y.value(0))]:d.value=u(Ce(),g.value(0),y.value(0))},k=()=>{d.value=Ce()},B=(ee=!0)=>e.enableSeconds?Array.isArray(m.seconds)?ee?m.seconds[0]:m.seconds[1]:m.seconds:0,U=()=>{const ee=i();if(ee){const ve=Array.isArray(ee),st=ve?[+ee[0].hours,+ee[1].hours]:+ee.hours,je=ve?[+ee[0].minutes,+ee[1].minutes]:+ee.minutes,an=ve?[+ee[0].seconds,+ee[1].seconds]:+ee.seconds;w("hours",st),w("minutes",je),e.enableSeconds&&w("seconds",an)}},R=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null,L=()=>{if(Array.isArray(d.value)&&d.value.length===2){const ee=Ce(Ce(d.value[1]?d.value[1]:ds(d.value[0],1))),[ve,st]=[Hn(d.value[0]),Yn(d.value[0])],[je,an]=[Hn(d.value[1]),Yn(d.value[1])];(ve!==je||ve===je&&st!==an)&&e.multiCalendarsSolo&&x(1,Hn(ee),Yn(ee))}else d.value&&!Array.isArray(d.value)&&x(0,Hn(d.value),Yn(d.value))},z=ee=>{const ve=ds(ee,1);return{month:Hn(ve),year:Yn(ve)}},X=ee=>{const ve=Hn(Ce(ee)),st=Yn(Ce(ee));if(x(0,ve,st),f.value.multiCalendars>0)for(let je=1;je<f.value.multiCalendars;je++){const an=z(Zr(Ce(ee),{year:g.value(je-1),month:y.value(je-1)}));x(je,an.month,an.year)}},Y=ee=>{if(d.value&&Array.isArray(d.value))if(d.value.some(ve=>Cn(ee,ve))){const ve=d.value.filter(st=>!Cn(st,ee));d.value=ve.length?ve:null}else(e.multiDatesLimit&&+e.multiDatesLimit>d.value.length||!e.multiDatesLimit)&&d.value.push(ee);else d.value=[ee]},$=(ee,ve)=>{const st=ja(ee,ve)?ve:ee,je=ja(ve,ee)?ve:ee;return LO({start:st,end:je})},F=(ee,ve=0)=>{if(Array.isArray(d.value)&&d.value[ve]){const st=Rpe(ee,d.value[ve]),je=$(d.value[ve],ee),an=je.length===1?0:je.filter(Ds=>o(Ds)).length,mi=Math.abs(st)-an;if(e.minRange&&e.maxRange)return mi>=+e.minRange&&mi<=+e.maxRange;if(e.minRange)return mi>=+e.minRange;if(e.maxRange)return mi<=+e.maxRange}return!0},N=ee=>Array.isArray(d.value)&&d.value.length===2?e.fixedStart&&(ja(ee,d.value[0])||Cn(ee,d.value[0]))?[d.value[0],ee]:e.fixedEnd&&(ya(ee,d.value[1])||Cn(ee,d.value[1]))?[ee,d.value[1]]:(t("invalid-fixed-range",ee),d.value):[],H=()=>{e.autoApply&&_.value&&t("auto-apply",e.partialFlow)},K=()=>{e.autoApply&&t("select-date")},Z=ee=>!LO({start:ee[0],end:ee[1]}).some(ve=>o(ve)),q=ee=>(d.value=l(Ce(ee.value)),H()),ce=ee=>{const ve=Ui(Ce(ee.value),m.hours,m.minutes,B());e.multiDates?Y(ve):d.value=ve,n(),H()},oe=()=>{h.value=d.value?d.value.slice():[],h.value.length===2&&!(e.fixedStart||e.fixedEnd)&&(h.value=[])},ae=(ee,ve)=>{const st=[Ce(ee.value),Js(Ce(ee.value),+e.autoRange)];Z(st)&&(ve&&X(ee.value),h.value=st)},V=ee=>{G(ee.value)||!F(ee.value,e.fixedStart?0:1)||(h.value=N(Ce(ee.value)))},G=ee=>e.noDisabledRange?$(h.value[0],ee).some(ve=>o(ve)):!1,Q=(ee,ve)=>{if(oe(),e.autoRange)return ae(ee,ve);if(e.fixedStart||e.fixedEnd)return V(ee);h.value[0]?F(Ce(ee.value))&&!G(ee.value)&&(ya(Ce(ee.value),Ce(h.value[0]))?(h.value.unshift(Ce(ee.value)),t("range-end",h.value[0])):(h.value[1]=Ce(ee.value),t("range-end",h.value[1]))):(h.value[0]=Ce(ee.value),t("range-start",h.value[0]))},ue=ee=>{h.value[ee]=Ui(h.value[ee],m.hours[ee],m.minutes[ee],B(ee!==1))},fe=()=>{var ee,ve;h.value[0]&&h.value[1]&&+((ee=h.value)==null?void 0:ee[0])>+((ve=h.value)==null?void 0:ve[1])&&(h.value.reverse(),t("range-start",h.value[0]),t("range-end",h.value[1]))},ge=()=>{h.value.length&&(h.value[0]&&!h.value[1]?ue(0):(ue(0),ue(1),n()),fe(),d.value=h.value.slice(),h.value[0]&&h.value[1]&&e.autoApply&&t("auto-apply"),h.value[0]&&!h.value[1]&&e.modelAuto&&e.autoApply&&t("auto-apply"))},De=(ee,ve=!1)=>{if(!(o(ee.value)||!ee.current&&e.hideOffsetDates)){if(e.weekPicker)return q(ee);if(!e.range)return ce(ee);Ju(m.hours)&&Ju(m.minutes)&&!e.multiDates&&(Q(ee,ve),ge())}},Se=ee=>{const ve=ee[0];return e.weekNumbers==="local"?jme(ve.value,{weekStartsOn:+e.weekStart}):e.weekNumbers==="iso"?$me(ve.value):typeof e.weekNumbers=="function"?e.weekNumbers(ve.value):""},le=ee=>{for(let ve=ee-1;ve>=0;ve--){const st=Ud(Zr(Ce(),{month:g.value(ve+1),year:y.value(ve+1)}),1);x(ve,Hn(st),Yn(st))}for(let ve=ee+1;ve<=f.value.multiCalendars-1;ve++){const st=ds(Zr(Ce(),{month:g.value(ve-1),year:y.value(ve-1)}),1);x(ve,Hn(st),Yn(st))}},se=ee=>u(Ce(),g.value(ee),y.value(ee)),xe=ee=>Ui(ee,m.hours,m.minutes,B()),We=ee=>{Y(se(ee))},Ke=(ee,ve)=>{const st=e.monthPicker?g.value(ee)!==ve.month||!ve.fromNav:y.value(ee)!==ve.year||!ve.fromNav;if(x(ee,ve.month,ve.year),f.value.multiCalendars&&!e.multiCalendarsSolo&&le(ee),e.monthPicker||e.yearPicker)if(e.multiDates)st&&We(ee);else if(e.range){if(st&&F(se(ee))){let je=d.value?d.value.slice():[];je.length===2&&je[1]!==null&&(je=[]),je.length?ya(se(ee),je[0])?je.unshift(se(ee)):je[1]=se(ee):je=[se(ee)],d.value=je}}else(e.autoApplyMonth||st)&&(d.value=se(ee));r(e.multiCalendarsSolo?ee:void 0)},mt=async(ee=!1)=>{if(e.autoApply&&(e.monthPicker||e.yearPicker)){await Ot();const ve=e.monthPicker?ee:!1;e.range?t("auto-apply",ve||!d.value||d.value.length===1):t("auto-apply",ve)}n()},Lt=(ee,ve)=>{const st=Zr(Ce(),{month:g.value(ve),year:y.value(ve)}),je=ee<0?ds(st,1):Ud(st,1);c(Hn(je),Yn(je),ee<0,e.preventMinMaxNavigation)&&(x(ve,Hn(je),Yn(je)),f.value.multiCalendars&&!e.multiCalendarsSolo&&le(ve),r())},rn=ee=>{JO(ee)&&JO(d.value)&&Ju(m.hours)&&Ju(m.minutes)?(ee[0]&&d.value[0]&&(d.value[0]=Ui(ee[0],m.hours[0],m.minutes[0],B())),ee[1]&&d.value[1]&&(d.value[1]=Ui(ee[1],m.hours[1],m.minutes[1],B(!1)))):e.multiDates&&Array.isArray(d.value)?d.value[d.value.length-1]=xe(ee):!e.range&&!ek(ee)&&(d.value=xe(ee)),t("time-update")},fn=(ee,ve=!0,st=!1)=>{const je=ve?ee:m.hours,an=!ve&&!st?ee:m.minutes,mi=st?ee:m.seconds;if(e.range&&ek(d.value)&&Ju(je)&&Ju(an)&&Ju(mi)&&!e.disableTimeRangeValidation){const Ds=Ge=>Ui(d.value[Ge],je[Ge],an[Ge],mi[Ge]),_e=Ge=>FE(d.value[Ge],0);if(Cn(d.value[0],d.value[1])&&(sm(Ds(0),_e(1))||lm(Ds(1),_e(0))))return}if(w("hours",je),w("minutes",an),w("seconds",mi),d.value)if(e.multiDates){const Ds=R();Ds&&rn(Ds)}else rn(d.value);else e.timePicker&&rn(e.range?[Ce(),Ce()]:Ce());n()},Kn=(ee,ve)=>{e.monthChangeOnScroll&&Lt(e.monthChangeOnScroll!=="inverse"?-ee.deltaY:ee.deltaY,ve)},La=(ee,ve,st=!1)=>{e.monthChangeOnArrows&&e.vertical===st&&bo(ee,ve)},bo=(ee,ve)=>{Lt(ee==="right"?-1:1,ve)};return{time:m,month:g,year:y,modelValue:d,calendars:p,monthYearSelect:mt,isDisabled:o,updateTime:fn,getWeekNum:Se,selectDate:De,updateMonthYear:Ke,handleScroll:Kn,getMarker:ee=>e.markers.find(ve=>Cn(s(ee.value),s(ve.date))),handleArrow:La,handleSwipe:bo,selectCurrentDate:()=>{e.range?d.value&&Array.isArray(d.value)&&d.value[0]?d.value=ya(Ce(),d.value[0])?[Ce(),d.value[0]]:[d.value[0],Ce()]:d.value=[Ce()]:d.value=Ce(),K()},presetDateRange:(ee,ve)=>{ve||ee.length&&ee.length<=2&&e.range&&(d.value=ee.map(st=>Ce(st)),K(),e.multiCalendars&&Ot().then(()=>S(!0)))}}},r0e=(e,t,n)=>{const r=te(),{getZonedToUtc:a,getZonedDate:i,formatDate:o,getDefaultPattern:s,checkRangeEnabled:l,checkPartialRangeValue:u,isValidDate:c,setDateMonthOrYear:f,defaults:d}=Ai(t),h=te(""),v=ye(t,"format");Le(r,()=>{e("internal-model-change",r.value)}),Le(v,()=>{R()});const p=F=>{const N=F||Ce();return t.modelType?z(N):{hours:Gs(N),minutes:Ws(N),seconds:t.enableSeconds?ih(N):0}},m=F=>t.modelType?z(F):{month:Hn(F),year:Yn(F)},g=F=>Array.isArray(F)?l(()=>[el(Ce(),F[0]),F[1]?el(Ce(),F[1]):u()]):el(Ce(),+F),y=(F,N)=>(typeof F=="string"||typeof F=="number")&&t.modelType?L(F):N,_=F=>Array.isArray(F)?[y(F[0],Ui(null,+F[0].hours,+F[0].minutes,F[0].seconds)),y(F[1],Ui(null,+F[1].hours,+F[1].minutes,F[1].seconds))]:y(F,Ui(null,F.hours,F.minutes,F.seconds)),x=F=>Array.isArray(F)?t.multiDates?F.map(N=>y(N,f(null,+N.month,+N.year))):l(()=>[y(F[0],f(null,+F[0].month,+F[0].year)),y(F[1],F[1]?f(null,+F[1].month,+F[1].year):u())]):y(F,f(null,+F.month,+F.year)),w=F=>{if(Array.isArray(F))return F.map(N=>L(N));throw new Error(g_.dateArr("multi-dates"))},b=F=>{if(Array.isArray(F))return[Ce(F[0]),Ce(F[1])];throw new Error(g_.dateArr("week-picker"))},S=F=>t.modelAuto?Array.isArray(F)?[L(F[0]),L(F[1])]:t.autoApply?[L(F)]:[L(F),null]:Array.isArray(F)?l(()=>[L(F[0]),F[1]?L(F[1]):u()]):L(F),C=()=>{Array.isArray(r.value)&&t.range&&r.value.length===1&&r.value.push(u())},A=()=>{const F=r.value;return[z(F[0]),F[1]?z(F[1]):u()]},M=()=>r.value[1]?A():z(da(r.value[0])),T=()=>(r.value||[]).map(F=>z(F)),E=()=>(C(),t.modelAuto?M():t.multiDates?T():Array.isArray(r.value)?l(()=>A()):z(da(r.value))),P=F=>F?t.timePicker?_(da(F)):t.monthPicker?x(da(F)):t.yearPicker?g(da(F)):t.multiDates?w(da(F)):t.weekPicker?b(da(F)):S(da(F)):null,I=F=>{const N=P(F);c(da(N))?(r.value=da(N),R()):(r.value=null,h.value="")},k=()=>{var F;const N=H=>{var K;return Yc(H,(K=d.value.textInputOptions)==null?void 0:K.format)};return`${N(r.value[0])} ${(F=d.value.textInputOptions)==null?void 0:F.rangeSeparator} ${r.value[1]?N(r.value[1]):""}`},B=()=>{var F;return n.value&&r.value?Array.isArray(r.value)?k():Yc(r.value,(F=d.value.textInputOptions)==null?void 0:F.format):o(r.value)},U=()=>{var F;return r.value?t.multiDates?r.value.map(N=>o(N)).join("; "):t.textInput&&typeof((F=d.value.textInputOptions)==null?void 0:F.format)=="string"?B():o(r.value):""},R=()=>{!t.format||typeof t.format=="string"||t.textInput&&typeof t.textInputOptions.format=="string"?h.value=U():h.value=t.format(r.value)},L=F=>{if(t.utc){const N=new Date(F);return t.utc==="preserve"?new Date(N.getTime()+N.getTimezoneOffset()*6e4):N}return t.modelType?t.modelType==="date"||t.modelType==="timestamp"?i(new Date(F)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?IC(F,s(),new Date):i(IC(F,t.modelType,new Date)):i(new Date(F))},z=F=>F?t.utc?dye(F,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+a(F):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?o(a(F)):o(a(F),t.modelType):a(F):"",X=F=>{e("update:model-value",F)},Y=F=>Array.isArray(r.value)?t.multiDates?r.value.map(N=>F(N)):[F(r.value[0]),r.value[1]?F(r.value[1]):u()]:F(da(r.value)),$=F=>X(da(Y(F)));return{inputValue:h,internalModelValue:r,checkBeforeEmit:()=>r.value?t.range?t.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:I,formatInputValue:R,emitModelValue:()=>(R(),t.monthPicker?$(m):t.timePicker?$(p):t.yearPicker?$(Yn):t.weekPicker?X(r.value):X(E()))}},a0e=(e,t)=>{const{validateMonthYearInRange:n,validateMaxDate:r,validateMinDate:a,defaults:i}=Ai(e),o=(f,d)=>{let h=f;return i.value.filters.months.includes(Hn(h))?(h=d?ds(f,1):Ud(f,1),o(h,d)):h},s=(f,d)=>{let h=f;return i.value.filters.years.includes(Yn(h))?(h=d?VH(f,1):uye(f,1),s(h,d)):h},l=f=>{const d=Zr(new Date,{month:e.month,year:e.year});let h=f?ds(d,1):Ud(d,1);e.disableYearSelect&&(h=el(h,e.year));let v=Hn(h),p=Yn(h);i.value.filters.months.includes(v)&&(h=o(h,f),v=Hn(h),p=Yn(h)),i.value.filters.years.includes(p)&&(h=s(h,f),p=Yn(h)),n(v,p,f,e.preventMinMaxNavigation)&&u(v,p)},u=(f,d)=>{t("update-month-year",{month:f,year:d})},c=O(()=>f=>{if(!e.preventMinMaxNavigation||f&&!e.maxDate||!f&&!e.minDate)return!1;const d=Zr(new Date,{month:e.month,year:e.year}),h=f?ds(d,1):Ud(d,1),v=[Hn(h),Yn(h)];return f?!r(...v):!a(...v)});return{handleMonthYearChange:l,isDisabled:c,updateMonthYear:u}};var Ky=(e=>(e.center="center",e.left="left",e.right="right",e))(Ky||{});const i0e=(e,t,n,r)=>{const a=te({top:"0",left:"0",transform:"none",opacity:"0"}),i=te(!1),o=ye(r,"teleportCenter"),s=O(()=>i.value?"-100%":"0"),l=()=>{u(),a.value.opacity="0"};Le(o,()=>{y()}),nn(()=>{u()});const u=()=>{const E=ur(t);if(E){const{top:P,left:I,width:k,height:B}=v(E);a.value.top=`${P+B/2}px`,h(I,k,50)}},c=E=>{if(r.teleport){const P=E.getBoundingClientRect();return{left:P.left+window.scrollX,top:P.top+window.scrollY}}return{top:0,left:0}},f=(E,P)=>{a.value.left=`${E+P}px`,a.value.transform=`translate(-100%, ${s.value})`},d=E=>{a.value.left=`${E}px`,a.value.transform=`translate(0, ${s.value})`},h=(E,P,I)=>{r.position===Ky.left&&d(E),r.position===Ky.right&&f(E,P),r.position===Ky.center&&(a.value.left=`${E+P/2}px`,a.value.transform=I?`translate(-50%, -${I}%)`:`translate(-50%, ${s.value})`)},v=E=>{const{width:P,height:I}=E.getBoundingClientRect(),{top:k,left:B}=r.altPosition?r.altPosition(E):c(E);return{top:+k,left:+B,width:P,height:I}},p=()=>{const E=ur(t);if(E){const{top:P,left:I,width:k,height:B}=v(E),U=S();a.value.top=`${P+B/2}px`,h(I,k,U==="top"?100:0)}},m=()=>{a.value.left="50%",a.value.top="50%",a.value.transform="translate(-50%, -50%)",a.value.position="fixed",delete a.value.opacity},g=()=>{const E=ur(t),{top:P,left:I,transform:k}=r.altPosition(E);a.value={top:`${P}px`,left:`${I}px`,transform:k||""}},y=(E=!0)=>{if(!r.inline)return o.value?m():r.altPosition!==null?g():(E&&n("recalculate-position"),A())},_=({inputEl:E,menuEl:P,left:I,width:k})=>{window.screen.width>768&&h(I,k),b(E,P)},x=(E,P)=>{const{top:I,left:k,height:B,width:U}=v(E);a.value.top=`${B+I+ +r.offset}px`,i.value=!1,_({inputEl:E,menuEl:P,left:k,width:U})},w=(E,P)=>{const{top:I,left:k,width:B}=v(E);a.value.top=`${I-+r.offset}px`,i.value=!0,_({inputEl:E,menuEl:P,left:k,width:B})},b=(E,P)=>{if(r.autoPosition){const{left:I,width:k}=v(E),{left:B,right:U}=P.getBoundingClientRect();return B<=0?d(I):U>=document.documentElement.clientWidth?f(I,k):h(I,k)}},S=()=>{const E=ur(e),P=ur(t);if(E&&P){const{height:I}=E.getBoundingClientRect(),{top:k,height:B}=P.getBoundingClientRect(),U=window.innerHeight-k-B,R=k;return I<=U?"bottom":I>U&&I<=R?"top":U>=R?"bottom":"top"}return"bottom"},C=(E,P)=>S()==="bottom"?x(E,P):w(E,P),A=()=>{const E=ur(t),P=ur(e);if(E&&P)return r.autoPosition?C(E,P):x(E,P)},M=function(E){if(E){const P=E.scrollHeight>E.clientHeight,I=window.getComputedStyle(E).overflowY.indexOf("hidden")!==-1;return P&&!I}return!0},T=function(E){return!E||E===document.body||E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:M(E)?E:T(E.parentNode)};return{openOnTop:i,menuStyle:a,resetPosition:l,setMenuPosition:y,setInitialPosition:p,getScrollableParent:T}},ld=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar","month-year"]},{name:"arrow-down",use:["time","calendar","month-year"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar"]}],o0e=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],s0e={all:()=>ld,monthYear:()=>ld.filter(e=>e.use.includes("month-year")),input:()=>o0e,timePicker:()=>ld.filter(e=>e.use.includes("time")),action:()=>ld.filter(e=>e.use.includes("action")),calendar:()=>ld.filter(e=>e.use.includes("calendar")),menu:()=>ld.filter(e=>e.use.includes("menu"))},Ac=(e,t,n)=>{const r=[];return s0e[t]().forEach(a=>{e[a.name]&&r.push(a.name)}),n&&n.length&&n.forEach(a=>{a.slot&&r.push(a.slot)}),r},nx=e=>({transitionName:O(()=>t=>e&&typeof e!="boolean"?t?e.open:e.close:""),showTransition:!!e}),Su={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:Function,default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},autoApplyMonth:{type:Boolean,default:!0}},l0e={key:1,class:"dp__input_wrap"},u0e=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],c0e={key:2,class:"dp__clear_icon"},f0e=hn({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Su},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:t,emit:n}){const r=e,{getDefaultPattern:a,isValidDate:i,defaults:o,getDefaultStartTime:s,assignDefaultTime:l}=Ai(r),u=te(),c=te(null),f=te(!1),d=te(!1),h=O(()=>({dp__pointer:!r.disabled&&!r.readonly&&!r.textInput,dp__disabled:r.disabled,dp__input_readonly:!r.textInput,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:r.state,dp__input_invalid:r.state===!1,dp__input_focus:f.value||r.isMenuOpen,dp__input_reg:!r.textInput,[r.inputClassName]:!!r.inputClassName})),v=()=>{n("set-input-date",null),r.autoApply&&(n("set-empty-date"),u.value=null)},p=T=>{var E;const P=s();return fye(T,((E=o.value.textInputOptions)==null?void 0:E.format)||a(),P||l({}),r.inputValue,d.value)},m=T=>{const{rangeSeparator:E}=o.value.textInputOptions,[P,I]=T.split(`${E}`);if(P){const k=p(P.trim()),B=I?p(I.trim()):null,U=k&&B?[k,B]:[k];u.value=k?U:null}},g=()=>{d.value=!0},y=T=>{if(r.range)m(T);else if(r.multiDates){const E=T.split(";");u.value=E.map(P=>p(P.trim())).filter(P=>P)}else u.value=p(T)},_=T=>{var E,P;const I=typeof T=="string"?T:(E=T.target)==null?void 0:E.value;I!==""?((P=o.value.textInputOptions)!=null&&P.openMenu&&!r.isMenuOpen&&n("open"),y(I),n("set-input-date",u.value)):v(),d.value=!1,n("update:input-value",I)},x=T=>{var E,P;r.textInput?(y(T.target.value),(E=o.value.textInputOptions)!=null&&E.enterSubmit&&i(u.value)&&r.inputValue!==""?(n("set-input-date",u.value,!0),u.value=null):(P=o.value.textInputOptions)!=null&&P.enterSubmit&&r.inputValue===""&&(u.value=null,n("clear"))):S(T)},w=T=>{var E,P,I;r.textInput&&(E=o.value.textInputOptions)!=null&&E.tabSubmit&&y(T.target.value),(P=o.value.textInputOptions)!=null&&P.tabSubmit&&i(u.value)&&r.inputValue!==""?(n("set-input-date",u.value,!0),u.value=null):(I=o.value.textInputOptions)!=null&&I.tabSubmit&&r.inputValue===""&&(u.value=null,n("clear"))},b=()=>{f.value=!0,n("focus")},S=T=>{var E;T.preventDefault(),T.stopImmediatePropagation(),T.stopPropagation(),r.textInput&&(E=o.value.textInputOptions)!=null&&E.openMenu&&!r.inlineWithInput?(n("toggle"),o.value.textInputOptions.enterSubmit&&n("select-date")):r.textInput||n("toggle")},C=()=>{n("real-blur"),f.value=!1,(!r.isMenuOpen||r.inline&&r.inlineWithInput)&&n("blur"),r.autoApply&&r.textInput&&u.value&&!r.isMenuOpen&&(n("set-input-date",u.value),n("select-date"),u.value=null)},A=()=>{n("clear")},M=T=>{if(!r.textInput){if(T.code==="Tab")return;T.preventDefault()}};return t({focusInput:()=>{var T;(T=c.value)==null||T.focus({preventScroll:!0})},setParsedDate:T=>{u.value=T}}),(T,E)=>{var P;return J(),we("div",{onClick:S},[T.$slots.trigger&&!T.$slots["dp-input"]&&!T.inline?Xe(T.$slots,"trigger",{key:0}):he("",!0),!T.$slots.trigger&&(!T.inline||T.inlineWithInput)?(J(),we("div",l0e,[T.$slots["dp-input"]&&!T.$slots.trigger&&!T.inline?Xe(T.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:_,onEnter:x,onTab:w,onClear:A,onBlur:C,onKeypress:M,onPaste:g}):he("",!0),T.$slots["dp-input"]?he("",!0):(J(),we("input",{key:1,ref_key:"inputRef",ref:c,id:T.uid?`dp-input-${T.uid}`:void 0,name:T.name,class:jt(h.value),inputmode:T.textInput?"text":"none",placeholder:T.placeholder,disabled:T.disabled,readonly:T.readonly,required:T.required,value:e.inputValue,autocomplete:T.autocomplete,"aria-label":(P=ie(o).ariaLabels)==null?void 0:P.input,onInput:_,onKeydown:[At(x,["enter"]),At(w,["tab"]),M],onBlur:C,onFocus:b,onKeypress:M,onPaste:g},null,42,u0e)),Fe("div",{onClick:E[2]||(E[2]=I=>n("toggle"))},[T.$slots["input-icon"]&&!T.hideInputIcon?(J(),we("span",{key:0,class:"dp__input_icon",onClick:E[0]||(E[0]=I=>n("toggle"))},[Xe(T.$slots,"input-icon")])):he("",!0),!T.$slots["input-icon"]&&!T.hideInputIcon&&!T.$slots["dp-input"]?(J(),Ie(ie(tx),{key:1,onClick:E[1]||(E[1]=I=>n("toggle")),class:"dp__input_icon dp__input_icons"})):he("",!0)]),T.$slots["clear-icon"]&&e.inputValue&&T.clearable&&!T.disabled&&!T.readonly?(J(),we("span",c0e,[Xe(T.$slots,"clear-icon",{clear:A})])):he("",!0),T.clearable&&!T.$slots["clear-icon"]&&e.inputValue&&!T.disabled&&!T.readonly?(J(),Ie(ie(cye),{key:3,class:"dp__clear_icon dp__input_icons",onClick:_a(A,["stop","prevent"])},null,8,["onClick"])):he("",!0)])):he("",!0)])}}}),d0e=["title"],h0e={class:"dp__action_buttons"},v0e=["onKeydown","disabled"],p0e=hn({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...Su},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=e,{formatDate:r,isValidTime:a,defaults:i}=Ai(n),{buildMatrix:o}=wu(),s=te(null),l=te(null);nn(()=>{n.arrowNavigation&&o([ur(s),ur(l)],"actionRow")});const u=O(()=>n.range&&!n.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),c=O(()=>!f.value||!d.value||!u.value),f=O(()=>!n.enableTimePicker||n.ignoreTimeValidation?!0:a(n.internalModelValue)),d=O(()=>n.monthPicker?n.range&&Array.isArray(n.internalModelValue)?!n.internalModelValue.filter(w=>!_(w)).length:_(n.internalModelValue):!0),h=()=>{const w=i.value.previewFormat;return n.timePicker||n.monthPicker,w(da(n.internalModelValue))},v=()=>{const w=n.internalModelValue;return i.value.multiCalendars>0?`${p(w[0])} - ${p(w[1])}`:[p(w[0]),p(w[1])]},p=w=>r(w,i.value.previewFormat),m=O(()=>!n.internalModelValue||!n.menuMount?"":typeof i.value.previewFormat=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?v():n.multiDates?n.internalModelValue.map(w=>`${p(w)}`):n.modelAuto?`${p(n.internalModelValue[0])}`:`${p(n.internalModelValue[0])} -`:p(n.internalModelValue):h()),g=()=>n.multiDates?"; ":" - ",y=O(()=>Array.isArray(m.value)?m.value.join(g()):m.value),_=w=>{if(!n.monthPicker)return!0;let b=!0;const S=Ce(Cv(w));if(n.minDate&&n.maxDate){const C=Ce(Cv(n.minDate)),A=Ce(Cv(n.maxDate));return ja(S,C)&&ya(S,A)||Cn(S,C)||Cn(S,A)}if(n.minDate){const C=Ce(Cv(n.minDate));b=ja(S,C)||Cn(S,C)}if(n.maxDate){const C=Ce(Cv(n.maxDate));b=ya(S,C)||Cn(S,C)}return b},x=()=>{f.value&&d.value&&u.value?t("select-date"):t("invalid-select")};return(w,b)=>(J(),we("div",{class:"dp__action_row",style:qi(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[w.$slots["action-row"]?Xe(w.$slots,"action-row",ma(Ee({key:0},{internalModelValue:e.internalModelValue,disabled:c.value,selectDate:()=>w.$emit("select-date"),closePicker:()=>w.$emit("close-picker")}))):(J(),we(Ae,{key:1},[ie(i).actionRow.showPreview?(J(),we("div",{key:0,class:"dp__selection_preview",title:y.value},[w.$slots["action-preview"]?Xe(w.$slots,"action-preview",{key:0,value:e.internalModelValue}):he("",!0),w.$slots["action-preview"]?he("",!0):(J(),we(Ae,{key:1},[qe(Bt(y.value),1)],64))],8,d0e)):he("",!0),Fe("div",h0e,[w.$slots["action-buttons"]?Xe(w.$slots,"action-buttons",{key:0,value:e.internalModelValue}):he("",!0),w.$slots["action-buttons"]?he("",!0):(J(),we(Ae,{key:1},[!w.inline&&ie(i).actionRow.showCancel?(J(),we("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:b[0]||(b[0]=S=>w.$emit("close-picker")),onKeydown:[b[1]||(b[1]=At(S=>w.$emit("close-picker"),["enter"])),b[2]||(b[2]=At(S=>w.$emit("close-picker"),["space"]))]},Bt(w.cancelText),545)):he("",!0),w.showNowButton||ie(i).actionRow.showNow?(J(),we("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:b[3]||(b[3]=S=>w.$emit("select-now")),onKeydown:[b[4]||(b[4]=At(S=>w.$emit("select-now"),["enter"])),b[5]||(b[5]=At(S=>w.$emit("select-now"),["space"]))]},Bt(w.nowButtonLabel),545)):he("",!0),ie(i).actionRow.showSelect?(J(),we("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[At(x,["enter"]),At(x,["space"])],onClick:x,disabled:c.value,ref_key:"selectButtonRef",ref:l},Bt(w.selectText),41,v0e)):he("",!0)],64))])],64))],4))}}),m0e=["aria-label"],g0e={class:"dp__calendar_header",role:"row"},y0e={key:0,class:"dp__calendar_header_item",role:"gridcell"},_0e=Fe("div",{class:"dp__calendar_header_separator"},null,-1),x0e=["aria-label"],b0e={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},w0e={class:"dp__cell_inner"},S0e=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],T0e=hn({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Su},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const r=e,{buildMultiLevelMatrix:a}=wu(),{setDateMonthOrYear:i,defaults:o}=Ai(r),s=te(null),l=te({bottom:"",left:"",transform:""}),u=te([]),c=te(null),f=te(!0),d=te(""),h=te({startX:0,endX:0,startY:0,endY:0}),v=te([]),p=te({left:"50%"}),m=O(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),g=O(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Hye(r.formatLocale,r.locale,+r.weekStart));nn(()=>{n("mount",{cmp:"calendar",refs:u}),r.noSwipe||c.value&&(c.value.addEventListener("touchstart",E,{passive:!1}),c.value.addEventListener("touchend",P,{passive:!1}),c.value.addEventListener("touchmove",I,{passive:!1})),r.monthChangeOnScroll&&c.value&&c.value.addEventListener("wheel",U,{passive:!1})});const y=R=>R?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",_=(R,L)=>{if(r.transitions){const z=no(i(Ce(),r.month,r.year));d.value=ja(no(i(Ce(),R,L)),z)?o.value.transitions[y(!0)]:o.value.transitions[y(!1)],f.value=!1,Ot(()=>{f.value=!0})}},x=O(()=>({[r.calendarClassName]:!!r.calendarClassName})),w=O(()=>R=>{const L=Yye(R);return{dp__marker_dot:L.type==="dot",dp__marker_line:L.type==="line"}}),b=O(()=>R=>Cn(R,s.value)),S=O(()=>({dp__calendar:!0,dp__calendar_next:o.value.multiCalendars>0&&r.instance!==0})),C=O(()=>R=>r.hideOffsetDates?R.current:!0),A=O(()=>r.specificMode?{height:`${r.modeHeight}px`}:void 0),M=async(R,L,z)=>{var X,Y;if(n("set-hover-date",R),(Y=(X=R.marker)==null?void 0:X.tooltip)!=null&&Y.length){const $=ur(u.value[L][z]);if($){const{width:F,height:N}=$.getBoundingClientRect();s.value=R.value;let H={left:`${F/2}px`},K=-50;if(await Ot(),v.value[0]){const{left:Z,width:q}=v.value[0].getBoundingClientRect();Z<0&&(H={left:"0"},K=0,p.value.left=`${F/2}px`),window.innerWidth<Z+q&&(H={right:"0"},K=0,p.value.left=`${q-F/2}px`)}l.value={bottom:`${N}px`,...H,transform:`translateX(${K}%)`},n("tooltip-open",R.marker)}}},T=R=>{s.value&&(s.value=null,l.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",R.marker))},E=R=>{h.value.startX=R.changedTouches[0].screenX,h.value.startY=R.changedTouches[0].screenY},P=R=>{h.value.endX=R.changedTouches[0].screenX,h.value.endY=R.changedTouches[0].screenY,k()},I=R=>{r.vertical&&!r.inline&&R.preventDefault()},k=()=>{const R=r.vertical?"Y":"X";Math.abs(h.value[`start${R}`]-h.value[`end${R}`])>10&&n("handle-swipe",h.value[`start${R}`]>h.value[`end${R}`]?"right":"left")},B=(R,L,z)=>{R&&(Array.isArray(u.value[L])?u.value[L][z]=R:u.value[L]=[R]),r.arrowNavigation&&a(u.value,"calendar")},U=R=>{r.monthChangeOnScroll&&(R.preventDefault(),n("handle-scroll",R))};return t({triggerTransition:_}),(R,L)=>{var z;return J(),we("div",{class:jt(S.value)},[Fe("div",{style:qi(A.value),ref_key:"calendarWrapRef",ref:c,role:"grid",class:jt(x.value),"aria-label":(z=ie(o).ariaLabels)==null?void 0:z.calendarWrap},[e.specificMode?he("",!0):(J(),we(Ae,{key:0},[Fe("div",g0e,[R.weekNumbers?(J(),we("div",y0e,Bt(R.weekNumName),1)):he("",!0),(J(!0),we(Ae,null,cr(g.value,(X,Y)=>(J(),we("div",{class:"dp__calendar_header_item",role:"gridcell",key:Y},[R.$slots["calendar-header"]?Xe(R.$slots,"calendar-header",{key:0,day:X,index:Y}):he("",!0),R.$slots["calendar-header"]?he("",!0):(J(),we(Ae,{key:1},[qe(Bt(X),1)],64))]))),128))]),_0e,D(Ta,{name:d.value,css:!!R.transitions},{default:ne(()=>{var X;return[f.value?(J(),we("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(X=ie(o).ariaLabels)==null?void 0:X.calendarDays},[(J(!0),we(Ae,null,cr(m.value,(Y,$)=>(J(),we("div",{class:"dp__calendar_row",role:"row",key:$},[R.weekNumbers?(J(),we("div",b0e,[Fe("div",w0e,Bt(e.getWeekNum(Y.days)),1)])):he("",!0),(J(!0),we(Ae,null,cr(Y.days,(F,N)=>{var H,K,Z;return J(),we("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:q=>B(q,$,N),key:N+$,"aria-selected":F.classData.dp__active_date||F.classData.dp__range_start||F.classData.dp__range_start,"aria-disabled":F.classData.dp__cell_disabled,"aria-label":(K=(H=ie(o).ariaLabels)==null?void 0:H.day)==null?void 0:K.call(H,F),tabindex:"0",onClick:_a(q=>R.$emit("select-date",F),["stop","prevent"]),onKeydown:[At(q=>R.$emit("select-date",F),["enter"]),At(q=>R.$emit("handle-space",F),["space"])],onMouseenter:q=>M(F,$,N),onMouseleave:q=>T(F)},[Fe("div",{class:jt(["dp__cell_inner",F.classData])},[R.$slots.day&&C.value(F)?Xe(R.$slots,"day",{key:0,day:+F.text,date:F.value}):he("",!0),R.$slots.day?he("",!0):(J(),we(Ae,{key:1},[qe(Bt(F.text),1)],64)),F.marker&&C.value(F)?(J(),we(Ae,{key:2},[R.$slots.marker?Xe(R.$slots,"marker",{key:0,marker:F.marker,day:+F.text,date:F.value}):(J(),we("div",{key:1,class:jt(w.value(F.marker)),style:qi(F.marker.color?{backgroundColor:F.marker.color}:{})},null,6))],64)):he("",!0),b.value(F.value)?(J(),we("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:v,style:qi(l.value)},[(Z=F.marker)!=null&&Z.tooltip?(J(),we("div",{key:0,class:"dp__tooltip_content",onClick:L[0]||(L[0]=_a(()=>{},["stop"]))},[(J(!0),we(Ae,null,cr(F.marker.tooltip,(q,ce)=>(J(),we("div",{key:ce,class:"dp__tooltip_text"},[R.$slots["marker-tooltip"]?Xe(R.$slots,"marker-tooltip",{key:0,tooltip:q,day:F.value}):he("",!0),R.$slots["marker-tooltip"]?he("",!0):(J(),we(Ae,{key:1},[Fe("div",{class:"dp__tooltip_mark",style:qi(q.color?{backgroundColor:q.color}:{})},null,4),Fe("div",null,Bt(q.text),1)],64))]))),128)),Fe("div",{class:"dp__arrow_bottom_tp",style:qi(p.value)},null,4)])):he("",!0)],4)):he("",!0)],2)],40,S0e)}),128))]))),128))],8,x0e)):he("",!0)]}),_:3},8,["name","css"])],64))],14,m0e)],2)}}}),C0e=["aria-label","aria-disabled"],Pw=hn({__name:"ActionIcon",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=te(null);return nn(()=>t("set-ref",n)),(r,a)=>(J(),we("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:a[0]||(a[0]=i=>r.$emit("activate")),onKeydown:[a[1]||(a[1]=At(_a(i=>r.$emit("activate"),["prevent"]),["enter"])),a[2]||(a[2]=At(_a(i=>r.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled,ref_key:"elRef",ref:n},[Fe("span",{class:jt(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[Xe(r.$slots,"default")],2)],40,C0e))}}),A0e=["onKeydown"],E0e={class:"dp__selection_grid_header"},D0e=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],M0e=["aria-label","onKeydown"],wp=hn({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},autoApplyMonth:{type:Boolean,default:!1}},emits:["update:model-value","selected","toggle","reset-flow"],setup(e,{expose:t,emit:n}){const r=e,{setSelectionGrid:a,buildMultiLevelMatrix:i,setMonthPicker:o}=wu(),{hideNavigationButtons:s}=Ai(r),l=te(!1),u=te(null),c=te(null),f=te([]),d=te(),h=te(null),v=te(0),p=te(null);m2(()=>{u.value=null}),nn(()=>{var U;Ot().then(()=>A()),g(),m(!0),(U=u.value)==null||U.focus({preventScroll:!0})}),Cm(()=>m(!1));const m=U=>{var R;r.arrowNavigation&&((R=r.headerRefs)!=null&&R.length?o(U):a(U))},g=()=>{const U=ur(c);U&&(r.textInput||U.focus({preventScroll:!0}),l.value=U.clientHeight<U.scrollHeight)},y=O(()=>({dp__overlay:!0})),_=O(()=>({dp__overlay_col:!0})),x=U=>r.monthPicker&&!r.autoApplyMonth?Cn(r.internalModelValue,el(Dd(new Date,U.value),r.year)):r.skipActive?!1:U.value===r.modelValue,w=O(()=>r.items.map(U=>U.filter(R=>R).map(R=>{var L,z,X;const Y=r.disabledValues.some(F=>F===R.value)||C(R.value),$=(L=r.multiModelValue)!=null&&L.length?(z=r.multiModelValue)==null?void 0:z.some(F=>Cn(F,el(r.monthPicker?Dd(new Date,R.value):new Date,r.monthPicker?r.year:R.value))):x(R);return{...R,className:{dp__overlay_cell_active:$,dp__overlay_cell:!$,dp__overlay_cell_disabled:Y,dp__overlay_cell_active_disabled:Y&&$,dp__overlay_cell_pad:!0,dp__cell_in_between:(X=r.multiModelValue)!=null&&X.length&&r.skipActive?T(R.value):!1}}}))),b=O(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:l.value,dp__button_bottom:r.autoApply})),S=O(()=>{var U,R;return{dp__overlay_container:!0,dp__container_flex:((U=r.items)==null?void 0:U.length)<=6,dp__container_block:((R=r.items)==null?void 0:R.length)>6}}),C=U=>{const R=r.maxValue||r.maxValue===0,L=r.minValue||r.minValue===0;return!R&&!L?!1:R&&L?+U>+r.maxValue||+U<+r.minValue:R?+U>+r.maxValue:L?+U<+r.minValue:!1},A=()=>{const U=ur(u),R=ur(c),L=ur(h),z=ur(p),X=L?L.getBoundingClientRect().height:0;R&&(v.value=R.getBoundingClientRect().height-X),U&&z&&(z.scrollTop=U.offsetTop-z.offsetTop-(v.value/2-U.getBoundingClientRect().height)-X)},M=U=>{!r.disabledValues.some(R=>R===U)&&!C(U)&&(n("update:model-value",U),n("selected"))},T=U=>{const R=r.monthPicker?r.year:U;return o$(r.multiModelValue,el(r.monthPicker?Dd(new Date,d.value||0):new Date,r.monthPicker?R:d.value||R),el(r.monthPicker?Dd(new Date,U):new Date,R))},E=()=>{n("toggle"),n("reset-flow")},P=()=>{r.escClose&&E()},I=(U,R,L,z)=>{U&&(R.value===+r.modelValue&&!r.disabledValues.includes(R.value)&&(u.value=U),r.arrowNavigation&&(Array.isArray(f.value[L])?f.value[L][z]=U:f.value[L]=[U],k()))},k=()=>{var U,R;const L=(U=r.headerRefs)!=null&&U.length?[r.headerRefs].concat(f.value):f.value.concat([r.skipButtonRef?[]:[h.value]]);i(da(L),(R=r.headerRefs)!=null&&R.length?"monthPicker":"selectionGrid")},B=U=>{r.arrowNavigation||U.stopImmediatePropagation()};return t({focusGrid:g}),(U,R)=>{var L;return J(),we("div",{ref_key:"gridWrapRef",ref:c,class:jt(y.value),role:"dialog",tabindex:"0",onKeydown:[At(P,["esc"]),R[0]||(R[0]=At(z=>B(z),["left"])),R[1]||(R[1]=At(z=>B(z),["up"])),R[2]||(R[2]=At(z=>B(z),["down"])),R[3]||(R[3]=At(z=>B(z),["right"]))]},[Fe("div",{class:jt(S.value),ref_key:"containerRef",ref:p,role:"grid",style:qi({height:`${v.value}px`})},[Fe("div",E0e,[Xe(U.$slots,"header")]),U.$slots.overlay?Xe(U.$slots,"overlay",{key:0}):(J(!0),we(Ae,{key:1},cr(w.value,(z,X)=>(J(),we("div",{class:jt(["dp__overlay_row",{dp__flex_row:w.value.length>=3}]),key:X,role:"row"},[(J(!0),we(Ae,null,cr(z,(Y,$)=>(J(),we("div",{role:"gridcell",class:jt(_.value),key:Y.value,"aria-selected":Y.value===e.modelValue&&!e.disabledValues.includes(Y.value),"aria-disabled":Y.className.dp__overlay_cell_disabled,ref_for:!0,ref:F=>I(F,Y,X,$),tabindex:"0",onClick:F=>M(Y.value),onKeydown:[At(F=>M(Y.value),["enter"]),At(F=>M(Y.value),["space"])],onMouseover:F=>d.value=Y.value},[Fe("div",{class:jt(Y.className)},[U.$slots.item?Xe(U.$slots,"item",{key:0,item:Y}):he("",!0),U.$slots.item?he("",!0):(J(),we(Ae,{key:1},[qe(Bt(Y.text),1)],64))],2)],42,D0e))),128))],2))),128))],6),U.$slots["button-icon"]?On((J(),we("div",{key:0,role:"button","aria-label":(L=e.ariaLabels)==null?void 0:L.toggleOverlay,class:jt(b.value),tabindex:"0",ref_key:"toggleButton",ref:h,onClick:E,onKeydown:[At(E,["enter"]),At(E,["tab"])]},[Xe(U.$slots,"button-icon")],42,M0e)),[[ui,!ie(s)(e.type)]]):he("",!0)],42,A0e)}}}),P0e=["aria-label"],tk=hn({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(e,{emit:t}){const n=e,{transitionName:r,showTransition:a}=nx(n.transitions),i=te(null);return nn(()=>t("set-ref",i)),(o,s)=>(J(),we(Ae,null,[Fe("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:s[0]||(s[0]=l=>o.$emit("toggle")),onKeydown:[s[1]||(s[1]=At(_a(l=>o.$emit("toggle"),["prevent"]),["enter"])),s[2]||(s[2]=At(_a(l=>o.$emit("toggle"),["prevent"]),["space"]))],"aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:i},[Xe(o.$slots,"default")],40,P0e),D(Ta,{name:ie(r)(e.showSelectionGrid),css:ie(a)},{default:ne(()=>[e.showSelectionGrid?(J(),Ie(wp,Ee({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue,escClose:e.escClose,type:e.type,arrowNavigation:e.arrowNavigation,textInput:e.textInput,autoApply:e.autoApply,ariaLabels:e.ariaLabels,hideNavigation:e.hideNavigation},{"header-refs":[],"onUpdate:modelValue":s[3]||(s[3]=l=>o.$emit("update:model-value",l)),onToggle:s[4]||(s[4]=l=>o.$emit("toggle"))}),ii({"button-icon":ne(()=>[o.$slots["calendar-icon"]?Xe(o.$slots,"calendar-icon",{key:0}):he("",!0),o.$slots["calendar-icon"]?he("",!0):(J(),Ie(ie(tx),{key:1}))]),_:2},[o.$slots[e.slotName]?{name:"item",fn:ne(({item:l})=>[Xe(o.$slots,e.slotName,{item:l})]),key:"0"}:void 0,o.$slots[e.overlaySlot]?{name:"overlay",fn:ne(()=>[Xe(o.$slots,e.overlaySlot)]),key:"1"}:void 0,o.$slots[`${e.overlaySlot}-header`]?{name:"header",fn:ne(()=>[Xe(o.$slots,`${e.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):he("",!0)]),_:3},8,["name","css"])],64))}}),L0e={class:"dp__month_year_row"},I0e={class:"dp__month_picker_header"},R0e=["aria-label"],O0e=["aria-label"],k0e=["aria-label"],N0e=hn({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Su},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:n}){const r=e,{defaults:a}=Ai(r),{transitionName:i,showTransition:o}=nx(a.value.transitions),{buildMatrix:s}=wu(),{handleMonthYearChange:l,isDisabled:u,updateMonthYear:c}=a0e(r,n),f=te(!1),d=te(!1),h=te([null,null,null,null]),v=te(null),p=te(null),m=te(null);nn(()=>{n("mount")});const g=N=>({get:()=>r[N],set:H=>{const K=N==="month"?"year":"month";n("update-month-year",{[N]:H,[K]:r[K]}),n("month-year-select",N==="year"),N==="month"?z(!0):X(!0)}}),y=O(g("month")),_=O(g("year")),x=N=>{const H=Yn(Ce(N));return r.year===H},w=O(()=>r.monthPicker?Array.isArray(r.disabledDates)?r.disabledDates.map(N=>Ce(N)).filter(N=>x(N)).map(N=>Hn(N)):[]:[]),b=O(()=>N=>{const H=N==="month";return{showSelectionGrid:(H?f:d).value,items:(H?k:B).value,disabledValues:a.value.filters[H?"months":"years"].concat(w.value),minValue:(H?M:C).value,maxValue:(H?T:A).value,headerRefs:H&&r.monthPicker?[v.value,p.value,m.value]:[],escClose:r.escClose,transitions:a.value.transitions,ariaLabels:a.value.ariaLabels,textInput:r.textInput,autoApply:r.autoApply,arrowNavigation:r.arrowNavigation,hideNavigation:r.hideNavigation}}),S=O(()=>N=>({month:r.month,year:r.year,items:N==="month"?r.months:r.years,instance:r.instance,updateMonthYear:c,toggle:N==="month"?z:X})),C=O(()=>r.minDate?Yn(Ce(r.minDate)):null),A=O(()=>r.maxDate?Yn(Ce(r.maxDate)):null),M=O(()=>{if(r.minDate&&C.value){if(C.value>r.year)return 12;if(C.value===r.year)return Hn(Ce(r.minDate))}return null}),T=O(()=>r.maxDate&&A.value?A.value<r.year?-1:A.value===r.year?Hn(Ce(r.maxDate)):null:null),E=O(()=>(r.range||r.multiDates)&&r.internalModelValue&&(r.monthPicker||r.yearPicker)?r.internalModelValue:[]),P=N=>{const H=[],K=Z=>Z;for(let Z=0;Z<N.length;Z+=3){const q=[N[Z],N[Z+1],N[Z+2]];H.push(K(q))}return H},I=O(()=>r.months.find(H=>H.value===r.month)||{text:"",value:0}),k=O(()=>P(r.months)),B=O(()=>P(r.years)),U=O(()=>a.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===0:!0),R=O(()=>a.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===a.value.multiCalendars-1:!0),L=(N,H)=>{H!==void 0?N.value=H:N.value=!N.value},z=(N=!1,H)=>{Y(N),L(f,H),f.value||n("overlay-closed")},X=(N=!1,H)=>{Y(N),L(d,H),d.value||n("overlay-closed")},Y=N=>{N||n("reset-flow")},$=(N=!1)=>{u.value(N)||n("update-month-year",{year:N?r.year+1:r.year-1,month:r.month,fromNav:!0})},F=(N,H)=>{r.arrowNavigation&&(h.value[H]=ur(N),s(h.value,"monthYear"))};return t({toggleMonthPicker:z,toggleYearPicker:X,handleMonthYearChange:l}),(N,H)=>{var K,Z,q,ce,oe;return J(),we("div",L0e,[N.$slots["month-year"]?Xe(N.$slots,"month-year",ma(Ee({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:ie(c),handleMonthYearChange:ie(l),instance:e.instance}))):(J(),we(Ae,{key:1},[!N.monthPicker&&!N.yearPicker?(J(),we(Ae,{key:0},[U.value&&!N.vertical?(J(),Ie(Pw,{key:0,"aria-label":(K=ie(a).ariaLabels)==null?void 0:K.prevMonth,disabled:ie(u)(!1),onActivate:H[0]||(H[0]=ae=>ie(l)(!1)),onSetRef:H[1]||(H[1]=ae=>F(ae,0))},{default:ne(()=>[N.$slots["arrow-left"]?Xe(N.$slots,"arrow-left",{key:0}):he("",!0),N.$slots["arrow-left"]?he("",!0):(J(),Ie(ie(VO),{key:1}))]),_:3},8,["aria-label","disabled"])):he("",!0),Fe("div",{class:jt(["dp__month_year_wrap",{dp__year_disable_select:r.disableYearSelect}])},[D(tk,Ee({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(Z=ie(a).ariaLabels)==null?void 0:Z.openMonthsOverlay,modelValue:y.value,"onUpdate:modelValue":H[2]||(H[2]=ae=>y.value=ae)},b.value("month"),{onToggle:z,onSetRef:H[3]||(H[3]=ae=>F(ae,1))}),ii({default:ne(()=>[N.$slots.month?Xe(N.$slots,"month",ma(Ee({key:0},I.value))):he("",!0),N.$slots.month?he("",!0):(J(),we(Ae,{key:1},[qe(Bt(I.value.text),1)],64))]),_:2},[N.$slots["calendar-icon"]?{name:"calendar-icon",fn:ne(()=>[Xe(N.$slots,"calendar-icon")]),key:"0"}:void 0,N.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:ne(({item:ae})=>[Xe(N.$slots,"month-overlay-value",{text:ae.text,value:ae.value})]),key:"1"}:void 0,N.$slots["month-overlay"]?{name:"overlay-month",fn:ne(()=>[Xe(N.$slots,"month-overlay",ma($i(S.value("month"))))]),key:"2"}:void 0,N.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:ne(()=>[Xe(N.$slots,"month-overlay-header",{toggle:z})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),r.disableYearSelect?he("",!0):(J(),Ie(tk,Ee({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(q=ie(a).ariaLabels)==null?void 0:q.openYearsOverlay,modelValue:_.value,"onUpdate:modelValue":H[4]||(H[4]=ae=>_.value=ae)},b.value("year"),{onToggle:X,onSetRef:H[5]||(H[5]=ae=>F(ae,2))}),ii({default:ne(()=>[N.$slots.year?Xe(N.$slots,"year",{key:0,year:e.year}):he("",!0),N.$slots.year?he("",!0):(J(),we(Ae,{key:1},[qe(Bt(e.year),1)],64))]),_:2},[N.$slots["calendar-icon"]?{name:"calendar-icon",fn:ne(()=>[Xe(N.$slots,"calendar-icon")]),key:"0"}:void 0,N.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:ne(({item:ae})=>[Xe(N.$slots,"year-overlay-value",{text:ae.text,value:ae.value})]),key:"1"}:void 0,N.$slots["year-overlay"]?{name:"overlay-year",fn:ne(()=>[Xe(N.$slots,"year-overlay",ma($i(S.value("year"))))]),key:"2"}:void 0,N.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:ne(()=>[Xe(N.$slots,"year-overlay-header",{toggle:X})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),U.value&&N.vertical?(J(),Ie(Pw,{key:1,"aria-label":(ce=ie(a).ariaLabels)==null?void 0:ce.prevMonth,disabled:ie(u)(!1),onActivate:H[6]||(H[6]=ae=>ie(l)(!1))},{default:ne(()=>[N.$slots["arrow-up"]?Xe(N.$slots,"arrow-up",{key:0}):he("",!0),N.$slots["arrow-up"]?he("",!0):(J(),Ie(ie(a$),{key:1}))]),_:3},8,["aria-label","disabled"])):he("",!0),R.value?(J(),Ie(Pw,{key:2,ref:"rightIcon",disabled:ie(u)(!0),"aria-label":(oe=ie(a).ariaLabels)==null?void 0:oe.nextMonth,onActivate:H[7]||(H[7]=ae=>ie(l)(!0)),onSetRef:H[8]||(H[8]=ae=>F(ae,3))},{default:ne(()=>[N.$slots[N.vertical?"arrow-down":"arrow-right"]?Xe(N.$slots,N.vertical?"arrow-down":"arrow-right",{key:0}):he("",!0),N.$slots[N.vertical?"arrow-down":"arrow-right"]?he("",!0):(J(),Ie(g2(N.vertical?ie(i$):ie(FO)),{key:1}))]),_:3},8,["disabled","aria-label"])):he("",!0)],64)):he("",!0),N.monthPicker?(J(),Ie(wp,Ee({key:1},b.value("month"),{"skip-active":N.range,"internal-model-value":e.internalModelValue,year:e.year,"auto-apply-month":N.autoApplyMonth,"multi-model-value":E.value,"month-picker":"",modelValue:y.value,"onUpdate:modelValue":H[17]||(H[17]=ae=>y.value=ae),onToggle:z,onSelected:H[18]||(H[18]=ae=>N.$emit("overlay-closed"))}),ii({header:ne(()=>{var ae,V,G;return[Fe("div",I0e,[Fe("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:v,onClick:H[9]||(H[9]=Q=>$(!1)),onKeydown:H[10]||(H[10]=At(Q=>$(!1),["enter"]))},[Fe("div",{class:jt(["dp__inner_nav",{dp__inner_nav_disabled:ie(u)(!1)}]),role:"button","aria-label":(ae=ie(a).ariaLabels)==null?void 0:ae.prevMonth},[N.$slots["arrow-left"]?Xe(N.$slots,"arrow-left",{key:0}):he("",!0),N.$slots["arrow-left"]?he("",!0):(J(),Ie(ie(VO),{key:1}))],10,R0e)],544),Fe("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:p,"aria-label":(V=ie(a).ariaLabels)==null?void 0:V.openYearsOverlay,tabindex:"0",onClick:H[11]||(H[11]=()=>X(!1)),onKeydown:H[12]||(H[12]=At(()=>X(!1),["enter"]))},[N.$slots.year?Xe(N.$slots,"year",{key:0,year:e.year}):he("",!0),N.$slots.year?he("",!0):(J(),we(Ae,{key:1},[qe(Bt(e.year),1)],64))],40,O0e),Fe("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:m,onClick:H[13]||(H[13]=Q=>$(!0)),onKeydown:H[14]||(H[14]=At(Q=>$(!0),["enter"]))},[Fe("div",{class:jt(["dp__inner_nav",{dp__inner_nav_disabled:ie(u)(!0)}]),role:"button","aria-label":(G=ie(a).ariaLabels)==null?void 0:G.nextMonth},[N.$slots["arrow-right"]?Xe(N.$slots,"arrow-right",{key:0}):he("",!0),N.$slots["arrow-right"]?he("",!0):(J(),Ie(ie(FO),{key:1}))],10,k0e)],544)]),D(Ta,{name:ie(i)(d.value),css:ie(o)},{default:ne(()=>[d.value?(J(),Ie(wp,Ee({key:0},b.value("year"),{modelValue:_.value,"onUpdate:modelValue":H[15]||(H[15]=Q=>_.value=Q),onToggle:X,onSelected:H[16]||(H[16]=Q=>N.$emit("overlay-closed"))}),ii({"button-icon":ne(()=>[N.$slots["calendar-icon"]?Xe(N.$slots,"calendar-icon",{key:0}):he("",!0),N.$slots["calendar-icon"]?he("",!0):(J(),Ie(ie(tx),{key:1}))]),_:2},[N.$slots["year-overlay-value"]?{name:"item",fn:ne(({item:Q})=>[Xe(N.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["modelValue"])):he("",!0)]),_:3},8,["name","css"])]}),_:2},[N.$slots["month-overlay-value"]?{name:"item",fn:ne(({item:ae})=>[Xe(N.$slots,"month-overlay-value",{text:ae.text,value:ae.value})]),key:"0"}:void 0]),1040,["skip-active","internal-model-value","year","auto-apply-month","multi-model-value","modelValue"])):he("",!0),N.yearPicker?(J(),Ie(wp,Ee({key:2},b.value("year"),{modelValue:_.value,"onUpdate:modelValue":H[19]||(H[19]=ae=>_.value=ae),"multi-model-value":E.value,"skip-active":N.range,"skip-button-ref":"","year-picker":"",onToggle:X,onSelected:H[20]||(H[20]=ae=>N.$emit("overlay-closed"))}),ii({_:2},[N.$slots["year-overlay-value"]?{name:"item",fn:ne(({item:ae})=>[Xe(N.$slots,"year-overlay-value",{text:ae.text,value:ae.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):he("",!0)],64))])}}}),B0e={key:0,class:"dp__time_input"},V0e=["aria-label","onKeydown","onClick"],F0e=Fe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),U0e=Fe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),z0e=["aria-label","onKeydown","onClick"],H0e=["aria-label","onKeydown","onClick"],$0e=Fe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),G0e=Fe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),W0e={key:0},Y0e=["aria-label","onKeydown"],j0e=hn({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Su},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=e,{setTimePickerElements:a,setTimePickerBackRef:i}=wu(),{defaults:o}=Ai(r),{transitionName:s,showTransition:l}=nx(o.value.transitions),u=Rn({hours:!1,minutes:!1,seconds:!1}),c=te("AM"),f=te(null),d=te([]);nn(()=>{n("mounted")});const h=L=>Zr(new Date,{hours:L.hours,minutes:L.minutes,seconds:r.enableSeconds?L.seconds:0,milliseconds:0}),v=O(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),p=O(()=>L=>!C(+r[L]+ +r[`${L}Increment`],L)),m=O(()=>L=>!C(+r[L]-+r[`${L}Increment`],L)),g=(L,z)=>BH(Zr(Ce(),L),z),y=(L,z)=>lye(Zr(Ce(),L),z),_=O(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),x=O(()=>{const L=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return r.enableSeconds?L.concat([{type:"",separator:!0},{type:"seconds"}]):L}),w=O(()=>x.value.filter(L=>!L.separator)),b=O(()=>L=>{if(L==="hours"){const z=I(+r.hours);return{text:z<10?`0${z}`:`${z}`,value:z}}return{text:r[L]<10?`0${r[L]}`:`${r[L]}`,value:r[L]}}),S=L=>{const z=r.is24?24:12,X=L==="hours"?z:60,Y=+r[`${L}GridIncrement`],$=L==="hours"&&!r.is24?Y:0,F=[];for(let N=$;N<X;N+=Y)F.push({value:N,text:N<10?`0${N}`:`${N}`});return L==="hours"&&!r.is24&&F.push({value:0,text:"12"}),Uye(F)},C=(L,z)=>{const X=r.minTime?h(bw(r.minTime)):null,Y=r.maxTime?h(bw(r.maxTime)):null,$=h(bw(v.value,z,L));return X&&Y?(lm($,Y)||Cc($,Y))&&(sm($,X)||Cc($,X)):X?sm($,X)||Cc($,X):Y?lm($,Y)||Cc($,Y):!0},A=O(()=>L=>S(L).flat().filter(z=>jye(z.value)).map(z=>z.value).filter(z=>!C(z,L))),M=L=>r[`no${L[0].toUpperCase()+L.slice(1)}Overlay`],T=L=>{M(L)||(u[L]=!u[L],u[L]||n("overlay-closed"))},E=L=>L==="hours"?Gs:L==="minutes"?Ws:ih,P=(L,z=!0)=>{const X=z?g:y,Y=z?+r[`${L}Increment`]:-+r[`${L}Increment`];C(+r[L]+Y,L)&&n(`update:${L}`,E(L)(X({[L]:+r[L]},{[L]:+r[`${L}Increment`]})))},I=L=>r.is24?L:(L>=12?c.value="PM":c.value="AM",Wye(L)),k=()=>{c.value==="PM"?(c.value="AM",n("update:hours",r.hours-12)):(c.value="PM",n("update:hours",r.hours+12)),n("am-pm-change",c.value)},B=L=>{u[L]=!0},U=(L,z,X)=>{if(L&&r.arrowNavigation){Array.isArray(d.value[z])?d.value[z][X]=L:d.value[z]=[L];const Y=d.value.reduce(($,F)=>F.map((N,H)=>[...$[H]||[],F[H]]),[]);i(r.closeTimePickerBtn),f.value&&(Y[1]=Y[1].concat(f.value)),a(Y,r.order)}},R=(L,z)=>L==="hours"&&!r.is24?n(`update:${L}`,c.value==="PM"?z+12:z):n(`update:${L}`,z);return t({openChildCmp:B}),(L,z)=>{var X;return L.disabled?he("",!0):(J(),we("div",B0e,[(J(!0),we(Ae,null,cr(x.value,(Y,$)=>{var F,N,H;return J(),we("div",{key:$,class:jt(_.value)},[Y.separator?(J(),we(Ae,{key:0},[qe(" : ")],64)):(J(),we(Ae,{key:1},[Fe("button",{type:"button",class:jt({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_top:r.timePickerInline,dp__inc_dec_button_disabled:p.value(Y.type)}),"aria-label":(F=ie(o).ariaLabels)==null?void 0:F.incrementValue(Y.type),tabindex:"0",onKeydown:[At(K=>P(Y.type),["enter"]),At(K=>P(Y.type),["space"])],onClick:K=>P(Y.type),ref_for:!0,ref:K=>U(K,$,0)},[r.timePickerInline?(J(),we(Ae,{key:1},[F0e,U0e],64)):(J(),we(Ae,{key:0},[L.$slots["arrow-up"]?Xe(L.$slots,"arrow-up",{key:0}):he("",!0),L.$slots["arrow-up"]?he("",!0):(J(),Ie(ie(a$),{key:1}))],64))],42,V0e),Fe("button",{type:"button","aria-label":(N=ie(o).ariaLabels)==null?void 0:N.openTpOverlay(Y.type),class:jt(["dp__btn",M(Y.type)?void 0:{dp__time_display:!0,dp__time_display_block:!r.timePickerInline,dp__time_display_inline:r.timePickerInline}]),tabindex:"0",onKeydown:[At(K=>T(Y.type),["enter"]),At(K=>T(Y.type),["space"])],onClick:K=>T(Y.type),ref_for:!0,ref:K=>U(K,$,1)},[L.$slots[Y.type]?Xe(L.$slots,Y.type,{key:0,text:b.value(Y.type).text,value:b.value(Y.type).value}):he("",!0),L.$slots[Y.type]?he("",!0):(J(),we(Ae,{key:1},[qe(Bt(b.value(Y.type).text),1)],64))],42,z0e),Fe("button",{type:"button",class:jt({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_bottom:r.timePickerInline,dp__inc_dec_button_disabled:m.value(Y.type)}),"aria-label":(H=ie(o).ariaLabels)==null?void 0:H.decrementValue(Y.type),tabindex:"0",onKeydown:[At(K=>P(Y.type,!1),["enter"]),At(K=>P(Y.type,!1),["space"])],onClick:K=>P(Y.type,!1),ref_for:!0,ref:K=>U(K,$,2)},[r.timePickerInline?(J(),we(Ae,{key:1},[$0e,G0e],64)):(J(),we(Ae,{key:0},[L.$slots["arrow-down"]?Xe(L.$slots,"arrow-down",{key:0}):he("",!0),L.$slots["arrow-down"]?he("",!0):(J(),Ie(ie(i$),{key:1}))],64))],42,H0e)],64))],2)}),128)),L.is24?he("",!0):(J(),we("div",W0e,[L.$slots["am-pm-button"]?Xe(L.$slots,"am-pm-button",{key:0,toggle:k,value:c.value}):he("",!0),L.$slots["am-pm-button"]?he("",!0):(J(),we("button",{key:1,ref_key:"amPmButton",ref:f,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(X=ie(o).ariaLabels)==null?void 0:X.amPmButton,tabindex:"0",onClick:k,onKeydown:[At(_a(k,["prevent"]),["enter"]),At(_a(k,["prevent"]),["space"])]},Bt(c.value),41,Y0e))])),(J(!0),we(Ae,null,cr(w.value,(Y,$)=>(J(),Ie(Ta,{key:$,name:ie(s)(u[Y.type]),css:ie(l)},{default:ne(()=>[u[Y.type]?(J(),Ie(wp,{key:0,items:S(Y.type),"disabled-values":ie(o).filters.times[Y.type].concat(A.value(Y.type)),"esc-close":L.escClose,"aria-labels":ie(o).ariaLabels,"hide-navigation":L.hideNavigation,"onUpdate:modelValue":F=>R(Y.type,F),onSelected:F=>T(Y.type),onToggle:F=>T(Y.type),onResetFlow:z[0]||(z[0]=F=>L.$emit("reset-flow")),type:Y.type},ii({"button-icon":ne(()=>[L.$slots["clock-icon"]?Xe(L.$slots,"clock-icon",{key:0}):he("",!0),L.$slots["clock-icon"]?he("",!0):(J(),Ie(ie(r$),{key:1}))]),_:2},[L.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:ne(({item:F})=>[Xe(L.$slots,`${Y.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):he("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),X0e=["aria-label"],q0e=["tabindex"],Z0e=["aria-label"],K0e=hn({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Su},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=e,{buildMatrix:a,setTimePicker:i}=wu(),o=x2(),{hideNavigationButtons:s,defaults:l}=Ai(r),{transitionName:u,showTransition:c}=nx(l.value.transitions),f=te(null),d=te(null),h=te([]),v=te(null);nn(()=>{n("mount"),!r.timePicker&&r.arrowNavigation?a([ur(f.value)],"time"):i(!0,r.timePicker)});const p=O(()=>r.range&&r.modelAuto?f$(r.internalModelValue):!0),m=te(!1),g=T=>({hours:Array.isArray(r.hours)?r.hours[T]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[T]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[T]:r.seconds}),y=O(()=>{const T=[];if(r.range)for(let E=0;E<2;E++)T.push(g(E));else T.push(g(0));return T}),_=(T,E=!1,P="")=>{E||n("reset-flow"),m.value=T,n(T?"overlay-opened":"overlay-closed"),r.arrowNavigation&&i(T),Ot(()=>{P!==""&&h.value[0]&&h.value[0].openChildCmp(P)})},x=O(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!r.keepActionRow})),w=Ac(o,"timePicker"),b=(T,E,P)=>r.range?E===0?[T,y.value[1][P]]:[y.value[0][P],T]:T,S=T=>{n("update:hours",T)},C=T=>{n("update:minutes",T)},A=T=>{n("update:seconds",T)},M=()=>{if(v.value){const T=Xye(v.value);T&&T.focus({preventScroll:!0})}};return t({toggleTimePicker:_}),(T,E)=>{var P;return J(),we("div",null,[!T.timePicker&&!T.timePickerInline?On((J(),we("button",{key:0,type:"button",class:jt(x.value),"aria-label":(P=ie(l).ariaLabels)==null?void 0:P.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:f,onKeydown:[E[0]||(E[0]=At(I=>_(!0),["enter"])),E[1]||(E[1]=At(I=>_(!0),["space"]))],onClick:E[2]||(E[2]=I=>_(!0))},[T.$slots["clock-icon"]?Xe(T.$slots,"clock-icon",{key:0}):he("",!0),T.$slots["clock-icon"]?he("",!0):(J(),Ie(ie(r$),{key:1}))],42,X0e)),[[ui,!ie(s)("time")]]):he("",!0),D(Ta,{name:ie(u)(m.value),css:ie(c)&&!T.timePickerInline},{default:ne(()=>{var I;return[m.value||T.timePicker||T.timePickerInline?(J(),we("div",{key:0,class:jt({dp__overlay:!T.timePickerInline}),ref_key:"overlayRef",ref:v,tabindex:T.timePickerInline?void 0:0},[Fe("div",{class:jt(T.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[T.$slots["time-picker-overlay"]?Xe(T.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:S,setMinutes:C,setSeconds:A}):he("",!0),T.$slots["time-picker-overlay"]?he("",!0):(J(),we("div",{key:1,class:jt(T.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(J(!0),we(Ae,null,cr(y.value,(k,B)=>On((J(),Ie(j0e,Ee({key:B},{...T.$props,order:B,hours:k.hours,minutes:k.minutes,seconds:k.seconds,closeTimePickerBtn:d.value,disabled:B===0?T.fixedStart:T.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:h,"onUpdate:hours":U=>S(b(U,B,"hours")),"onUpdate:minutes":U=>C(b(U,B,"minutes")),"onUpdate:seconds":U=>A(b(U,B,"seconds")),onMounted:M,onOverlayClosed:M,onAmPmChange:E[3]||(E[3]=U=>T.$emit("am-pm-change",U))}),ii({_:2},[cr(ie(w),(U,R)=>({name:U,fn:ne(L=>[Xe(T.$slots,U,ma($i(L)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[ui,B===0?!0:p.value]])),128))],2)),!T.timePicker&&!T.timePickerInline?On((J(),we("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:d,class:jt(x.value),"aria-label":(I=ie(l).ariaLabels)==null?void 0:I.closeTimePicker,tabindex:"0",onKeydown:[E[4]||(E[4]=At(k=>_(!1),["enter"])),E[5]||(E[5]=At(k=>_(!1),["space"]))],onClick:E[6]||(E[6]=k=>_(!1))},[T.$slots["calendar-icon"]?Xe(T.$slots,"calendar-icon",{key:0}):he("",!0),T.$slots["calendar-icon"]?he("",!0):(J(),Ie(ie(tx),{key:1}))],42,Z0e)),[[ui,!ie(s)("time")]]):he("",!0)],2)],10,q0e)):he("",!0)]}),_:3},8,["name","css"])])}}}),Q0e=(e,t)=>{const{isDisabled:n,matchDate:r,getWeekFromDate:a,defaults:i}=Ai(t),o=te(null),s=te(Ce()),l=L=>{!L.current&&t.hideOffsetDates||(o.value=L.value)},u=()=>{o.value=null},c=L=>Array.isArray(e.value)&&t.range&&e.value[0]&&o.value?L?ja(o.value,e.value[0]):ya(o.value,e.value[0]):!0,f=(L,z)=>{const X=()=>e.value?z?e.value[0]||null:e.value[1]:null,Y=e.value&&Array.isArray(e.value)?X():null;return Cn(Ce(L.value),Y)},d=L=>{const z=Array.isArray(e.value)?e.value[0]:null;return L?!ya(o.value||null,z):!0},h=(L,z=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!L.current?!1:Cn(Ce(L.value),e.value[z?0:1]):t.range?f(L,z)&&d(z)||Cn(L.value,Array.isArray(e.value)?e.value[0]:null)&&c(z):!1,v=(L,z,X)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?L?!1:X?ja(e.value[0],z.value):ya(e.value[0],z.value):!1,p=L=>!e.value||t.hideOffsetDates&&!L.current?!1:t.range?t.modelAuto&&Array.isArray(e.value)?Cn(L.value,e.value[0]?e.value[0]:s.value):!1:t.multiDates&&Array.isArray(e.value)?e.value.some(z=>Cn(z,L.value)):Cn(L.value,e.value?e.value:s.value),m=L=>{if(t.autoRange||t.weekPicker){if(o.value){if(t.hideOffsetDates&&!L.current)return!1;const z=Js(o.value,+t.autoRange),X=a(Ce(o.value));return t.weekPicker?Cn(X[1],Ce(L.value)):Cn(z,Ce(L.value))}return!1}return!1},g=L=>{if(t.autoRange||t.weekPicker){if(o.value){const z=Js(o.value,+t.autoRange);if(t.hideOffsetDates&&!L.current)return!1;const X=a(Ce(o.value));return t.weekPicker?ja(L.value,X[0])&&ya(L.value,X[1]):ja(L.value,o.value)&&ya(L.value,z)}return!1}return!1},y=L=>{if(t.autoRange||t.weekPicker){if(o.value){if(t.hideOffsetDates&&!L.current)return!1;const z=a(Ce(o.value));return t.weekPicker?Cn(z[0],L.value):Cn(o.value,L.value)}return!1}return!1},_=L=>o$(e.value,o.value,L.value),x=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,w=()=>t.modelAuto?f$(t.internalModelValue):!0,b=L=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const z=t.range?!h(L)&&!h(L,!1):!0;return!n(L.value)&&!p(L)&&!(!L.current&&t.hideOffsetDates)&&z},S=L=>t.range?t.modelAuto?x()&&p(L):!1:p(L),C=L=>{var z;return t.highlight?r(L.value,(z=t.arrMapValues)!=null&&z.highlightedDates?t.arrMapValues.highlightedDates:t.highlight):!1},A=L=>n(L.value)&&t.highlightDisabledDays===!1,M=L=>t.highlightWeekDays&&t.highlightWeekDays.includes(L.value.getDay()),T=L=>(t.range||t.weekPicker)&&(!(i.value.multiCalendars>0)||L.current)&&w()&&!(!L.current&&t.hideOffsetDates)&&!p(L)?_(L):!1,E=L=>{const{isRangeStart:z,isRangeEnd:X}=k(L),Y=t.range?z||X:!1;return{dp__cell_offset:!L.current,dp__pointer:!t.disabled&&!(!L.current&&t.hideOffsetDates)&&!n(L.value),dp__cell_disabled:n(L.value),dp__cell_highlight:!A(L)&&(C(L)||M(L))&&!S(L)&&!Y,dp__cell_highlight_active:!A(L)&&(C(L)||M(L))&&S(L),dp__today:!t.noToday&&Cn(L.value,s.value)&&L.current}},P=L=>({dp__active_date:S(L),dp__date_hover:b(L)}),I=L=>({...B(L),...U(L),dp__range_between_week:T(L)&&t.weekPicker}),k=L=>{const z=i.value.multiCalendars>0?L.current&&h(L)&&w():h(L)&&w(),X=i.value.multiCalendars>0?L.current&&h(L,!1)&&w():h(L,!1)&&w();return{isRangeStart:z,isRangeEnd:X}},B=L=>{const{isRangeStart:z,isRangeEnd:X}=k(L);return{dp__range_start:z,dp__range_end:X,dp__range_between:T(L)&&!t.weekPicker,dp__date_hover_start:v(b(L),L,!0),dp__date_hover_end:v(b(L),L,!1)}},U=L=>({...B(L),dp__cell_auto_range:g(L),dp__cell_auto_range_start:y(L),dp__cell_auto_range_end:m(L)}),R=L=>t.range?t.autoRange?U(L):t.modelAuto?{...P(L),...B(L)}:B(L):t.weekPicker?I(L):P(L);return{setHoverDate:l,clearHoverDate:u,getDayClassData:L=>t.hideOffsetDates&&!L.current?{}:{...E(L),...R(L),[t.dayClass?t.dayClass(L.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName}}},J0e=["id","onKeydown"],e_e={key:0,class:"dp__sidebar_left"},t_e={key:1,class:"dp__preset_ranges"},n_e=["onClick"],r_e={key:2,class:"dp__sidebar_right"},a_e={key:3,class:"dp__action_extra"},i_e=hn({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},...Su},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:n}){const r=e,a=O(()=>{const{openOnTop:_e,internalModelValue:Ge,arrMapValues:ir,...or}=r;return or}),{setMenuFocused:i,setShiftKey:o,control:s}=s$(),{getCalendarDays:l,defaults:u}=Ai(r),c=x2(),f=te(null),d=Rn({timePicker:!!(!r.enableTimePicker||r.timePicker||r.monthPicker),monthYearInput:!!r.timePicker,calendar:!1}),h=te([]),v=te([]),p=te(null),m=te(null),g=te(0),y=te(!1),_=te(0);nn(()=>{var _e;y.value=!0,!((_e=r.presetRanges)!=null&&_e.length)&&!c["left-sidebar"]&&!c["right-sidebar"]&&(De(),window.addEventListener("resize",De));const Ge=ur(m);if(Ge&&!r.textInput&&!r.inline&&(i(!0),A()),Ge){const ir=or=>{r.allowPreventDefault&&or.preventDefault(),or.stopImmediatePropagation(),or.stopPropagation()};Ge.addEventListener("pointerdown",ir),Ge.addEventListener("mousedown",ir)}}),Cm(()=>{window.removeEventListener("resize",De)});const{arrowRight:x,arrowLeft:w,arrowDown:b,arrowUp:S}=wu(),C=_e=>{_e||_e===0?v.value[_e].triggerTransition(I.value(_e),k.value(_e)):v.value.forEach((Ge,ir)=>Ge.triggerTransition(I.value(ir),k.value(ir)))},A=()=>{const _e=ur(m);_e&&_e.focus({preventScroll:!0})},M=()=>{var _e;(_e=r.flow)!=null&&_e.length&&_.value!==-1&&(_.value+=1,n("flow-step",_.value),st())},T=()=>{_.value=-1},{calendars:E,modelValue:P,month:I,year:k,time:B,updateTime:U,updateMonthYear:R,selectDate:L,getWeekNum:z,monthYearSelect:X,handleScroll:Y,handleArrow:$,handleSwipe:F,getMarker:N,selectCurrentDate:H,presetDateRange:K}=n0e(r,n,M,C,_),{setHoverDate:Z,clearHoverDate:q,getDayClassData:ce}=Q0e(P,r),oe={modelValue:P,month:I,year:k,time:B,updateTime:U,updateMonthYear:R,selectDate:L,presetDateRange:K,handleMonthYearChange:_e=>{h.value[0]&&h.value[0].handleMonthYearChange(_e)}};Le(E,()=>{r.openOnTop&&setTimeout(()=>{n("recalculate-position")},0)},{deep:!0});const ae=Ac(c,"calendar"),V=Ac(c,"action"),G=Ac(c,"timePicker"),Q=Ac(c,"monthYear"),ue=O(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),fe=O(()=>$ye(r.yearRange,r.reverseYears)),ge=O(()=>Gye(r.formatLocale,r.locale,r.monthNameFormat)),De=()=>{const _e=ur(f);_e&&(g.value=_e.getBoundingClientRect().width)},Se=O(()=>_e=>l(I.value(_e),k.value(_e))),le=O(()=>u.value.multiCalendars>0?[...Array(u.value.multiCalendars).keys()]:[0]),se=O(()=>_e=>_e===1),xe=O(()=>r.monthPicker||r.timePicker||r.yearPicker),We=O(()=>({dp__menu_inner:!0,dp__flex_display:u.value.multiCalendars>0})),Ke=O(()=>({dp__instance_calendar:u.value.multiCalendars>0})),mt=O(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly})),Lt=O(()=>_e=>fn(Se,_e)),rn=O(()=>({dp__menu:!0,dp__menu_index:!r.inline,dp__relative:r.inline,[r.menuClassName]:!!r.menuClassName})),fn=(_e,Ge)=>_e.value(Ge).map(ir=>({...ir,days:ir.days.map(or=>(or.marker=N(or),or.classData=ce(or),or))})),Kn=_e=>{_e.stopPropagation(),_e.stopImmediatePropagation()},La=()=>{r.escClose&&n("close-picker")},bo=(_e,Ge=!1)=>{L(_e,Ge),r.spaceConfirm&&n("select-date")},ee=_e=>{var Ge;(Ge=r.flow)!=null&&Ge.length&&(d[_e]=!0,Object.keys(d).filter(ir=>!d[ir]).length||st())},ve=(_e,Ge,ir,or,...Wo)=>{if(r.flow[_.value]===_e){const tt=or?Ge.value[0]:Ge.value;tt&&tt[ir](...Wo)}},st=()=>{ve("month",h,"toggleMonthPicker",!0,!0),ve("year",h,"toggleYearPicker",!0,!0),ve("calendar",p,"toggleTimePicker",!1,!1,!0),ve("time",p,"toggleTimePicker",!1,!0,!0);const _e=r.flow[_.value];(_e==="hours"||_e==="minutes"||_e==="seconds")&&ve(_e,p,"toggleTimePicker",!1,!0,!0,_e)},je=_e=>{if(r.arrowNavigation){if(_e==="up")return S();if(_e==="down")return b();if(_e==="left")return w();if(_e==="right")return x()}else _e==="left"||_e==="up"?$("left",0,_e==="up"):$("right",0,_e==="down")},an=_e=>{o(_e.shiftKey),!r.disableMonthYearSelect&&_e.code==="Tab"&&_e.target.classList.contains("dp__menu")&&s.value.shiftKeyInMenu&&(_e.preventDefault(),_e.stopImmediatePropagation(),n("close-picker"))},mi=()=>{A(),n("time-picker-close")},Ds=_e=>{var Ge,ir,or,Wo,tt;(Ge=p.value)==null||Ge.toggleTimePicker(!1,!1),(or=(ir=h.value)==null?void 0:ir[_e])==null||or.toggleMonthPicker(!1,!1),(tt=(Wo=h.value)==null?void 0:Wo[_e])==null||tt.toggleYearPicker(!1,!1)};return t({updateMonthYear:R,switchView:(_e,Ge=0)=>{var ir,or,Wo,tt,Ms;return _e==="month"?(or=(ir=h.value)==null?void 0:ir[Ge])==null?void 0:or.toggleMonthPicker(!1,!0):_e==="year"?(tt=(Wo=h.value)==null?void 0:Wo[Ge])==null?void 0:tt.toggleYearPicker(!1,!0):_e==="time"?(Ms=p.value)==null?void 0:Ms.toggleTimePicker(!0,!1):Ds(Ge)}}),(_e,Ge)=>{var ir;return J(),Ie(Ta,{appear:"",name:(ir=ie(u).transitions)==null?void 0:ir.menuAppear,css:!!_e.transitions},{default:ne(()=>{var or,Wo;return[Fe("div",{id:_e.uid?`dp-menu-${_e.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:m,role:"dialog",class:jt(rn.value),onMouseleave:Ge[14]||(Ge[14]=(...tt)=>ie(q)&&ie(q)(...tt)),onClick:Kn,onKeydown:[At(La,["esc"]),Ge[15]||(Ge[15]=At(_a(tt=>je("left"),["prevent"]),["left"])),Ge[16]||(Ge[16]=At(_a(tt=>je("up"),["prevent"]),["up"])),Ge[17]||(Ge[17]=At(_a(tt=>je("down"),["prevent"]),["down"])),Ge[18]||(Ge[18]=At(_a(tt=>je("right"),["prevent"]),["right"])),an]},[(_e.disabled||_e.readonly)&&_e.inline?(J(),we("div",{key:0,class:jt(mt.value)},null,2)):he("",!0),!_e.inline&&!_e.teleportCenter?(J(),we("div",{key:1,class:jt(ue.value)},null,2)):he("",!0),Fe("div",{class:jt({dp__menu_content_wrapper:((or=_e.presetRanges)==null?void 0:or.length)||!!_e.$slots["left-sidebar"]||!!_e.$slots["right-sidebar"]})},[_e.$slots["left-sidebar"]?(J(),we("div",e_e,[Xe(_e.$slots,"left-sidebar",ma($i(oe)))])):he("",!0),(Wo=_e.presetRanges)!=null&&Wo.length?(J(),we("div",t_e,[(J(!0),we(Ae,null,cr(_e.presetRanges,(tt,Ms)=>(J(),we("div",{key:Ms,style:qi(tt.style||{}),class:"dp__preset_range",onClick:Jt=>ie(K)(tt.range,!!tt.slot)},[tt.slot?Xe(_e.$slots,tt.slot,{key:0,presetDateRange:ie(K),label:tt.label,range:tt.range}):(J(),we(Ae,{key:1},[qe(Bt(tt.label),1)],64))],12,n_e))),128))])):he("",!0),Fe("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:f,role:"document"},[Fe("div",{class:jt(We.value)},[(J(!0),we(Ae,null,cr(le.value,(tt,Ms)=>(J(),we("div",{key:tt,class:jt(Ke.value)},[!_e.disableMonthYearSelect&&!_e.timePicker?(J(),Ie(N0e,Ee({key:0,ref_for:!0,ref:Jt=>{Jt&&(h.value[Ms]=Jt)},months:ge.value,years:fe.value,month:ie(I)(tt),year:ie(k)(tt),instance:tt,"internal-model-value":e.internalModelValue},a.value,{onMount:Ge[0]||(Ge[0]=Jt=>ee("monthYearInput")),onResetFlow:T,onUpdateMonthYear:Jt=>ie(R)(tt,Jt),onMonthYearSelect:ie(X),onOverlayClosed:A}),ii({_:2},[cr(ie(Q),(Jt,DG)=>({name:Jt,fn:ne(hx=>[Xe(_e.$slots,Jt,ma($i(hx)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):he("",!0),D(T0e,Ee({ref_for:!0,ref:Jt=>{Jt&&(v.value[Ms]=Jt)},"specific-mode":xe.value,"get-week-num":ie(z),instance:tt,"mapped-dates":Lt.value(tt),month:ie(I)(tt),year:ie(k)(tt)},a.value,{onSelectDate:Jt=>ie(L)(Jt,!se.value(tt)),onHandleSpace:Jt=>bo(Jt,!se.value(tt)),onSetHoverDate:Ge[1]||(Ge[1]=Jt=>ie(Z)(Jt)),onHandleScroll:Jt=>ie(Y)(Jt,tt),onHandleSwipe:Jt=>ie(F)(Jt,tt),onMount:Ge[2]||(Ge[2]=Jt=>ee("calendar")),onResetFlow:T,onTooltipOpen:Ge[3]||(Ge[3]=Jt=>_e.$emit("tooltip-open",Jt)),onTooltipClose:Ge[4]||(Ge[4]=Jt=>_e.$emit("tooltip-close",Jt))}),ii({_:2},[cr(ie(ae),(Jt,DG)=>({name:Jt,fn:ne(hx=>[Xe(_e.$slots,Jt,ma($i({...hx})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),Fe("div",null,[_e.$slots["time-picker"]?Xe(_e.$slots,"time-picker",ma(Ee({key:0},{time:ie(B),updateTime:ie(U)}))):(J(),we(Ae,{key:1},[_e.enableTimePicker&&!_e.monthPicker&&!_e.weekPicker?(J(),Ie(K0e,Ee({key:0,ref_key:"timePickerRef",ref:p,hours:ie(B).hours,minutes:ie(B).minutes,seconds:ie(B).seconds,"internal-model-value":e.internalModelValue},a.value,{onMount:Ge[5]||(Ge[5]=tt=>ee("timePicker")),"onUpdate:hours":Ge[6]||(Ge[6]=tt=>ie(U)(tt)),"onUpdate:minutes":Ge[7]||(Ge[7]=tt=>ie(U)(tt,!1)),"onUpdate:seconds":Ge[8]||(Ge[8]=tt=>ie(U)(tt,!1,!0)),onResetFlow:T,onOverlayClosed:mi,onOverlayOpened:Ge[9]||(Ge[9]=tt=>_e.$emit("time-picker-open",tt)),onAmPmChange:Ge[10]||(Ge[10]=tt=>_e.$emit("am-pm-change",tt))}),ii({_:2},[cr(ie(G),(tt,Ms)=>({name:tt,fn:ne(Jt=>[Xe(_e.$slots,tt,ma($i(Jt)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):he("",!0)],64))])],512),_e.$slots["right-sidebar"]?(J(),we("div",r_e,[Xe(_e.$slots,"right-sidebar",ma($i(oe)))])):he("",!0),_e.$slots["action-extra"]?(J(),we("div",a_e,[_e.$slots["action-extra"]?Xe(_e.$slots,"action-extra",{key:0,selectCurrentDate:ie(H)}):he("",!0)])):he("",!0)],2),!_e.autoApply||_e.keepActionRow?(J(),Ie(p0e,Ee({key:2,"menu-mount":y.value,"calendar-width":g.value,"internal-model-value":e.internalModelValue},a.value,{onClosePicker:Ge[11]||(Ge[11]=tt=>_e.$emit("close-picker")),onSelectDate:Ge[12]||(Ge[12]=tt=>_e.$emit("select-date")),onInvalidSelect:Ge[13]||(Ge[13]=tt=>_e.$emit("invalid-select")),onSelectNow:ie(H)}),ii({_:2},[cr(ie(V),(tt,Ms)=>({name:tt,fn:ne(Jt=>[Xe(_e.$slots,tt,ma($i({...Jt})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):he("",!0)],42,J0e)]}),_:3},8,["name","css"])}}}),o_e=typeof window<"u"?window:void 0,Lw=()=>{},s_e=e=>i2()?(wa(e),!0):!1,l_e=(e,t,n,r)=>{if(!e)return Lw;let a=Lw;const i=Le(()=>ie(e),s=>{a(),s&&(s.addEventListener(t,n,r),a=()=>{s.removeEventListener(t,n,r),a=Lw})},{immediate:!0,flush:"post"}),o=()=>{i(),a()};return s_e(o),o},u_e=(e,t,n,r={})=>{const{window:a=o_e,event:i="pointerdown"}=r;return a?l_e(a,i,o=>{const s=ur(e),l=ur(t);!s||!l||s===o.target||o.composedPath().includes(s)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},c_e=hn({__name:"VueDatePicker",props:{...Su},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:n}){const r=e,a=x2(),i=te(!1),o=ye(r,"modelValue"),s=ye(r,"timezone"),l=te(null),u=te(null),c=te(!1),f=te(null),d=Rn({disabledDates:null,allowedDates:null,highlightedDates:null}),{setMenuFocused:h,setShiftKey:v}=s$(),{clearArrowNav:p}=wu(),{validateDate:m,isValidTime:g,defaults:y,mapDatesArrToMap:_}=Ai(r);nn(()=>{I(r.modelValue),r.inline||(T(f.value).addEventListener("scroll",X),window.addEventListener("resize",Y)),r.inline&&(i.value=!0),_(d)}),Cm(()=>{if(!r.inline){const le=T(f.value);le&&le.removeEventListener("scroll",X),window.removeEventListener("resize",Y)}});const x=Ac(a,"all",r.presetRanges),w=Ac(a,"input");Le([o,s],()=>{I(o.value)},{deep:!0});const{openOnTop:b,menuStyle:S,resetPosition:C,setMenuPosition:A,setInitialPosition:M,getScrollableParent:T}=i0e(l,u,n,r),{inputValue:E,internalModelValue:P,parseExternalModelValue:I,emitModelValue:k,formatInputValue:B,checkBeforeEmit:U}=r0e(n,r,c),R=O(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:r.inline,dp__flex_display_with_input:r.inlineWithInput})),L=O(()=>r.dark?"dp__theme_dark":"dp__theme_light"),z=O(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:r.inline}:{class:"dp__outer_menu_wrap"}),X=()=>{i.value&&(r.closeOnScroll?oe():A())},Y=()=>{i.value&&A()},$=async()=>{var le,se,xe;!r.disabled&&!r.readonly&&(C(),await Ot(),i.value=!0,await Ot(),M(),await Ot(),A(),delete S.value.opacity,!((le=y.value.transitions)!=null&&le.menuAppear)&&r.transitions&&((xe=(se=l.value)==null?void 0:se.$el)==null||xe.classList.add("dp__menu_transitioned")),i.value&&n("open"),i.value||ce(),I(r.modelValue))},F=()=>{E.value="",ce(),n("update:model-value",null),n("cleared"),r.closeOnClearValue&&oe()},N=()=>{const le=P.value;return!le||!Array.isArray(le)&&m(le)?!0:Array.isArray(le)?le.length===2&&m(le[0])&&m(le[1])?!0:m(le[0]):!1},H=()=>{U()&&N()?(k(),oe()):n("invalid-select",P.value)},K=le=>{Z(),k(),r.closeOnAutoApply&&!le&&oe()},Z=()=>{u.value&&r.textInput&&u.value.setParsedDate(P.value)},q=(le=!1)=>{r.autoApply&&g(P.value)&&N()&&(r.range&&Array.isArray(P.value)?(r.partialRange||P.value.length===2)&&K(le):K(le))},ce=()=>{r.textInput||(P.value=null)},oe=()=>{r.inline||(i.value&&(i.value=!1,h(!1),v(!1),p(),n("closed"),M(),E.value&&I(o.value)),ce())},ae=(le,se)=>{if(!le){P.value=null;return}P.value=le,se&&(H(),n("text-submit"))},V=()=>{r.autoApply&&g(P.value)&&k(),Z()},G=()=>i.value?oe():$(),Q=le=>{P.value=le},ue=()=>{r.textInput&&(c.value=!0,B()),n("focus")},fe=()=>{r.textInput&&(c.value=!1,I(r.modelValue)),n("blur")},ge=le=>{l.value&&l.value.updateMonthYear(0,{month:ZO(le.month),year:ZO(le.year)})},De=le=>{I(le||r.modelValue)},Se=(le,se)=>{var xe;(xe=l.value)==null||xe.switchView(le,se)};return u_e(l,u,r.onClickOutside?()=>r.onClickOutside(N):oe),t({closeMenu:oe,selectDate:H,clearValue:F,openMenu:$,onScroll:X,formatInputValue:B,updateInternalModelValue:Q,setMonthYear:ge,parseModel:De,switchView:Se}),(le,se)=>(J(),we("div",{class:jt(R.value),ref_key:"pickerWrapperRef",ref:f},[D(f0e,Ee({ref_key:"inputRef",ref:u,"is-menu-open":i.value,"input-value":ie(E),"onUpdate:inputValue":se[0]||(se[0]=xe=>sn(E)?E.value=xe:null)},le.$props,{onClear:F,onOpen:$,onSetInputDate:ae,onSetEmptyDate:ie(k),onSelectDate:H,onToggle:G,onClose:oe,onFocus:ue,onBlur:fe,onRealBlur:se[1]||(se[1]=xe=>c.value=!1)}),ii({_:2},[cr(ie(w),(xe,We)=>({name:xe,fn:ne(Ke=>[Xe(le.$slots,xe,ma($i(Ke)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),i.value?(J(),Ie(g2(le.teleport?x3:"div"),ma(Ee({key:0},z.value)),{default:ne(()=>[i.value?(J(),Ie(i_e,Ee({key:0,ref_key:"dpMenuRef",ref:l,class:L.value,style:le.inline?void 0:ie(S),"open-on-top":ie(b),"arr-map-values":d},le.$props,{"internal-model-value":ie(P),"onUpdate:internalModelValue":se[2]||(se[2]=xe=>sn(P)?P.value=xe:null),onClosePicker:oe,onSelectDate:H,onAutoApply:q,onTimeUpdate:V,onFlowStep:se[3]||(se[3]=xe=>le.$emit("flow-step",xe)),onUpdateMonthYear:se[4]||(se[4]=xe=>le.$emit("update-month-year",xe)),onInvalidSelect:se[5]||(se[5]=xe=>le.$emit("invalid-select",ie(P))),onInvalidFixedRange:se[6]||(se[6]=xe=>le.$emit("invalid-fixed-range",xe)),onRecalculatePosition:ie(A),onTooltipOpen:se[7]||(se[7]=xe=>le.$emit("tooltip-open",xe)),onTooltipClose:se[8]||(se[8]=xe=>le.$emit("tooltip-close",xe)),onTimePickerOpen:se[9]||(se[9]=xe=>le.$emit("time-picker-open",xe)),onTimePickerClose:se[10]||(se[10]=xe=>le.$emit("time-picker-close",xe)),onAmPmChange:se[11]||(se[11]=xe=>le.$emit("am-pm-change",xe)),onRangeStart:se[12]||(se[12]=xe=>le.$emit("range-start",xe)),onRangeEnd:se[13]||(se[13]=xe=>le.$emit("range-end",xe))}),ii({_:2},[cr(ie(x),(xe,We)=>({name:xe,fn:ne(Ke=>[Xe(le.$slots,xe,ma($i({...Ke})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])):he("",!0)]),_:3},16)):he("",!0)],2))}}),$E=(()=>{const e=c_e;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),f_e=Object.freeze(Object.defineProperty({__proto__:null,default:$E},Symbol.toStringTag,{value:"Module"}));Object.entries(f_e).forEach(([e,t])=>{e!=="default"&&($E[e]=t)});wn(G4);wn(mse);function nk(e,t,n){var r=gh.createCanvas(),a=t.getWidth(),i=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=i+"px",r.setAttribute("data-zr-dom-id",e)),r.width=a*n,r.height=i*n,r}var d_e=function(e){kn(t,e);function t(n,r,a){var i=e.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var o;a=a||M0,typeof n=="string"?o=nk(n,r,a):lt(n)&&(o=n,n=o.id),i.id=n,i.dom=o;var s=o.style;return s&&(YB(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=r,i.dpr=a,i}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=nk("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,r,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Wt(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var _=new Wt(0,0,0,0);_.copy(y),o.push(_)}else{for(var x=!1,w=1/0,b=0,S=0;S<o.length;++S){var C=o[S];if(C.intersect(y)){var A=new Wt(0,0,0,0);A.copy(C),A.union(y),o[S]=A,x=!0;break}else if(l){u.copy(y),u.union(C);var M=y.width*y.height,T=C.width*C.height,E=u.width*u.height,P=E-M-T;P<w&&(w=P,b=S)}}if(l&&(o[b].union(y),x=!0),!x){var _=new Wt(0,0,0,0);_.copy(y),o.push(_)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=n[f];if(d){var h=d.shouldBePainted(a,i,!0,!0),v=d.__isRendered&&(d.__dirty&xi||!h)?d.getPrevPaintRect():null;v&&c(v);var p=h&&(d.__dirty&xi||!d.__isRendered)?d.getPaintRect():null;p&&c(p)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=r[f],h=d.shouldBePainted(a,i,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var v=d.getPrevPaintRect();v&&c(v)}}var m;do{m=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var g=f+1;g<o.length;)o[f].intersect(o[g])?(m=!0,o[f].union(o[g]),o.splice(g,1)):g++;f++}}while(m);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,r){var a=this.dpr,i=this.dom,o=i.style,s=this.domBack;o&&(o.width=n+"px",o.height=r+"px"),i.width=n*a,i.height=r*a,s&&(s.width=n*a,s.height=r*a,a!==1&&this.ctxBack.scale(a,a))},t.prototype.clear=function(n,r,a){var i=this.dom,o=this.ctx,s=i.width,l=i.height;r=r||this.clearColor;var u=this.motionBlur&&!n,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/f,l/f));var h=this.domBack;function v(p,m,g,y){if(o.clearRect(p,m,g,y),r&&r!=="transparent"){var _=void 0;if(n1(r)){var x=r.global||r.__width===g&&r.__height===y;_=x&&r.__canvasGradient||AT(o,r,{x:0,y:0,width:g,height:y}),r.__canvasGradient=_,r.__width=g,r.__height=y}else d9(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,_=ET(o,r,{dirty:function(){d.setUnpainted(),d.__painter.refresh()}}));o.save(),o.fillStyle=_||r,o.fillRect(p,m,g,y),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(h,p,m,g,y),o.restore())}!a||u?v(0,0,s,l):a.length&&j(a,function(p){v(p.x*f,p.y*f,p.width*f,p.height*f)})},t}(Ts);const Iw=d_e;var rk=1e5,ec=314159,oy=.01,h_e=.001;function v_e(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function p_e(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var m_e=function(){function e(t,n,r,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=Pe({},r||{}),this.dpr=r.devicePixelRatio||M0,this._singleCanvas=i,this.root=t;var o=t.style;o&&(YB(t),t.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=t,f=c.width,d=c.height;r.width!=null&&(f=r.width),r.height!=null&&(d=r.height),this.dpr=r.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new Iw(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[ec]=h,h.zlevel=ec,s.push(ec),this._domRoot=t}else{this._width=Dg(t,0,r),this._height=Dg(t,1,r);var u=this._domRoot=p_e(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,t,this._redrawId);for(var i=0;i<a.length;i++){var o=a[i],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=i===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var n=t.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,o=0;o<n;o++){var s=t[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(rk)),i||(i=r.ctx,i.save()),wc(i,s,a,o===n-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(rk)},e.prototype.paintOne=function(t,n){R1(t,n)},e.prototype._paintList=function(t,n,r,a){if(this._redrawId===a){r=r||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,n,r),o=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Zd(function(){l._paintList(t,n,r,a)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(ec).ctx,n=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,n,r),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,n,r)})},e.prototype._doPaintList=function(t,n,r){for(var a=this,i=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&i.push(u)}for(var c=!0,f=!1,d=function(p){var m=i[p],g=m.ctx,y=o&&m.createRepaintRects(t,n,h._width,h._height),_=r?m.__startIndex:m.__drawIndex,x=!r&&m.incremental&&Date.now,w=x&&Date.now(),b=m.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,b,y);else if(_===m.__startIndex){var S=t[_];(!S.incremental||!S.notClear||r)&&m.clear(!1,b,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=m.__startIndex);var C,A=function(P){var I={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(C=_;C<m.__endIndex;C++){var k=t[C];if(k.__inHover&&(f=!0),a._doPaintEl(k,m,o,P,I,C===m.__endIndex-1),x){var B=Date.now()-w;if(B>15)break}}I.prevElClipPaths&&g.restore()};if(y)if(y.length===0)C=m.__endIndex;else for(var M=h.dpr,T=0;T<y.length;++T){var E=y[T];g.save(),g.beginPath(),g.rect(E.x*M,E.y*M,E.width*M,E.height*M),g.clip(),A(E),g.restore()}else g.save(),A(),g.restore();m.__drawIndex=C,m.__drawIndex<m.__endIndex&&(c=!1)},h=this,v=0;v<i.length;v++)d(v);return Vt.wxa&&j(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:c,needsRefreshHover:f}},e.prototype._doPaintEl=function(t,n,r,a,i,o){var s=n.ctx;if(r){var l=t.getPaintRect();(!a||l&&l.intersect(a))&&(wc(s,t,i,o),t.setPrevPaintRect(l))}else wc(s,t,i,o)},e.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=ec);var r=this._layers[t];return r||(r=new Iw("zr_"+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?Ze(r,this._layerConfig[t],!0):this._layerConfig[t-oy]&&Ze(r,this._layerConfig[t-oy],!0),n&&(r.virtual=n),this.insertLayer(t,r),r.initContext()),r},e.prototype.insertLayer=function(t,n){var r=this._layers,a=this._zlevelList,i=a.length,o=this._domRoot,s=null,l=-1;if(r[t]){Nc("ZLevel "+t+" has been used already");return}if(!v_e(n)){Nc("Layer of zlevel "+t+" is not valid");return}if(i>0&&t>a[0]){for(l=0;l<i-1&&!(a[l]<t&&a[l+1]>t);l++);s=r[a[l]]}if(a.splice(l+1,0,t),r[t]=n,!n.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(n.dom,u.nextSibling):o.appendChild(n.dom)}else o.firstChild?o.insertBefore(n.dom,o.firstChild):o.appendChild(n.dom);n.__painter=this},e.prototype.eachLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a];t.call(n,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a],o=this._layers[i];o.__builtin__&&t.call(n,o,i)}},e.prototype.eachOtherLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a],o=this._layers[i];o.__builtin__||t.call(n,o,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function n(f){i&&(i.__endIndex!==f&&(i.__dirty=!0),i.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var a=t[r];if(a.zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,o=0,s,l;for(l=0;l<t.length;l++){var a=t[l],u=a.zlevel,c=void 0;s!==u&&(s=u,o=0),a.incremental?(c=this.getLayer(u+h_e,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?oy:0),this._needsManuallyCompositing),c.__builtin__||Nc("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,n(l),i=c),a.__dirty&xi&&!a.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,j(this._layers,function(n){n.setUnpainted()})},e.prototype.configLayer=function(t,n){if(n){var r=this._layerConfig;r[t]?Ze(r[t],n,!0):r[t]=n;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===t||i===t+oy){var o=this._layers[i];Ze(o,r[t],!0)}}}},e.prototype.delLayer=function(t){var n=this._layers,r=this._zlevelList,a=n[t];a&&(a.dom.parentNode.removeChild(a.dom),delete n[t],r.splice(Xt(r,t),1))},e.prototype.resize=function(t,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts,i=this.root;if(t!=null&&(a.width=t),n!=null&&(a.height=n),t=Dg(i,0,a),n=Dg(i,1,a),r.style.display="",this._width!==t||n!==this._height){r.style.width=t+"px",r.style.height=n+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(ec).resize(t,n)}return this},e.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[ec].dom;var n=new Iw("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var r=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=n.dom.width,i=n.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,a,i):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];wc(r,c,o,l===u-1)}return n.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();const g_e=m_e;function y_e(e){e.registerPainter("canvas",g_e)}wn([y_e,Ose]);wn(Pre);function ak(e,t,n){typeof t=="object"&&(n=t,t=null);var r=this,a;if(!(e instanceof Function)){a=[];for(var i in e)e.hasOwnProperty(i)&&a.push(i)}var o=function(l){if(r.apply(this,arguments),e instanceof Function?ik(this,e.call(this,l)):__e(this,e,a),this.constructor===o)for(var u=o.__initializers__,c=0;c<u.length;c++)u[c].apply(this,arguments)};o.__super__=r,r.__initializers__?o.__initializers__=r.__initializers__.slice():o.__initializers__=[],t&&o.__initializers__.push(t);var s=function(){};return s.prototype=r.prototype,o.prototype=new s,o.prototype.constructor=o,ik(o.prototype,n),o.extend=r.extend,o.derive=r.extend,o}function ik(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function __e(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];e[a]=t[a]}}const x_e={extend:ak,derive:ak};function b_e(e,t){this.action=e,this.context=t}var w_e={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var t=this.__handlers__[e],n=t.length,r=-1,a=arguments;switch(a.length){case 1:for(;++r<n;)t[r].action.call(t[r].context);return;case 2:for(;++r<n;)t[r].action.call(t[r].context,a[1]);return;case 3:for(;++r<n;)t[r].action.call(t[r].context,a[1],a[2]);return;case 4:for(;++r<n;)t[r].action.call(t[r].context,a[1],a[2],a[3]);return;case 5:for(;++r<n;)t[r].action.call(t[r].context,a[1],a[2],a[3],a[4]);return;default:for(;++r<n;)t[r].action.apply(t[r].context,Array.prototype.slice.call(a,1));return}}},on:function(e,t,n){if(!(!e||!t)){var r=this.__handlers__||(this.__handlers__={});if(!r[e])r[e]=[];else if(this.has(e,t))return;var a=new b_e(t,n||this);return r[e].push(a),this}},once:function(e,t,n){if(!e||!t)return;var r=this;function a(){r.off(e,a),t.apply(this,arguments)}return this.on(e,a,n)},before:function(e,t,n){if(!(!e||!t))return e="before"+e,this.on(e,t,n)},after:function(e,t,n){if(!(!e||!t))return e="after"+e,this.on(e,t,n)},success:function(e,t){return this.once("success",e,t)},error:function(e,t){return this.once("error",e,t)},off:function(e,t){var n=this.__handlers__||(this.__handlers__={});if(!t){n[e]=[];return}if(n[e]){for(var r=n[e],a=[],i=0;i<r.length;i++)t&&r[i].action!==t&&a.push(r[i]);n[e]=a}return this},has:function(e,t){var n=this.__handlers__;if(!n||!n[e])return!1;for(var r=n[e],a=0;a<r.length;a++)if(r[a].action===t)return!0}};const GE=w_e;var S_e=0,T_e=Array.prototype,C_e=T_e.forEach,Zv={genGUID:function(){return++S_e},relative2absolute:function(e,t){if(!t||e.match(/^\//))return e;for(var n=e.split("/"),r=t.split("/"),a=n[0];a==="."||a==="..";)a===".."&&r.pop(),n.shift(),a=n[0];return r.join("/")+"/"+n.join("/")},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaults:function(e,t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e},extendWithPropList:function(e,t,n){if(t)for(var r=0;r<n.length;r++){var a=n[r];e[a]=t[a]}return e},defaultsWithPropList:function(e,t,n){if(t)for(var r=0;r<n.length;r++){var a=n[r];e[a]==null&&(e[a]=t[a])}return e},each:function(e,t,n){if(e&&t)if(e.forEach&&e.forEach===C_e)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return e?e.length===+e.length:!1},clone:function(e){if(Zv.isObject(e)){if(Zv.isArray(e))return e.slice();if(Zv.isArrayLike(e)){for(var t=new e.constructor(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}else return Zv.extend({},e)}else return e}};const Kr=Zv;var rx=function(){this.__uid__=Kr.genGUID()};rx.__initializers__=[function(e){Kr.extend(this,e)}];Kr.extend(rx,x_e);Kr.extend(rx.prototype,GE);const Ka=rx;var ok=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],sk=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function A_e(e){for(var t={},n={},r=0;r<ok.length;r++){var a=ok[r];o(a)}for(var r=0;r<sk.length;r++){var i=sk[r];n[i]=e.getParameter(e[i])}this.getExtension=function(s){return s in t||o(s),t[s]},this.getParameter=function(s){return n[s]};function o(s){if(e.getExtension){var l=e.getExtension(s);l||(l=e.getExtension("MOZ_"+s)),l||(l=e.getExtension("WEBKIT_"+s)),t[s]=l}}}const me={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444};function E_e(e){var t=new XMLHttpRequest;t.open("get",e.url),t.responseType=e.responseType||"text",e.onprogress&&(t.onprogress=function(n){if(n.lengthComputable){var r=n.loaded/n.total;e.onprogress(r,n.loaded,n.total)}else e.onprogress(null)}),t.onload=function(n){t.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(t.response)},e.onerror&&(t.onerror=e.onerror),t.send(null)}const D_e={get:E_e};var Rw,Qa={};Qa.supportWebGL=function(){if(Rw==null)try{var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)throw new Error}catch{Rw=!1}return Rw};Qa.Int8Array=typeof Int8Array>"u"?Array:Int8Array;Qa.Uint8Array=typeof Uint8Array>"u"?Array:Uint8Array;Qa.Uint16Array=typeof Uint16Array>"u"?Array:Uint16Array;Qa.Uint32Array=typeof Uint32Array>"u"?Array:Uint32Array;Qa.Int16Array=typeof Int16Array>"u"?Array:Int16Array;Qa.Float32Array=typeof Float32Array>"u"?Array:Float32Array;Qa.Float64Array=typeof Float64Array>"u"?Array:Float64Array;var Ec={};typeof window<"u"?Ec=window:typeof global<"u"&&(Ec=global);Qa.requestAnimationFrame=Ec.requestAnimationFrame||Ec.msRequestAnimationFrame||Ec.mozRequestAnimationFrame||Ec.webkitRequestAnimationFrame||function(e){setTimeout(e,16)};Qa.createCanvas=function(){return document.createElement("canvas")};Qa.createImage=function(){return new Ec.Image};Qa.request={get:D_e.get};Qa.addEventListener=function(e,t,n,r){e.addEventListener(t,n,r)};Qa.removeEventListener=function(e,t,n){e.removeEventListener(t,n)};const yr=Qa;var Gr=function(){this.head=null,this.tail=null,this._length=0};Gr.prototype.insert=function(e){var t=new Gr.Entry(e);return this.insertEntry(t),t};Gr.prototype.insertAt=function(e,t){if(!(e<0)){for(var n=this.head,r=0;n&&r!=e;)n=n.next,r++;if(n){var a=new Gr.Entry(t),i=n.prev;i?(i.next=a,a.prev=i):this.head=a,a.next=n,n.prev=a}else this.insert(t)}};Gr.prototype.insertBeforeEntry=function(e,t){var n=new Gr.Entry(e),r=t.prev;r?(r.next=n,n.prev=r):this.head=n,n.next=t,t.prev=n,this._length++};Gr.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++};Gr.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._length--};Gr.prototype.removeAt=function(e){if(!(e<0)){for(var t=this.head,n=0;t&&n!=e;)t=t.next,n++;if(t)return this.remove(t),t.value}};Gr.prototype.getHead=function(){if(this.head)return this.head.value};Gr.prototype.getTail=function(){if(this.tail)return this.tail.value};Gr.prototype.getAt=function(e){if(!(e<0)){for(var t=this.head,n=0;t&&n!=e;)t=t.next,n++;return t.value}};Gr.prototype.indexOf=function(e){for(var t=this.head,n=0;t;){if(t.value===e)return n;t=t.next,n++}};Gr.prototype.length=function(){return this._length};Gr.prototype.isEmpty=function(){return this._length===0};Gr.prototype.forEach=function(e,t){for(var n=this.head,r=0,a=typeof t<"u";n;)a?e.call(t,n.value,r):e(n.value,r),n=n.next,r++};Gr.prototype.clear=function(){this.tail=this.head=null,this._length=0};Gr.Entry=function(e){this.value=e,this.next=null,this.prev=null};const M_e=Gr;var Bh=function(e){this._list=new M_e,this._map={},this._maxSize=e||10};Bh.prototype.setMaxSize=function(e){this._maxSize=e};Bh.prototype.put=function(e,t){if(!this._map.hasOwnProperty(e)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var a=this._list.insert(t);a.key=e,this._map[e]=a}};Bh.prototype.get=function(e){var t=this._map[e];if(this._map.hasOwnProperty(e))return t!==this._list.tail&&(this._list.remove(t),this._list.insertEntry(t)),t.value};Bh.prototype.remove=function(e){var t=this._map[e];typeof t<"u"&&(delete this._map[e],this._list.remove(t))};Bh.prototype.clear=function(){this._list.clear(),this._map={}};const d$=Bh;var Xn={},lk={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function No(e){return e=Math.round(e),e<0?0:e>255?255:e}function P_e(e){return e=Math.round(e),e<0?0:e>360?360:e}function um(e){return e<0?0:e>1?1:e}function Ow(e){return e.length&&e.charAt(e.length-1)==="%"?No(parseFloat(e)/100*255):No(parseInt(e,10))}function oh(e){return e.length&&e.charAt(e.length-1)==="%"?um(parseFloat(e)/100):um(parseFloat(e))}function kw(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function nu(e,t,n){return e+(t-e)*n}function Co(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function FC(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var h$=new d$(20),sy=null;function ud(e,t){sy&&FC(sy,t),sy=h$.put(e,sy||t.slice())}Xn.parse=function(e,t){if(e){t=t||[];var n=h$.get(e);if(n)return FC(t,n);e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in lk)return FC(t,lk[r]),ud(e,t),t;if(r.charAt(0)==="#"){if(r.length===4){var a=parseInt(r.substr(1),16);if(!(a>=0&&a<=4095)){Co(t,0,0,0,1);return}return Co(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,1),ud(e,t),t}else if(r.length===7){var a=parseInt(r.substr(1),16);if(!(a>=0&&a<=16777215)){Co(t,0,0,0,1);return}return Co(t,(a&16711680)>>16,(a&65280)>>8,a&255,1),ud(e,t),t}return}var i=r.indexOf("("),o=r.indexOf(")");if(i!==-1&&o+1===r.length){var s=r.substr(0,i),l=r.substr(i+1,o-(i+1)).split(","),u=1;switch(s){case"rgba":if(l.length!==4){Co(t,0,0,0,1);return}u=oh(l.pop());case"rgb":if(l.length!==3){Co(t,0,0,0,1);return}return Co(t,Ow(l[0]),Ow(l[1]),Ow(l[2]),u),ud(e,t),t;case"hsla":if(l.length!==4){Co(t,0,0,0,1);return}return l[3]=oh(l[3]),UC(l,t),ud(e,t),t;case"hsl":if(l.length!==3){Co(t,0,0,0,1);return}return UC(l,t),ud(e,t),t;default:return}}Co(t,0,0,0,1)}};Xn.parseToFloat=function(e,t){if(t=Xn.parse(e,t),!!t)return t[0]/=255,t[1]/=255,t[2]/=255,t};function UC(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=oh(e[1]),a=oh(e[2]),i=a<=.5?a*(r+1):a+r-a*r,o=a*2-i;return t=t||[],Co(t,No(kw(o,i,n+1/3)*255),No(kw(o,i,n)*255),No(kw(o,i,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function L_e(e){if(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=i-a,s=(i+a)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(i+a):u=o/(2-i-a);var c=((i-t)/6+o/2)/o,f=((i-n)/6+o/2)/o,d=((i-r)/6+o/2)/o;t===i?l=d-f:n===i?l=1/3+c-d:r===i&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return e[3]!=null&&h.push(e[3]),h}}Xn.lift=function(e,t){var n=Xn.parse(e);if(n){for(var r=0;r<3;r++)t<0?n[r]=n[r]*(1-t)|0:n[r]=(255-n[r])*t+n[r]|0;return Xn.stringify(n,n.length===4?"rgba":"rgb")}};Xn.toHex=function(e){var t=Xn.parse(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)};Xn.fastLerp=function(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){n=n||[];var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=t[a],s=t[i],l=r-a;return n[0]=No(nu(o[0],s[0],l)),n[1]=No(nu(o[1],s[1],l)),n[2]=No(nu(o[2],s[2],l)),n[3]=um(nu(o[3],s[3],l)),n}};Xn.fastMapToColor=Xn.fastLerp;Xn.lerp=function(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=Xn.parse(t[a]),s=Xn.parse(t[i]),l=r-a,u=Xn.stringify([No(nu(o[0],s[0],l)),No(nu(o[1],s[1],l)),No(nu(o[2],s[2],l)),um(nu(o[3],s[3],l))],"rgba");return n?{color:u,leftIndex:a,rightIndex:i,value:r}:u}};Xn.mapToColor=Xn.lerp;Xn.modifyHSL=function(e,t,n,r){if(e=Xn.parse(e),e)return e=L_e(e),t!=null&&(e[0]=P_e(t)),n!=null&&(e[1]=oh(n)),r!=null&&(e[2]=oh(r)),Xn.stringify(UC(e),"rgba")};Xn.modifyAlpha=function(e,t){if(e=Xn.parse(e),e&&t!=null)return e[3]=um(t),Xn.stringify(e,"rgba")};Xn.stringify=function(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}};const I_e=Xn;var R_e=I_e.parseToFloat,Nw={};function uk(e){var t=Object.keys(e);t.sort();for(var n=[],r=0;r<t.length;r++){var a=t[r],i=e[a];i===null?n.push(a):n.push(a+" "+i.toString())}return n.join(`
`)}function O_e(e,t,n){n.sort();for(var r=[],a=0;a<n.length;a++){var i=n[a];r.push(i)}var o=uk(e)+`
`+uk(t)+`
`+r.join(`
`);if(Nw[o])return Nw[o];var s=Kr.genGUID();return Nw[o]=s,s}var k_e=Ka.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(e,t){t===void 0&&console.warn('Uniform value "'+e+'" is undefined');var n=this.uniforms[e];n&&(typeof t=="string"&&(t=R_e(t)||t),n.value=t,this.autoUpdateTextureStatus&&n.type==="t"&&(t?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var t in e){var n=e[t];this.setUniform(t,n)}},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,t){if(typeof e=="object")for(var n in e){var r=e[n];this.setUniform(n,r)}else this.setUniform(e,t)},get:function(e){var t=this.uniforms[e];if(t)return t.value},attachShader:function(e,t){var n=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(u){var c=this.uniforms[u].type;return c==="t"||c==="tv"},this);var a=this.vertexDefines,i=this.fragmentDefines;if(this.vertexDefines=Kr.clone(e.vertexDefines),this.fragmentDefines=Kr.clone(e.fragmentDefines),t){for(var o in n)r[o]&&(r[o].value=n[o].value);Kr.defaults(this.vertexDefines,a),Kr.defaults(this.fragmentDefines,i)}var s={};for(var l in e.textures)s[l]={shaderType:e.textures[l].shaderType,type:e.textures[l].type,enabled:t&&this._textureStatus[l]?this._textureStatus[l].enabled:!1};this._textureStatus=s,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var t in this.uniforms)e.uniforms[t].value=this.uniforms[t].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=Kr.clone(this.vertexDefines),e.fragmentDefines=Kr.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,t,n){var r=this.vertexDefines,a=this.fragmentDefines;e!=="vertex"&&e!=="fragment"&&e!=="both"&&arguments.length<3&&(n=t,t=e,e="both"),n=n??null,(e==="vertex"||e==="both")&&r[t]!==n&&(r[t]=n,this._programKey=""),(e==="fragment"||e==="both")&&a[t]!==n&&(a[t]=n,e!=="both"&&(this._programKey=""))},undefine:function(e,t){e!=="vertex"&&e!=="fragment"&&e!=="both"&&arguments.length<2&&(t=e,e="both"),(e==="vertex"||e==="both")&&this.isDefined("vertex",t)&&(delete this.vertexDefines[t],this._programKey=""),(e==="fragment"||e==="both")&&this.isDefined("fragment",t)&&(delete this.fragmentDefines[t],e!=="both"&&(this._programKey=""))},isDefined:function(e,t){switch(e){case"vertex":return this.vertexDefines[t]!==void 0;case"fragment":return this.fragmentDefines[t]!==void 0}},getDefine:function(e,t){switch(e){case"vertex":return this.vertexDefines[t];case"fragment":return this.fragmentDefines[t]}},enableTexture:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)this.enableTexture(e[t]);return}var n=this._textureStatus[e];if(n){var r=n.enabled;r||(n.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)this.disableTexture(e[t]);return}var n=this._textureStatus[e];if(n){var r=!n.enabled;r||(n.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var t=this._textureStatus;return!!t[e]&&t[e].enabled},getEnabledTextures:function(){var e=[],t=this._textureStatus;for(var n in t)t[n].enabled&&e.push(n);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=O_e(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});const ro=k_e;var Qy=1e-6,ra=Array,Md=Math.random,Ct={};Ct.create=function(){var e=new ra(2);return e[0]=0,e[1]=0,e};Ct.clone=function(e){var t=new ra(2);return t[0]=e[0],t[1]=e[1],t};Ct.fromValues=function(e,t){var n=new ra(2);return n[0]=e,n[1]=t,n};Ct.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e};Ct.set=function(e,t,n){return e[0]=t,e[1]=n,e};Ct.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e};Ct.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};Ct.sub=Ct.subtract;Ct.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e};Ct.mul=Ct.multiply;Ct.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e};Ct.div=Ct.divide;Ct.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e};Ct.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e};Ct.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e};Ct.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e};Ct.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};Ct.dist=Ct.distance;Ct.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};Ct.sqrDist=Ct.squaredDistance;Ct.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)};Ct.len=Ct.length;Ct.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n};Ct.sqrLen=Ct.squaredLength;Ct.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e};Ct.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e};Ct.normalize=function(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a),e};Ct.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]};Ct.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e};Ct.lerp=function(e,t,n,r){var a=t[0],i=t[1];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e};Ct.random=function(e,t){t=t||1;var n=GLMAT_RANDOM()*2*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e};Ct.transformMat2=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a,e[1]=n[1]*r+n[3]*a,e};Ct.transformMat2d=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e};Ct.transformMat3=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[3]*a+n[6],e[1]=n[1]*r+n[4]*a+n[7],e};Ct.transformMat4=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e};Ct.forEach=function(){var e=Ct.create();return function(t,n,r,a,i,o){var s,l;for(n||(n=2),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}();const rt=Ct;var Rt=function(e,t){e=e||0,t=t||0,this.array=rt.fromValues(e,t),this._dirty=!0};Rt.prototype={constructor:Rt,add:function(e){return rt.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t){return this.array[0]=e,this.array[1]=t,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new Rt(this.x,this.y)},copy:function(e){return rt.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return rt.cross(e.array,this.array,t.array),e._dirty=!0,this},dist:function(e){return rt.dist(this.array,e.array)},distance:function(e){return rt.distance(this.array,e.array)},div:function(e){return rt.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return rt.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return rt.dot(this.array,e.array)},len:function(){return rt.len(this.array)},length:function(){return rt.length(this.array)},lerp:function(e,t,n){return rt.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return rt.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return rt.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return rt.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return rt.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return rt.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return rt.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return rt.random(this.array,e),this._dirty=!0,this},scale:function(e){return rt.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return rt.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return rt.sqrDist(this.array,e.array)},squaredDistance:function(e){return rt.squaredDistance(this.array,e.array)},sqrLen:function(){return rt.sqrLen(this.array)},squaredLength:function(){return rt.squaredLength(this.array)},sub:function(e){return rt.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return rt.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return rt.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return rt.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return rt.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return rt.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};if(Object.defineProperty){var ck=Rt.prototype;Object.defineProperty(ck,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(ck,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}Rt.add=function(e,t,n){return rt.add(e.array,t.array,n.array),e._dirty=!0,e};Rt.set=function(e,t,n){return rt.set(e.array,t,n),e._dirty=!0,e};Rt.copy=function(e,t){return rt.copy(e.array,t.array),e._dirty=!0,e};Rt.cross=function(e,t,n){return rt.cross(e.array,t.array,n.array),e._dirty=!0,e};Rt.dist=function(e,t){return rt.distance(e.array,t.array)};Rt.distance=Rt.dist;Rt.div=function(e,t,n){return rt.divide(e.array,t.array,n.array),e._dirty=!0,e};Rt.divide=Rt.div;Rt.dot=function(e,t){return rt.dot(e.array,t.array)};Rt.len=function(e){return rt.length(e.array)};Rt.lerp=function(e,t,n,r){return rt.lerp(e.array,t.array,n.array,r),e._dirty=!0,e};Rt.min=function(e,t,n){return rt.min(e.array,t.array,n.array),e._dirty=!0,e};Rt.max=function(e,t,n){return rt.max(e.array,t.array,n.array),e._dirty=!0,e};Rt.mul=function(e,t,n){return rt.multiply(e.array,t.array,n.array),e._dirty=!0,e};Rt.multiply=Rt.mul;Rt.negate=function(e,t){return rt.negate(e.array,t.array),e._dirty=!0,e};Rt.normalize=function(e,t){return rt.normalize(e.array,t.array),e._dirty=!0,e};Rt.random=function(e,t){return rt.random(e.array,t),e._dirty=!0,e};Rt.scale=function(e,t,n){return rt.scale(e.array,t.array,n),e._dirty=!0,e};Rt.scaleAndAdd=function(e,t,n,r){return rt.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e};Rt.sqrDist=function(e,t){return rt.sqrDist(e.array,t.array)};Rt.squaredDistance=Rt.sqrDist;Rt.sqrLen=function(e){return rt.sqrLen(e.array)};Rt.squaredLength=Rt.sqrLen;Rt.sub=function(e,t,n){return rt.subtract(e.array,t.array,n.array),e._dirty=!0,e};Rt.subtract=Rt.sub;Rt.transformMat2=function(e,t,n){return rt.transformMat2(e.array,t.array,n.array),e._dirty=!0,e};Rt.transformMat2d=function(e,t,n){return rt.transformMat2d(e.array,t.array,n.array),e._dirty=!0,e};Rt.transformMat3=function(e,t,n){return rt.transformMat3(e.array,t.array,n.array),e._dirty=!0,e};Rt.transformMat4=function(e,t,n){return rt.transformMat4(e.array,t.array,n.array),e._dirty=!0,e};const _i=Rt;var fk=1,dk=2,Bw=3,hk={};function N_e(e){for(var t=e.split(`
`),n=0,r=t.length;n<r;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function vk(e,t,n){if(!e.getShaderParameter(t,e.COMPILE_STATUS))return[e.getShaderInfoLog(t),N_e(n)].join(`
`)}var pk=new yr.Float32Array(16),B_e=Ka.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){var t=this._locations[e];return t!=null},useTextureSlot:function(e,t,n){t&&(e.gl.activeTexture(e.gl.TEXTURE0+n),t.isRenderable()?t.bind(e):t.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,t){var n=this._textureSlot;return this.useTextureSlot(e,t,n),this._textureSlot++,n},setUniform:function(e,t,n,r){var a=this._locations,i=a[n];if(i==null)return!1;switch(t){case"m4":if(!(r instanceof Float32Array)){for(var o=0;o<r.length;o++)pk[o]=r[o];r=pk}e.uniformMatrix4fv(i,!1,r);break;case"2i":e.uniform2i(i,r[0],r[1]);break;case"2f":e.uniform2f(i,r[0],r[1]);break;case"3i":e.uniform3i(i,r[0],r[1],r[2]);break;case"3f":e.uniform3f(i,r[0],r[1],r[2]);break;case"4i":e.uniform4i(i,r[0],r[1],r[2],r[3]);break;case"4f":e.uniform4f(i,r[0],r[1],r[2],r[3]);break;case"1i":e.uniform1i(i,r);break;case"1f":e.uniform1f(i,r);break;case"1fv":e.uniform1fv(i,r);break;case"1iv":e.uniform1iv(i,r);break;case"2iv":e.uniform2iv(i,r);break;case"2fv":e.uniform2fv(i,r);break;case"3iv":e.uniform3iv(i,r);break;case"3fv":e.uniform3fv(i,r);break;case"4iv":e.uniform4iv(i,r);break;case"4fv":e.uniform4fv(i,r);break;case"m2":case"m2v":e.uniformMatrix2fv(i,!1,r);break;case"m3":case"m3v":e.uniformMatrix3fv(i,!1,r);break;case"m4v":if(Array.isArray(r)&&Array.isArray(r[0])){for(var s=new yr.Float32Array(r.length*16),l=0,o=0;o<r.length;o++)for(var u=r[o],c=0;c<16;c++)s[l++]=u[c];e.uniformMatrix4fv(i,!1,s)}else e.uniformMatrix4fv(i,!1,r);break}return!0},setUniformOfSemantic:function(e,t,n){var r=this.uniformSemantics[t];return r?this.setUniform(e,r.type,r.symbol,n):!1},enableAttributes:function(e,t,n){var r=e.gl,a=this._program,i=this._locations,o;n?o=n.__enabledAttributeList:o=hk[e.__uid__],o||(n?o=n.__enabledAttributeList=[]:o=hk[e.__uid__]=[]);for(var s=[],l=0;l<t.length;l++){var u=t[l];if(!this.attributes[u]){s[l]=-1;continue}var c=i[u];if(c==null){if(c=r.getAttribLocation(a,u),c===-1){s[l]=-1;continue}i[u]=c}s[l]=c,o[c]?o[c]=dk:o[c]=fk}for(var l=0;l<o.length;l++)switch(o[l]){case fk:r.enableVertexAttribArray(l),o[l]=Bw;break;case dk:o[l]=Bw;break;case Bw:r.disableVertexAttribArray(l),o[l]=0;break}return s},getAttribLocation:function(e,t){var n=this._locations,r=n[t];return r==null&&(r=e.getAttribLocation(this._program,t),n[t]=r),r},buildProgram:function(e,t,n,r){var a=e.createShader(e.VERTEX_SHADER),i=e.createProgram();e.shaderSource(a,n),e.compileShader(a);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o);var s=vk(e,a,n);if(s||(s=vk(e,o,r),s))return s;if(e.attachShader(i,a),e.attachShader(i,o),t.attributeSemantics.POSITION)e.bindAttribLocation(i,0,t.attributeSemantics.POSITION.symbol);else{var l=Object.keys(this.attributes);e.bindAttribLocation(i,0,l[0])}if(e.linkProgram(i),e.deleteShader(a),e.deleteShader(o),this._program=i,this.vertexCode=n,this.fragmentCode=r,!e.getProgramParameter(i,e.LINK_STATUS))return`Could not link program
`+e.getProgramInfoLog(i);for(var u=0;u<t.uniforms.length;u++){var c=t.uniforms[u];this._locations[c]=e.getUniformLocation(i,c)}}});const V_e=B_e;var F_e=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function mk(e,t,n){function r(o,s,l,u){var c="";isNaN(s)&&(s in t?s=t[s]:s=a[s]),isNaN(l)&&(l in t?l=t[l]:l=a[l]);for(var f=parseInt(s);f<parseInt(l);f++)c+="{"+u.replace(/float\s*\(\s*_idx_\s*\)/g,f.toFixed(1)).replace(/_idx_/g,f)+"}";return c}var a={};for(var i in n)a[i+"_COUNT"]=n[i];return e.replace(F_e,r)}function Vw(e,t,n){var r=[];if(t)for(var a in t){var i=t[a];i>0&&r.push("#define "+a.toUpperCase()+"_COUNT "+i)}if(n)for(var o=0;o<n.length;o++){var s=n[o];r.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in e){var l=e[s];l===null?r.push("#define "+s):r.push("#define "+s+" "+l.toString())}return r.join(`
`)}function U_e(e){for(var t=[],n=0;n<e.length;n++)t.push("#extension GL_"+e[n]+" : enable");return t.join(`
`)}function z_e(e){return["precision",e,"float"].join(" ")+`;
`+["precision",e,"int"].join(" ")+`;
`+["precision",e,"sampler2D"].join(" ")+`;
`}function v$(e){this._renderer=e,this._cache={}}v$.prototype.getProgram=function(e,t,n){var r=this._cache,a=e.isSkinnedMesh&&e.isSkinnedMesh(),i=e.isInstancedMesh&&e.isInstancedMesh(),o="s"+t.shader.shaderID+"m"+t.getProgramKey();n&&(o+="se"+n.getProgramKey(e.lightGroup)),a&&(o+=",sk"+e.joints.length),i&&(o+=",is");var x=r[o];if(x)return x;var s=n?n.getLightsNumbers(e.lightGroup):{},l=this._renderer,u=l.gl,c=t.getEnabledTextures(),f="";if(a){var d={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>l.getMaxJointNumber()&&(d.USE_SKIN_MATRICES_TEXTURE=null),f+=`
`+Vw(d)+`
`}i&&(f+=`
#define INSTANCING
`);var h=f+Vw(t.vertexDefines,s,c),v=f+Vw(t.fragmentDefines,s,c),p=h+`
`+t.shader.vertex,m=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(b){return l.getGLExtension(b)!=null});m.indexOf("EXT_shader_texture_lod")>=0&&(v+=`
#define SUPPORT_TEXTURE_LOD`),m.indexOf("OES_standard_derivatives")>=0&&(v+=`
#define SUPPORT_STANDARD_DERIVATIVES`);var g=U_e(m)+`
`+z_e(t.precision)+`
`+v+`
`+t.shader.fragment,y=mk(p,t.vertexDefines,s),_=mk(g,t.fragmentDefines,s),x=new V_e;x.uniformSemantics=t.shader.uniformSemantics,x.attributes=t.shader.attributes;var w=x.buildProgram(u,t.shader,y,_);return x.__error=w,r[o]=x,x};var gk=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,H_e=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,yk=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,$_e={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function Rs(e){for(var t=[],n=0;n<e;n++)t[n]=0;return t}var _k={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return Rs(2)},vec3:function(){return Rs(3)},vec4:function(){return Rs(4)},ivec2:function(){return Rs(2)},ivec3:function(){return Rs(3)},ivec4:function(){return Rs(4)},mat2:function(){return Rs(4)},mat3:function(){return Rs(9)},mat4:function(){return Rs(16)},array:function(){return[]}},zC=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],p$=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],m$=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],G_e={vec4:4,vec3:3,vec2:2,float:1},Fw={},g$={};function W_e(e,t){var n="vertex:"+e+"fragment:"+t;if(Fw[n])return Fw[n];var r=Kr.genGUID();return Fw[n]=r,g$[r]={vertex:e,fragment:t},r}function xk(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function cd(){console.error("Wrong uniform/attributes syntax")}function bk(e,t){for(var n=/[,=\(\):]/,r=t.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),a=[],i=0;i<r.length;i++)r[i].match(n)?a.push(r[i].charAt(0),r[i].slice(1)):a.push(r[i]);r=a;var o=0,s=1,l=2,u=3,c=4,f=5,d=o,h={},v=null,p;m(r[0]);function m(_){_||cd();var x=_.match(/\[(.*?)\]/);p=_.replace(/\[(.*?)\]/,""),h[p]={},x&&(h[p].isArray=!0,h[p].arraySize=x[1])}for(var i=1;i<r.length;i++){var g=r[i];if(g){if(g==="="){if(d!==o&&d!==u){cd();break}d=s;continue}else if(g===":"){d=c;continue}else if(g===","){if(d===l){if(!(v instanceof Array)){cd();break}v.push(+r[++i])}else d=f;continue}else if(g===")"){h[p].value=new yr.Float32Array(v),v=null,d=f;continue}else if(g==="("){if(d!==l){cd();break}if(!(v instanceof Array)){cd();break}v.push(+r[++i]);continue}else if(g.indexOf("vec")>=0){if(d!==s&&d!==c){cd();break}d=l,v=[];continue}else if(d===s){e==="bool"?h[p].value=g==="true":h[p].value=parseFloat(g),v=null;continue}else if(d===c){var y=g;zC.indexOf(y)>=0||p$.indexOf(y)>=0||m$.indexOf(y)>=0?h[p].semantic=y:y==="ignore"||y==="unconfigurable"?h[p].ignore=!0:e==="bool"?h[p].value=y==="true":h[p].value=parseFloat(y);continue}m(g),d=o}}return h}function Re(e,t){typeof e=="object"&&(t=e.fragment,e=e.vertex),e=xk(e),t=xk(t),this._shaderID=W_e(e,t),this._vertexCode=Re.parseImport(e),this._fragmentCode=Re.parseImport(t),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}Re.prototype={constructor:Re,createUniforms:function(){var e={};for(var t in this.uniformTemplates){var n=this.uniformTemplates[t];e[t]={type:n.type,value:n.value()}}return e},_parseImport:function(){this._vertexCode=Re.parseImport(this.vertex),this._fragmentCode=Re.parseImport(this.fragment)},_addSemanticUniform:function(e,t,n){if(zC.indexOf(n)>=0)this.attributeSemantics[n]={symbol:e,type:t};else if(m$.indexOf(n)>=0){var r=!1,a=n;n.match(/TRANSPOSE$/)&&(r=!0,a=n.slice(0,-9)),this.matrixSemantics[n]={symbol:e,type:t,isTranspose:r,semanticNoTranspose:a}}else p$.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:e,type:t})},_addMaterialUniform:function(e,t,n,r,a,i){i[e]={type:n,value:a?_k.array:r||_k[t],semantic:null}},_parseUniforms:function(){var e={},t=this,n="vertex";this._uniformList=[],this._vertexCode=this._vertexCode.replace(gk,a),n="fragment",this._fragmentCode=this._fragmentCode.replace(gk,a),t.matrixSemanticKeys=Object.keys(this.matrixSemantics);function r(i){return i!=null?function(){return i}:null}function a(i,o,s){var l=bk(o,s),u=[];for(var c in l){var f=l[c],d=f.semantic,h=c,v=$_e[o],p=r(l[c].value);l[c].isArray&&(h+="["+l[c].arraySize+"]",v+="v"),u.push(h),t._uniformList.push(c),f.ignore||((o==="sampler2D"||o==="samplerCube")&&(t.textures[c]={shaderType:n,type:o}),d?t._addSemanticUniform(c,v,d):t._addMaterialUniform(c,o,v,p,l[c].isArray,e))}return u.length>0?"uniform "+o+" "+u.join(",")+`;
`:""}this.uniformTemplates=e},_parseAttributes:function(){var e={},t=this;this._vertexCode=this._vertexCode.replace(H_e,n);function n(r,a,i){var o=bk(a,i),s=G_e[a]||1,l=[];for(var u in o){var c=o[u].semantic;if(e[u]={type:"float",size:s,semantic:c||null},c){if(zC.indexOf(c)<0)throw new Error('Unkown semantic "'+c+'"');t.attributeSemantics[c]={symbol:u,type:a}}l.push(u)}return"attribute "+a+" "+l.join(",")+`;
`}this.attributes=e},_parseDefines:function(){var e=this,t="vertex";this._vertexCode=this._vertexCode.replace(yk,n),t="fragment",this._fragmentCode=this._fragmentCode.replace(yk,n);function n(r,a,i){var o=t==="vertex"?e.vertexDefines:e.fragmentDefines;return o[a]||(i==="false"?o[a]=!1:i==="true"?o[a]=!0:o[a]=i?isNaN(parseFloat(i))?i.trim():parseFloat(i):null),""}},clone:function(){var e=g$[this._shaderID],t=new Re(e.vertex,e.fragment);return t}};Object.defineProperty&&(Object.defineProperty(Re.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(Re.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(Re.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(Re.prototype,"uniforms",{get:function(){return this._uniformList}}));var Y_e=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;Re.parseImport=function(e){return e=e.replace(Y_e,function(a,n,r){var a=Re.source(r);return a?Re.parseImport(a):(console.error('Shader chunk "'+r+'" not existed in library'),"")}),e};var j_e=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;Re.import=function(e){e.replace(j_e,function(t,n,r,i){var i=i.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(i){for(var o=r.split("."),s=Re.codes,l=0,u;l<o.length-1;)u=o[l++],s[u]||(s[u]={}),s=s[u];u=o[l],s[u]=i}return i})};Re.codes={};Re.source=function(e){for(var t=e.split("."),n=Re.codes,r=0;n&&r<t.length;){var a=t[r++];n=n[a]}return typeof n!="string"?(console.error('Shader "'+e+'" not existed in library'),""):n};const y$=`@export clay.prez.vertex
uniform mat4 WVP : WORLDVIEWPROJECTION;
attribute vec3 pos : POSITION;
attribute vec2 uv : TEXCOORD_0;
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec2 v_Texcoord;
void main()
{
 vec4 P = vec4(pos, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = WVP * P;
 v_Texcoord = uv * uvRepeat + uvOffset;
}
@end
@export clay.prez.fragment
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
varying vec2 v_Texcoord;
void main()
{
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
 gl_FragColor = vec4(0.0,0.0,0.0,1.0);
}
@end`;var Dn={};Dn.create=function(){var e=new ra(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};Dn.clone=function(e){var t=new ra(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};Dn.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};Dn.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};Dn.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e};Dn.invert=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15],y=n*s-r*o,_=n*l-a*o,x=n*u-i*o,w=r*l-a*s,b=r*u-i*s,S=a*u-i*l,C=c*p-f*v,A=c*m-d*v,M=c*g-h*v,T=f*m-d*p,E=f*g-h*p,P=d*g-h*m,I=y*P-_*E+x*T+w*M-b*A+S*C;return I?(I=1/I,e[0]=(s*P-l*E+u*T)*I,e[1]=(a*E-r*P-i*T)*I,e[2]=(p*S-m*b+g*w)*I,e[3]=(d*b-f*S-h*w)*I,e[4]=(l*M-o*P-u*A)*I,e[5]=(n*P-a*M+i*A)*I,e[6]=(m*x-v*S-g*_)*I,e[7]=(c*S-d*x+h*_)*I,e[8]=(o*E-s*M+u*C)*I,e[9]=(r*M-n*E-i*C)*I,e[10]=(v*b-p*x+g*y)*I,e[11]=(f*x-c*b-h*y)*I,e[12]=(s*A-o*T-l*C)*I,e[13]=(n*T-r*A+a*C)*I,e[14]=(p*_-v*w-m*y)*I,e[15]=(c*w-f*_+d*y)*I,e):null};Dn.adjoint=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15];return e[0]=s*(d*g-h*m)-f*(l*g-u*m)+p*(l*h-u*d),e[1]=-(r*(d*g-h*m)-f*(a*g-i*m)+p*(a*h-i*d)),e[2]=r*(l*g-u*m)-s*(a*g-i*m)+p*(a*u-i*l),e[3]=-(r*(l*h-u*d)-s*(a*h-i*d)+f*(a*u-i*l)),e[4]=-(o*(d*g-h*m)-c*(l*g-u*m)+v*(l*h-u*d)),e[5]=n*(d*g-h*m)-c*(a*g-i*m)+v*(a*h-i*d),e[6]=-(n*(l*g-u*m)-o*(a*g-i*m)+v*(a*u-i*l)),e[7]=n*(l*h-u*d)-o*(a*h-i*d)+c*(a*u-i*l),e[8]=o*(f*g-h*p)-c*(s*g-u*p)+v*(s*h-u*f),e[9]=-(n*(f*g-h*p)-c*(r*g-i*p)+v*(r*h-i*f)),e[10]=n*(s*g-u*p)-o*(r*g-i*p)+v*(r*u-i*s),e[11]=-(n*(s*h-u*f)-o*(r*h-i*f)+c*(r*u-i*s)),e[12]=-(o*(f*m-d*p)-c*(s*m-l*p)+v*(s*d-l*f)),e[13]=n*(f*m-d*p)-c*(r*m-a*p)+v*(r*d-a*f),e[14]=-(n*(s*m-l*p)-o*(r*m-a*p)+v*(r*l-a*s)),e[15]=n*(s*d-l*f)-o*(r*d-a*f)+c*(r*l-a*s),e};Dn.determinant=function(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],v=e[13],p=e[14],m=e[15],g=t*o-n*i,y=t*s-r*i,_=t*l-a*i,x=n*s-r*o,w=n*l-a*o,b=r*l-a*s,S=u*v-c*h,C=u*p-f*h,A=u*m-d*h,M=c*p-f*v,T=c*m-d*v,E=f*m-d*p;return g*E-y*T+_*M+x*A-w*C+b*S};Dn.multiply=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],v=t[11],p=t[12],m=t[13],g=t[14],y=t[15],_=n[0],x=n[1],w=n[2],b=n[3];return e[0]=_*r+x*s+w*f+b*p,e[1]=_*a+x*l+w*d+b*m,e[2]=_*i+x*u+w*h+b*g,e[3]=_*o+x*c+w*v+b*y,_=n[4],x=n[5],w=n[6],b=n[7],e[4]=_*r+x*s+w*f+b*p,e[5]=_*a+x*l+w*d+b*m,e[6]=_*i+x*u+w*h+b*g,e[7]=_*o+x*c+w*v+b*y,_=n[8],x=n[9],w=n[10],b=n[11],e[8]=_*r+x*s+w*f+b*p,e[9]=_*a+x*l+w*d+b*m,e[10]=_*i+x*u+w*h+b*g,e[11]=_*o+x*c+w*v+b*y,_=n[12],x=n[13],w=n[14],b=n[15],e[12]=_*r+x*s+w*f+b*p,e[13]=_*a+x*l+w*d+b*m,e[14]=_*i+x*u+w*h+b*g,e[15]=_*o+x*c+w*v+b*y,e};Dn.multiplyAffine=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[4],s=t[5],l=t[6],u=t[8],c=t[9],f=t[10],d=t[12],h=t[13],v=t[14],p=n[0],m=n[1],g=n[2];return e[0]=p*r+m*o+g*u,e[1]=p*a+m*s+g*c,e[2]=p*i+m*l+g*f,p=n[4],m=n[5],g=n[6],e[4]=p*r+m*o+g*u,e[5]=p*a+m*s+g*c,e[6]=p*i+m*l+g*f,p=n[8],m=n[9],g=n[10],e[8]=p*r+m*o+g*u,e[9]=p*a+m*s+g*c,e[10]=p*i+m*l+g*f,p=n[12],m=n[13],g=n[14],e[12]=p*r+m*o+g*u+d,e[13]=p*a+m*s+g*c+h,e[14]=p*i+m*l+g*f+v,e};Dn.mul=Dn.multiply;Dn.mulAffine=Dn.multiplyAffine;Dn.translate=function(e,t,n){var r=n[0],a=n[1],i=n[2],o,s,l,u,c,f,d,h,v,p,m,g;return t===e?(e[12]=t[0]*r+t[4]*a+t[8]*i+t[12],e[13]=t[1]*r+t[5]*a+t[9]*i+t[13],e[14]=t[2]*r+t[6]*a+t[10]*i+t[14],e[15]=t[3]*r+t[7]*a+t[11]*i+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],c=t[4],f=t[5],d=t[6],h=t[7],v=t[8],p=t[9],m=t[10],g=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=v,e[9]=p,e[10]=m,e[11]=g,e[12]=o*r+c*a+v*i+t[12],e[13]=s*r+f*a+p*i+t[13],e[14]=l*r+d*a+m*i+t[14],e[15]=u*r+h*a+g*i+t[15]),e};Dn.scale=function(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};Dn.rotate=function(e,t,n,r){var a=r[0],i=r[1],o=r[2],s=Math.sqrt(a*a+i*i+o*o),l,u,c,f,d,h,v,p,m,g,y,_,x,w,b,S,C,A,M,T,E,P,I,k;return Math.abs(s)<Qy?null:(s=1/s,a*=s,i*=s,o*=s,l=Math.sin(n),u=Math.cos(n),c=1-u,f=t[0],d=t[1],h=t[2],v=t[3],p=t[4],m=t[5],g=t[6],y=t[7],_=t[8],x=t[9],w=t[10],b=t[11],S=a*a*c+u,C=i*a*c+o*l,A=o*a*c-i*l,M=a*i*c-o*l,T=i*i*c+u,E=o*i*c+a*l,P=a*o*c+i*l,I=i*o*c-a*l,k=o*o*c+u,e[0]=f*S+p*C+_*A,e[1]=d*S+m*C+x*A,e[2]=h*S+g*C+w*A,e[3]=v*S+y*C+b*A,e[4]=f*M+p*T+_*E,e[5]=d*M+m*T+x*E,e[6]=h*M+g*T+w*E,e[7]=v*M+y*T+b*E,e[8]=f*P+p*I+_*k,e[9]=d*P+m*I+x*k,e[10]=h*P+g*I+w*k,e[11]=v*P+y*I+b*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)};Dn.rotateX=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+u*r,e[5]=o*a+c*r,e[6]=s*a+f*r,e[7]=l*a+d*r,e[8]=u*a-i*r,e[9]=c*a-o*r,e[10]=f*a-s*r,e[11]=d*a-l*r,e};Dn.rotateY=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-u*r,e[1]=o*a-c*r,e[2]=s*a-f*r,e[3]=l*a-d*r,e[8]=i*r+u*a,e[9]=o*r+c*a,e[10]=s*r+f*a,e[11]=l*r+d*a,e};Dn.rotateZ=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+u*r,e[1]=o*a+c*r,e[2]=s*a+f*r,e[3]=l*a+d*r,e[4]=u*a-i*r,e[5]=c*a-o*r,e[6]=f*a-s*r,e[7]=d*a-l*r,e};Dn.fromRotationTranslation=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=r+r,l=a+a,u=i+i,c=r*s,f=r*l,d=r*u,h=a*l,v=a*u,p=i*u,m=o*s,g=o*l,y=o*u;return e[0]=1-(h+p),e[1]=f+y,e[2]=d-g,e[3]=0,e[4]=f-y,e[5]=1-(c+p),e[6]=v+m,e[7]=0,e[8]=d+g,e[9]=v-m,e[10]=1-(c+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e};Dn.fromQuat=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,l=a+a,u=n*o,c=r*o,f=r*s,d=a*o,h=a*s,v=a*l,p=i*o,m=i*s,g=i*l;return e[0]=1-f-v,e[1]=c+g,e[2]=d-m,e[3]=0,e[4]=c-g,e[5]=1-u-v,e[6]=h+p,e[7]=0,e[8]=d+m,e[9]=h-p,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};Dn.frustum=function(e,t,n,r,a,i,o){var s=1/(n-t),l=1/(a-r),u=1/(i-o);return e[0]=i*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(a+r)*l,e[10]=(o+i)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*u,e[15]=0,e};Dn.perspective=function(e,t,n,r,a){var i=1/Math.tan(t/2),o=1/(r-a);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*r*o,e[15]=0,e};Dn.ortho=function(e,t,n,r,a,i,o){var s=1/(t-n),l=1/(r-a),u=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*l,e[14]=(o+i)*u,e[15]=1,e};Dn.lookAt=function(e,t,n,r){var a,i,o,s,l,u,c,f,d,h,v=t[0],p=t[1],m=t[2],g=r[0],y=r[1],_=r[2],x=n[0],w=n[1],b=n[2];return Math.abs(v-x)<Qy&&Math.abs(p-w)<Qy&&Math.abs(m-b)<Qy?Dn.identity(e):(c=v-x,f=p-w,d=m-b,h=1/Math.sqrt(c*c+f*f+d*d),c*=h,f*=h,d*=h,a=y*d-_*f,i=_*c-g*d,o=g*f-y*c,h=Math.sqrt(a*a+i*i+o*o),h?(h=1/h,a*=h,i*=h,o*=h):(a=0,i=0,o=0),s=f*o-d*i,l=d*a-c*o,u=c*i-f*a,h=Math.sqrt(s*s+l*l+u*u),h?(h=1/h,s*=h,l*=h,u*=h):(s=0,l=0,u=0),e[0]=a,e[1]=s,e[2]=c,e[3]=0,e[4]=i,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=u,e[10]=d,e[11]=0,e[12]=-(a*v+i*p+o*m),e[13]=-(s*v+l*p+u*m),e[14]=-(c*v+f*p+d*m),e[15]=1,e)};Dn.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};const Oe=Dn;var ct={};ct.create=function(){var e=new ra(3);return e[0]=0,e[1]=0,e[2]=0,e};ct.clone=function(e){var t=new ra(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};ct.fromValues=function(e,t,n){var r=new ra(3);return r[0]=e,r[1]=t,r[2]=n,r};ct.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e};ct.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e};ct.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e};ct.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};ct.sub=ct.subtract;ct.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e};ct.mul=ct.multiply;ct.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e};ct.div=ct.divide;ct.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e};ct.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e};ct.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e};ct.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e};ct.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(n*n+r*r+a*a)};ct.dist=ct.distance;ct.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a};ct.sqrDist=ct.squaredDistance;ct.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};ct.len=ct.length;ct.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};ct.sqrLen=ct.squaredLength;ct.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e};ct.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e};ct.normalize=function(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e};ct.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]};ct.cross=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],l=n[2];return e[0]=a*l-i*s,e[1]=i*o-r*l,e[2]=r*s-a*o,e};ct.lerp=function(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e};ct.random=function(e,t){t=t||1;var n=Md()*2*Math.PI,r=Md()*2-1,a=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=r*t,e};ct.transformMat4=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,e};ct.transformMat3=function(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e};ct.transformQuat=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*a,f=u*a+l*r-o*i,d=u*i+o*a-s*r,h=-o*r-s*a-l*i;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e};ct.rotateX=function(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};ct.rotateY=function(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};ct.rotateZ=function(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};ct.forEach=function(){var e=ct.create();return function(t,n,r,a,i,o){var s,l;for(n||(n=3),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();ct.angle=function(e,t){var n=ct.fromValues(e[0],e[1],e[2]),r=ct.fromValues(t[0],t[1],t[2]);ct.normalize(n,n),ct.normalize(r,r);var a=ct.dot(n,r);return a>1?0:Math.acos(a)};const re=ct;Re.import(y$);var zn=Oe.create,wk={};function Sk(e){return e.material}function X_e(e,t,n){return t.uniforms[n].value}function q_e(e,t,n,r){return n!==r}function Z_e(e){return!0}function Tk(){}var Ck={float:me.FLOAT,byte:me.BYTE,ubyte:me.UNSIGNED_BYTE,short:me.SHORT,ushort:me.UNSIGNED_SHORT};function K_e(e,t,n){this.availableAttributes=e,this.availableAttributeSymbols=t,this.indicesBuffer=n,this.vao=null}function Q_e(e){var t,n;this.bind=function(r){t||(t=yr.createCanvas(),t.width=t.height=1,t.getContext("2d"));var a=r.gl,i=!n;i&&(n=a.createTexture()),a.bindTexture(a.TEXTURE_2D,n),i&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,t)},this.unbind=function(r){r.gl.bindTexture(r.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var vu=Ka.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window<"u"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=yr.createCanvas());var e=this.canvas;try{var t={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!this.gl)throw new Error;this._glinfo=new A_e(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(n){throw"Error creating WebGL Context "+n}this._programMgr=new v$(this),this._placeholderTexture=new Q_e},{resize:function(e,t){var n=this.canvas,r=this.devicePixelRatio;e!=null?(n.style&&(n.style.width=e+"px",n.style.height=t+"px"),n.width=e*r,n.height=t*r,this._width=e,this._height=t):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,t,n,r,a){if(typeof e=="object"){var i=e;e=i.x,t=i.y,n=i.width,r=i.height,a=i.devicePixelRatio}a=a||this.devicePixelRatio,this.gl.viewport(e*a,t*a,n*a,r*a),this.viewport={x:e,y:t,width:n,height:r,devicePixelRatio:a}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,t,n,r){var a=this.gl,i=this.clearColor;if(this.clearBit){a.colorMask(!0,!0,!0,!0),a.depthMask(!0);var o=this.viewport,s=!1,l=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||l&&l!==this.devicePixelRatio||o.x||o.y)&&(s=!0,a.enable(a.SCISSOR_TEST),a.scissor(o.x*l,o.y*l,o.width*l,o.height*l)),a.clearColor(i[0],i[1],i[2],i[3]),a.clear(this.clearBit),s&&a.disable(a.SCISSOR_TEST)}if(n||e.update(!1),e.updateLights(),t=t||e.getMainCamera(),!t){console.error("Can't find camera in the scene.");return}t.update();var u=e.updateRenderList(t,!0);this._sceneRendering=e;var c=u.opaque,f=u.transparent,d=e.material;e.trigger("beforerender",this,e,t,u),r?(this.renderPreZ(c,e,t),a.depthFunc(a.LEQUAL)):a.depthFunc(a.LESS);for(var h=zn(),v=re.create(),p=0;p<f.length;p++){var m=f[p];Oe.multiplyAffine(h,t.viewMatrix.array,m.worldTransform.array),re.transformMat4(v,m.position.array,h),m.__depth=v[2]}this.renderPass(c,t,{getMaterial:function(g){return d||g.material},sortCompare:this.opaqueSortCompare}),this.renderPass(f,t,{getMaterial:function(g){return d||g.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,t,u),this._sceneRendering=null},getProgram:function(e,t,n){return t=t||e.material,this._programMgr.getProgram(e,t,n)},validateProgram:function(e){if(e.__error){var t=e.__error;if(wk[e.__uid__])return;if(wk[e.__uid__]=!0,this.throwError)throw new Error(t);this.trigger("error",t)}},updatePrograms:function(e,t,n){var r=n&&n.getMaterial||Sk;t=t||null;for(var a=0;a<e.length;a++){var i=e[a],o=r.call(this,i);if(a>0){var s=e[a-1],l=s.joints?s.joints.length:0,u=i.joints?i.joints.length:0;if(u===l&&i.material===s.material&&i.lightGroup===s.lightGroup){i.__program=s.__program;continue}}var c=this._programMgr.getProgram(i,o,t);this.validateProgram(c),i.__program=c}},renderPass:function(e,t,n){this.trigger("beforerenderpass",this,e,t,n),n=n||{},n.getMaterial=n.getMaterial||Sk,n.getUniform=n.getUniform||X_e,n.isMaterialChanged=n.isMaterialChanged||q_e,n.beforeRender=n.beforeRender||Tk,n.afterRender=n.afterRender||Tk;var r=n.ifRender||Z_e;this.updatePrograms(e,this._sceneRendering,n),n.sortCompare&&e.sort(n.sortCompare);var a=this.viewport,i=a.devicePixelRatio,o=[a.x*i,a.y*i,a.width*i,a.height*i],s=this.devicePixelRatio,l=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],u=[o[2],o[3]],c=Date.now();t?(Oe.copy(Un.VIEW,t.viewMatrix.array),Oe.copy(Un.PROJECTION,t.projectionMatrix.array),Oe.copy(Un.VIEWINVERSE,t.worldTransform.array)):(Oe.identity(Un.VIEW),Oe.identity(Un.PROJECTION),Oe.identity(Un.VIEWINVERSE)),Oe.multiply(Un.VIEWPROJECTION,Un.PROJECTION,Un.VIEW),Oe.invert(Un.PROJECTIONINVERSE,Un.PROJECTION),Oe.invert(Un.VIEWPROJECTIONINVERSE,Un.VIEWPROJECTION);for(var f=this.gl,d=this._sceneRendering,h,v,p,m,g,y,_,x,w,b,S,C,A=null,M=0;M<e.length;M++){var T=e[M],E=T.worldTransform!=null,P;if(r(T)){E&&(P=T.isSkinnedMesh&&T.isSkinnedMesh()?T.offsetMatrix?T.offsetMatrix.array:Un.IDENTITY:T.worldTransform.array);var I=T.geometry,k=n.getMaterial.call(this,T),B=T.__program,U=k.shader,R=I.__uid__+"-"+B.__uid__,L=R!==b;b=R,L&&A&&A.bindVertexArrayOES(null),E&&(Oe.copy(Un.WORLD,P),Oe.multiply(Un.WORLDVIEWPROJECTION,Un.VIEWPROJECTION,P),Oe.multiplyAffine(Un.WORLDVIEW,Un.VIEW,P),(U.matrixSemantics.WORLDINVERSE||U.matrixSemantics.WORLDINVERSETRANSPOSE)&&Oe.invert(Un.WORLDINVERSE,P),(U.matrixSemantics.WORLDVIEWINVERSE||U.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&Oe.invert(Un.WORLDVIEWINVERSE,Un.WORLDVIEW),(U.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||U.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&Oe.invert(Un.WORLDVIEWPROJECTIONINVERSE,Un.WORLDVIEWPROJECTION)),T.beforeRender&&T.beforeRender(this),n.beforeRender.call(this,T,k,h);var z=B!==v;z?(B.bind(this),B.setUniformOfSemantic(f,"VIEWPORT",o),B.setUniformOfSemantic(f,"WINDOW_SIZE",l),t&&(B.setUniformOfSemantic(f,"NEAR",t.near),B.setUniformOfSemantic(f,"FAR",t.far)),B.setUniformOfSemantic(f,"DEVICEPIXELRATIO",i),B.setUniformOfSemantic(f,"TIME",c),B.setUniformOfSemantic(f,"VIEWPORT_SIZE",u),d&&d.setLightUniforms(B,T.lightGroup,this)):B=v,(z||n.isMaterialChanged(T,p,k,h))&&(k.depthTest!==m&&(k.depthTest?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),m=k.depthTest),k.depthMask!==g&&(f.depthMask(k.depthMask),g=k.depthMask),k.transparent!==w&&(k.transparent?f.enable(f.BLEND):f.disable(f.BLEND),w=k.transparent),k.transparent&&(k.blend?k.blend(f):(f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA))),C=this._bindMaterial(T,k,B,p||null,h||null,v||null,n.getUniform),h=k);var X=U.matrixSemanticKeys;if(E)for(var Y=0;Y<X.length;Y++){var $=X[Y],F=U.matrixSemantics[$],N=Un[$];if(F.isTranspose){var H=Un[F.semanticNoTranspose];Oe.transpose(N,H)}B.setUniform(f,F.type,F.symbol,N)}T.cullFace!==_&&(_=T.cullFace,f.cullFace(_)),T.frontFace!==x&&(x=T.frontFace,f.frontFace(x)),T.culling!==y&&(y=T.culling,y?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE)),this._updateSkeleton(T,B,C),L&&(S=this._bindVAO(A,U,I,B)),this._renderObject(T,S,B),n.afterRender(this,T),T.afterRender&&T.afterRender(this),v=B,p=T}}this.trigger("afterrenderpass",this,e,t,n)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,t,n){var r=this.gl,a=e.skeleton;if(a)if(a.update(),e.joints.length>this.getMaxJointNumber()){var i=a.getSubSkinMatricesTexture(e.__uid__,e.joints);t.useTextureSlot(this,i,n),t.setUniform(r,"1i","skinMatricesTexture",n),t.setUniform(r,"1f","skinMatricesTextureSize",i.width)}else{var o=a.getSubSkinMatrices(e.__uid__,e.joints);t.setUniformOfSemantic(r,"SKIN_MATRIX",o)}},_renderObject:function(e,t,n){var r=this.gl,a=e.geometry,i=e.mode;i==null&&(i=4);var o=null,s=e.isInstancedMesh&&e.isInstancedMesh();if(s&&(o=this.getGLExtension("ANGLE_instanced_arrays"),!o)){console.warn("Device not support ANGLE_instanced_arrays extension");return}var l;if(s&&(l=this._bindInstancedAttributes(e,n,o)),t.indicesBuffer){var u=this.getGLExtension("OES_element_index_uint"),c=u&&a.indices instanceof Uint32Array,f=c?r.UNSIGNED_INT:r.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(i,t.indicesBuffer.count,f,0,e.getInstanceCount()):r.drawElements(i,t.indicesBuffer.count,f,0)}else s?o.drawArraysInstancedANGLE(i,0,a.vertexCount,e.getInstanceCount()):r.drawArrays(i,0,a.vertexCount);if(s)for(var d=0;d<l.length;d++)r.disableVertexAttribArray(l[d])},_bindInstancedAttributes:function(e,t,n){for(var r=this.gl,a=e.getInstancedAttributesBuffers(this),i=[],o=0;o<a.length;o++){var s=a[o],l=t.getAttribLocation(r,s.symbol);if(!(l<0)){var u=Ck[s.type]||r.FLOAT;r.enableVertexAttribArray(l),r.bindBuffer(r.ARRAY_BUFFER,s.buffer),r.vertexAttribPointer(l,s.size,u,!1,0,0),n.vertexAttribDivisorANGLE(l,s.divisor),i.push(l)}}return i},_bindMaterial:function(e,t,n,r,a,i,o){for(var s=this.gl,l=i===n,u=n.currentTextureSlot(),c=t.getEnabledUniforms(),f=t.getTextureUniforms(),d=this._placeholderTexture,h=0;h<f.length;h++){var v=f[h],p=o(e,t,v),m=t.uniforms[v].type;if(m==="t"&&p)p.__slot=-1;else if(m==="tv")for(var g=0;g<p.length;g++)p[g]&&(p[g].__slot=-1)}d.__slot=-1;for(var h=0;h<c.length;h++){var v=c[h],y=t.uniforms[v],p=o(e,t,v),m=y.type,_=m==="t";if(_&&(!p||!p.isRenderable())&&(p=d),a&&l){var x=o(r,a,v);if(_&&(!x||!x.isRenderable())&&(x=d),x===p){if(_)n.takeCurrentTextureSlot(this,null);else if(m==="tv"&&p)for(var g=0;g<p.length;g++)n.takeCurrentTextureSlot(this,null);continue}}if(p!=null)if(_)if(p.__slot<0){var w=n.currentTextureSlot(),b=n.setUniform(s,"1i",v,w);b&&(n.takeCurrentTextureSlot(this,p),p.__slot=w)}else n.setUniform(s,"1i",v,p.__slot);else if(Array.isArray(p)){if(p.length===0)continue;if(m==="tv"){if(!n.hasUniform(v))continue;for(var S=[],g=0;g<p.length;g++){var C=p[g];if(C.__slot<0){var w=n.currentTextureSlot();S.push(w),n.takeCurrentTextureSlot(this,C),C.__slot=w}else S.push(C.__slot)}n.setUniform(s,"1iv",v,S)}else n.setUniform(s,y.type,v,p)}else n.setUniform(s,y.type,v,p)}var A=n.currentTextureSlot();return n.resetTextureSlot(u),A},_bindVAO:function(e,t,n,r){var a=!n.dynamic,i=this.gl,o=this.__uid__+"-"+r.__uid__,s=n.__vaoCache[o];if(!s){var l=n.getBufferChunks(this);if(!l||!l.length)return;for(var u=l[0],c=u.attributeBuffers,x=u.indicesBuffer,_=[],f=[],d=0;d<c.length;d++){var h=c[d],v=h.name,p=h.semantic,m;if(p){var g=t.attributeSemantics[p];m=g&&g.symbol}else m=v;m&&r.attributes[m]&&(_.push(h),f.push(m))}s=new K_e(_,f,x),a&&(n.__vaoCache[o]=s)}var y=!0;e&&a&&(s.vao==null?s.vao=e.createVertexArrayOES():y=!1,e.bindVertexArrayOES(s.vao));var _=s.availableAttributes,x=s.indicesBuffer;if(y){for(var w=r.enableAttributes(this,s.availableAttributeSymbols,e&&a&&s),d=0;d<_.length;d++){var b=w[d];if(b!==-1){var h=_[d],S=h.buffer,C=h.size,A=Ck[h.type]||i.FLOAT;i.bindBuffer(i.ARRAY_BUFFER,S),i.vertexAttribPointer(b,C,A,!1,0,0)}}n.isUseIndices()&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,x.buffer)}return s},renderPreZ:function(e,t,n){var r=this.gl,a=this._prezMaterial||new ro({shader:new Re(Re.source("clay.prez.vertex"),Re.source("clay.prez.fragment"))});this._prezMaterial=a,r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(e,n,{ifRender:function(i){return!i.ignorePreZ},isMaterialChanged:function(i,o){var s=i.material,l=o.material;return s.get("diffuseMap")!==l.get("diffuseMap")||(s.get("alphaCutoff")||0)!==(l.get("alphaCutoff")||0)},getUniform:function(i,o,s){if(s==="alphaMap")return i.material.get("diffuseMap");if(s==="alphaCutoff"){if(i.material.isDefined("fragment","ALPHA_TEST")&&i.material.get("diffuseMap")){var l=i.material.get("alphaCutoff");return l||0}return 0}else return s==="uvRepeat"?i.material.get("uvRepeat"):s==="uvOffset"?i.material.get("uvOffset"):o.get(s)},getMaterial:function(){return a},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,t,n){e.getParent()&&e.getParent().remove(e);var r={};e.traverse(function(a){var i=a.material;if(a.geometry&&t&&a.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var o=i.getTextureUniforms(),s=0;s<o.length;s++){var l=o[s],u=i.uniforms[l].value,c=i.uniforms[l].type;if(u){if(c==="t")u.dispose&&u.dispose(this);else if(c==="tv")for(var f=0;f<u.length;f++)u[f]&&u[f].dispose&&u[f].dispose(this)}}r[i.__uid__]=!0}a.dispose&&a.dispose(this)},this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,t,n){n||(n=new _i),t=this._height-t;var r=this.viewport,a=n.array;return a[0]=(e-r.x)/r.width,a[0]=a[0]*2-1,a[1]=(t-r.y)/r.height,a[1]=a[1]*2-1,n}});vu.opaqueSortCompare=vu.prototype.opaqueSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.renderOrder-t.renderOrder};vu.transparentSortCompare=vu.prototype.transparentSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__depth===t.__depth?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.__depth-t.__depth:e.renderOrder-t.renderOrder};var Un={IDENTITY:zn(),WORLD:zn(),VIEW:zn(),PROJECTION:zn(),WORLDVIEW:zn(),VIEWPROJECTION:zn(),WORLDVIEWPROJECTION:zn(),WORLDINVERSE:zn(),VIEWINVERSE:zn(),PROJECTIONINVERSE:zn(),WORLDVIEWINVERSE:zn(),VIEWPROJECTIONINVERSE:zn(),WORLDVIEWPROJECTIONINVERSE:zn(),WORLDTRANSPOSE:zn(),VIEWTRANSPOSE:zn(),PROJECTIONTRANSPOSE:zn(),WORLDVIEWTRANSPOSE:zn(),VIEWPROJECTIONTRANSPOSE:zn(),WORLDVIEWPROJECTIONTRANSPOSE:zn(),WORLDINVERSETRANSPOSE:zn(),VIEWINVERSETRANSPOSE:zn(),PROJECTIONINVERSETRANSPOSE:zn(),WORLDVIEWINVERSETRANSPOSE:zn(),VIEWPROJECTIONINVERSETRANSPOSE:zn(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:zn()};vu.COLOR_BUFFER_BIT=me.COLOR_BUFFER_BIT;vu.DEPTH_BUFFER_BIT=me.DEPTH_BUFFER_BIT;vu.STENCIL_BUFFER_BIT=me.STENCIL_BUFFER_BIT;const Sp=vu;var ut=function(e,t,n){e=e||0,t=t||0,n=n||0,this.array=re.fromValues(e,t,n),this._dirty=!0};ut.prototype={constructor:ut,add:function(e){return re.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,n){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new ut(this.x,this.y,this.z)},copy:function(e){return re.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return re.cross(this.array,e.array,t.array),this._dirty=!0,this},dist:function(e){return re.dist(this.array,e.array)},distance:function(e){return re.distance(this.array,e.array)},div:function(e){return re.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return re.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return re.dot(this.array,e.array)},len:function(){return re.len(this.array)},length:function(){return re.length(this.array)},lerp:function(e,t,n){return re.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return re.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return re.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return re.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return re.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return re.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return re.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return re.random(this.array,e),this._dirty=!0,this},scale:function(e){return re.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return re.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return re.sqrDist(this.array,e.array)},squaredDistance:function(e){return re.squaredDistance(this.array,e.array)},sqrLen:function(){return re.sqrLen(this.array)},squaredLength:function(){return re.squaredLength(this.array)},sub:function(e){return re.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return re.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return re.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return re.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return re.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var t=this.array;if(e=e.array,e[15]===0){var n=-1/t[2];t[0]=e[0]*t[0]*n,t[1]=e[5]*t[1]*n,t[2]=(e[10]*t[2]+e[14])*n}else t[0]=e[0]*t[0]+e[12],t[1]=e[5]*t[1]+e[13],t[2]=e[10]*t[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,t){ut.eulerFromQuat(this,e,t)},eulerFromMat3:function(e,t){ut.eulerFromMat3(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var ly=Object.defineProperty;if(ly){var Uw=ut.prototype;ly(Uw,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),ly(Uw,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),ly(Uw,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}ut.add=function(e,t,n){return re.add(e.array,t.array,n.array),e._dirty=!0,e};ut.set=function(e,t,n,r){re.set(e.array,t,n,r),e._dirty=!0};ut.copy=function(e,t){return re.copy(e.array,t.array),e._dirty=!0,e};ut.cross=function(e,t,n){return re.cross(e.array,t.array,n.array),e._dirty=!0,e};ut.dist=function(e,t){return re.distance(e.array,t.array)};ut.distance=ut.dist;ut.div=function(e,t,n){return re.divide(e.array,t.array,n.array),e._dirty=!0,e};ut.divide=ut.div;ut.dot=function(e,t){return re.dot(e.array,t.array)};ut.len=function(e){return re.length(e.array)};ut.lerp=function(e,t,n,r){return re.lerp(e.array,t.array,n.array,r),e._dirty=!0,e};ut.min=function(e,t,n){return re.min(e.array,t.array,n.array),e._dirty=!0,e};ut.max=function(e,t,n){return re.max(e.array,t.array,n.array),e._dirty=!0,e};ut.mul=function(e,t,n){return re.multiply(e.array,t.array,n.array),e._dirty=!0,e};ut.multiply=ut.mul;ut.negate=function(e,t){return re.negate(e.array,t.array),e._dirty=!0,e};ut.normalize=function(e,t){return re.normalize(e.array,t.array),e._dirty=!0,e};ut.random=function(e,t){return re.random(e.array,t),e._dirty=!0,e};ut.scale=function(e,t,n){return re.scale(e.array,t.array,n),e._dirty=!0,e};ut.scaleAndAdd=function(e,t,n,r){return re.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e};ut.sqrDist=function(e,t){return re.sqrDist(e.array,t.array)};ut.squaredDistance=ut.sqrDist;ut.sqrLen=function(e){return re.sqrLen(e.array)};ut.squaredLength=ut.sqrLen;ut.sub=function(e,t,n){return re.subtract(e.array,t.array,n.array),e._dirty=!0,e};ut.subtract=ut.sub;ut.transformMat3=function(e,t,n){return re.transformMat3(e.array,t.array,n.array),e._dirty=!0,e};ut.transformMat4=function(e,t,n){return re.transformMat4(e.array,t.array,n.array),e._dirty=!0,e};ut.transformQuat=function(e,t,n){return re.transformQuat(e.array,t.array,n.array),e._dirty=!0,e};function ji(e,t,n){return e<t?t:e>n?n:e}var bn=Math.atan2,Xi=Math.asin,fd=Math.abs;ut.eulerFromQuat=function(e,t,d){e._dirty=!0,t=t.array;var r=e.array,a=t[0],i=t[1],o=t[2],s=t[3],l=a*a,u=i*i,c=o*o,f=s*s,d=(d||"XYZ").toUpperCase();switch(d){case"XYZ":r[0]=bn(2*(a*s-i*o),f-l-u+c),r[1]=Xi(ji(2*(a*o+i*s),-1,1)),r[2]=bn(2*(o*s-a*i),f+l-u-c);break;case"YXZ":r[0]=Xi(ji(2*(a*s-i*o),-1,1)),r[1]=bn(2*(a*o+i*s),f-l-u+c),r[2]=bn(2*(a*i+o*s),f-l+u-c);break;case"ZXY":r[0]=Xi(ji(2*(a*s+i*o),-1,1)),r[1]=bn(2*(i*s-o*a),f-l-u+c),r[2]=bn(2*(o*s-a*i),f-l+u-c);break;case"ZYX":r[0]=bn(2*(a*s+o*i),f-l-u+c),r[1]=Xi(ji(2*(i*s-a*o),-1,1)),r[2]=bn(2*(a*i+o*s),f+l-u-c);break;case"YZX":r[0]=bn(2*(a*s-o*i),f-l+u-c),r[1]=bn(2*(i*s-a*o),f+l-u-c),r[2]=Xi(ji(2*(a*i+o*s),-1,1));break;case"XZY":r[0]=bn(2*(a*s+i*o),f-l+u-c),r[1]=bn(2*(a*o+i*s),f+l-u-c),r[2]=Xi(ji(2*(o*s-a*i),-1,1));break;default:console.warn("Unkown order: "+d)}return e};ut.eulerFromMat3=function(e,t,v){var r=t.array,a=r[0],i=r[3],o=r[6],s=r[1],l=r[4],u=r[7],c=r[2],f=r[5],d=r[8],h=e.array,v=(v||"XYZ").toUpperCase();switch(v){case"XYZ":h[1]=Xi(ji(o,-1,1)),fd(o)<.99999?(h[0]=bn(-u,d),h[2]=bn(-i,a)):(h[0]=bn(f,l),h[2]=0);break;case"YXZ":h[0]=Xi(-ji(u,-1,1)),fd(u)<.99999?(h[1]=bn(o,d),h[2]=bn(s,l)):(h[1]=bn(-c,a),h[2]=0);break;case"ZXY":h[0]=Xi(ji(f,-1,1)),fd(f)<.99999?(h[1]=bn(-c,d),h[2]=bn(-i,l)):(h[1]=0,h[2]=bn(s,a));break;case"ZYX":h[1]=Xi(-ji(c,-1,1)),fd(c)<.99999?(h[0]=bn(f,d),h[2]=bn(s,a)):(h[0]=0,h[2]=bn(-i,l));break;case"YZX":h[2]=Xi(ji(s,-1,1)),fd(s)<.99999?(h[0]=bn(-u,l),h[1]=bn(-c,a)):(h[0]=0,h[1]=bn(o,d));break;case"XZY":h[2]=Xi(-ji(i,-1,1)),fd(i)<.99999?(h[0]=bn(f,l),h[1]=bn(o,a)):(h[0]=bn(-u,d),h[1]=0);break;default:console.warn("Unkown order: "+v)}return e._dirty=!0,e};Object.defineProperties(ut,{POSITIVE_X:{get:function(){return new ut(1,0,0)}},NEGATIVE_X:{get:function(){return new ut(-1,0,0)}},POSITIVE_Y:{get:function(){return new ut(0,1,0)}},NEGATIVE_Y:{get:function(){return new ut(0,-1,0)}},POSITIVE_Z:{get:function(){return new ut(0,0,1)}},NEGATIVE_Z:{get:function(){return new ut(0,0,-1)}},UP:{get:function(){return new ut(0,1,0)}},ZERO:{get:function(){return new ut}}});const Ne=ut;var zw=1e-5,Jy=function(e,t){this.origin=e||new Ne,this.direction=t||new Ne};Jy.prototype={constructor:Jy,intersectPlane:function(e,t){var n=e.normal.array,r=e.distance,a=this.origin.array,i=this.direction.array,o=re.dot(n,i);if(o===0)return null;t||(t=new Ne);var s=(re.dot(n,a)-r)/o;return re.scaleAndAdd(t.array,a,i,-s),t._dirty=!0,t},mirrorAgainstPlane:function(e){var t=re.dot(e.normal.array,this.direction.array);re.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,-t*2),this.direction._dirty=!0},distanceToPoint:function(){var e=re.create();return function(t){re.sub(e,t,this.origin.array);var n=re.dot(e,this.direction.array);if(n<0)return re.distance(this.origin.array,t);var r=re.lenSquared(e);return Math.sqrt(r-n*n)}}(),intersectSphere:function(){var e=re.create();return function(t,n,r){var a=this.origin.array,i=this.direction.array;t=t.array,re.sub(e,t,a);var o=re.dot(e,i),s=re.squaredLength(e),l=s-o*o,u=n*n;if(!(l>u)){var c=Math.sqrt(u-l),f=o-c,d=o+c;return r||(r=new Ne),f<0?d<0?null:(re.scaleAndAdd(r.array,a,i,d),r):(re.scaleAndAdd(r.array,a,i,f),r)}}}(),intersectBoundingBox:function(e,t){var n=this.direction.array,r=this.origin.array,a=e.min.array,i=e.max.array,o=1/n[0],s=1/n[1],l=1/n[2],u,c,f,d,h,v;if(o>=0?(u=(a[0]-r[0])*o,c=(i[0]-r[0])*o):(c=(a[0]-r[0])*o,u=(i[0]-r[0])*o),s>=0?(f=(a[1]-r[1])*s,d=(i[1]-r[1])*s):(d=(a[1]-r[1])*s,f=(i[1]-r[1])*s),u>d||f>c||((f>u||u!==u)&&(u=f),(d<c||c!==c)&&(c=d),l>=0?(h=(a[2]-r[2])*l,v=(i[2]-r[2])*l):(v=(a[2]-r[2])*l,h=(i[2]-r[2])*l),u>v||h>c)||((h>u||u!==u)&&(u=h),(v<c||c!==c)&&(c=v),c<0))return null;var p=u>=0?u:c;return t||(t=new Ne),re.scaleAndAdd(t.array,r,n,p),t},intersectTriangle:function(){var e=re.create(),t=re.create(),n=re.create(),r=re.create();return function(a,i,o,s,l,u){var c=this.direction.array,f=this.origin.array;a=a.array,i=i.array,o=o.array,re.sub(e,i,a),re.sub(t,o,a),re.cross(r,t,c);var d=re.dot(e,r);if(s){if(d>-zw)return null}else if(d>-zw&&d<zw)return null;re.sub(n,f,a);var h=re.dot(r,n)/d;if(h<0||h>1)return null;re.cross(r,e,n);var v=re.dot(c,r)/d;if(v<0||v>1||h+v>1)return null;re.cross(r,e,t);var p=-re.dot(n,r)/d;return p<0?null:(l||(l=new Ne),u&&Ne.set(u,1-h-v,h,v),re.scaleAndAdd(l.array,f,c,p),l)}}(),applyTransform:function(e){Ne.add(this.direction,this.direction,this.origin),Ne.transformMat4(this.origin,this.origin,e),Ne.transformMat4(this.direction,this.direction,e),Ne.sub(this.direction,this.direction,this.origin),Ne.normalize(this.direction,this.direction)},copy:function(e){Ne.copy(this.origin,e.origin),Ne.copy(this.direction,e.direction)},clone:function(){var e=new Jy;return e.copy(this),e}};const y_=Jy;var Mt={};Mt.create=function(){var e=new ra(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e};Mt.clone=function(e){var t=new ra(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};Mt.fromValues=function(e,t,n,r){var a=new ra(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a};Mt.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e};Mt.set=function(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e};Mt.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e};Mt.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e};Mt.sub=Mt.subtract;Mt.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e};Mt.mul=Mt.multiply;Mt.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e};Mt.div=Mt.divide;Mt.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e};Mt.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e};Mt.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e};Mt.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e};Mt.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(n*n+r*r+a*a+i*i)};Mt.dist=Mt.distance;Mt.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+a*a+i*i};Mt.sqrDist=Mt.squaredDistance;Mt.length=function(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.sqrt(t*t+n*n+r*r+a*a)};Mt.len=Mt.length;Mt.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a};Mt.sqrLen=Mt.squaredLength;Mt.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e};Mt.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e};Mt.normalize=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o),e};Mt.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]};Mt.lerp=function(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e};Mt.random=function(e,t){return t=t||1,e[0]=Md(),e[1]=Md(),e[2]=Md(),e[3]=Md(),Mt.normalize(e,e),Mt.scale(e,e,t),e};Mt.transformMat4=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e};Mt.transformQuat=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*a,f=u*a+l*r-o*i,d=u*i+o*a-s*r,h=-o*r-s*a-l*i;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e};Mt.forEach=function(){var e=Mt.create();return function(t,n,r,a,i,o){var s,l;for(n||(n=4),r||(r=0),a?l=Math.min(a*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();const He=Mt;var Or={};Or.create=function(){var e=new ra(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e};Or.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e};Or.clone=function(e){var t=new ra(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t};Or.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};Or.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e};Or.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e};Or.invert=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,d=-c*i+s*l,h=u*i-o*l,v=n*f+r*d+a*h;return v?(v=1/v,e[0]=f*v,e[1]=(-c*r+a*u)*v,e[2]=(s*r-a*o)*v,e[3]=d*v,e[4]=(c*n-a*l)*v,e[5]=(-s*n+a*i)*v,e[6]=h*v,e[7]=(-u*n+r*l)*v,e[8]=(o*n-r*i)*v,e):null};Or.adjoint=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=a*u-r*c,e[2]=r*s-a*o,e[3]=s*l-i*c,e[4]=n*c-a*l,e[5]=a*i-n*s,e[6]=i*u-o*l,e[7]=r*l-n*u,e[8]=n*o-r*i,e};Or.determinant=function(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*i-o*l)+n*(-u*a+o*s)+r*(l*a-i*s)};Or.multiply=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=n[0],h=n[1],v=n[2],p=n[3],m=n[4],g=n[5],y=n[6],_=n[7],x=n[8];return e[0]=d*r+h*o+v*u,e[1]=d*a+h*s+v*c,e[2]=d*i+h*l+v*f,e[3]=p*r+m*o+g*u,e[4]=p*a+m*s+g*c,e[5]=p*i+m*l+g*f,e[6]=y*r+_*o+x*u,e[7]=y*a+_*s+x*c,e[8]=y*i+_*l+x*f,e};Or.mul=Or.multiply;Or.translate=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=d*r+h*o+u,e[7]=d*a+h*s+c,e[8]=d*i+h*l+f,e};Or.rotate=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*o,e[1]=h*a+d*s,e[2]=h*i+d*l,e[3]=h*o-d*r,e[4]=h*s-d*a,e[5]=h*l-d*i,e[6]=u,e[7]=c,e[8]=f,e};Or.scale=function(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};Or.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e};Or.fromQuat=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,l=a+a,u=n*o,c=r*o,f=r*s,d=a*o,h=a*s,v=a*l,p=i*o,m=i*s,g=i*l;return e[0]=1-f-v,e[3]=c-g,e[6]=d+m,e[1]=c+g,e[4]=1-u-v,e[7]=h-p,e[2]=d-m,e[5]=h+p,e[8]=1-u-f,e};Or.normalFromMat4=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15],y=n*s-r*o,_=n*l-a*o,x=n*u-i*o,w=r*l-a*s,b=r*u-i*s,S=a*u-i*l,C=c*p-f*v,A=c*m-d*v,M=c*g-h*v,T=f*m-d*p,E=f*g-h*p,P=d*g-h*m,I=y*P-_*E+x*T+w*M-b*A+S*C;return I?(I=1/I,e[0]=(s*P-l*E+u*T)*I,e[1]=(l*M-o*P-u*A)*I,e[2]=(o*E-s*M+u*C)*I,e[3]=(a*E-r*P-i*T)*I,e[4]=(n*P-a*M+i*A)*I,e[5]=(r*M-n*E-i*C)*I,e[6]=(p*S-m*b+g*w)*I,e[7]=(m*x-v*S-g*_)*I,e[8]=(v*b-p*x+g*y)*I,e):null};Or.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};const Nt=Or;var Yt={};Yt.create=function(){var e=new ra(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e};Yt.rotationTo=function(){var e=re.create(),t=re.fromValues(1,0,0),n=re.fromValues(0,1,0);return function(r,a,i){var o=re.dot(a,i);return o<-.999999?(re.cross(e,t,a),re.length(e)<1e-6&&re.cross(e,n,a),re.normalize(e,e),Yt.setAxisAngle(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(re.cross(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,Yt.normalize(r,r))}}();Yt.setAxes=function(){var e=Nt.create();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],Yt.normalize(t,Yt.fromMat3(t,e))}}();Yt.clone=He.clone;Yt.fromValues=He.fromValues;Yt.copy=He.copy;Yt.set=He.set;Yt.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e};Yt.setAxisAngle=function(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e};Yt.add=He.add;Yt.multiply=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*c+o*s+a*u-i*l,e[1]=a*c+o*l+i*s-r*u,e[2]=i*c+o*u+r*l-a*s,e[3]=o*c-r*s-a*l-i*u,e};Yt.mul=Yt.multiply;Yt.scale=He.scale;Yt.rotateX=function(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=a*l+i*s,e[2]=i*l-a*s,e[3]=o*l-r*s,e};Yt.rotateY=function(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l-i*s,e[1]=a*l+o*s,e[2]=i*l+r*s,e[3]=o*l-a*s,e};Yt.rotateZ=function(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*s,e[1]=a*l-r*s,e[2]=i*l+o*s,e[3]=o*l-i*s,e};Yt.calculateW=function(e,t){var n=t[0],r=t[1],a=t[2];return e[0]=n,e[1]=r,e[2]=a,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),e};Yt.dot=He.dot;Yt.lerp=He.lerp;Yt.slerp=function(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],l=n[0],u=n[1],c=n[2],f=n[3],d,h,v,p,m;return h=a*l+i*u+o*c+s*f,h<0&&(h=-h,l=-l,u=-u,c=-c,f=-f),1-h>1e-6?(d=Math.acos(h),v=Math.sin(d),p=Math.sin((1-r)*d)/v,m=Math.sin(r*d)/v):(p=1-r,m=r),e[0]=p*a+m*l,e[1]=p*i+m*u,e[2]=p*o+m*c,e[3]=p*s+m*f,e};Yt.invert=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-a*s,e[3]=i*s,e};Yt.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e};Yt.length=He.length;Yt.len=Yt.length;Yt.squaredLength=He.squaredLength;Yt.sqrLen=Yt.squaredLength;Yt.normalize=He.normalize;Yt.fromMat3=function(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[a*3+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(t[a*3+a]-t[i*3+i]-t[o*3+o]+1),e[a]=.5*r,r=.5/r,e[3]=(t[i*3+o]-t[o*3+i])*r,e[i]=(t[i*3+a]+t[a*3+i])*r,e[o]=(t[o*3+a]+t[a*3+o])*r}return e};const ht=Yt;var Bn=function(){this._axisX=new Ne,this._axisY=new Ne,this._axisZ=new Ne,this.array=Oe.create(),this._dirty=!0};Bn.prototype={constructor:Bn,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return Oe.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new Bn().copy(this)},copy:function(e){return Oe.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Oe.determinant(this.array)},fromQuat:function(e){return Oe.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,t){return Oe.fromRotationTranslation(this.array,e.array,t.array),this._dirty=!0,this},fromMat2d:function(e){return Bn.fromMat2d(this,e),this},frustum:function(e,t,n,r,a,i){return Oe.frustum(this.array,e,t,n,r,a,i),this._dirty=!0,this},identity:function(){return Oe.identity(this.array),this._dirty=!0,this},invert:function(){return Oe.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,t,n){return Oe.lookAt(this.array,e.array,t.array,n.array),this._dirty=!0,this},mul:function(e){return Oe.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Oe.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Oe.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Oe.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,t,n,r,a,i){return Oe.ortho(this.array,e,t,n,r,a,i),this._dirty=!0,this},perspective:function(e,t,n,r){return Oe.perspective(this.array,e,t,n,r),this._dirty=!0,this},rotate:function(e,t){return Oe.rotate(this.array,this.array,e,t.array),this._dirty=!0,this},rotateX:function(e){return Oe.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return Oe.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return Oe.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Oe.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Oe.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return Oe.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=re.create(),t=re.create(),n=re.create(),r=Nt.create();return function(a,i,o){var s=this.array;re.set(e,s[0],s[1],s[2]),re.set(t,s[4],s[5],s[6]),re.set(n,s[8],s[9],s[10]);var l=re.length(e),u=re.length(t),c=re.length(n),f=this.determinant();f<0&&(l=-l),a&&a.set(l,u,c),o.set(s[12],s[13],s[14]),Nt.fromMat4(r,s),r[0]/=l,r[1]/=l,r[2]/=l,r[3]/=u,r[4]/=u,r[5]/=u,r[6]/=c,r[7]/=c,r[8]/=c,ht.fromMat3(i.array,r),ht.normalize(i.array,i.array),i._dirty=!0,o._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var uy=Object.defineProperty;if(uy){var Hw=Bn.prototype;uy(Hw,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var t=this.array;e=e.array,t[8]=e[0],t[9]=e[1],t[10]=e[2],this._dirty=!0}}),uy(Hw,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var t=this.array;e=e.array,t[4]=e[0],t[5]=e[1],t[6]=e[2],this._dirty=!0}}),uy(Hw,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var t=this.array;e=e.array,t[0]=e[0],t[1]=e[1],t[2]=e[2],this._dirty=!0}})}Bn.adjoint=function(e,t){return Oe.adjoint(e.array,t.array),e._dirty=!0,e};Bn.copy=function(e,t){return Oe.copy(e.array,t.array),e._dirty=!0,e};Bn.determinant=function(e){return Oe.determinant(e.array)};Bn.identity=function(e){return Oe.identity(e.array),e._dirty=!0,e};Bn.ortho=function(e,t,n,r,a,i,o){return Oe.ortho(e.array,t,n,r,a,i,o),e._dirty=!0,e};Bn.perspective=function(e,t,n,r,a){return Oe.perspective(e.array,t,n,r,a),e._dirty=!0,e};Bn.lookAt=function(e,t,n,r){return Oe.lookAt(e.array,t.array,n.array,r.array),e._dirty=!0,e};Bn.invert=function(e,t){return Oe.invert(e.array,t.array),e._dirty=!0,e};Bn.mul=function(e,t,n){return Oe.mul(e.array,t.array,n.array),e._dirty=!0,e};Bn.multiply=Bn.mul;Bn.fromQuat=function(e,t){return Oe.fromQuat(e.array,t.array),e._dirty=!0,e};Bn.fromRotationTranslation=function(e,t,n){return Oe.fromRotationTranslation(e.array,t.array,n.array),e._dirty=!0,e};Bn.fromMat2d=function(r,n){r._dirty=!0;var n=n.array,r=r.array;return r[0]=n[0],r[4]=n[2],r[12]=n[4],r[1]=n[1],r[5]=n[3],r[13]=n[5],r};Bn.rotate=function(e,t,n,r){return Oe.rotate(e.array,t.array,n,r.array),e._dirty=!0,e};Bn.rotateX=function(e,t,n){return Oe.rotateX(e.array,t.array,n),e._dirty=!0,e};Bn.rotateY=function(e,t,n){return Oe.rotateY(e.array,t.array,n),e._dirty=!0,e};Bn.rotateZ=function(e,t,n){return Oe.rotateZ(e.array,t.array,n),e._dirty=!0,e};Bn.scale=function(e,t,n){return Oe.scale(e.array,t.array,n.array),e._dirty=!0,e};Bn.transpose=function(e,t){return Oe.transpose(e.array,t.array),e._dirty=!0,e};Bn.translate=function(e,t,n){return Oe.translate(e.array,t.array,n.array),e._dirty=!0,e};const Qe=Bn;var dn=function(e,t,n,r){e=e||0,t=t||0,n=n||0,r=r===void 0?1:r,this.array=ht.fromValues(e,t,n,r),this._dirty=!0};dn.prototype={constructor:dn,add:function(e){return ht.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return ht.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,t,n,r){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new dn(this.x,this.y,this.z,this.w)},conjugate:function(){return ht.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return ht.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return ht.dot(this.array,e.array)},fromMat3:function(e){return ht.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=Nt.create();return function(t){return Nt.fromMat4(e,t.array),Nt.transpose(e,e),ht.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return ht.identity(this.array),this._dirty=!0,this},invert:function(){return ht.invert(this.array,this.array),this._dirty=!0,this},len:function(){return ht.len(this.array)},length:function(){return ht.length(this.array)},lerp:function(e,t,n){return ht.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},mul:function(e){return ht.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return ht.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return ht.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return ht.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return ht.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return ht.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return ht.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return ht.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,t){return ht.rotationTo(this.array,e.array,t.array),this._dirty=!0,this},setAxes:function(e,t,n){return ht.setAxes(this.array,e.array,t.array,n.array),this._dirty=!0,this},setAxisAngle:function(e,t){return ht.setAxisAngle(this.array,e.array,t),this._dirty=!0,this},slerp:function(e,t,n){return ht.slerp(this.array,e.array,t.array,n),this._dirty=!0,this},sqrLen:function(){return ht.sqrLen(this.array)},squaredLength:function(){return ht.squaredLength(this.array)},fromEuler:function(e,t){return dn.fromEuler(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Ev=Object.defineProperty;if(Ev){var cy=dn.prototype;Ev(cy,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Ev(cy,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),Ev(cy,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),Ev(cy,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}dn.add=function(e,t,n){return ht.add(e.array,t.array,n.array),e._dirty=!0,e};dn.set=function(e,t,n,r,a){ht.set(e.array,t,n,r,a),e._dirty=!0};dn.copy=function(e,t){return ht.copy(e.array,t.array),e._dirty=!0,e};dn.calculateW=function(e,t){return ht.calculateW(e.array,t.array),e._dirty=!0,e};dn.conjugate=function(e,t){return ht.conjugate(e.array,t.array),e._dirty=!0,e};dn.identity=function(e){return ht.identity(e.array),e._dirty=!0,e};dn.invert=function(e,t){return ht.invert(e.array,t.array),e._dirty=!0,e};dn.dot=function(e,t){return ht.dot(e.array,t.array)};dn.len=function(e){return ht.length(e.array)};dn.lerp=function(e,t,n,r){return ht.lerp(e.array,t.array,n.array,r),e._dirty=!0,e};dn.slerp=function(e,t,n,r){return ht.slerp(e.array,t.array,n.array,r),e._dirty=!0,e};dn.mul=function(e,t,n){return ht.multiply(e.array,t.array,n.array),e._dirty=!0,e};dn.multiply=dn.mul;dn.rotateX=function(e,t,n){return ht.rotateX(e.array,t.array,n),e._dirty=!0,e};dn.rotateY=function(e,t,n){return ht.rotateY(e.array,t.array,n),e._dirty=!0,e};dn.rotateZ=function(e,t,n){return ht.rotateZ(e.array,t.array,n),e._dirty=!0,e};dn.setAxisAngle=function(e,t,n){return ht.setAxisAngle(e.array,t.array,n),e._dirty=!0,e};dn.normalize=function(e,t){return ht.normalize(e.array,t.array),e._dirty=!0,e};dn.sqrLen=function(e){return ht.sqrLen(e.array)};dn.squaredLength=dn.sqrLen;dn.fromMat3=function(e,t){return ht.fromMat3(e.array,t.array),e._dirty=!0,e};dn.setAxes=function(e,t,n,r){return ht.setAxes(e.array,t.array,n.array,r.array),e._dirty=!0,e};dn.rotationTo=function(e,t,n){return ht.rotationTo(e.array,t.array,n.array),e._dirty=!0,e};dn.fromEuler=function(e,t,c){e._dirty=!0,t=t.array;var r=e.array,a=Math.cos(t[0]/2),i=Math.cos(t[1]/2),o=Math.cos(t[2]/2),s=Math.sin(t[0]/2),l=Math.sin(t[1]/2),u=Math.sin(t[2]/2),c=(c||"XYZ").toUpperCase();switch(c){case"XYZ":r[0]=s*i*o+a*l*u,r[1]=a*l*o-s*i*u,r[2]=a*i*u+s*l*o,r[3]=a*i*o-s*l*u;break;case"YXZ":r[0]=s*i*o+a*l*u,r[1]=a*l*o-s*i*u,r[2]=a*i*u-s*l*o,r[3]=a*i*o+s*l*u;break;case"ZXY":r[0]=s*i*o-a*l*u,r[1]=a*l*o+s*i*u,r[2]=a*i*u+s*l*o,r[3]=a*i*o-s*l*u;break;case"ZYX":r[0]=s*i*o-a*l*u,r[1]=a*l*o+s*i*u,r[2]=a*i*u-s*l*o,r[3]=a*i*o+s*l*u;break;case"YZX":r[0]=s*i*o+a*l*u,r[1]=a*l*o+s*i*u,r[2]=a*i*u-s*l*o,r[3]=a*i*o-s*l*u;break;case"XZY":r[0]=s*i*o-a*l*u,r[1]=a*l*o-s*i*u,r[2]=a*i*u+s*l*o,r[3]=a*i*o+s*l*u;break}};const _$=dn;var Ul=re.set,fy=re.copy,e0=function(e,t){this.min=e||new Ne(1/0,1/0,1/0),this.max=t||new Ne(-1/0,-1/0,-1/0),this.vertices=null};e0.prototype={constructor:e0,updateFromVertices:function(e){if(e.length>0){var t=this.min,n=this.max,r=t.array,a=n.array;fy(r,e[0]),fy(a,e[0]);for(var i=1;i<e.length;i++){var o=e[i];o[0]<r[0]&&(r[0]=o[0]),o[1]<r[1]&&(r[1]=o[1]),o[2]<r[2]&&(r[2]=o[2]),o[0]>a[0]&&(a[0]=o[0]),o[1]>a[1]&&(a[1]=o[1]),o[2]>a[2]&&(a[2]=o[2])}t._dirty=!0,n._dirty=!0}},union:function(e){var t=this.min,n=this.max;return re.min(t.array,t.array,e.min.array),re.max(n.array,n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},intersection:function(e){var t=this.min,n=this.max;return re.max(t.array,t.array,e.min.array),re.min(n.array,n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(e){var t=this.min.array,n=this.max.array,r=e.min.array,a=e.max.array;return!(t[0]>a[0]||t[1]>a[1]||t[2]>a[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(e){var t=this.min.array,n=this.max.array,r=e.min.array,a=e.max.array;return t[0]<=r[0]&&t[1]<=r[1]&&t[2]<=r[2]&&n[0]>=a[0]&&n[1]>=a[1]&&n[2]>=a[2]},containPoint:function(e){var t=this.min.array,n=this.max.array,r=e.array;return t[0]<=r[0]&&t[1]<=r[1]&&t[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(){var e=this.min.array,t=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=re.create(),t=re.create(),n=re.create(),r=re.create(),a=re.create(),i=re.create();return function(o,s){var l=o.min.array,u=o.max.array,c=s.array;return e[0]=c[0]*l[0],e[1]=c[1]*l[0],e[2]=c[2]*l[0],t[0]=c[0]*u[0],t[1]=c[1]*u[0],t[2]=c[2]*u[0],n[0]=c[4]*l[1],n[1]=c[5]*l[1],n[2]=c[6]*l[1],r[0]=c[4]*u[1],r[1]=c[5]*u[1],r[2]=c[6]*u[1],a[0]=c[8]*l[2],a[1]=c[9]*l[2],a[2]=c[10]*l[2],i[0]=c[8]*u[2],i[1]=c[9]*u[2],i[2]=c[10]*u[2],l=this.min.array,u=this.max.array,l[0]=Math.min(e[0],t[0])+Math.min(n[0],r[0])+Math.min(a[0],i[0])+c[12],l[1]=Math.min(e[1],t[1])+Math.min(n[1],r[1])+Math.min(a[1],i[1])+c[13],l[2]=Math.min(e[2],t[2])+Math.min(n[2],r[2])+Math.min(a[2],i[2])+c[14],u[0]=Math.max(e[0],t[0])+Math.max(n[0],r[0])+Math.max(a[0],i[0])+c[12],u[1]=Math.max(e[1],t[1])+Math.max(n[1],r[1])+Math.max(a[1],i[1])+c[13],u[2]=Math.max(e[2],t[2])+Math.max(n[2],r[2])+Math.max(a[2],i[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var t=this.min.array,n=this.max.array,r=e.array,a=t[0],i=t[1],o=t[2],s=n[0],l=n[1],u=t[2],c=n[0],f=n[1],d=n[2];if(r[15]===1)t[0]=r[0]*a+r[12],t[1]=r[5]*i+r[13],n[2]=r[10]*o+r[14],n[0]=r[0]*c+r[12],n[1]=r[5]*f+r[13],t[2]=r[10]*d+r[14];else{var h=-1/o;t[0]=r[0]*a*h,t[1]=r[5]*i*h,n[2]=(r[10]*o+r[14])*h,h=-1/u,n[0]=r[0]*s*h,n[1]=r[5]*l*h,h=-1/d,t[2]=(r[10]*d+r[14])*h}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var t=0;t<8;t++)e[t]=re.fromValues(0,0,0);this.vertices=e}var n=this.min.array,r=this.max.array;return Ul(e[0],n[0],n[1],n[2]),Ul(e[1],n[0],r[1],n[2]),Ul(e[2],r[0],n[1],n[2]),Ul(e[3],r[0],r[1],n[2]),Ul(e[4],n[0],n[1],r[2]),Ul(e[5],n[0],r[1],r[2]),Ul(e[6],r[0],n[1],r[2]),Ul(e[7],r[0],r[1],r[2]),this},copy:function(e){var t=this.min,n=this.max;return fy(t.array,e.min.array),fy(n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},clone:function(){var e=new e0;return e.copy(this),e}};const Wa=e0;var J_e=0,e1e=Ka.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+J_e++),this.position||(this.position=new Ne),this.rotation||(this.rotation=new _$),this.scale||(this.scale=new Ne(1,1,1)),this.worldTransform=new Qe,this.localTransform=new Qe,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var t=this._scene;if(t){var n=t._nodeRepository;delete n[this.name],n[e]=this}this.name=e},add:function(e){var t=e._parent;if(t!==this){t&&t.remove(e),e._parent=this,this._children.push(e);var n=this._scene;n&&n!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var t=this._children,n=t.indexOf(e);n<0||(t.splice(n,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,t=0;t<e.length;t++)e[t]._parent=null,this._scene&&e[t].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){for(var t=e._parent;t;){if(t===this)return!0;t=t._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},getDescendantByName:function(e){for(var t=this._children,n=0;n<t.length;n++){var r=t[n];if(r.name===e)return r;var a=r.getDescendantByName(e);if(a)return a}},queryNode:function(e){if(e){for(var t=e.split("/"),n=this,r=0;r<t.length;r++){var a=t[r];if(a){for(var i=!1,o=n._children,s=0;s<o.length;s++){var l=o[s];if(l.name===a){n=l,i=!0;break}}if(!i)return}}return n}},getPath:function(e){if(!this._parent)return"/";for(var t=this._parent,n=this.name;t._parent&&(n=t.name+"/"+n,t._parent!=e);)t=t._parent;return!t._parent&&e?null:n},traverse:function(e,t){e.call(t,this);for(var n=this._children,r=0,a=n.length;r<a;r++)n[r].traverse(e,t)},eachChild:function(e,t){for(var n=this._children,r=0,a=n.length;r<a;r++){var i=n[r];e.call(t,i,r)}},setLocalTransform:function(e){Oe.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){var t=e?null:this.scale;this.localTransform.decomposeMatrix(t,this.rotation,this.position)},setWorldTransform:function(e){Oe.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=Oe.create();return function(t){var n=this.localTransform,r=this.worldTransform;this._parent?(Oe.invert(e,this._parent.worldTransform.array),Oe.multiply(n.array,e,r.array)):Oe.copy(n.array,r.array);var a=t?null:this.scale;n.decomposeMatrix(a,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,t=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;Oe.fromRotationTranslation(r,t.array,e.array),Oe.scale(r,r,n.array),t._dirty=!1,n._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,t=this.worldTransform.array;this._parent?Oe.multiplyAffine(t,this._parent.worldTransform.array,e):Oe.copy(t,e)},updateWorldTransform:function(){for(var e=this;e&&e.getParent()&&e.getParent().transformNeedsUpdate();)e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].update(e)},getBoundingBox:function(){function e(a){return!a.invisible&&a.geometry}var t=new Wa,n=new Qe,r=new Qe;return function(a,i){return i=i||new Wa,this._parent?Qe.invert(r,this._parent.worldTransform):Qe.identity(r),this.traverse(function(o){o.geometry&&o.geometry.boundingBox&&(t.copy(o.geometry.boundingBox),Qe.multiply(n,r,o.worldTransform),t.applyTransform(n),i.union(t))},this,e),i}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var t=this.worldTransform.array;if(e){var n=e.array;return n[0]=t[12],n[1]=t[13],n[2]=t[14],e}else return new Ne(t[12],t[13],t[14])},clone:function(){var e=new this.constructor,t=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var n=0;n<t.length;n++)e.add(t[n].clone());return e},rotateAround:function(){var e=new Ne,t=new Qe;return function(n,r,a){e.copy(this.position).subtract(n);var i=this.localTransform;i.identity(),i.translate(n),i.rotate(a,r),t.fromRotationTranslation(this.rotation,e),i.multiply(t),i.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new Qe;return function(t,n){e.lookAt(this.position,t,n||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=t}}()});const gs=e1e;var Ei=gs.extend({material:null,geometry:null,mode:me.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:me.BACK,frontFace:me.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,t){},getBoundingBox:function(e,t){return t=gs.prototype.getBoundingBox.call(this,e,t),this.geometry&&this.geometry.boundingBox&&t.union(this.geometry.boundingBox),t},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var t=gs.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var n=0;n<e.length;n++){var r=e[n];t[r]!==this[r]&&(t[r]=this[r])}return t}}()});Ei.POINTS=me.POINTS;Ei.LINES=me.LINES;Ei.LINE_LOOP=me.LINE_LOOP;Ei.LINE_STRIP=me.LINE_STRIP;Ei.TRIANGLES=me.TRIANGLES;Ei.TRIANGLE_STRIP=me.TRIANGLE_STRIP;Ei.TRIANGLE_FAN=me.TRIANGLE_FAN;Ei.BACK=me.BACK;Ei.FRONT=me.FRONT;Ei.FRONT_AND_BACK=me.FRONT_AND_BACK;Ei.CW=me.CW;Ei.CCW=me.CCW;const HC=Ei;var WE=Ka.extend({scene:null,camera:null,renderer:null},function(){this._ray=new y_,this._ndc=new _i},{pick:function(e,t,n){var r=this.pickAll(e,t,[],n);return r[0]||null},pickAll:function(e,t,n,r){return this.renderer.screenToNDC(e,t,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,r||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(e,t,n){e instanceof HC&&e.isRenderable()&&(!e.ignorePicking||n)&&(e.mode===me.TRIANGLES&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)&&this._intersectRenderable(e,t);for(var r=0;r<e._children.length;r++)this._intersectNode(e._children[r],t,n)},_intersectRenderable:function(){var e=new Ne,t=new Ne,n=new Ne,r=new y_,a=new Qe;return function(i,o){var s=i.isSkinnedMesh();r.copy(this._ray),Qe.invert(a,i.worldTransform),s||r.applyTransform(a);var l=i.geometry,u=s?i.skeleton.boundingBox:l.boundingBox;if(!(u&&!r.intersectBoundingBox(u))){if(l.pick){l.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,i,o);return}else if(l.pickByRay){l.pickByRay(r,i,o);return}var c=i.cullFace===me.BACK&&i.frontFace===me.CCW||i.cullFace===me.FRONT&&i.frontFace===me.CW,f,d=l.indices,h=l.attributes.position,v=l.attributes.weight,p=l.attributes.joint,m,g=[];if(!(!h||!h.value||!d)){if(s){m=i.skeleton.getSubSkinMatrices(i.__uid__,i.joints);for(var y=0;y<i.joints.length;y++){g[y]=g[y]||[];for(var _=0;_<16;_++)g[y][_]=m[y*16+_]}var x=[],w=[],b=[],S=[],C=[],A=l.attributes.skinnedPosition;(!A||!A.value)&&(l.createAttribute("skinnedPosition","f",3),A=l.attributes.skinnedPosition,A.init(l.vertexCount));for(var y=0;y<l.vertexCount;y++){h.get(y,x),v.get(y,w),p.get(y,b),w[3]=1-w[0]-w[1]-w[2],re.set(S,0,0,0);for(var _=0;_<4;_++)b[_]>=0&&w[_]>1e-4&&(re.transformMat4(C,x,g[b[_]]),re.scaleAndAdd(S,S,C,w[_]));A.set(y,S)}}for(var y=0;y<d.length;y+=3){var M=d[y],T=d[y+1],E=d[y+2],P=s?l.attributes.skinnedPosition:h;if(P.get(M,e.array),P.get(T,t.array),P.get(E,n.array),c?f=r.intersectTriangle(e,t,n,i.culling):f=r.intersectTriangle(e,n,t,i.culling),f){var I=new Ne;s?Ne.copy(I,f):Ne.transformMat4(I,f,i.worldTransform),o.push(new WE.Intersection(f,I,i,[M,T,E],y/3,Ne.dist(I,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,t){return e.distance-t.distance}});WE.Intersection=function(e,t,n,r,a,i){this.point=e,this.pointWorld=t,this.target=n,this.triangle=r,this.triangleIndex=a,this.distance=i};const t1e=WE;var Dv="__dt__",__=function(){this._contextId=0,this._caches=[],this._context={}};__.prototype={use:function(e,t){var n=this._caches;n[e]||(n[e]={},t&&(n[e]=t())),this._contextId=e,this._context=n[e]},put:function(e,t){this._context[e]=t},get:function(e){return this._context[e]},dirty:function(e){e=e||"";var t=Dv+e;this.put(t,!0)},dirtyAll:function(e){e=e||"";for(var t=Dv+e,n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][t]=!0)},fresh:function(e){e=e||"";var t=Dv+e;this.put(t,!1)},freshAll:function(e){e=e||"";for(var t=Dv+e,n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][t]=!1)},isDirty:function(e){e=e||"";var t=Dv+e,n=this._context;return!n.hasOwnProperty(t)||n[t]===!0},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,t){var n=Object.keys(this._caches);n.forEach(function(r){e&&e.call(t,r)})},miss:function(e){return!this._context.hasOwnProperty(e)}};__.prototype.constructor=__;const YE=__;var zt=Ka.extend({width:512,height:512,type:me.UNSIGNED_BYTE,format:me.RGBA,wrapS:me.REPEAT,wrapT:me.REPEAT,minFilter:me.LINEAR_MIPMAP_LINEAR,magFilter:me.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new YE},{getWebGLTexture:function(e){var t=e.gl,n=this._cache;return n.use(e.__uid__),n.miss("webgl_texture")&&n.put("webgl_texture",t.createTexture()),this.dynamic?this.update(e):n.isDirty()&&(this.update(e),n.fresh()),n.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var t=e.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===me.DEPTH_COMPONENT&&(this.useMipmap=!1);var n=e.getGLExtension("EXT_sRGB");this.format===zt.SRGB&&!n&&(this.format=zt.RGB),this.format===zt.SRGB_ALPHA&&!n&&(this.format=zt.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?me.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?me.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?e===me.NEAREST_MIPMAP_NEAREST||e===me.NEAREST_MIPMAP_LINEAR?me.NEAREST:e===me.LINEAR_MIPMAP_LINEAR||e===me.LINEAR_MIPMAP_NEAREST?me.LINEAR:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var t=1;t<32;t<<=1)e=e|e>>t;return e+1},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("webgl_texture");n&&e.gl.deleteTexture(n),t.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(zt.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}});Object.defineProperty(zt.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}});zt.BYTE=me.BYTE;zt.UNSIGNED_BYTE=me.UNSIGNED_BYTE;zt.SHORT=me.SHORT;zt.UNSIGNED_SHORT=me.UNSIGNED_SHORT;zt.INT=me.INT;zt.UNSIGNED_INT=me.UNSIGNED_INT;zt.FLOAT=me.FLOAT;zt.HALF_FLOAT=36193;zt.UNSIGNED_INT_24_8_WEBGL=34042;zt.DEPTH_COMPONENT=me.DEPTH_COMPONENT;zt.DEPTH_STENCIL=me.DEPTH_STENCIL;zt.ALPHA=me.ALPHA;zt.RGB=me.RGB;zt.RGBA=me.RGBA;zt.LUMINANCE=me.LUMINANCE;zt.LUMINANCE_ALPHA=me.LUMINANCE_ALPHA;zt.SRGB=35904;zt.SRGB_ALPHA=35906;zt.COMPRESSED_RGB_S3TC_DXT1_EXT=33776;zt.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777;zt.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778;zt.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779;zt.NEAREST=me.NEAREST;zt.LINEAR=me.LINEAR;zt.NEAREST_MIPMAP_NEAREST=me.NEAREST_MIPMAP_NEAREST;zt.LINEAR_MIPMAP_NEAREST=me.LINEAR_MIPMAP_NEAREST;zt.NEAREST_MIPMAP_LINEAR=me.NEAREST_MIPMAP_LINEAR;zt.LINEAR_MIPMAP_LINEAR=me.LINEAR_MIPMAP_LINEAR;zt.REPEAT=me.REPEAT;zt.CLAMP_TO_EDGE=me.CLAMP_TO_EDGE;zt.MIRRORED_REPEAT=me.MIRRORED_REPEAT;const Je=zt;var Di=HC.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=HC.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});Di.POINTS=me.POINTS;Di.LINES=me.LINES;Di.LINE_LOOP=me.LINE_LOOP;Di.LINE_STRIP=me.LINE_STRIP;Di.TRIANGLES=me.TRIANGLES;Di.TRIANGLE_STRIP=me.TRIANGLE_STRIP;Di.TRIANGLE_FAN=me.TRIANGLE_FAN;Di.BACK=me.BACK;Di.FRONT=me.FRONT;Di.FRONT_AND_BACK=me.FRONT_AND_BACK;Di.CW=me.CW;Di.CCW=me.CCW;const Dc=Di;var ax={};ax.isPowerOfTwo=function(e){return(e&e-1)===0};ax.nextPowerOfTwo=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e};ax.nearestPowerOfTwo=function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))};const x$=ax;var Ak=x$.isPowerOfTwo;function Ek(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function n1e(e,t){var n=Ek(e.width),r=Ek(e.height);t=t||document.createElement("canvas"),t.width=n,t.height=r;var a=t.getContext("2d");return a.drawImage(e.image,0,0,n,r),t}var jE=Je.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var n=this.format,r=this.type,a=!!(this.convertToPOT&&!this.mipmaps.length&&this.image&&(this.wrapS===Je.REPEAT||this.wrapT===Je.REPEAT)&&this.NPOT);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,a?this.wrapS:this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,a?this.wrapT:this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a?this.magFilter:this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a?this.minFilter:this.getAvailableMinFilter());var i=e.getGLExtension("EXT_texture_filter_anisotropic");if(i&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),r===36193){var o=e.getGLExtension("OES_texture_half_float");o||(r=me.FLOAT)}if(this.mipmaps.length)for(var s=this.width,l=this.height,u=0;u<this.mipmaps.length;u++){var c=this.mipmaps[u];this._updateTextureData(t,c,u,s,l,n,r,!1),s/=2,l/=2}else this._updateTextureData(t,this,0,this.width,this.height,n,r,a),this.useMipmap&&(!this.NPOT||a)&&t.generateMipmap(t.TEXTURE_2D);t.bindTexture(t.TEXTURE_2D,null)},_updateTextureData:function(e,t,n,r,a,i,o,s){if(t.image){var l=t.image;s&&(this._potCanvas=n1e(this,this._potCanvas),l=this._potCanvas),e.texImage2D(e.TEXTURE_2D,n,i,i,o,l)}else i<=Je.COMPRESSED_RGBA_S3TC_DXT5_EXT&&i>=Je.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,n,i,r,a,0,t.pixels):e.texImage2D(e.TEXTURE_2D,n,i,r,a,0,i,o,t.pixels)},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_2D))},isPowerOfTwo:function(){return Ak(this.width)&&Ak(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!!(this.width&&this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,t){var n=yr.createImage();t&&(n.crossOrigin=t);var r=this;return n.onload=function(){r.dirty(),r.trigger("success",r)},n.onerror=function(){r.trigger("error",r)},n.src=e,this.image=n,this}});Object.defineProperty(jE.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}});Object.defineProperty(jE.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const Et=jE;function b$(e){return{byte:yr.Int8Array,ubyte:yr.Uint8Array,short:yr.Int16Array,ushort:yr.Uint16Array}[e]||yr.Float32Array}function $w(e){return"attr_"+e}function sh(e,t,n,r){switch(this.name=e,this.type=t,this.size=n,this.semantic=r||"",this.value=null,n){case 1:this.get=function(a){return this.value[a]},this.set=function(a,i){this.value[a]=i},this.copy=function(a,i){this.value[a]=this.value[a]};break;case 2:this.get=function(a,i){var o=this.value;return i[0]=o[a*2],i[1]=o[a*2+1],i},this.set=function(a,i){var o=this.value;o[a*2]=i[0],o[a*2+1]=i[1]},this.copy=function(a,i){var o=this.value;i*=2,a*=2,o[a]=o[i],o[a+1]=o[i+1]};break;case 3:this.get=function(a,i){var o=a*3,s=this.value;return i[0]=s[o],i[1]=s[o+1],i[2]=s[o+2],i},this.set=function(a,i){var o=a*3,s=this.value;s[o]=i[0],s[o+1]=i[1],s[o+2]=i[2]},this.copy=function(a,i){var o=this.value;i*=3,a*=3,o[a]=o[i],o[a+1]=o[i+1],o[a+2]=o[i+2]};break;case 4:this.get=function(a,i){var o=this.value,s=a*4;return i[0]=o[s],i[1]=o[s+1],i[2]=o[s+2],i[3]=o[s+3],i},this.set=function(a,i){var o=this.value,s=a*4;o[s]=i[0],o[s+1]=i[1],o[s+2]=i[2],o[s+3]=i[3]},this.copy=function(a,i){var o=this.value;i*=4,a*=4,o[a]=o[i],o[a+1]=o[i+1],o[a+2]=o[i+2],o[a+3]=o[i+3]}}}sh.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var t=b$(this.type);this.value=new t(e*this.size)}};sh.prototype.fromArray=function(e){var t=b$(this.type),n;if(e[0]&&e[0].length){var r=0,a=this.size;n=new t(e.length*a);for(var i=0;i<e.length;i++)for(var o=0;o<a;o++)n[r++]=e[i][o]}else n=new t(e);this.value=n};sh.prototype.clone=function(e){var t=new sh(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),t};function w$(e,t,n,r,a){this.name=e,this.type=t,this.buffer=n,this.size=r,this.semantic=a,this.symbol="",this.needsRemove=!1}function S$(e){this.buffer=e,this.count=0}var fl=Ka.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new YE,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),t=0;t<e.length;t++)this.dirtyAttribute(e[t]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll($w(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,t){if(e<this.triangleCount&&e>=0){t||(t=[]);var n=this.indices;return t[0]=n[e*3],t[1]=n[e*3+1],t[2]=n[e*3+2],t}},setTriangleIndices:function(e,t){var n=this.indices;n[e*3]=t[0],n[e*3+1]=t[1],n[e*3+2]=t[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var t,n=this.vertexCount>65535?yr.Uint32Array:yr.Uint16Array;if(e[0]&&e[0].length){var r=0,a=3;t=new n(e.length*a);for(var i=0;i<e.length;i++)for(var o=0;o<a;o++)t[r++]=e[i][o]}else t=new n(e);this.indices=t},createAttribute:function(e,t,n,r){var a=new sh(e,t,n,r);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=a,this._attributeList.push(e),a},removeAttribute:function(e){var t=this._attributeList,n=t.indexOf(e);return n>=0?(t.splice(n,1),delete this.attributes[e],!0):!1},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,t=this._attributeList;if(e)return e;for(var n=[],r=this.vertexCount,a=0;a<t.length;a++){var i=t[a],o=this.attributes[i];o.value&&o.value.length===r*o.size&&n.push(i)}return this._enabledAttributes=n,n},getBufferChunks:function(e){var t=this._cache;t.use(e.__uid__);var n=t.isDirty("attributes"),r=t.isDirty("indices");if(n||r){this._updateBuffer(e.gl,n,r);for(var a=this.getEnabledAttributes(),i=0;i<a.length;i++)t.fresh($w(a[i]));t.fresh("attributes"),t.fresh("indices")}return t.fresh("any"),t.get("chunks")},_updateBuffer:function(e,t,n){var r=this._cache,a=r.get("chunks"),i=!1;a||(a=[],a[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",a),i=!0);var o=a[0],s=o.attributeBuffers,l=o.indicesBuffer;if(t||i){var u=this.getEnabledAttributes(),c={};if(!i)for(var f=0;f<s.length;f++)c[s[f].name]=s[f];for(var d=0;d<u.length;d++){var h=u[d],v=this.attributes[h],p;i||(p=c[h]);var m;p?m=p.buffer:m=e.createBuffer(),r.isDirty($w(h))&&(e.bindBuffer(e.ARRAY_BUFFER,m),e.bufferData(e.ARRAY_BUFFER,v.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),s[d]=new w$(h,v.type,m,v.size,v.semantic)}for(var f=d;f<s.length;f++)e.deleteBuffer(s[f].buffer);s.length=d}this.isUseIndices()&&(n||i)&&(l||(l=new S$(e.createBuffer()),o.indicesBuffer=l),l.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,l.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var a=n[r],i=0;i<a.attributeBuffers.length;i++){var o=a.attributeBuffers[i];e.gl.deleteBuffer(o.buffer)}a.indicesBuffer&&e.gl.deleteBuffer(a.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(fl.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),!e||!e.value?0:e.value.length/e.size}}),Object.defineProperty(fl.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}}));fl.STATIC_DRAW=me.STATIC_DRAW;fl.DYNAMIC_DRAW=me.DYNAMIC_DRAW;fl.STREAM_DRAW=me.STREAM_DRAW;fl.AttributeBuffer=w$;fl.IndicesBuffer=S$;fl.Attribute=sh;const Ef=fl;var Oa=re.create,dd=re.add,tc=re.set,Qo=Ef.Attribute,Df=Ef.extend(function(){return{attributes:{position:new Qo("position","float",3,"POSITION"),texcoord0:new Qo("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new Qo("texcoord1","float",2,"TEXCOORD_1"),normal:new Qo("normal","float",3,"NORMAL"),tangent:new Qo("tangent","float",4,"TANGENT"),color:new Qo("color","float",4,"COLOR"),weight:new Qo("weight","float",3,"WEIGHT"),joint:new Qo("joint","float",4,"JOINT"),barycentric:new Qo("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new Wa);var t=this.attributes.position.value;if(t&&t.length){var n=e.min,r=e.max,a=n.array,i=r.array;re.set(a,t[0],t[1],t[2]),re.set(i,t[0],t[1],t[2]);for(var o=3;o<t.length;){var s=t[o++],l=t[o++],u=t[o++];s<a[0]&&(a[0]=s),l<a[1]&&(a[1]=l),u<a[2]&&(a[2]=u),s>i[0]&&(i[0]=s),l>i[1]&&(i[1]=l),u>i[2]&&(i[2]=u)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,t=this.attributes,n=t.position.value,r=t.normal.value;if(!r||r.length!==n.length)r=t.normal.value=new yr.Float32Array(n.length);else for(var a=0;a<r.length;a++)r[a]=0;for(var i=Oa(),o=Oa(),s=Oa(),l=Oa(),u=Oa(),c=Oa(),f=e?e.length:this.vertexCount,d,h,v,p=0;p<f;){e?(d=e[p++],h=e[p++],v=e[p++]):(d=p++,h=p++,v=p++),tc(i,n[d*3],n[d*3+1],n[d*3+2]),tc(o,n[h*3],n[h*3+1],n[h*3+2]),tc(s,n[v*3],n[v*3+1],n[v*3+2]),re.sub(l,i,o),re.sub(u,o,s),re.cross(c,l,u);for(var a=0;a<3;a++)r[d*3+a]=r[d*3+a]+c[a],r[h*3+a]=r[h*3+a]+c[a],r[v*3+a]=r[v*3+a]+c[a]}for(var a=0;a<r.length;)tc(c,r[a],r[a+1],r[a+2]),re.normalize(c,c),r[a++]=c[0],r[a++]=c[1],r[a++]=c[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,t=this.attributes,n=t.position.value,r=t.normal.value,a=Oa(),i=Oa(),o=Oa(),s=Oa(),l=Oa(),u=Oa();r||(r=t.normal.value=new Float32Array(n.length));for(var c=e?e.length:this.vertexCount,f,d,h,v=0;v<c;){e?(f=e[v++],d=e[v++],h=e[v++]):(f=v++,d=v++,h=v++),tc(a,n[f*3],n[f*3+1],n[f*3+2]),tc(i,n[d*3],n[d*3+1],n[d*3+2]),tc(o,n[h*3],n[h*3+1],n[h*3+2]),re.sub(s,a,i),re.sub(l,i,o),re.cross(u,s,l),re.normalize(u,u);for(var p=0;p<3;p++)r[f*3+p]=u[p],r[d*3+p]=u[p],r[h*3+p]=u[p]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,t=this.attributes;t.tangent.value||(t.tangent.value=new Float32Array(e*4));var n=t.texcoord0.value,r=t.position.value,a=t.tangent.value,i=t.normal.value;if(!n){console.warn("Geometry without texcoords can't generate tangents.");return}for(var o=[],s=[],l=0;l<e;l++)o[l]=[0,0,0],s[l]=[0,0,0];for(var u=[0,0,0],c=[0,0,0],f=this.indices,d=f?f.length:this.vertexCount,h,v,p,l=0;l<d;){f?(h=f[l++],v=f[l++],p=f[l++]):(h=l++,v=l++,p=l++);var m=n[h*2],g=n[v*2],y=n[p*2],_=n[h*2+1],x=n[v*2+1],w=n[p*2+1],b=r[h*3],S=r[v*3],C=r[p*3],A=r[h*3+1],M=r[v*3+1],T=r[p*3+1],E=r[h*3+2],P=r[v*3+2],I=r[p*3+2],k=S-b,B=C-b,U=M-A,R=T-A,L=P-E,z=I-E,X=g-m,Y=y-m,$=x-_,F=w-_,N=1/(X*F-$*Y);u[0]=(F*k-$*B)*N,u[1]=(F*U-$*R)*N,u[2]=(F*L-$*z)*N,c[0]=(X*B-Y*k)*N,c[1]=(X*R-Y*U)*N,c[2]=(X*z-Y*L)*N,dd(o[h],o[h],u),dd(o[v],o[v],u),dd(o[p],o[p],u),dd(s[h],s[h],c),dd(s[v],s[v],c),dd(s[p],s[p],c)}for(var H=Oa(),K=Oa(),Z=Oa(),l=0;l<e;l++){Z[0]=i[l*3],Z[1]=i[l*3+1],Z[2]=i[l*3+2];var q=o[l];re.scale(H,Z,re.dot(Z,q)),re.sub(H,q,H),re.normalize(H,H),re.cross(K,Z,q),a[l*4]=H[0],a[l*4+1]=H[1],a[l*4+2]=H[2],a[l*4+3]=re.dot(K,s[l])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return this.isUseIndices()?this.vertexCount===this.indices.length:!0},generateUniqueVertex:function(){if(!(!this.vertexCount||!this.indices)){this.indices.length>65535&&(this.indices=new yr.Uint32Array(this.indices));for(var e=this.attributes,t=this.indices,n=this.getEnabledAttributes(),r={},a=0;a<n.length;a++){var i=n[a];r[i]=e[i].value,e[i].init(this.indices.length)}for(var o=0,s=0;s<t.length;s++){for(var l=t[s],a=0;a<n.length;a++)for(var i=n[a],u=e[i].value,c=e[i].size,f=0;f<c;f++)u[o*c+f]=r[i][l*c+f];t[s]=o,o++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,t=e.barycentric.value,n=this.indices;if(!(t&&t.length===n.length*3)){t=e.barycentric.value=new Float32Array(n.length*3);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var a=0;a<3;a++){var i=n?n[r++]:r*3+a;t[i*3+a]=1}this.dirty()}}},applyTransform:function(e){var t=this.attributes,n=t.position.value,r=t.normal.value,a=t.tangent.value;e=e.array;var i=Oe.create();Oe.invert(i,e),Oe.transpose(i,i);var o=re.transformMat4,s=re.forEach;s(n,3,0,null,o,e),r&&s(r,3,0,null,o,i),a&&s(a,4,0,null,o,i),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var a=n[r],i=0;i<a.attributeBuffers.length;i++){var o=a.attributeBuffers[i];e.gl.deleteBuffer(o.buffer)}a.indicesBuffer&&e.gl.deleteBuffer(a.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});Df.STATIC_DRAW=Ef.STATIC_DRAW;Df.DYNAMIC_DRAW=Ef.DYNAMIC_DRAW;Df.STREAM_DRAW=Ef.STREAM_DRAW;Df.AttributeBuffer=Ef.AttributeBuffer;Df.IndicesBuffer=Ef.IndicesBuffer;Df.Attribute=Qo;const Gt=Df,r1e=`vec3 calcAmbientSHLight(int idx, vec3 N) {
 int offset = 9 * idx;
 return ambientSHLightCoefficients[0]
 + ambientSHLightCoefficients[1] * N.x
 + ambientSHLightCoefficients[2] * N.y
 + ambientSHLightCoefficients[3] * N.z
 + ambientSHLightCoefficients[4] * N.x * N.z
 + ambientSHLightCoefficients[5] * N.z * N.y
 + ambientSHLightCoefficients[6] * N.y * N.x
 + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)
 + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);
}`;var So="uniform vec3 ",Mv="uniform float ",hd="@export clay.header.",vd="@end",jr=":unconfigurable;";const a1e=[hd+"directional_light",So+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+jr,So+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+jr,vd,hd+"ambient_light",So+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+jr,vd,hd+"ambient_sh_light",So+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+jr,So+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+jr,r1e,vd,hd+"ambient_cubemap_light",So+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+jr,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+jr,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+jr,vd,hd+"point_light",So+"pointLightPosition[POINT_LIGHT_COUNT]"+jr,Mv+"pointLightRange[POINT_LIGHT_COUNT]"+jr,So+"pointLightColor[POINT_LIGHT_COUNT]"+jr,vd,hd+"spot_light",So+"spotLightPosition[SPOT_LIGHT_COUNT]"+jr,So+"spotLightDirection[SPOT_LIGHT_COUNT]"+jr,Mv+"spotLightRange[SPOT_LIGHT_COUNT]"+jr,Mv+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+jr,Mv+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+jr,Mv+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+jr,So+"spotLightColor[SPOT_LIGHT_COUNT]"+jr,vd].join(`
`);Re.import(a1e);var i1e=gs.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var e=gs.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}});const Uo=i1e;var t0=function(e,t){this.normal=e||new Ne(0,1,0),this.distance=t||0};t0.prototype={constructor:t0,distanceToPoint:function(e){return re.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,t){t||(t=new Ne);var n=this.distanceToPoint(e);return re.scaleAndAdd(t.array,e.array,this.normal.array,-n),t._dirty=!0,t},normalize:function(){var e=1/re.len(this.normal.array);re.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var t=e.vertices,n=this.normal.array,r=re.dot(t[0].array,n)>this.distance,a=1;a<8;a++)if(re.dot(t[a].array,n)>this.distance!=r)return!0},intersectLine:function(){var e=re.create();return function(t,n,r){var a=this.distanceToPoint(t),i=this.distanceToPoint(n);if(a>0&&i>0||a<0&&i<0)return null;var o=this.normal.array,s=this.distance,l=t.array;re.sub(e,n.array,t.array),re.normalize(e,e);var u=re.dot(o,e);if(u===0)return null;r||(r=new Ne);var c=(re.dot(o,l)-s)/u;return re.scaleAndAdd(r.array,l,e,-c),r._dirty=!0,r}}(),applyTransform:function(){var e=Oe.create(),t=He.create(),n=He.create();return n[3]=1,function(r){r=r.array,re.scale(n,this.normal.array,this.distance),He.transformMat4(n,n,r),this.distance=re.dot(n,this.normal.array),Oe.invert(e,r),Oe.transpose(e,e),t[3]=0,re.copy(t,this.normal.array),He.transformMat4(t,t,e),re.copy(this.normal.array,t)}}(),copy:function(e){re.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new t0;return e.copy(this),e}};const T$=t0;var sr=re.set,Dk=re.copy,Mk=re.transformMat4,Gw=Math.min,Ww=Math.max,C$=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new T$);this.boundingBox=new Wa,this.vertices=[];for(var e=0;e<8;e++)this.vertices[e]=re.fromValues(0,0,0)};C$.prototype={setFromProjection:function(e){var t=this.planes,n=e.array,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],d=n[9],h=n[10],v=n[11],p=n[12],m=n[13],g=n[14],y=n[15];sr(t[0].normal.array,o-r,c-s,v-f),t[0].distance=-(y-p),t[0].normalize(),sr(t[1].normal.array,o+r,c+s,v+f),t[1].distance=-(y+p),t[1].normalize(),sr(t[2].normal.array,o+a,c+l,v+d),t[2].distance=-(y+m),t[2].normalize(),sr(t[3].normal.array,o-a,c-l,v-d),t[3].distance=-(y-m),t[3].normalize(),sr(t[4].normal.array,o-i,c-u,v-h),t[4].distance=-(y-g),t[4].normalize(),sr(t[5].normal.array,o+i,c+u,v+h),t[5].distance=-(y+g),t[5].normalize();var _=this.boundingBox,x=this.vertices;if(y===0){var w=l/r,b=-g/(h-1),S=-g/(h+1),C=-S/l,A=-b/l;_.min.set(-C*w,-C,S),_.max.set(C*w,C,b),sr(x[0],-C*w,-C,S),sr(x[1],-C*w,C,S),sr(x[2],C*w,-C,S),sr(x[3],C*w,C,S),sr(x[4],-A*w,-A,b),sr(x[5],-A*w,A,b),sr(x[6],A*w,-A,b),sr(x[7],A*w,A,b)}else{var M=(-1-p)/r,T=(1-p)/r,E=(1-m)/l,P=(-1-m)/l,I=(-1-g)/h,k=(1-g)/h;_.min.set(Math.min(M,T),Math.min(P,E),Math.min(k,I)),_.max.set(Math.max(T,M),Math.max(E,P),Math.max(I,k));var B=_.min.array,U=_.max.array;sr(x[0],B[0],B[1],B[2]),sr(x[1],B[0],U[1],B[2]),sr(x[2],U[0],B[1],B[2]),sr(x[3],U[0],U[1],B[2]),sr(x[4],B[0],B[1],U[2]),sr(x[5],B[0],U[1],U[2]),sr(x[6],U[0],B[1],U[2]),sr(x[7],U[0],U[1],U[2])}},getTransformedBoundingBox:function(){var e=re.create();return function(t,n){var r=this.vertices,a=n.array,i=t.min,o=t.max,s=i.array,l=o.array,u=r[0];Mk(e,u,a),Dk(s,e),Dk(l,e);for(var c=1;c<8;c++)u=r[c],Mk(e,u,a),s[0]=Gw(e[0],s[0]),s[1]=Gw(e[1],s[1]),s[2]=Gw(e[2],s[2]),l[0]=Ww(e[0],l[0]),l[1]=Ww(e[1],l[1]),l[2]=Ww(e[2],l[2]);return i._dirty=!0,o._dirty=!0,t}}()};const XE=C$;var o1e=gs.extend(function(){return{projectionMatrix:new Qe,invProjectionMatrix:new Qe,viewMatrix:new Qe,frustum:new XE}},function(){this.update(!0)},{update:function(e){gs.prototype.update.call(this,e),Qe.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),Qe.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){Qe.copy(this.viewMatrix,e),Qe.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){Qe.copy(this.projectionMatrix,e),Qe.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=He.create();return function(t,n){var r=n!==void 0?n:new y_,a=t.array[0],i=t.array[1];return He.set(e,a,i,-1,1),He.transformMat4(e,e,this.invProjectionMatrix.array),He.transformMat4(e,e,this.worldTransform.array),re.scale(r.origin.array,e,1/e[3]),He.set(e,a,i,1,1),He.transformMat4(e,e,this.invProjectionMatrix.array),He.transformMat4(e,e,this.worldTransform.array),re.scale(e,e,1/e[3]),re.sub(r.direction.array,e,r.origin.array),re.normalize(r.direction.array,r.direction.array),r.direction._dirty=!0,r.origin._dirty=!0,r}}()});const lh=o1e;var s1e=Oe.create(),Pk=Oe.create(),Yw={};function l1e(e){var t=[],n=Object.keys(e);n.sort();for(var r=0;r<n.length;r++){var a=n[r];t.push(a+" "+e[a])}var i=t.join(`
`);if(Yw[i])return Yw[i];var o=Kr.genGUID();return Yw[i]=o,o}function ix(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}ix.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0};ix.prototype.add=function(e,t){t?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e};ix.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var u1e=gs.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new Wa,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new d$(20)}},function(){this._scene=this},{addToScene:function(e){e instanceof lh?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof Uo&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var t;e instanceof lh?(t=this._cameraList.indexOf(e),t>=0&&this._cameraList.splice(t,1)):e instanceof Uo&&(t=this.lights.indexOf(e),t>=0&&this.lights.splice(t,1)),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var t=this._cameraList.indexOf(e);t>=0&&this._cameraList.splice(t,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var t={},n=0;n<e.length;n++){var r=e[n];if(!r.invisible){var a=r.group;t[a]||(t[a]={}),t[a][r.type]=t[a][r.type]||0,t[a][r.type]++}}this._lightNumber=t;for(var i in t)this._lightProgramKeys[i]=l1e(t[i]);this._updateLightUniforms()},cloneNode:function(e){var t=e.clone(),n={};function r(a,i){n[a.__uid__]=i;for(var o=0;o<a._children.length;o++){var s=a._children[o],l=i._children[o];r(s,l)}}return r(e,t),t.traverse(function(a){a.skeleton&&(a.skeleton=a.skeleton.clone(n)),a.material&&(a.material=a.material.clone())}),t},updateRenderList:function(e,t){var n=e.__uid__,r=this._renderLists.get(n);r||(r=new ix,this._renderLists.put(n,r)),r.startCount(),t&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var a=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,e,a,r,t),r.endCount(),r},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,t,n,r,a){if(!e.invisible)for(var i=0;i<e._children.length;i++){var o=e._children[i];if(o.isRenderable()){var s=o.isSkinnedMesh()?s1e:o.worldTransform.array,l=o.geometry;Oe.multiplyAffine(Pk,t.viewMatrix.array,s),(a&&!l.boundingBox||!this.isFrustumCulled(o,t,Pk))&&r.add(o,o.material.transparent||n)}o._children.length>0&&this._doUpdateRenderList(o,t,n,r,a)}},isFrustumCulled:function(){var e=new Wa,t=new Qe;return function(n,r,a){var i=n.boundingBox;if(i||(n.skeleton&&n.skeleton.boundingBox?i=n.skeleton.boundingBox:i=n.geometry.boundingBox),!i)return!1;if(t.array=a,e.transformFrom(i,t),n.castShadow&&this.viewBoundingBoxLastFrame.union(e),n.frustumCulling){if(!e.intersectBoundingBox(r.frustum.boundingBox))return!0;t.array=r.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(t);var o=e.min.array,s=e.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(c1e);var t=this._lightUniforms;for(var n in t)for(var r in t[n])t[n][r].value.length=0;for(var a=0;a<e.length;a++){var i=e[a];if(!i.invisible){var n=i.group;for(var r in i.uniformTemplates){var o=i.uniformTemplates[r],s=o.value(i);if(s!=null){t[n]||(t[n]={}),t[n][r]||(t[n][r]={type:"",value:[]});var l=t[n][r];switch(l.type=o.type+"v",o.type){case"1i":case"1f":case"t":l.value.push(s);break;case"2f":case"3f":case"4f":for(var u=0;u<s.length;u++)l.value.push(s[u]);break;default:console.error("Unkown light uniform type "+o.type)}}}}}},getLightGroups:function(){var e=[];for(var t in this._lightNumber)e.push(t);return e},getNumberChangedLightGroups:function(){var e=[];for(var t in this._lightNumber)this.isLightNumberChanged(t)&&e.push(t);return e},isLightNumberChanged:function(e){var t=this._previousLightNumber,n=this._lightNumber;for(var r in n[e])if(!t[e]||n[e][r]!==t[e][r])return!0;for(var r in t[e])if(!n[e]||n[e][r]!==t[e][r])return!0;return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(t,n,r){for(var a in t){var i=t[a];if(i.type==="tv"){if(!n.hasUniform(a))continue;for(var o=[],s=0;s<i.value.length;s++){var l=i.value[s],u=n.takeCurrentTextureSlot(r,l);o.push(u)}n.setUniform(r.gl,"1iv",a,o)}else n.setUniform(r.gl,i.type,a,i.value)}}return function(t,n,r){e(this._lightUniforms[n],t,r),e(this.shadowUniforms,t,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function c1e(e,t){if(t.castShadow&&!e.castShadow)return!0}const Tu=u1e;var dy=x$.isPowerOfTwo,f1e=["px","nx","py","ny","pz","nz"],qE=Je.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var n=this.format,r=this.type;t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var a=e.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_CUBE_MAP,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),r===36193){var i=e.getGLExtension("OES_texture_half_float");i||(r=me.FLOAT)}if(this.mipmaps.length)for(var o=this.width,s=this.height,l=0;l<this.mipmaps.length;l++){var u=this.mipmaps[l];this._updateTextureData(t,u,l,o,s,n,r),o/=2,s/=2}else this._updateTextureData(t,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&t.generateMipmap(t.TEXTURE_CUBE_MAP);t.bindTexture(t.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,t,n,r,a,i,o){for(var s=0;s<6;s++){var l=f1e[s],u=t.image&&t.image[l];u?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,i,i,o,u):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,i,r,a,0,i,o,t.pixels&&t.pixels[l])}},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?dy(this.image.px.width)&&dy(this.image.px.height):dy(this.width)&&dy(this.height)},isRenderable:function(){return this.image.px?pd(this.image.px)&&pd(this.image.nx)&&pd(this.image.py)&&pd(this.image.ny)&&pd(this.image.pz)&&pd(this.image.nz):!!(this.width&&this.height)},load:function(e,t){var n=0,r=this;return Kr.each(e,function(a,i){var o=yr.createImage();t&&(o.crossOrigin=t),o.onload=function(){n--,n===0&&(r.dirty(),r.trigger("success",r))},o.onerror=function(){n--},n++,o.src=a,r.image[i]=o}),this}});Object.defineProperty(qE.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}});Object.defineProperty(qE.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});function pd(e){return e.width>0&&e.height>0}const cm=qE;var d1e=lh.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,t=Math.atan(1/e[5])*2;this.fov=t/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=lh.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}});const Br=d1e;var hy="framebuffer",Hs="renderbuffer",Lk=Hs+"_width",Ik=Hs+"_height",jw=Hs+"_attached",Xw="depthtexture_attached",nc=me.FRAMEBUFFER,Pv=me.RENDERBUFFER,Kv=me.DEPTH_ATTACHMENT,A$=me.COLOR_ATTACHMENT0,Hm=Ka.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new YE,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var t=e.gl;t.bindFramebuffer(nc,this._getFrameBufferGL(e)),this._boundRenderer=e;var n=this._cache;n.put("viewport",e.viewport);var r=!1,a,i;for(var o in this._textures){r=!0;var s=this._textures[o];s&&(a=s.texture.width,i=s.texture.height,this._doAttach(e,s.texture,o,s.target))}this._width=a,this._height=i,!r&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,a,i,1);var l=n.get("attached_textures");if(l){for(var o in l)if(!this._textures[o]){var u=l[o];this._doDetach(t,o,u)}}if(!n.get(Xw)&&this.depthBuffer){n.miss(Hs)&&n.put(Hs,t.createRenderbuffer());var c=n.get(Hs);(a!==n.get(Lk)||i!==n.get(Ik))&&(t.bindRenderbuffer(Pv,c),t.renderbufferStorage(Pv,t.DEPTH_COMPONENT16,a,i),n.put(Lk,a),n.put(Ik,i),t.bindRenderbuffer(Pv,null)),n.get(jw)||(t.framebufferRenderbuffer(nc,Kv,Pv,c),n.put(jw,!0))}},unbind:function(e){e.__currentFrameBuffer=null;var t=e.gl;t.bindFramebuffer(nc,null),this._boundRenderer=null,this._cache.use(e.__uid__);var n=this._cache.get("viewport");n&&e.setViewport(n),this.updateMipmap(e)},updateMipmap:function(e){var t=e.gl;for(var n in this._textures){var r=this._textures[n];if(r){var a=r.texture;if(!a.NPOT&&a.useMipmap&&a.minFilter===Je.LINEAR_MIPMAP_LINEAR){var i=a.textureType==="textureCube"?me.TEXTURE_CUBE_MAP:me.TEXTURE_2D;t.bindTexture(i,a.getWebGLTexture(e)),t.generateMipmap(i),t.bindTexture(i,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(nc)},_getFrameBufferGL:function(e){var t=this._cache;return t.use(e.__uid__),t.miss(hy)&&t.put(hy,e.gl.createFramebuffer()),t.get(hy)},attach:function(e,t,n){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");t=t||A$,n=n||me.TEXTURE_2D;var r=this._boundRenderer,a=r&&r.gl,i;if(a){var o=this._cache;o.use(r.__uid__),i=o.get("attached_textures")}var s=this._textures[t];if(!(s&&s.target===n&&s.texture===e&&i&&i[t]!=null)){var l=!0;r&&(l=this._doAttach(r,e,t,n),this.viewport||r.setViewport(0,0,e.width,e.height,1)),l&&(this._textures[t]=this._textures[t]||{},this._textures[t].texture=e,this._textures[t].target=n)}},_doAttach:function(e,t,n,r){var a=e.gl,i=t.getWebGLTexture(e),o=this._cache.get("attached_textures");if(o&&o[n]){var s=o[n];if(s.texture===t&&s.target===r)return}n=+n;var l=!0;if(n===Kv||n===me.DEPTH_STENCIL_ATTACHMENT){var u=e.getGLExtension("WEBGL_depth_texture");if(u||(console.error("Depth texture is not supported by the browser"),l=!1),t.format!==me.DEPTH_COMPONENT&&t.format!==me.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),l=!1),l){var c=this._cache.get(Hs);c&&(a.framebufferRenderbuffer(nc,Kv,Pv,null),a.deleteRenderbuffer(c),this._cache.put(Hs,!1)),this._cache.put(jw,!1),this._cache.put(Xw,!0)}}return a.framebufferTexture2D(nc,n,r,i,0),o||(o={},this._cache.put("attached_textures",o)),o[n]=o[n]||{},o[n].texture=t,o[n].target=r,l},_doDetach:function(e,t,n){e.framebufferTexture2D(nc,t,n,null,0);var r=this._cache.get("attached_textures");r&&r[t]&&(r[t]=null),(t===Kv||t===me.DEPTH_STENCIL_ATTACHMENT)&&this._cache.put(Xw,!1)},detach:function(e,t){if(this._textures[e]=null,this._boundRenderer){var n=this._cache;n.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,t)}},dispose:function(e){var t=e.gl,n=this._cache;n.use(e.__uid__);var r=n.get(Hs);r&&t.deleteRenderbuffer(r);var a=n.get(hy);a&&t.deleteFramebuffer(a),n.deleteContext(e.__uid__),this._textures={}}});Hm.DEPTH_ATTACHMENT=Kv;Hm.COLOR_ATTACHMENT0=A$;Hm.STENCIL_ATTACHMENT=me.STENCIL_ATTACHMENT;Hm.DEPTH_STENCIL_ATTACHMENT=me.DEPTH_STENCIL_ATTACHMENT;const ea=Hm;var h1e=["px","nx","py","ny","pz","nz"],v1e=Ka.extend(function(){var e={position:new Ne,far:1e3,near:.1,texture:null,shadowMapPass:null},t=e._cameras={px:new Br({fov:90}),nx:new Br({fov:90}),py:new Br({fov:90}),ny:new Br({fov:90}),pz:new Br({fov:90}),nz:new Br({fov:90})};return t.px.lookAt(Ne.POSITIVE_X,Ne.NEGATIVE_Y),t.nx.lookAt(Ne.NEGATIVE_X,Ne.NEGATIVE_Y),t.py.lookAt(Ne.POSITIVE_Y,Ne.POSITIVE_Z),t.ny.lookAt(Ne.NEGATIVE_Y,Ne.NEGATIVE_Z),t.pz.lookAt(Ne.POSITIVE_Z,Ne.NEGATIVE_Y),t.nz.lookAt(Ne.NEGATIVE_Z,Ne.NEGATIVE_Y),e._frameBuffer=new ea,e},{getCamera:function(e){return this._cameras[e]},render:function(e,t,n){var r=e.gl;n||t.update();for(var a=this.texture.width,i=2*Math.atan(a/(a-.5))/Math.PI*180,o=0;o<6;o++){var s=h1e[o],l=this._cameras[s];if(Ne.copy(l.position,this.position),l.far=this.far,l.near=this.near,l.fov=i,this.shadowMapPass){l.update();var u=t.getBoundingBox();u.applyTransform(l.viewMatrix),t.viewBoundingBoxLastFrame.copy(u),this.shadowMapPass.render(e,t,l,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(e),e.render(t,l,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}});const ZE=v1e;var p1e=Gt.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var e=this.heightSegments,t=this.widthSegments,n=this.attributes,r=[],a=[],i=[],o=[],s=0;s<=e;s++)for(var l=s/e,u=0;u<=t;u++){var c=u/t;if(r.push([2*c-1,2*l-1,0]),a&&a.push([c,l]),i&&i.push([0,0,1]),u<t&&s<e){var f=u+s*(t+1);o.push([f,f+1,f+t+1]),o.push([f+t+1,f+1,f+t+2])}}n.position.fromArray(r),n.texcoord0.fromArray(a),n.normal.fromArray(i),this.initIndicesFromArray(o),this.boundingBox=new Wa,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});const ox=p1e;var Qn=new Qe,m1e=Gt.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var e={px:md("px",this.depthSegments,this.heightSegments),nx:md("nx",this.depthSegments,this.heightSegments),py:md("py",this.widthSegments,this.depthSegments),ny:md("ny",this.widthSegments,this.depthSegments),pz:md("pz",this.widthSegments,this.heightSegments),nz:md("nz",this.widthSegments,this.heightSegments)},t=["position","texcoord0","normal"],n=0,r=0;for(var a in e)n+=e[a].vertexCount,r+=e[a].indices.length;for(var i=0;i<t.length;i++)this.attributes[t[i]].init(n);this.indices=new yr.Uint16Array(r);var o=0,s=0;for(var a in e){for(var l=e[a],i=0;i<t.length;i++)for(var u=t[i],c=l.attributes[u].value,f=l.attributes[u].size,d=u==="normal",h=0;h<c.length;h++){var v=c[h];this.inside&&d&&(v=-v),this.attributes[u].value[h+f*s]=v}for(var p=l.indices.length,h=0;h<l.indices.length;h++)this.indices[h+o]=s+l.indices[this.inside?p-h-1:h];o+=l.indices.length,s+=l.vertexCount}this.boundingBox=new Wa,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function md(e,t,n){Qn.identity();var r=new ox({widthSegments:t,heightSegments:n});switch(e){case"px":Qe.translate(Qn,Qn,Ne.POSITIVE_X),Qe.rotateY(Qn,Qn,Math.PI/2);break;case"nx":Qe.translate(Qn,Qn,Ne.NEGATIVE_X),Qe.rotateY(Qn,Qn,-Math.PI/2);break;case"py":Qe.translate(Qn,Qn,Ne.POSITIVE_Y),Qe.rotateX(Qn,Qn,-Math.PI/2);break;case"ny":Qe.translate(Qn,Qn,Ne.NEGATIVE_Y),Qe.rotateX(Qn,Qn,Math.PI/2);break;case"pz":Qe.translate(Qn,Qn,Ne.POSITIVE_Z);break;case"nz":Qe.translate(Qn,Qn,Ne.NEGATIVE_Z),Qe.rotateY(Qn,Qn,Math.PI);break}return r.applyTransform(Qn),r}const E$=m1e,g1e=`@export clay.skybox.vertex
#define SHADER_NAME skybox
uniform mat4 world : WORLD;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
varying vec3 v_WorldPosition;
void main()
{
 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end
@export clay.skybox.fragment
#define PI 3.1415926
uniform mat4 viewInverse : VIEWINVERSE;
#ifdef EQUIRECTANGULAR
uniform sampler2D environmentMap;
#else
uniform samplerCube environmentMap;
#endif
uniform float lod: 0.0;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
@import clay.util.srgb
@import clay.util.ACES
void main()
{
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
#ifdef EQUIRECTANGULAR
 float phi = acos(V.y);
 float theta = atan(-V.x, V.z) + PI * 0.5;
 vec2 uv = vec2(theta / 2.0 / PI, phi / PI);
 vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));
#else
 #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)
 vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));
 #else
 vec4 texel = decodeHDR(textureCube(environmentMap, V));
 #endif
#endif
#ifdef SRGB_DECODE
 texel = sRGBToLinear(texel);
#endif
#ifdef TONEMAPPING
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
#ifdef SRGB_ENCODE
 texel = linearTosRGB(texel);
#endif
 gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));
}
@end`;Re.import(g1e);var y1e=Dc.extend(function(){var e=new Re({vertex:Re.source("clay.skybox.vertex"),fragment:Re.source("clay.skybox.fragment")}),t=new ro({shader:e,depthMask:!1});return{scene:null,geometry:new E$,material:t,environmentMap:null,culling:!1,_dummyCamera:new Br}},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){e.textureType==="texture2D"?(this.material.define("EQUIRECTANGULAR"),e.minFilter=Je.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,t,n){this.renderSkybox(e,n)},renderSkybox:function(e,t){var n=this._dummyCamera;n.aspect=e.getViewportAspect(),n.fov=t.fov||50,n.updateProjectionMatrix(),Qe.invert(n.invProjectionMatrix,n.projectionMatrix),n.worldTransform.copy(t.worldTransform),n.viewMatrix.copy(t.viewMatrix),this.position.copy(t.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],n)}});const fm=y1e;var _1e=542327876,x1e=131072,b1e=512,w1e=4;function KE(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var S1e=31,T1e=KE("DXT1"),C1e=KE("DXT3"),A1e=KE("DXT5"),E1e=0,D1e=1,M1e=2,P1e=3,L1e=4,I1e=7,R1e=20,O1e=21,k1e=28,N1e={parse:function(e,t){var n=new Int32Array(e,0,S1e);if(n[E1e]!==_1e||!n(R1e)&w1e)return null;var r=n(O1e),a=n[L1e],i=n[P1e],o=n[k1e]&b1e,s=n[M1e]&x1e,l,u;switch(r){case T1e:l=8,u=Je.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case C1e:l=16,u=Je.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case A1e:l=16,u=Je.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var c=n[D1e]+4,f=o?6:1,d=1;s&&(d=Math.max(1,n[I1e]));for(var h=[],v=0;v<f;v++){var p=a,m=i;h[v]=new Et({width:p,height:m,format:u});for(var g=[],y=0;y<d;y++){var _=Math.max(4,p)/4*Math.max(4,m)/4*l,x=new Uint8Array(e,c,_);c+=_,p*=.5,m*=.5,g[y]=x}h[v].pixels=g[0],s&&(h[v].mipmaps=g)}if(t)t.width=h[0].width,t.height=h[0].height,t.format=h[0].format,t.pixels=h[0].pixels,t.mipmaps=h[0].mipmaps;else return h[0]}};const B1e=N1e;var n0=String.fromCharCode,V1e=8,F1e=32767;function U1e(e,t,n,r){if(e[3]>0){var a=Math.pow(2,e[3]-128-8+r);t[n+0]=e[0]*a,t[n+1]=e[1]*a,t[n+2]=e[2]*a}else t[n+0]=0,t[n+1]=0,t[n+2]=0;return t[n+3]=1,t}function z1e(e,t,n){for(var r="",a=t;a<n;a++)r+=n0(e[a]);return r}function H1e(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]}function Rk(e,t,n,r){for(var a=0,i=0,o=r;o>0;)if(e[i][0]=t[n++],e[i][1]=t[n++],e[i][2]=t[n++],e[i][3]=t[n++],e[i][0]===1&&e[i][1]===1&&e[i][2]===1){for(var s=e[i][3]<<a>>>0;s>0;s--)H1e(e[i-1],e[i]),i++,o--;a+=8}else i++,o--,a=0;return n}function $1e(e,t,n,r){if(r<V1e|r>F1e)return Rk(e,t,n,r);var a=t[n++];if(a!=2)return Rk(e,t,n-1,r);if(e[0][1]=t[n++],e[0][2]=t[n++],a=t[n++],(e[0][2]<<8>>>0|a)>>>0!==r)return null;for(var a=0;a<4;a++)for(var i=0;i<r;){var o=t[n++];if(o>128){o=(o&127)>>>0;for(var s=t[n++];o--;)e[i++][a]=s}else for(;o--;)e[i++][a]=t[n++]}return n}var G1e={parseRGBE:function(e,t,n){n==null&&(n=0);var r=new Uint8Array(e),a=r.length;if(z1e(r,0,2)==="#?"){for(var i=2;i<a&&!(n0(r[i])===`
`&&n0(r[i+1])===`
`);i++);if(!(i>=a)){i+=2;for(var o="";i<a;i++){var s=n0(r[i]);if(s===`
`)break;o+=s}var l=o.split(" "),u=parseInt(l[1]),c=parseInt(l[3]);if(!(!c||!u)){for(var f=i+1,d=[],h=0;h<c;h++){d[h]=[];for(var v=0;v<4;v++)d[h][v]=0}for(var p=new Float32Array(c*u*4),m=0,g=0;g<u;g++){var f=$1e(d,r,f,c);if(!f)return null;for(var h=0;h<c;h++)U1e(d[h],p,m,n),m+=4}return t||(t=new Et),t.width=c,t.height=u,t.pixels=p,t.type=Je.FLOAT,t}}}},parseRGBEFromPNG:function(e){}};const W1e=G1e;var r0={loadTexture:function(e,t,n,r){var a;if(typeof t=="function"?(n=t,r=n,t={}):t=t||{},typeof e=="string"){if(e.match(/.hdr$/)||t.fileType==="hdr")return a=new Et({width:0,height:0,sRGB:!1}),r0._fetchTexture(e,function(i){W1e.parseRGBE(i,a,t.exposure),a.dirty(),n&&n(a)},r),a;e.match(/.dds$/)||t.fileType==="dds"?(a=new Et({width:0,height:0}),r0._fetchTexture(e,function(i){B1e.parse(i,a),a.dirty(),n&&n(a)},r)):(a=new Et,a.load(e),a.success(n),a.error(r))}else typeof e=="object"&&typeof e.px<"u"&&(a=new cm,a.load(e),a.success(n),a.error(r));return a},loadPanorama:function(e,t,n,r,a,i){var o=this;typeof r=="function"?(a=r,i=a,r={}):r=r||{},r0.loadTexture(t,r,function(s){s.flipY=r.flipY||!1,o.panoramaToCubeMap(e,s,n,r),s.dispose(e),a&&a(n)},i)},panoramaToCubeMap:function(e,t,n,r){var a=new ZE,i=new fm({scene:new Tu});return i.setEnvironmentMap(t),r=r||{},r.encodeRGBM&&i.material.define("fragment","RGBM_ENCODE"),n.sRGB=t.sRGB,a.texture=n,a.render(e,i.scene),a.texture=null,a.dispose(e),n},heightToNormal:function(e,t){var n=document.createElement("canvas"),r=n.width=e.width,a=n.height=e.height,i=n.getContext("2d");i.drawImage(e,0,0,r,a),t=t||!1;for(var o=i.getImageData(0,0,r,a),s=i.createImageData(r,a),l=0;l<o.data.length;l+=4){if(t){var u=o.data[l],c=o.data[l+1],f=o.data[l+2],d=Math.abs(u-c)+Math.abs(c-f);if(d>20)return console.warn("Given image is not a height map"),e}var h,v,p,m;l%(r*4)===0?(h=o.data[l],p=o.data[l+4]):l%(r*4)===(r-1)*4?(h=o.data[l-4],p=o.data[l]):(h=o.data[l-4],p=o.data[l+4]),l<r*4?(v=o.data[l],m=o.data[l+r*4]):l>r*(a-1)*4?(v=o.data[l-r*4],m=o.data[l]):(v=o.data[l-r*4],m=o.data[l+r*4]),s.data[l]=h-p+127,s.data[l+1]=v-m+127,s.data[l+2]=255,s.data[l+3]=255}return i.putImageData(s,0,0),n},isHeightImage:function(e,t,n){if(!e||!e.width||!e.height)return!1;var r=document.createElement("canvas"),a=r.getContext("2d"),i=t||32;n=n||20,r.width=r.height=i,a.drawImage(e,0,0,i,i);for(var o=a.getImageData(0,0,i,i),s=0;s<o.data.length;s+=4){var l=o.data[s],u=o.data[s+1],c=o.data[s+2],f=Math.abs(l-u)+Math.abs(u-c);if(f>n)return!1}return!0},_fetchTexture:function(e,t,n){yr.request.get({url:e,responseType:"arraybuffer",onload:t,onerror:n})},createChessboard:function(e,t,n,r){e=e||512,t=t||64,n=n||"black",r=r||"white";var a=Math.ceil(e/t),i=document.createElement("canvas");i.width=e,i.height=e;var o=i.getContext("2d");o.fillStyle=r,o.fillRect(0,0,e,e),o.fillStyle=n;for(var s=0;s<a;s++)for(var l=0;l<a;l++){var u=l%2?s%2:s%2-1;u&&o.fillRect(s*t,l*t,t,t)}var c=new Et({image:i,anisotropic:8});return c},createBlank:function(e){var t=document.createElement("canvas");t.width=1,t.height=1;var n=t.getContext("2d");n.fillStyle=e,n.fillRect(0,0,1,1);var r=new Et({image:t});return r}};const jc=r0;var $C=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function GC(e){return"_on"+e}var WC=function(e){var t=this;this._texture=new Et({anisotropic:32,flipY:!1,surface:this,dispose:function(n){t.dispose(),Et.prototype.dispose.call(this,n)}}),$C.forEach(function(n){this[GC(n)]=function(r){r.triangle&&this._meshes.forEach(function(a){this.dispatchEvent(n,a,r.triangle,r.point)},this)}},this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};WC.prototype={constructor:WC,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var t=e.getDom();if(!(t instanceof HTMLCanvasElement))console.error("ECharts must init on canvas if it is used as texture."),t=document.createElement("canvas");else{var n=this,r=e.getZr(),a=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){a.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=a}this._texture.image=t,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new Ne,t=new Ne,n=new Ne,r=new _i,a=new _i,i=new _i,o=new _i,s=new Ne;return function(l,u,c,f){var d=u.geometry,h=d.attributes.position,v=d.attributes.texcoord0,p=Ne.dot,m=Ne.cross;h.get(c[0],e.array),h.get(c[1],t.array),h.get(c[2],n.array),v.get(c[0],r.array),v.get(c[1],a.array),v.get(c[2],i.array),m(s,t,n);var g=p(e,s),y=p(f,s)/g;m(s,n,e);var _=p(f,s)/g;m(s,e,t);var x=p(f,s)/g;_i.scale(o,r,y),_i.scaleAndAdd(o,o,a,_),_i.scaleAndAdd(o,o,i,x);var w=o.x*this._chart.getWidth(),b=o.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(l,{zrX:w,zrY:b})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||($C.forEach(function(t){e.on(t,this[GC(t)],this)},this),this._meshes.push(e))},detachFromMesh:function(e){var t=this._meshes.indexOf(e);t>=0&&this._meshes.splice(t,1),$C.forEach(function(n){e.off(n,this[GC(n)])},this)},dispose:function(){this._meshes.forEach(function(e){this.detachFromMesh(e)},this)}};const Y1e=WC;var j1e=lh.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=lh.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}});const uh=j1e,X1e=`
@export clay.compositor.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
varying vec2 v_Texcoord;
void main()
{
 v_Texcoord = texcoord;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end`;Re.import(X1e);var q1e=new ox,Ok=new Dc({geometry:q1e,frustumCulling:!1}),Z1e=new uh,K1e=Ka.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var e=new Re(Re.source("clay.compositor.vertex"),this.fragment),t=new ro({shader:e});t.enableTexturesAll(),this.material=t},{setUniform:function(e,t){this.material.setUniform(e,t)},getUniform:function(e){var t=this.material.uniforms[e];if(t)return t.value},attachOutput:function(e,t){this.outputs||(this.outputs={}),t=t||me.COLOR_ATTACHMENT0,this.outputs[t]=e},detachOutput:function(e){for(var t in this.outputs)this.outputs[t]===e&&(this.outputs[t]=null)},bind:function(e,t){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&t.attach(r,n)}t&&t.bind(e)},unbind:function(e,t){t.unbind(e)},render:function(e,t){var n=e.gl;if(t){this.bind(e,t);var r=e.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var a=[];for(var i in this.outputs)i=+i,i>=n.COLOR_ATTACHMENT0&&i<=n.COLOR_ATTACHMENT0+8&&a.push(i);r.drawBuffersEXT(a)}}this.trigger("beforerender",this,e);var o=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){o=o|n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(o),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),t&&this.unbind(e,t)},renderQuad:function(e){Ok.material=this.material,e.renderPass([Ok],Z1e)},dispose:function(e){}});const br=K1e,Q1e=`#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform sampler2D normalDistribution;
uniform vec2 viewportSize : [512, 256];
const vec3 N = vec3(0.0, 0.0, 1.0);
const float fSampleNumber = float(SAMPLE_NUMBER);
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
float G_Smith(float roughness, float NoV, float NoL) {
 float k = roughness * roughness / 2.0;
 float G1V = NoV / (NoV * (1.0 - k) + k);
 float G1L = NoL / (NoL * (1.0 - k) + k);
 return G1L * G1V;
}
void main() {
 vec2 uv = gl_FragCoord.xy / viewportSize;
 float NoV = uv.x;
 float roughness = uv.y;
 vec3 V;
 V.x = sqrt(1.0 - NoV * NoV);
 V.y = 0.0;
 V.z = NoV;
 float A = 0.0;
 float B = 0.0;
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(L.z, 0.0, 1.0);
 float NoH = clamp(H.z, 0.0, 1.0);
 float VoH = clamp(dot(V, H), 0.0, 1.0);
 if (NoL > 0.0) {
 float G = G_Smith(roughness, NoV, NoL);
 float G_Vis = G * VoH / (NoH * NoV);
 float Fc = pow(1.0 - VoH, 5.0);
 A += (1.0 - Fc) * G_Vis;
 B += Fc * G_Vis;
 }
 }
 gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);
}
`,J1e=`#define SHADER_NAME prefilter
#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform mat4 viewInverse : VIEWINVERSE;
uniform samplerCube environmentMap;
uniform sampler2D normalDistribution;
uniform float roughness : 0.5;
varying vec2 v_Texcoord;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
void main() {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
 vec3 N = V;
 vec3 prefilteredColor = vec3(0.0);
 float totalWeight = 0.0;
 float fMaxSampleNumber = float(SAMPLE_NUMBER);
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(dot(N, L), 0.0, 1.0);
 if (NoL > 0.0) {
 prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;
 totalWeight += NoL;
 }
 }
 gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));
}
`;var Xc={},qw=["px","nx","py","ny","pz","nz"];Xc.prefilterEnvironmentMap=function(e,t,n,r,a){(!a||!r)&&(r=Xc.generateNormalDistribution(),a=Xc.integrateBRDF(e,r)),n=n||{};var i=n.width||64,o=n.height||64,s=n.type||t.type,l=new cm({width:i,height:o,type:s,flipY:!1,mipmaps:[]});l.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var u=Math.min(i,o),c=Math.log(u)/Math.log(2)+1,f=new ro({shader:new Re({vertex:Re.source("clay.skybox.vertex"),fragment:J1e})});f.set("normalDistribution",r),n.encodeRGBM&&f.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&f.define("fragment","RGBM_DECODE");var d=new Tu,h;if(t.textureType==="texture2D"){var v=new cm({width:i,height:o,type:s===Je.FLOAT?Je.HALF_FLOAT:s});jc.panoramaToCubeMap(e,t,v,{encodeRGBM:n.decodeRGBM}),t=v}h=new fm({scene:d,material:f}),h.material.set("environmentMap",t);var p=new ZE({texture:l});n.encodeRGBM&&(s=l.type=Je.UNSIGNED_BYTE);for(var m=new Et({width:i,height:o,type:s}),g=new ea({depthBuffer:!1}),y=yr[s===Je.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],_=0;_<c;_++){l.mipmaps[_]={pixels:{}},h.material.set("roughness",_/(c-1));for(var x=m.width,w=2*Math.atan(x/(x-.5))/Math.PI*180,b=0;b<qw.length;b++){var S=new y(m.width*m.height*4);g.attach(m),g.bind(e);var C=p.getCamera(qw[b]);C.fov=w,e.render(d,C),e.gl.readPixels(0,0,m.width,m.height,Je.RGBA,s,S),g.unbind(e),l.mipmaps[_].pixels[qw[b]]=S}m.width/=2,m.height/=2,m.dirty()}return g.dispose(e),m.dispose(e),h.dispose(e),r.dispose(e),{environmentMap:l,brdfLookup:a,normalDistribution:r,maxMipmapLevel:c}};Xc.integrateBRDF=function(e,t){t=t||Xc.generateNormalDistribution();var n=new ea({depthBuffer:!1}),r=new br({fragment:Q1e}),a=new Et({width:512,height:256,type:Je.HALF_FLOAT,wrapS:Je.CLAMP_TO_EDGE,wrapT:Je.CLAMP_TO_EDGE,minFilter:Je.NEAREST,magFilter:Je.NEAREST,useMipmap:!1});return r.setUniform("normalDistribution",t),r.setUniform("viewportSize",[512,256]),r.attachOutput(a),r.render(e,n),n.dispose(e),a};Xc.generateNormalDistribution=function(n,r){for(var n=n||256,r=r||1024,a=new Et({width:n,height:r,type:Je.FLOAT,minFilter:Je.NEAREST,magFilter:Je.NEAREST,wrapS:Je.CLAMP_TO_EDGE,wrapT:Je.CLAMP_TO_EDGE,useMipmap:!1}),i=new Float32Array(r*n*4),o=[],s=0;s<n;s++){for(var l=s/n,u=l*l,c=0;c<r;c++){var f=(c<<16|c>>>16)>>>0;f=((f&1431655765)<<1|(f&2863311530)>>>1)>>>0,f=((f&858993459)<<2|(f&3435973836)>>>2)>>>0,f=((f&252645135)<<4|(f&4042322160)>>>4)>>>0,f=(((f&16711935)<<8|(f&4278255360)>>>8)>>>0)/4294967296;var d=Math.sqrt((1-f)/(1+(u*u-1)*f));o[c]=d}for(var c=0;c<r;c++){var h=(c*n+s)*4,d=o[c],v=Math.sqrt(1-d*d),p=c/r,m=2*Math.PI*p;i[h]=v*Math.cos(m),i[h+1]=d,i[h+2]=v*Math.sin(m),i[h+3]=1}}return a.pixels=i,a};const a0=Xc;var exe=Uo.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,t){if(!e.getGLExtension("EXT_shader_texture_lod")){console.warn("Device not support textureCubeLodEXT");return}this._brdfLookup||(this._normalDistribution=a0.generateNormalDistribution(),this._brdfLookup=a0.integrateBRDF(e,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=a0.prefilterEnvironmentMap(e,n,{encodeRGBM:!0,width:t,height:t},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(e)}},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}});const txe=exe;var nxe=Uo.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new yr.Float32Array(9*3)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var t=e._coefficientsTmpArr,n=0;n<e.coefficients.length;n++)t[n]=e.coefficients[n];return t}}}});const rxe=nxe;var D$={},Mc=["px","nx","py","ny","pz","nz"];function axe(e,t){var n=e[0],r=e[1],a=e[2];return t===0?1:t===1?n:t===2?r:t===3?a:t===4?n*a:t===5?r*a:t===6?n*r:t===7?3*a*a-1:n*n-r*r}var ixe={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function oxe(e,t,n,r){for(var a=new yr.Float32Array(27),i=re.create(),o=re.create(),s=re.create(),l=0;l<9;l++){for(var u=re.create(),c=0;c<Mc.length;c++){for(var f=t[Mc[c]],d=re.create(),h=0,v=0,p=ixe[Mc[c]],m=0;m<r;m++)for(var g=0;g<n;g++){i[0]=g/(n-1)*2-1,i[1]=m/(r-1)*2-1,i[2]=-1,re.normalize(i,i),s[0]=i[p[0]]*p[3],s[1]=i[p[1]]*p[4],s[2]=i[p[2]]*p[5],o[0]=f[v++]/255,o[1]=f[v++]/255,o[2]=f[v++]/255;var y=f[v++]/255*8.12;o[0]*=y,o[1]*=y,o[2]*=y,re.scaleAndAdd(d,d,o,axe(s,l)*-i[2]),h+=-i[2]}re.scaleAndAdd(u,u,d,1/h)}a[l*3]=u[0]/6,a[l*3+1]=u[1]/6,a[l*3+2]=u[2]/6}return a}D$.projectEnvironmentMap=function(e,t,n){n=n||{},n.lod=n.lod||0;var r,a=new Tu,i=64;t.textureType==="texture2D"?r=new fm({scene:a,environmentMap:t}):(i=t.image&&t.image.px?t.image.px.width:t.width,r=new fm({scene:a,environmentMap:t}));var o=Math.ceil(i/Math.pow(2,n.lod)),s=Math.ceil(i/Math.pow(2,n.lod)),l=new Et({width:o,height:s}),u=new ea;r.material.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&r.material.define("fragment","RGBM_DECODE"),r.material.set("lod",n.lod);for(var c=new ZE({texture:l}),f={},d=0;d<Mc.length;d++){f[Mc[d]]=new Uint8Array(o*s*4);var h=c.getCamera(Mc[d]);h.fov=90,u.attach(l),u.bind(e),e.render(a,h),e.gl.readPixels(0,0,o,s,Je.RGBA,Je.UNSIGNED_BYTE,f[Mc[d]]),u.unbind(e)}return r.dispose(e),u.dispose(e),l.dispose(e),oxe(e,f,o,s)};const sxe=D$;var lxe={firstNotNull:function(){for(var e=0,t=arguments.length;e<t;e++)if(arguments[e]!=null)return arguments[e]},queryDataIndex:function(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Be(t.dataIndex)?at(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Be(t.name)?at(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}};const St=lxe;var uxe=Gt.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var e=this.heightSegments,t=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,a=this.attributes.normal,i=(t+1)*(e+1);n.init(i),r.init(i),a.init(i);var o=i>65535?Uint32Array:Uint16Array,s=this.indices=new o(t*e*6),l,u,c,f,d,h,v,_=this.radius,p=this.phiStart,m=this.phiLength,g=this.thetaStart,y=this.thetaLength,_=this.radius,x=[],w=[],b=0,S=1/_;for(v=0;v<=e;v++)for(h=0;h<=t;h++)f=h/t,d=v/e,l=-_*Math.cos(p+f*m)*Math.sin(g+d*y),u=_*Math.cos(g+d*y),c=_*Math.sin(p+f*m)*Math.sin(g+d*y),x[0]=l,x[1]=u,x[2]=c,w[0]=f,w[1]=d,n.set(b,x),r.set(b,w),x[0]*=S,x[1]*=S,x[2]*=S,a.set(b,x),b++;var C,A,M,T,E=t+1,P=0;for(v=0;v<e;v++)for(h=0;h<t;h++)A=v*E+h,C=v*E+h+1,T=(v+1)*E+h+1,M=(v+1)*E+h,s[P++]=C,s[P++]=A,s[P++]=T,s[P++]=A,s[P++]=M,s[P++]=T;this.boundingBox=new Wa,this.boundingBox.max.set(_,_,_),this.boundingBox.min.set(-_,-_,-_)}});const cxe=uxe;var fxe=Uo.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}}});const dxe=fxe;var hxe=Uo.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new Ne,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=Uo.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const vxe=hxe;var pxe=Uo.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=Uo.prototype.clone.call(this);return e.range=this.range,e}});const mxe=pxe;var gxe=Uo.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new Ne,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=Uo.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const yxe=gxe;var Ht=function(e,t,n,r){e=e||0,t=t||0,n=n||0,r=r||0,this.array=He.fromValues(e,t,n,r),this._dirty=!0};Ht.prototype={constructor:Ht,add:function(e){return He.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,n,r){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new Ht(this.x,this.y,this.z,this.w)},copy:function(e){return He.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return He.dist(this.array,e.array)},distance:function(e){return He.distance(this.array,e.array)},div:function(e){return He.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return He.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return He.dot(this.array,e.array)},len:function(){return He.len(this.array)},length:function(){return He.length(this.array)},lerp:function(e,t,n){return He.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return He.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return He.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return He.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return He.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return He.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return He.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return He.random(this.array,e),this._dirty=!0,this},scale:function(e){return He.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return He.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return He.sqrDist(this.array,e.array)},squaredDistance:function(e){return He.squaredDistance(this.array,e.array)},sqrLen:function(){return He.sqrLen(this.array)},squaredLength:function(){return He.squaredLength(this.array)},sub:function(e){return He.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return He.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return He.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return He.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Lv=Object.defineProperty;if(Lv){var vy=Ht.prototype;Lv(vy,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Lv(vy,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),Lv(vy,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),Lv(vy,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}Ht.add=function(e,t,n){return He.add(e.array,t.array,n.array),e._dirty=!0,e};Ht.set=function(e,t,n,r,a){He.set(e.array,t,n,r,a),e._dirty=!0};Ht.copy=function(e,t){return He.copy(e.array,t.array),e._dirty=!0,e};Ht.dist=function(e,t){return He.distance(e.array,t.array)};Ht.distance=Ht.dist;Ht.div=function(e,t,n){return He.divide(e.array,t.array,n.array),e._dirty=!0,e};Ht.divide=Ht.div;Ht.dot=function(e,t){return He.dot(e.array,t.array)};Ht.len=function(e){return He.length(e.array)};Ht.lerp=function(e,t,n,r){return He.lerp(e.array,t.array,n.array,r),e._dirty=!0,e};Ht.min=function(e,t,n){return He.min(e.array,t.array,n.array),e._dirty=!0,e};Ht.max=function(e,t,n){return He.max(e.array,t.array,n.array),e._dirty=!0,e};Ht.mul=function(e,t,n){return He.multiply(e.array,t.array,n.array),e._dirty=!0,e};Ht.multiply=Ht.mul;Ht.negate=function(e,t){return He.negate(e.array,t.array),e._dirty=!0,e};Ht.normalize=function(e,t){return He.normalize(e.array,t.array),e._dirty=!0,e};Ht.random=function(e,t){return He.random(e.array,t),e._dirty=!0,e};Ht.scale=function(e,t,n){return He.scale(e.array,t.array,n),e._dirty=!0,e};Ht.scaleAndAdd=function(e,t,n,r){return He.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e};Ht.sqrDist=function(e,t){return He.sqrDist(e.array,t.array)};Ht.squaredDistance=Ht.sqrDist;Ht.sqrLen=function(e){return He.sqrLen(e.array)};Ht.squaredLength=Ht.sqrLen;Ht.sub=function(e,t,n){return He.subtract(e.array,t.array,n.array),e._dirty=!0,e};Ht.subtract=Ht.sub;Ht.transformMat4=function(e,t,n){return He.transformMat4(e.array,t.array,n.array),e._dirty=!0,e};Ht.transformQuat=function(e,t,n){return He.transformQuat(e.array,t.array,n.array),e._dirty=!0,e};const _xe=Ht;var Da={};Da.create=function(){var e=new ra(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e};Da.clone=function(e){var t=new ra(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};Da.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e};Da.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e};Da.transpose=function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e};Da.invert=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*i-a*r;return o?(o=1/o,e[0]=i*o,e[1]=-r*o,e[2]=-a*o,e[3]=n*o,e):null};Da.adjoint=function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e};Da.determinant=function(e){return e[0]*e[3]-e[2]*e[1]};Da.multiply=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*s+i*l,e[1]=a*s+o*l,e[2]=r*u+i*c,e[3]=a*u+o*c,e};Da.mul=Da.multiply;Da.rotate=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*s,e[1]=a*l+o*s,e[2]=r*-s+i*l,e[3]=a*-s+o*l,e};Da.scale=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],l=n[1];return e[0]=r*s,e[1]=a*s,e[2]=i*l,e[3]=o*l,e};Da.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))};Da.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]};const tr=Da;var qa=function(){this.array=tr.create(),this._dirty=!0};qa.prototype={constructor:qa,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return new qa().copy(this)},copy:function(e){return tr.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return tr.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return tr.determinant(this.array)},identity:function(){return tr.identity(this.array),this._dirty=!0,this},invert:function(){return tr.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return tr.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return tr.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return tr.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return tr.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return tr.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return tr.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return tr.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};qa.adjoint=function(e,t){return tr.adjoint(e.array,t.array),e._dirty=!0,e};qa.copy=function(e,t){return tr.copy(e.array,t.array),e._dirty=!0,e};qa.determinant=function(e){return tr.determinant(e.array)};qa.identity=function(e){return tr.identity(e.array),e._dirty=!0,e};qa.invert=function(e,t){return tr.invert(e.array,t.array),e._dirty=!0,e};qa.mul=function(e,t,n){return tr.mul(e.array,t.array,n.array),e._dirty=!0,e};qa.multiply=qa.mul;qa.rotate=function(e,t,n){return tr.rotate(e.array,t.array,n),e._dirty=!0,e};qa.scale=function(e,t,n){return tr.scale(e.array,t.array,n.array),e._dirty=!0,e};qa.transpose=function(e,t){return tr.transpose(e.array,t.array),e._dirty=!0,e};const xxe=qa;var pi={};pi.create=function(){var e=new ra(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e};pi.clone=function(e){var t=new ra(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t};pi.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e};pi.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e};pi.invert=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=n*i-r*a;return l?(l=1/l,e[0]=i*l,e[1]=-r*l,e[2]=-a*l,e[3]=n*l,e[4]=(a*s-i*o)*l,e[5]=(r*o-n*s)*l,e):null};pi.determinant=function(e){return e[0]*e[3]-e[1]*e[2]};pi.multiply=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=n[0],c=n[1],f=n[2],d=n[3],h=n[4],v=n[5];return e[0]=r*u+i*c,e[1]=a*u+o*c,e[2]=r*f+i*d,e[3]=a*f+o*d,e[4]=r*h+i*v+s,e[5]=a*h+o*v+l,e};pi.mul=pi.multiply;pi.rotate=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*u,e[1]=a*c+o*u,e[2]=r*-u+i*c,e[3]=a*-u+o*c,e[4]=s,e[5]=l,e};pi.scale=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=n[0],c=n[1];return e[0]=r*u,e[1]=a*u,e[2]=i*c,e[3]=o*c,e[4]=s,e[5]=l,e};pi.translate=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=n[0],c=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=r*u+i*c+s,e[5]=a*u+o*c+l,e};pi.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};const pr=pi;var fi=function(){this.array=pr.create(),this._dirty=!0};fi.prototype={constructor:fi,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return new fi().copy(this)},copy:function(e){return pr.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return pr.determinant(this.array)},identity:function(){return pr.identity(this.array),this._dirty=!0,this},invert:function(){return pr.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return pr.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return pr.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return pr.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return pr.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return pr.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return pr.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return pr.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};fi.copy=function(e,t){return pr.copy(e.array,t.array),e._dirty=!0,e};fi.determinant=function(e){return pr.determinant(e.array)};fi.identity=function(e){return pr.identity(e.array),e._dirty=!0,e};fi.invert=function(e,t){return pr.invert(e.array,t.array),e._dirty=!0,e};fi.mul=function(e,t,n){return pr.mul(e.array,t.array,n.array),e._dirty=!0,e};fi.multiply=fi.mul;fi.rotate=function(e,t,n){return pr.rotate(e.array,t.array,n),e._dirty=!0,e};fi.scale=function(e,t,n){return pr.scale(e.array,t.array,n.array),e._dirty=!0,e};fi.translate=function(e,t,n){return pr.translate(e.array,t.array,n.array),e._dirty=!0,e};const bxe=fi;var Lr=function(){this.array=Nt.create(),this._dirty=!0};Lr.prototype={constructor:Lr,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return Nt.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new Lr().copy(this)},copy:function(e){return Nt.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Nt.determinant(this.array)},fromMat2d:function(e){return Nt.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return Nt.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return Nt.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return Nt.identity(this.array),this._dirty=!0,this},invert:function(){return Nt.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return Nt.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Nt.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Nt.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Nt.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return Nt.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Nt.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Nt.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return Nt.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return Nt.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};Lr.adjoint=function(e,t){return Nt.adjoint(e.array,t.array),e._dirty=!0,e};Lr.copy=function(e,t){return Nt.copy(e.array,t.array),e._dirty=!0,e};Lr.determinant=function(e){return Nt.determinant(e.array)};Lr.identity=function(e){return Nt.identity(e.array),e._dirty=!0,e};Lr.invert=function(e,t){return Nt.invert(e.array,t.array),e};Lr.mul=function(e,t,n){return Nt.mul(e.array,t.array,n.array),e._dirty=!0,e};Lr.multiply=Lr.mul;Lr.fromMat2d=function(e,t){return Nt.fromMat2d(e.array,t.array),e._dirty=!0,e};Lr.fromMat4=function(e,t){return Nt.fromMat4(e.array,t.array),e._dirty=!0,e};Lr.fromQuat=function(e,t){return Nt.fromQuat(e.array,t.array),e._dirty=!0,e};Lr.normalFromMat4=function(e,t){return Nt.normalFromMat4(e.array,t.array),e._dirty=!0,e};Lr.rotate=function(e,t,n){return Nt.rotate(e.array,t.array,n),e._dirty=!0,e};Lr.scale=function(e,t,n){return Nt.scale(e.array,t.array,n.array),e._dirty=!0,e};Lr.transpose=function(e,t){return Nt.transpose(e.array,t.array),e._dirty=!0,e};Lr.translate=function(e,t,n){return Nt.translate(e.array,t.array,n.array),e._dirty=!0,e};const wxe=Lr;var Sxe={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,t){this._animators=this._animators||[];var n=this,r;if(e){for(var a=e.split("."),i=n,o=0,s=a.length;o<s;o++)i&&(i=i[a[o]]);i&&(r=i)}else r=n;if(r==null)throw new Error("Target "+e+" not exists");var l=this._animators,u=new o1(r,t),c=this;return u.during(function(){c.__zr&&c.__zr.refresh()}).done(function(){var f=l.indexOf(u);f>=0&&l.splice(f,1)}),l.push(u),this.__zr&&this.__zr.animation.addAnimator(u),u},stopAnimation:function(e){this._animators=this._animators||[];for(var t=this._animators,n=t.length,r=0;r<n;r++)t[r].stop(e);return t.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.addAnimator(this._animators[t])},removeAnimatorsFromZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.removeAnimator(this._animators[t])}};const Txe=Sxe,M$=`
@export clay.util.rand
highp float rand(vec2 uv) {
 const highp float a = 12.9898, b = 78.233, c = 43758.5453;
 highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);
 return fract(sin(sn) * c);
}
@end
@export clay.util.calculate_attenuation
uniform float attenuationFactor : 5.0;
float lightAttenuation(float dist, float range)
{
 float attenuation = 1.0;
 attenuation = dist*dist/(range*range+1.0);
 float att_s = attenuationFactor;
 attenuation = 1.0/(attenuation*att_s+1.0);
 att_s = 1.0/(att_s+1.0);
 attenuation = attenuation - att_s;
 attenuation /= 1.0 - att_s;
 return clamp(attenuation, 0.0, 1.0);
}
@end
@export clay.util.edge_factor
#ifdef SUPPORT_STANDARD_DERIVATIVES
float edgeFactor(float width)
{
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#else
float edgeFactor(float width)
{
 return 1.0;
}
#endif
@end
@export clay.util.encode_float
vec4 encodeFloat(const in float depth)
{
 const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
 const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
 vec4 res = fract(depth * bitShifts);
 res -= res.xxyz * bit_mask;
 return res;
}
@end
@export clay.util.decode_float
float decodeFloat(const in vec4 color)
{
 const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);
 return dot(color, bitShifts);
}
@end
@export clay.util.float
@import clay.util.encode_float
@import clay.util.decode_float
@end
@export clay.util.rgbm_decode
vec3 RGBMDecode(vec4 rgbm, float range) {
 return range * rgbm.rgb * rgbm.a;
}
@end
@export clay.util.rgbm_encode
vec4 RGBMEncode(vec3 color, float range) {
 if (dot(color, color) == 0.0) {
 return vec4(0.0);
 }
 vec4 rgbm;
 color /= range;
 rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);
 rgbm.a = ceil(rgbm.a * 255.0) / 255.0;
 rgbm.rgb = color / rgbm.a;
 return rgbm;
}
@end
@export clay.util.rgbm
@import clay.util.rgbm_decode
@import clay.util.rgbm_encode
vec4 decodeHDR(vec4 color)
{
#if defined(RGBM_DECODE) || defined(RGBM)
 return vec4(RGBMDecode(color, 8.12), 1.0);
#else
 return color;
#endif
}
vec4 encodeHDR(vec4 color)
{
#if defined(RGBM_ENCODE) || defined(RGBM)
 return RGBMEncode(color.xyz, 8.12);
#else
 return color;
#endif
}
@end
@export clay.util.srgb
vec4 sRGBToLinear(in vec4 value) {
 return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);
}
vec4 linearTosRGB(in vec4 value) {
 return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);
}
@end
@export clay.chunk.skinning_header
#ifdef SKINNING
attribute vec3 weight : WEIGHT;
attribute vec4 joint : JOINT;
#ifdef USE_SKIN_MATRICES_TEXTURE
uniform sampler2D skinMatricesTexture : ignore;
uniform float skinMatricesTextureSize: ignore;
mat4 getSkinMatrix(sampler2D tex, float idx) {
 float j = idx * 4.0;
 float x = mod(j, skinMatricesTextureSize);
 float y = floor(j / skinMatricesTextureSize) + 0.5;
 vec2 scale = vec2(skinMatricesTextureSize);
 return mat4(
 texture2D(tex, vec2(x + 0.5, y) / scale),
 texture2D(tex, vec2(x + 1.5, y) / scale),
 texture2D(tex, vec2(x + 2.5, y) / scale),
 texture2D(tex, vec2(x + 3.5, y) / scale)
 );
}
mat4 getSkinMatrix(float idx) {
 return getSkinMatrix(skinMatricesTexture, idx);
}
#else
uniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;
mat4 getSkinMatrix(float idx) {
 return skinMatrix[int(idx)];
}
#endif
#endif
@end
@export clay.chunk.skin_matrix
mat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;
if (weight.y > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.y) * weight.y;
}
if (weight.z > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.z) * weight.z;
}
float weightW = 1.0-weight.x-weight.y-weight.z;
if (weightW > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.w) * weightW;
}
@end
@export clay.chunk.instancing_header
#ifdef INSTANCING
attribute vec4 instanceMat1;
attribute vec4 instanceMat2;
attribute vec4 instanceMat3;
#endif
@end
@export clay.chunk.instancing_matrix
mat4 instanceMat = mat4(
 vec4(instanceMat1.xyz, 0.0),
 vec4(instanceMat2.xyz, 0.0),
 vec4(instanceMat3.xyz, 0.0),
 vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)
);
@end
@export clay.util.parallax_correct
vec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {
 vec3 first = (boxMax - pos) / dir;
 vec3 second = (boxMin - pos) / dir;
 vec3 further = max(first, second);
 float dist = min(further.x, min(further.y, further.z));
 vec3 fixedPos = pos + dir * dist;
 vec3 boxCenter = (boxMax + boxMin) * 0.5;
 return normalize(fixedPos - boxCenter);
}
@end
@export clay.util.clamp_sample
vec4 clampSample(const in sampler2D texture, const in vec2 coord)
{
#ifdef STEREO
 float eye = step(0.5, coord.x) * 0.5;
 vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));
#else
 vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));
#endif
 return texture2D(texture, coordClamped);
}
@end
@export clay.util.ACES
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
@end`,Cxe=`
@export ecgl.common.transformUniforms
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;
uniform mat4 world : WORLD;
@end

@export ecgl.common.attributes
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
attribute vec3 normal : NORMAL;
@end

@export ecgl.common.uv.header
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
uniform vec2 detailUvRepeat : [1.0, 1.0];
uniform vec2 detailUvOffset : [0.0, 0.0];

varying vec2 v_Texcoord;
varying vec2 v_DetailTexcoord;
@end

@export ecgl.common.uv.main
v_Texcoord = texcoord * uvRepeat + uvOffset;
v_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;
@end

@export ecgl.common.uv.fragmentHeader
varying vec2 v_Texcoord;
varying vec2 v_DetailTexcoord;
@end


@export ecgl.common.albedo.main

 vec4 albedoTexel = vec4(1.0);
#ifdef DIFFUSEMAP_ENABLED
 albedoTexel = texture2D(diffuseMap, v_Texcoord);
 #ifdef SRGB_DECODE
 albedoTexel = sRGBToLinear(albedoTexel);
 #endif
#endif

#ifdef DETAILMAP_ENABLED
 vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);
 #ifdef SRGB_DECODE
 detailTexel = sRGBToLinear(detailTexel);
 #endif
 albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);
 albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;
#endif

@end

@export ecgl.common.wireframe.vertexHeader

#ifdef WIREFRAME_QUAD
attribute vec4 barycentric;
varying vec4 v_Barycentric;
#elif defined(WIREFRAME_TRIANGLE)
attribute vec3 barycentric;
varying vec3 v_Barycentric;
#endif

@end

@export ecgl.common.wireframe.vertexMain

#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)
 v_Barycentric = barycentric;
#endif

@end


@export ecgl.common.wireframe.fragmentHeader

uniform float wireframeLineWidth : 1;
uniform vec4 wireframeLineColor: [0, 0, 0, 0.5];

#ifdef WIREFRAME_QUAD
varying vec4 v_Barycentric;
float edgeFactor () {
 vec4 d = fwidth(v_Barycentric);
 vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);
 return min(min(min(a4.x, a4.y), a4.z), a4.w);
}
#elif defined(WIREFRAME_TRIANGLE)
varying vec3 v_Barycentric;
float edgeFactor () {
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#endif

@end


@export ecgl.common.wireframe.fragmentMain

#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)
 if (wireframeLineWidth > 0.) {
 vec4 lineColor = wireframeLineColor;
#ifdef SRGB_DECODE
 lineColor = sRGBToLinear(lineColor);
#endif

 gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);
 }
#endif
@end




@export ecgl.common.bumpMap.header

#ifdef BUMPMAP_ENABLED
uniform sampler2D bumpMap;
uniform float bumpScale : 1.0;


vec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)
{
 vec2 dSTdx = dFdx(v_Texcoord);
 vec2 dSTdy = dFdy(v_Texcoord);

 float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;
 float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;
 float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;

 vec3 vSigmaX = dFdx(surfPos);
 vec3 vSigmaY = dFdy(surfPos);
 vec3 vN = surfNormal;

 vec3 R1 = cross(vSigmaY, vN);
 vec3 R2 = cross(vN, vSigmaX);

 float fDet = dot(vSigmaX, R1);

 vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);
 return normalize(abs(fDet) * baseNormal - vGrad);

}
#endif

@end

@export ecgl.common.normalMap.vertexHeader

#ifdef NORMALMAP_ENABLED
attribute vec4 tangent : TANGENT;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@end

@export ecgl.common.normalMap.vertexMain

#ifdef NORMALMAP_ENABLED
 if (dot(tangent, tangent) > 0.0) {
 v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);
 v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);
 }
#endif

@end


@export ecgl.common.normalMap.fragmentHeader

#ifdef NORMALMAP_ENABLED
uniform sampler2D normalMap;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@end

@export ecgl.common.normalMap.fragmentMain
#ifdef NORMALMAP_ENABLED
 if (dot(v_Tangent, v_Tangent) > 0.0) {
 vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;
 if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;
 mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);
 N = normalize(tbn * N);
 }
 }
#endif
@end



@export ecgl.common.vertexAnimation.header

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute vec3 prevNormal;
uniform float percent;
#endif

@end

@export ecgl.common.vertexAnimation.main

#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
 vec3 norm = mix(prevNormal, normal, percent);
#else
 vec3 pos = position;
 vec3 norm = normal;
#endif

@end


@export ecgl.common.ssaoMap.header
#ifdef SSAOMAP_ENABLED
uniform sampler2D ssaoMap;
uniform vec4 viewport : VIEWPORT;
#endif
@end

@export ecgl.common.ssaoMap.main
 float ao = 1.0;
#ifdef SSAOMAP_ENABLED
 ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;
#endif
@end




@export ecgl.common.diffuseLayer.header

#if (LAYER_DIFFUSEMAP_COUNT > 0)
uniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];
uniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];
#endif

@end

@export ecgl.common.emissiveLayer.header

#if (LAYER_EMISSIVEMAP_COUNT > 0)
uniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];
uniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];
#endif

@end

@export ecgl.common.layers.header
@import ecgl.common.diffuseLayer.header
@import ecgl.common.emissiveLayer.header
@end

@export ecgl.common.diffuseLayer.main

#if (LAYER_DIFFUSEMAP_COUNT > 0)
 for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{
 float intensity = layerDiffuseIntensity[_idx_];
 vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);
 #ifdef SRGB_DECODE
 texel2 = sRGBToLinear(texel2);
 #endif
 albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);
 albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;
 }}
#endif

@end

@export ecgl.common.emissiveLayer.main

#if (LAYER_EMISSIVEMAP_COUNT > 0)
 for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)
 {{
 vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];
 #ifdef SRGB_DECODE
 texel2 = sRGBToLinear(texel2);
 #endif
 float intensity = layerEmissionIntensity[_idx_];
 gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;
 }}
#endif

@end
`,Axe=`@export ecgl.color.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

@import ecgl.common.uv.header

attribute vec2 texcoord : TEXCOORD_0;
attribute vec3 position: POSITION;

@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
uniform float percent : 1.0;
#endif

#ifdef ATMOSPHERE_ENABLED
attribute vec3 normal: NORMAL;
uniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;
varying vec3 v_Normal;
#endif

void main()
{
#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
#else
 vec3 pos = position;
#endif

 gl_Position = worldViewProjection * vec4(pos, 1.0);

 @import ecgl.common.uv.main

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

#ifdef ATMOSPHERE_ENABLED
 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);
#endif

 @import ecgl.common.wireframe.vertexMain

}

@end

@export ecgl.color.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0

uniform sampler2D diffuseMap;
uniform sampler2D detailMap;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
varying vec3 v_Normal;
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

@import ecgl.common.layers.header

@import ecgl.common.uv.fragmentHeader

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color);
#else
 gl_FragColor = color;
#endif

#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 gl_FragColor *= albedoTexel;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain

}
@end`,Exe=`/**
 * http: */

@export ecgl.lambert.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header


@import ecgl.common.attributes

@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif


@import ecgl.common.vertexAnimation.header


varying vec3 v_Normal;
varying vec3 v_WorldPosition;

void main()
{
 @import ecgl.common.uv.main

 @import ecgl.common.vertexAnimation.main


 gl_Position = worldViewProjection * vec4(pos, 1.0);

 v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

 @import ecgl.common.wireframe.vertexMain
}

@end


@export ecgl.lambert.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform sampler2D diffuseMap;
uniform sampler2D detailMap;

@import ecgl.common.layers.header

uniform float emissionIntensity: 1.0;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
#endif

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif


@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color);
#else
 gl_FragColor = color;
#endif

#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 gl_FragColor *= sRGBToLinear(v_Color);
 #else
 gl_FragColor *= v_Color;
 #endif
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 gl_FragColor *= albedoTexel;

 vec3 N = v_Normal;
#ifdef DOUBLE_SIDED
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 vec3 diffuseColor = vec3(0.0, 0.0, 0.0);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)
 {
 diffuseColor += ambientLightColor[i] * ambientFactor * ao;
 }
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;
 }}
#endif
#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)
 {
 vec3 lightDirection = -directionalLightDirection[i];
 vec3 lightColor = directionalLightColor[i];

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[i];
 }
#endif

 float ndl = dot(N, normalize(lightDirection)) * shadowContrib;

 diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);
 }
#endif

 gl_FragColor.rgb *= diffuseColor;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain
}

@end`,Dxe=`@export ecgl.realistic.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes


@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

#ifdef NORMALMAP_ENABLED
attribute vec4 tangent : TANGENT;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@import ecgl.common.vertexAnimation.header

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

void main()
{

 @import ecgl.common.uv.main

 @import ecgl.common.vertexAnimation.main

 gl_Position = worldViewProjection * vec4(pos, 1.0);

 v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

#ifdef NORMALMAP_ENABLED
 v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);
 v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);
#endif

 @import ecgl.common.wireframe.vertexMain

}

@end



@export ecgl.realistic.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0
#define PI 3.14159265358979
#define ROUGHNESS_CHANEL 0
#define METALNESS_CHANEL 1

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform sampler2D diffuseMap;

uniform sampler2D detailMap;
uniform sampler2D metalnessMap;
uniform sampler2D roughnessMap;

@import ecgl.common.layers.header

uniform float emissionIntensity: 1.0;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

uniform float metalness : 0.0;
uniform float roughness : 0.5;

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
#endif

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif

#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT
@import clay.header.ambient_cubemap_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

@import ecgl.common.normalMap.fragmentHeader

@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import clay.util.rgbm

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

vec3 F_Schlick(float ndv, vec3 spec) {
 return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);
}

float D_Phong(float g, float ndh) {
 float a = pow(8192.0, g);
 return (a + 2.0) / 8.0 * pow(ndh, a);
}

void main()
{
 vec4 albedoColor = color;

 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);
#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 albedoColor *= sRGBToLinear(v_Color);
 #else
 albedoColor *= v_Color;
 #endif
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 albedoColor *= albedoTexel;

 float m = metalness;

#ifdef METALNESSMAP_ENABLED
 float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];
 m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);
#endif

 vec3 baseColor = albedoColor.rgb;
 albedoColor.rgb = baseColor * (1.0 - m);
 vec3 specFactor = mix(vec3(0.04), baseColor, m);

 float g = 1.0 - roughness;

#ifdef ROUGHNESSMAP_ENABLED
 float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];
 g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);
#endif

 vec3 N = v_Normal;

#ifdef DOUBLE_SIDED
 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

@import ecgl.common.normalMap.fragmentMain

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 vec3 diffuseTerm = vec3(0.0);
 vec3 specularTerm = vec3(0.0);

 float ndv = clamp(dot(N, V), 0.0, 1.0);
 vec3 fresnelTerm = F_Schlick(ndv, specFactor);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)
 {{
 diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;
 }}
#endif

#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;
 }}
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)
 {{
 vec3 L = -directionalLightDirection[_idx_];
 vec3 lc = directionalLightColor[_idx_];

 vec3 H = normalize(L + V);
 float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);
 float ndh = clamp(dot(N, H), 0.0, 1.0);

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[_idx_];
 }
#endif

 vec3 li = lc * ndl * shadowContrib;

 diffuseTerm += li;
 specularTerm += li * fresnelTerm * D_Phong(g, ndh);
 }}
#endif


#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT
 vec3 L = reflect(-V, N);
 L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);
 float rough2 = clamp(1.0 - g, 0.0, 1.0);
 float bias2 = rough2 * 5.0;
 vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;
 vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;
 vec3 envTexel2;
 for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)
 {{
 envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);
 specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;
 }}
#endif

 gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;
 gl_FragColor.a = albedoColor.a;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

#ifdef SRGB_ENCODE
 gl_FragColor = linearTosRGB(gl_FragColor);
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain
}

@end`,Mxe=`@export ecgl.hatching.vertex

@import ecgl.realistic.vertex

@end


@export ecgl.hatching.fragment

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform vec4 color : [0.0, 0.0, 0.0, 1.0];
uniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif


@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

uniform sampler2D hatch1;
uniform sampler2D hatch2;
uniform sampler2D hatch3;
uniform sampler2D hatch4;
uniform sampler2D hatch5;
uniform sampler2D hatch6;

float shade(in float tone) {
 vec4 c = vec4(1. ,1., 1., 1.);
 float step = 1. / 6.;
 vec2 uv = v_DetailTexcoord;
 if (tone <= step / 2.0) {
 c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);
 }
 else if (tone <= step) {
 c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);
 }
 if(tone > step && tone <= 2. * step){
 c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));
 }
 if(tone > 2. * step && tone <= 3. * step){
 c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));
 }
 if(tone > 3. * step && tone <= 4. * step){
 c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));
 }
 if(tone > 4. * step && tone <= 5. * step){
 c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));
 }
 if(tone > 5. * step){
 c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));
 }

 return c.r;
}

const vec3 w = vec3(0.2125, 0.7154, 0.0721);

void main()
{
#ifdef SRGB_DECODE
 vec4 inkColor = sRGBToLinear(color);
#else
 vec4 inkColor = color;
#endif

#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 inkColor *= sRGBToLinear(v_Color);
 #else
 inkColor *= v_Color;
 #endif
#endif

 vec3 N = v_Normal;
#ifdef DOUBLE_SIDED
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float tone = 0.0;

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)
 {
 tone += dot(ambientLightColor[i], w) * ambientFactor * ao;
 }
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;
 }}
#endif
#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)
 {
 vec3 lightDirection = -directionalLightDirection[i];
 float lightTone = dot(directionalLightColor[i], w);

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[i];
 }
#endif

 float ndl = dot(N, normalize(lightDirection)) * shadowContrib;

 tone += lightTone * clamp(ndl, 0.0, 1.0);
 }
#endif

 gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));
 }
@end
`,Pxe=`@export ecgl.sm.depth.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
uniform float percent : 1.0;
#endif

varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;

void main(){

#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
#else
 vec3 pos = position;
#endif

 v_ViewPosition = worldViewProjection * vec4(pos, 1.0);
 gl_Position = v_ViewPosition;

 v_Texcoord = texcoord;

}
@end



@export ecgl.sm.depth.fragment

@import clay.sm.depth.fragment

@end`;Object.assign(gs.prototype,Txe);Re.import(M$);Re.import(y$);Re.import(Cxe);Re.import(Axe);Re.import(Exe);Re.import(Dxe);Re.import(Mxe);Re.import(Pxe);function Lxe(e){return!e||e==="none"}function P$(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}function Ixe(e){return e.getZr&&e.setOption}var Rxe=Tu.prototype.addToScene,Oxe=Tu.prototype.removeFromScene;Tu.prototype.addToScene=function(e){if(Rxe.call(this,e),this.__zr){var t=this.__zr;e.traverse(function(n){n.__zr=t,n.addAnimatorsToZr&&n.addAnimatorsToZr(t)})}};Tu.prototype.removeFromScene=function(e){Oxe.call(this,e),e.traverse(function(t){var n=t.__zr;t.__zr=null,n&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(n)})};ro.prototype.setTextureImage=function(e,t,n,r){if(this.shader){var a=n.getZr(),i=this,o;return i.autoUpdateTextureStatus=!1,i.disableTexture(e),Lxe(t)||(o=ft.loadTexture(t,n,r,function(s){i.enableTexture(e),a&&a.refresh()}),i.set(e,o)),o}};var ft={};ft.Renderer=Sp;ft.Node=gs;ft.Mesh=Dc;ft.Shader=Re;ft.Material=ro;ft.Texture=Je;ft.Texture2D=Et;ft.Geometry=Gt;ft.SphereGeometry=cxe;ft.PlaneGeometry=ox;ft.CubeGeometry=E$;ft.AmbientLight=dxe;ft.DirectionalLight=vxe;ft.PointLight=mxe;ft.SpotLight=yxe;ft.PerspectiveCamera=Br;ft.OrthographicCamera=uh;ft.Vector2=_i;ft.Vector3=Ne;ft.Vector4=_xe;ft.Quaternion=_$;ft.Matrix2=xxe;ft.Matrix2d=bxe;ft.Matrix3=wxe;ft.Matrix4=Qe;ft.Plane=T$;ft.Ray=y_;ft.BoundingBox=Wa;ft.Frustum=XE;var py=null;function kxe(){return py!==null||(py=jc.createBlank("rgba(255,255,255,0)").image),py}function kk(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function Nk(e){if((e.wrapS===Je.REPEAT||e.wrapT===Je.REPEAT)&&e.image){var t=kk(e.width),n=kk(e.height);if(t!==e.width||n!==e.height){var r=document.createElement("canvas");r.width=t,r.height=n;var a=r.getContext("2d");a.drawImage(e.image,0,0,t,n),e.image=r}}}ft.loadTexture=function(e,t,n,r){typeof n=="function"&&(r=n,n={}),n=n||{};for(var a=Object.keys(n).sort(),i="",o=0;o<a.length;o++)i+=a[o]+"_"+n[a[o]]+"_";var s=t.__textureCache=t.__textureCache||new bh(20);if(Ixe(e)){var l=e.__textureid__,u=s.get(i+l);if(u)u.texture.surface.setECharts(e),r&&r(u.texture);else{var c=new Y1e(e);c.onupdate=function(){t.getZr().refresh()},u={texture:c.getTexture()};for(var o=0;o<a.length;o++)u.texture[a[o]]=n[a[o]];l=e.__textureid__||"__ecgl_ec__"+u.texture.__uid__,e.__textureid__=l,s.put(i+l,u),r&&r(u.texture)}return u.texture}else if(P$(e)){var l=e.__textureid__,u=s.get(i+l);if(!u){u={texture:new ft.Texture2D({image:e})};for(var o=0;o<a.length;o++)u.texture[a[o]]=n[a[o]];l=e.__textureid__||"__ecgl_image__"+u.texture.__uid__,e.__textureid__=l,s.put(i+l,u),Nk(u.texture),r&&r(u.texture)}return u.texture}else{var u=s.get(i+e);if(u)u.callbacks?u.callbacks.push(r):r&&r(u.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){u={callbacks:[r]};var f=jc.loadTexture(e,{exposure:n.exposure,fileType:"hdr"},function(){f.dirty(),u.callbacks.forEach(function(v){v&&v(f)}),u.callbacks=null});u.texture=f,s.put(i+e,u)}else{for(var f=new ft.Texture2D({image:new Image}),o=0;o<a.length;o++)f[a[o]]=n[a[o]];u={texture:f,callbacks:[r]};var d=f.image;d.onload=function(){f.image=d,Nk(f),f.dirty(),u.callbacks.forEach(function(p){p&&p(f)}),u.callbacks=null},d.crossOrigin="Anonymous",d.src=e,f.image=kxe(),s.put(i+e,u)}return u.texture}};ft.createAmbientCubemap=function(e,t,n,r){e=e||{};var a=e.texture,i=St.firstNotNull(e.exposure,1),o=new txe({intensity:St.firstNotNull(e.specularIntensity,1)}),s=new rxe({intensity:St.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=ft.loadTexture(a,n,{exposure:i},function(){o.cubemap.flipY=!1;var l=Date.now();o.prefilter(t,32);{var u=Date.now()-l;console.log("Prefilter environment map: "+u+"ms")}s.coefficients=sxe.projectEnvironmentMap(t,o.cubemap,{lod:1}),r&&r()}),{specular:o,diffuse:s}};ft.createBlankTexture=jc.createBlank;ft.isImage=P$;ft.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)};ft.parseColor=function(e,t){return e instanceof Array?(t||(t=[]),t[0]=e[0],t[1]=e[1],t[2]=e[2],e.length>3?t[3]=e[3]:t[3]=1,t):(t=ko(e||"#000",t)||[0,0,0,0],t[0]/=255,t[1]/=255,t[2]/=255,t)};ft.directionFromAlphaBeta=function(e,t){var n=e/180*Math.PI+Math.PI/2,r=-t/180*Math.PI+Math.PI/2,a=[],i=Math.sin(n);return a[0]=i*Math.cos(r),a[1]=-Math.cos(n),a[2]=i*Math.sin(r),a};ft.getShadowResolution=function(e){var t=1024;switch(e){case"low":t=512;break;case"medium":break;case"high":t=2048;break;case"ultra":t=4096;break}return t};ft.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"];ft.createShader=function(e){e==="ecgl.shadow"&&(e="ecgl.displayShadow");var t=Re.source(e+".vertex"),n=Re.source(e+".fragment");t||console.error("Vertex shader of '%s' not exits",e),n||console.error("Fragment shader of '%s' not exits",e);var r=new Re(t,n);return r.name=e,r};ft.createMaterial=function(e,t){t instanceof Array||(t=[t]);var n=ft.createShader(e),r=new ro({shader:n});return t.forEach(function(a){typeof a=="string"&&r.define(a)}),r};ft.setMaterialFromModel=function(e,t,n,r){t.autoUpdateTextureStatus=!1;var a=n.getModel(e+"Material"),i=a.get("detailTexture"),o=St.firstNotNull(a.get("textureTiling"),1),s=St.firstNotNull(a.get("textureOffset"),0);typeof o=="number"&&(o=[o,o]),typeof s=="number"&&(s=[s,s]);var l=o[0]>1||o[1]>1?ft.Texture.REPEAT:ft.Texture.CLAMP_TO_EDGE,u={anisotropic:8,wrapS:l,wrapT:l};if(e==="realistic"){var c=a.get("roughness"),f=a.get("metalness");f!=null?isNaN(f)&&(t.setTextureImage("metalnessMap",f,r,u),f=St.firstNotNull(a.get("metalnessAdjust"),.5)):f=0,c!=null?isNaN(c)&&(t.setTextureImage("roughnessMap",c,r,u),c=St.firstNotNull(a.get("roughnessAdjust"),.5)):c=.5;var d=a.get("normalTexture");t.setTextureImage("detailMap",i,r,u),t.setTextureImage("normalMap",d,r,u),t.set({roughness:c,metalness:f,detailUvRepeat:o,detailUvOffset:s})}else if(e==="lambert")t.setTextureImage("detailMap",i,r,u),t.set({detailUvRepeat:o,detailUvOffset:s});else if(e==="color")t.setTextureImage("detailMap",i,r,u),t.set({detailUvRepeat:o,detailUvOffset:s});else if(e==="hatching"){var h=a.get("hatchingTextures")||[];h.length<6&&console.error("Invalid hatchingTextures.");for(var v=0;v<6;v++)t.setTextureImage("hatch"+(v+1),h[v],r,{anisotropic:8,wrapS:ft.Texture.REPEAT,wrapT:ft.Texture.REPEAT});t.set({detailUvRepeat:o,detailUvOffset:s})}};ft.updateVertexAnimation=function(e,t,n,r){var a=r.get("animation"),i=r.get("animationDurationUpdate"),o=r.get("animationEasingUpdate"),s=n.shadowDepthMaterial;if(a&&t&&i>0&&t.geometry.vertexCount===n.geometry.vertexCount){n.material.define("vertex","VERTEX_ANIMATION"),n.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var l=0;l<e.length;l++)n.geometry.attributes[e[l][0]].value=t.geometry.attributes[e[l][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set("percent",0),n.stopAnimation(),n.animate().when(i,{__percent:1}).during(function(){n.material.set("percent",n.__percent),s&&s.set("percent",n.__percent)}).done(function(){n.ignorePreZ=!1,n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")}).start(o)}else n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")};const W=ft;var Mn=function(e,t){this.id=e,this.zr=t;try{this.renderer=new Sp({clearBit:0,devicePixelRatio:t.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(t.painter.getWidth(),t.painter.getHeight())}catch(r){this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",console.error(r);return}this.onglobalout=this.onglobalout.bind(this),t.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position="absolute",n.left="0",n.top="0",this.views=[],this._picking=new t1e({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new wr({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};Mn.prototype.setUnpainted=function(){};Mn.prototype.addView=function(e){if(e.layer!==this){var t=this._viewsToDispose.indexOf(e);t>=0&&this._viewsToDispose.splice(t,1),this.views.push(e),e.layer=this;var n=this.zr;e.scene.traverse(function(r){r.__zr=n,r.addAnimatorsToZr&&r.addAnimatorsToZr(n)})}};function L$(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}Mn.prototype.removeView=function(e){if(e.layer===this){var t=this.views.indexOf(e);t>=0&&(this.views.splice(t,1),e.scene.traverse(L$,this),e.layer=null,this._viewsToDispose.push(e))}};Mn.prototype.removeViewsAll=function(){this.views.forEach(function(e){e.scene.traverse(L$,this),e.layer=null,this._viewsToDispose.push(e)},this),this.views.length=0};Mn.prototype.resize=function(e,t){var n=this.renderer;n.resize(e,t)};Mn.prototype.clear=function(){var e=this.renderer.gl,t=this._backgroundColor||[0,0,0,0];e.clearColor(t[0],t[1],t[2],t[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)};Mn.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)};Mn.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)};Mn.prototype.needsRefresh=function(){this.zr.refresh()};Mn.prototype.refresh=function(e){this._backgroundColor=e?W.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var t=0;t<this.views.length;t++)this.views[t].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(var t=0;t<this._viewsToDispose.length;t++)this._viewsToDispose[t].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()};Mn.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)};Mn.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var t=0;t<this.views.length;t++)this.views[t].render(this.renderer,e);this.renderer.restoreViewport()};Mn.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var Nxe=1;Mn.prototype._startAccumulating=function(e){var t=this;this._stopAccumulating();for(var n=!1,r=0;r<this.views.length;r++)n=this.views[r].needsAccumulate()||n;if(!n)return;function a(i){if(!(!t._accumulatingId||i!==t._accumulatingId)){for(var o=!0,s=0;s<t.views.length;s++)o=t.views[s].isAccumulateFinished()&&n;o||(t._doRender(!0),e?a(i):Zd(function(){a(i)}))}}this._accumulatingId=Nxe++,e?a(t._accumulatingId):this._accumulatingTimeout=setTimeout(function(){a(t._accumulatingId)},50)};Mn.prototype._trackAndClean=function(){var e=[],t=[];this._textureList&&(x_(this._textureList),x_(this._geometriesList));for(var n=0;n<this.views.length;n++)Bxe(this.views[n].scene,e,t);this._textureList&&(b_(this.renderer,this._textureList),b_(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=t};function x_(e){for(var t=0;t<e.length;t++)e[t].__used__=0}function b_(e,t){for(var n=0;n<t.length;n++)t[n].__used__||t[n].dispose(e)}function my(e,t){e.__used__=e.__used__||0,e.__used__++,e.__used__===1&&t.push(e)}function Bxe(e,t,n){var r,a;e.traverse(function(o){if(o.isRenderable()){var s=o.geometry,l=o.material;if(l!==r)for(var u=l.getTextureUniforms(),c=0;c<u.length;c++){var f=u[c],d=l.uniforms[f].value;if(d){if(d instanceof Je)my(d,t);else if(d instanceof Array)for(var h=0;h<d.length;h++)d[h]instanceof Je&&my(d[h],t)}}s!==a&&my(s,n),r=l,a=s}});for(var i=0;i<e.lights.length;i++)e.lights[i].cubemap&&my(e.lights[i].cubemap,t)}Mn.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(x_(this._textureList),x_(this._geometriesList),b_(this.renderer,this._textureList),b_(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)};Mn.prototype.onmousedown=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mousedown",e,t),this._dispatchDataEvent("mousedown",e,t)),this._downX=e.offsetX,this._downY=e.offsetY}};Mn.prototype.onmousemove=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY),n=t&&t.target,r=this._hovered;this._hovered=t,r&&n!==r.target&&(r.relatedTarget=n,this._dispatchEvent("mouseout",e,r),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,t),t&&(this.zr.setCursorStyle("pointer"),(!r||n!==r.target)&&this._dispatchEvent("mouseover",e,t)),this._dispatchDataEvent("mousemove",e,t)}};Mn.prototype.onmouseup=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mouseup",e,t),this._dispatchDataEvent("mouseup",e,t)),this._upX=e.offsetX,this._upY=e.offsetY}};Mn.prototype.onclick=Mn.prototype.dblclick=function(e){if(!(e.target&&e.target.__isGLToZRProxy)){var t=this._upX-this._downX,n=this._upY-this._downY;if(!(Math.sqrt(t*t+n*n)>20)){e=e.event;var r=this.pickObject(e.offsetX,e.offsetY);r&&(this._dispatchEvent(e.type,e,r),this._dispatchDataEvent(e.type,e,r));var a=this._clickToSetFocusPoint(e);if(a){var i=a.view.setDOFFocusOnPoint(a.distance);i&&this.zr.refresh()}}}};Mn.prototype._clickToSetFocusPoint=function(e){for(var t=this.renderer,n=t.viewport,r=this.views.length-1;r>=0;r--){var a=this.views[r];if(a.hasDOF()&&a.containPoint(e.offsetX,e.offsetY)){this._picking.scene=a.scene,this._picking.camera=a.camera,t.viewport=a.viewport;var i=this._picking.pick(e.offsetX,e.offsetY,!0);if(i)return i.view=a,i}}t.viewport=n};Mn.prototype.onglobalout=function(e){var t=this._hovered;t&&this._dispatchEvent("mouseout",e,{target:t.target})};Mn.prototype.pickObject=function(e,t){for(var n=[],r=this.renderer,a=r.viewport,i=0;i<this.views.length;i++){var o=this.views[i];o.containPoint(e,t)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,r.viewport=o.viewport,this._picking.pickAll(e,t,n))}return r.viewport=a,n.sort(function(s,l){return s.distance-l.distance}),n[0]};Mn.prototype._dispatchEvent=function(e,t,n){n||(n={});var r=n.target;for(n.cancelBubble=!1,n.event=t,n.type=e,n.offsetX=t.offsetX,n.offsetY=t.offsetY;r&&(r.trigger(e,n),r=r.getParent(),!n.cancelBubble););this._dispatchToView(e,n)};Mn.prototype._dispatchDataEvent=function(e,t,n){var r=n&&n.target,a=r&&r.dataIndex,i=r&&r.seriesIndex,o=r&&r.eventData,s=!1,l=this._zrEventProxy;l.x=t.offsetX,l.y=t.offsetY,l.update();var u={target:l};const c=qt(l);e==="mousemove"&&(a!=null?a!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(c.dataIndex=this._lastDataIndex,c.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(u,"mouseout",t)),s=!0):o!=null&&o!==this._lastEventData&&(this._lastEventData!=null&&(c.eventData=this._lastEventData,this.zr.handler.dispatchToElement(u,"mouseout",t)),s=!0),this._lastEventData=o,this._lastDataIndex=a,this._lastSeriesIndex=i),c.eventData=o,c.dataIndex=a,c.seriesIndex=i,(o!=null||parseInt(a,10)>=0&&parseInt(i,10)>=0)&&(this.zr.handler.dispatchToElement(u,e,t),s&&this.zr.handler.dispatchToElement(u,"mouseover",t))};Mn.prototype._dispatchToView=function(e,t){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(t.offsetX,t.offsetY)&&this.views[n].trigger(e,t)};Object.assign(Mn.prototype,GE);const I$=Mn;var Vxe=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function Qv(e,t){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,r=e[t].emphasis;n&&(e[t]=n),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function Fxe(e){Qv(e,"itemStyle"),Qv(e,"lineStyle"),Qv(e,"areaStyle"),Qv(e,"label")}function gy(e){e&&(e instanceof Array||(e=[e]),j(e,function(t){if(t.axisLabel){var n=t.axisLabel;Object.assign(n,n.textStyle),n.textStyle=null}}))}function Uxe(e){j(e.series,function(t){Xt(Vxe,t.type)>=0&&(Fxe(t),t.coordinateSystem==="mapbox"&&(t.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))}),gy(e.xAxis3D),gy(e.yAxis3D),gy(e.zAxis3D),gy(e.grid3D),Qv(e.geo3D)}function R$(e){this._layers={},this._zr=e}R$.prototype.update=function(e,t){var n=this,r=t.getZr();if(!r.getWidth()||!r.getHeight()){console.warn("Dom has no width or height");return}function a(s){r.setSleepAfterStill(0);var l;s.coordinateSystem&&s.coordinateSystem.model,l=s.get("zlevel");var u=n._layers,c=u[l];if(!c){if(c=u[l]=new I$("gl-"+l,r),r.painter.isSingleCanvas()){c.virtual=!0;var f=new pl({z:1e4,style:{image:c.renderer.canvas},silent:!0});c.__hostImage=f,r.add(f)}r.painter.insertLayer(l,c)}return c.__hostImage&&c.__hostImage.setStyle({width:c.renderer.getWidth(),height:c.renderer.getHeight()}),c}function i(s,l){s&&s.traverse(function(u){u.isRenderable&&u.isRenderable()&&(u.ignorePicking=u.$ignorePicking!=null?u.$ignorePicking:l)})}for(var o in this._layers)this._layers[o].removeViewsAll();e.eachComponent(function(s,l){if(s!=="series"){var u=t.getViewOfComponentModel(l),c=l.coordinateSystem;if(u.__ecgl__){var f;if(c){if(!c.viewGL){console.error("Can't find viewGL in coordinateSystem of component "+l.id);return}f=c.viewGL}else{if(!l.viewGL){console.error("Can't find viewGL of component "+l.id);return}f=c.viewGL}var f=c.viewGL,d=a(l);d.addView(f),u.afterRender&&u.afterRender(l,e,t,d),i(u.groupGL,l.get("silent"))}}}),e.eachSeries(function(s){var l=t.getViewOfSeriesModel(s),u=s.coordinateSystem;if(l.__ecgl__){if(u&&!u.viewGL&&!l.viewGL){console.error("Can't find viewGL of series "+l.id);return}var c=u&&u.viewGL||l.viewGL,f=a(s);f.addView(c),l.afterRender&&l.afterRender(s,e,t,f),i(l.groupGL,s.get("silent"))}})};G5(function(e){var t=e.getZr(),n=t.painter.dispose;t.painter.dispose=function(){typeof this.eachOtherLayer=="function"&&this.eachOtherLayer(function(r){r instanceof I$&&r.dispose()}),n.call(this)},t.painter.getRenderedCanvas=function(r){if(r=r||{},this._singleCanvas)return this._layers[0].dom;var a=document.createElement("canvas"),i=r.pixelRatio||this.dpr;a.width=this.getWidth()*i,a.height=this.getHeight()*i;var o=a.getContext("2d");o.dpr=i,o.clearRect(0,0,a.width,a.height),r.backgroundColor&&(o.fillStyle=r.backgroundColor,o.fillRect(0,0,a.width,a.height));var s=this.storage.getDisplayList(!0),l={},u,c=this;function f(p,m){var g=c._zlevelList;p==null&&(p=-1/0);for(var y,_=0;_<g.length;_++){var x=g[_],w=c._layers[x];if(!w.__builtin__&&x>p&&x<m){y=w;break}}y&&y.renderToCanvas&&(o.save(),y.renderToCanvas(o),o.restore())}for(var d={ctx:o},h=0;h<s.length;h++){var v=s[h];v.zlevel!==u&&(f(u,v.zlevel),u=v.zlevel),this._doPaintEl(v,d,!0,null,l)}return f(u,1/0),a}});W5(function(e,t){var n=t.getZr(),r=n.__egl=n.__egl||new R$(n);r.update(e,t)});DA(Uxe);const sx={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},e.alpha!=null&&(this.option.viewControl.alpha=e.alpha),e.beta!=null&&(this.option.viewControl.beta=e.beta),e.distance!=null&&(this.option.viewControl.distance=e.distance),e.center!=null&&(this.option.viewControl.center=e.center)}},Vh={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},Fh={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};var lx=en.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});Ze(lx.prototype,sx);Ze(lx.prototype,Vh);Ze(lx.prototype,Fh);const zxe=lx;var Iv=St.firstNotNull,yy={left:0,middle:1,right:2};function Bk(e){return e instanceof Array||(e=[e,e]),e}var O$=Ka.extend(function(){return{zr:null,viewGL:null,_center:new Ne,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new _i,_panVelocity:new _i,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(e){this[e]=this[e].bind(this)},this)},{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,t){t=t||{};var n=t.baseDistance||0,r=t.baseOrthoSize||1,a=e.get("projection");a!=="perspective"&&a!=="orthographic"&&a!=="isometric"&&(console.error("Unkown projection type %s, use perspective projection instead.",a),a="perspective"),this._projection=a,this.viewGL.setProjection(a);var i=e.get("distance")+n,o=e.get("orthographicSize")+r;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(d){this[d[0]]=Iv(e.get(d[0]),d[1])},this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var s=e.ecModel,l={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(d){l[d]=Iv(e.get(d),s&&s.get(d))});var u=Iv(t.alpha,e.get("alpha"))||0,c=Iv(t.beta,e.get("beta"))||0,f=Iv(t.center,e.get("center"))||[0,0,0];l.animation&&l.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:u,beta:c,center:f,distance:i,orthographicSize:o,easing:l.animationEasingUpdate,duration:l.animationDurationUpdate}):(this.setDistance(i),this.setAlpha(u),this.setBeta(c),this.setCenter(f),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){yy[this.panMouseButton]==null&&console.error("Unkown panMouseButton %s. It should be left|middle|right",this.panMouseButton),yy[this.rotateMouseButton]==null&&console.error("Unkown rotateMouseButton %s. It should be left|middle|right",this.rotateMouseButton),this.autoRotateDirection!=="cw"&&this.autoRotateDirection!=="ccw"&&console.error("Unkown autoRotateDirection %s. It should be cw|ccw",this.autoRotateDirection)},animateTo:function(e){var t=this.zr,n=this,r={},a={};return e.distance!=null&&(r.distance=this.getDistance(),a.distance=e.distance),e.orthographicSize!=null&&(r.orthographicSize=this.getOrthographicSize(),a.orthographicSize=e.orthographicSize),e.alpha!=null&&(r.alpha=this.getAlpha(),a.alpha=e.alpha),e.beta!=null&&(r.beta=this.getBeta(),a.beta=e.beta),e.center!=null&&(r.center=this.getCenter(),a.center=e.center),this._addAnimator(t.animation.animate(r).when(e.duration||1e3,a).during(function(){r.alpha!=null&&n.setAlpha(r.alpha),r.beta!=null&&n.setBeta(r.beta),r.distance!=null&&n.setDistance(r.distance),r.center!=null&&n.setCenter(r.center),r.orthographicSize!=null&&n.setOrthographicSize(r.orthographicSize),n._needsUpdate=!0})).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var t=(this.autoRotateDirection==="cw"?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=t*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var t=this._rotateVelocity;this._phi=t.y*e/20+this._phi,this._theta=t.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(t,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){this._projection==="perspective"?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var t=this.getCamera(),n=this._orthoSize,r=n/this.viewGL.viewport.height*this.viewGL.viewport.width;t.left=-r/2,t.right=r/2,t.top=n/2,t.bottom=-n/2},_updatePan:function(e){var t=this._panVelocity,n=this._distance,r=this.getCamera(),a=r.worldTransform.y,i=r.worldTransform.x;this._center.scaleAndAdd(i,-t.x*n/200).scaleAndAdd(a,-t.y*n/200),this._vectorDamping(t,0)},_updateTransform:function(){var e=this.getCamera(),t=new Ne,n=this._theta+Math.PI/2,r=this._phi+Math.PI/2,a=Math.sin(n);t.x=a*Math.cos(r),t.y=-Math.cos(n),t.z=a*Math.sin(r),e.position.copy(this._center).scaleAndAdd(t,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,t=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout(function(){t._rotating=!0},e*1e3))},_vectorDamping:function(e,t){var n=e.len();n=n*t,n<1e-4&&(n=0),e.normalize().scale(n)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,t=Math.asin(e.y),n=Math.atan2(e.x,e.z);this._theta=t,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){if(!e.target&&!this._isAnimating()){var t=e.offsetX,n=e.offsetY;this.viewGL&&!this.viewGL.containPoint(t,n)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?e.event.targetTouches.length===1&&(this._mode="rotate"):e.event.button===yy[this.rotateMouseButton]?this._mode="rotate":e.event.button===yy[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)}},_mouseMoveHandler:function(e){if(!(e.target&&e.target.__isGLToZRProxy)&&!this._isAnimating()){var t=Bk(this.panSensitivity),n=Bk(this.rotateSensitivity);this._mode==="rotate"?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):this._mode==="pan"&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*t[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*t[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){if(!this._isAnimating()){var t=e.event.wheelDelta||-e.event.detail;this._zoomHandler(e,t)}},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,t){if(t!==0){var n=e.offsetX,r=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(n,r))){var a;this._projection==="perspective"?a=Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):a=Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(t>0?-1:1)*a*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&this._mode==="rotate"&&this._startCountingStill(),e.event.preventDefault()}}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return this.rotateMouseButton==="right"||this.panMouseButton==="right"},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var t=this._animators;return t.push(e),e.done(function(){var n=t.indexOf(e);n>=0&&t.splice(n,1)}),e}});Object.defineProperty(O$.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});const ux=O$,$m={convertToDynamicArray:function(e){e&&this.resetOffset();var t=this.attributes;for(var n in t)e||!t[n].value?t[n].value=[]:t[n].value=Array.prototype.slice.call(t[n].value);e||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var t in e)e[t].value&&e[t].value.length>0?e[t].value=new Float32Array(e[t].value):e[t].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},vr={vec2:rt,vec3:re,vec4:He,mat2:tr,mat2d:pr,mat3:Nt,mat4:Oe,quat:ht};var Zw=vr.vec3,Vk=[[0,0],[1,1]],k$=Gt.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new Gt.Attribute("position","float",3,"POSITION"),positionPrev:new Gt.Attribute("positionPrev","float",3),positionNext:new Gt.Attribute("positionNext","float",3),prevPositionPrev:new Gt.Attribute("prevPositionPrev","float",3),prevPosition:new Gt.Attribute("prevPosition","float",3),prevPositionNext:new Gt.Attribute("prevPositionNext","float",3),offset:new Gt.Attribute("offset","float",1),color:new Gt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.positionPrev.init(e),t.positionNext.init(e),t.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(e===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(e*3):new Uint16Array(e*3))},_getCubicCurveApproxStep:function(e,t,n,r){var a=Zw.dist(e,t)+Zw.dist(n,t)+Zw.dist(r,n),i=1/(a+1)*this.segmentScale;return i},getCubicCurveVertexCount:function(e,t,n,r){var a=this._getCubicCurveApproxStep(e,t,n,r),i=Math.ceil(1/a);return this.useNativeLine?i*2:i*2+2},getCubicCurveTriangleCount:function(e,t,n,r){var a=this._getCubicCurveApproxStep(e,t,n,r),i=Math.ceil(1/a);return this.useNativeLine?0:i*2},getLineVertexCount:function(){return this.getPolylineVertexCount(Vk)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(Vk)},getPolylineVertexCount:function(e){var t;if(typeof e=="number")t=e;else{var n=typeof e[0]!="number";t=n?e.length:e.length/3}return this.useNativeLine?(t-1)*2:(t-1)*2+2},getPolylineTriangleCount:function(e){var t;if(typeof e=="number")t=e;else{var n=typeof e[0]!="number";t=n?e.length:e.length/3}return this.useNativeLine?0:Math.max(t-1,0)*2},addCubicCurve:function(e,t,n,r,a,i){i==null&&(i=1);for(var o=e[0],s=e[1],l=e[2],u=t[0],c=t[1],f=t[2],d=n[0],h=n[1],v=n[2],p=r[0],m=r[1],g=r[2],y=this._getCubicCurveApproxStep(e,t,n,r),_=y*y,x=_*y,w=3*y,b=3*_,S=6*_,C=6*x,A=o-u*2+d,M=s-c*2+h,T=l-f*2+v,E=(u-d)*3-o+p,P=(c-h)*3-s+m,I=(f-v)*3-l+g,k=o,B=s,U=l,R=(u-o)*w+A*b+E*x,L=(c-s)*w+M*b+P*x,z=(f-l)*w+T*b+I*x,X=A*S+E*C,Y=M*S+P*C,$=T*S+I*C,F=E*C,N=P*C,H=I*C,K=0,Z=0,q=Math.ceil(1/y),ce=new Float32Array((q+1)*3),ce=[],oe=0,Z=0;Z<q+1;Z++)ce[oe++]=k,ce[oe++]=B,ce[oe++]=U,k+=R,B+=L,U+=z,R+=X,L+=Y,z+=$,X+=F,Y+=N,$+=H,K+=y,K>1&&(k=R>0?Math.min(k,p):Math.max(k,p),B=L>0?Math.min(B,m):Math.max(B,m),U=z>0?Math.min(U,g):Math.max(U,g));return this.addPolyline(ce,a,i)},addLine:function(e,t,n,r){return this.addPolyline([e,t],n,r)},addPolyline:function(e,t,n,r,a){if(e.length){var i=typeof e[0]!="number";if(a==null&&(a=i?e.length:e.length/3),!(a<2)){r==null&&(r=0),n==null&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);var i=typeof e[0]!="number",o=i?typeof t[0]!="number":t.length/4===a,s=this.attributes.position,l=this.attributes.positionPrev,u=this.attributes.positionNext,c=this.attributes.color,f=this.attributes.offset,d=this.indices,h=this._vertexOffset,v,p;n=Math.max(n,.01);for(var m=r;m<a;m++){if(i)v=e[m],o?p=t[m]:p=t;else{var g=m*3;if(v=v||[],v[0]=e[g],v[1]=e[g+1],v[2]=e[g+2],o){var y=m*4;p=p||[],p[0]=t[y],p[1]=t[y+1],p[2]=t[y+2],p[3]=t[y+3]}else p=t}if(this.useNativeLine?m>1&&(s.copy(h,h-1),c.copy(h,h-1),h++):(m<a-1&&(l.set(h+2,v),l.set(h+3,v)),m>0&&(u.set(h-2,v),u.set(h-1,v)),s.set(h,v),s.set(h+1,v),c.set(h,p),c.set(h+1,p),f.set(h,n/2),f.set(h+1,-n/2),h+=2),this.useNativeLine)c.set(h,p),s.set(h,v),h++;else if(m>0){var _=this._triangleOffset*3,d=this.indices;d[_]=h-4,d[_+1]=h-3,d[_+2]=h-2,d[_+3]=h-3,d[_+4]=h-1,d[_+5]=h-2,this._triangleOffset+=2}}if(!this.useNativeLine){var x=this._vertexOffset,w=this._vertexOffset+a*2;l.copy(x,x+2),l.copy(x+1,x+3),u.copy(w-1,w-3),u.copy(w-2,w-4)}return this._vertexOffset=h,this._vertexOffset}}},setItemColor:function(e,t){for(var n=this._itemVertexOffsets[e],r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,a=n;a<r;a++)this.attributes.color.set(a,t);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});Ft(k$.prototype,$m);const Mf=k$;function w_(e,t,n,r,a,i,o){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=a,this.offsetX=t,this.offsetY=n,this.dpr=o,this.gap=i}w_.prototype={constructor:w_,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,t,n){var r=e.getBoundingRect();t==null&&(t=r.width),n==null&&(n=r.height),t*=this.dpr,n*=this.dpr,this._fitElement(e,t,n);var a=this._x,i=this._y,o=this.width*this.dpr,s=this.height*this.dpr,l=this.gap;if(a+t+l>o&&(a=this._x=0,i+=this._rowHeight+l,this._y=i,this._rowHeight=0),this._x+=t+l,this._rowHeight=Math.max(this._rowHeight,n),i+n+l>s)return null;e.x+=this.offsetX*this.dpr+a,e.y+=this.offsetY*this.dpr+i,this._zr.add(e);var u=[this.offsetX/this.width,this.offsetY/this.height],c=[[a/o+u[0],i/s+u[1]],[(a+t)/o+u[0],(i+n)/s+u[1]]];return c},_fitElement:function(e,t,n){var r=e.getBoundingRect(),a=t/r.width,i=n/r.height;e.x=-r.x*a,e.y=-r.y*i,e.scaleX=a,e.scaleY=i,e.update()}};function S_(e){e=e||{},e.width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=e.gap==null?2:e.gap;var t=document.createElement("canvas");t.width=e.width*e.devicePixelRatio,t.height=e.height*e.devicePixelRatio,this._canvas=t,this._texture=new Et({image:t,flipY:!1});var n=this;this._zr=rT(t);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new w_(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}S_.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,t=this._textureAtlasNodes,n=t.length,r=n*this._nodeWidth%e,a=Math.floor(n*this._nodeWidth/e)*this._nodeHeight;if(a>=e){console.error("Too much labels. Some will be ignored.");return}var i=(r+this._nodeWidth)*this._dpr,o=(a+this._nodeHeight)*this._dpr;try{this._zr.resize({width:i,height:o})}catch{this._canvas.width=i,this._canvas.height=o}var s=new w_(this._zr,r,a,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(s),s},add:function(e,t,n){if(this._coords[e.id])return console.warn("Element already been add"),this._coords[e.id];var r=this._getCurrentNode().add(e,t,n);if(!r){var a=this._expand();if(!a)return;r=a.add(e,t,n)}return this._coords[e.id]=r,r},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]},dispose:function(){this._zr.dispose()}};function pu(){}pu.prototype={constructor:pu,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new W.DirectionalLight({shadowBias:.005}),this.ambientLight=new W.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var t=this.mainLight,n=this.ambientLight,r=e.getModel("light"),a=r.getModel("main"),i=r.getModel("ambient");t.intensity=a.get("intensity"),n.intensity=i.get("intensity"),t.color=W.parseColor(a.get("color")).slice(0,3),n.color=W.parseColor(i.get("color")).slice(0,3);var o=a.get("alpha")||0,s=a.get("beta")||0;t.position.setArray(W.directionFromAlphaBeta(o,s)),t.lookAt(W.Vector3.ZERO),t.castShadow=a.get("shadow"),t.shadowResolution=W.getShadowResolution(a.get("shadowQuality"))},updateAmbientCubemap:function(e,t,n){var r=t.getModel("light.ambientCubemap"),a=r.get("texture");if(a){this._cubemapLightsCache=this._cubemapLightsCache||{};var i=this._cubemapLightsCache[a];if(!i){var o=this;i=this._cubemapLightsCache[a]=W.createAmbientCubemap(r.option,e,n,function(){o._isSkyboxFromAmbientCubemap&&o._skybox.setEnvironmentMap(i.specular.cubemap),n.getZr().refresh()})}this._lightRoot.add(i.diffuse),this._lightRoot.add(i.specular),this._currentCubemapLights=i}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,t,n){var r=t.get("environment"),a=this;function i(){return a._skybox=a._skybox||new fm,a._skybox}var o=i();if(r&&r!=="none")if(r==="auto")if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var s=this._currentCubemapLights.specular.cubemap;o.setEnvironmentMap(s),this._scene&&o.attachScene(this._scene),o.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if(typeof r=="object"&&r.colorStops||typeof r=="string"&&ko(r)){this._isSkyboxFromAmbientCubemap=!1;var l=new W.Texture2D({anisotropic:8,flipY:!1});o.setEnvironmentMap(l);var u=l.image=document.createElement("canvas");u.width=u.height=16;var c=u.getContext("2d"),f=new wr({shape:{x:0,y:0,width:16,height:16},style:{fill:r}});R1(c,f),o.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;var l=W.loadTexture(r,n,{anisotropic:8,flipY:!1});o.setEnvironmentMap(l),o.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var d=t.coordinateSystem;if(this._skybox)if(d&&d.viewGL&&r!=="auto"&&!(r.match&&r.match(/.hdr$/))){var h=d.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[h]("fragment","SRGB_DECODE")}else this._skybox.material.undefine("fragment","SRGB_DECODE")}};var rc=vr.vec3,N$=Gt.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new Gt.Attribute("position","float",3,"POSITION"),normal:new Gt.Attribute("normal","float",3,"NORMAL"),color:new Gt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var t=this.attributes,n=this.getQuadVertexCount()*e,r=this.getQuadTriangleCount()*e;this.vertexCount!==n&&(t.position.init(n),t.normal.init(n),t.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(r*3):new Uint16Array(r*3))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=rc.create(),t=rc.create(),n=rc.create(),r=[0,3,1,3,2,1];return function(a,i){var o=this.attributes.position,s=this.attributes.normal,l=this.attributes.color;rc.sub(e,a[1],a[0]),rc.sub(t,a[2],a[1]),rc.cross(n,e,t),rc.normalize(n,n);for(var u=0;u<4;u++)o.set(this._vertexOffset+u,a[u]),l.set(this._vertexOffset+u,i),s.set(this._vertexOffset+u,n);for(var c=this._faceOffset*3,u=0;u<6;u++)this.indices[c+u]=r[u]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});Ft(N$.prototype,$m);const Hxe=N$;var YC=St.firstNotNull,$xe={x:0,y:2,z:1};function Gxe(e,t,n,r){var a=[0,0,0],i=r<0?n.getExtentMin():n.getExtentMax();a[$xe[n.dim]]=i,e.position.setArray(a),e.rotation.identity(),t.distance=-Math.abs(i),t.normal.set(0,0,0),n.dim==="x"?(e.rotation.rotateY(r*Math.PI/2),t.normal.x=-r):n.dim==="z"?(e.rotation.rotateX(-r*Math.PI/2),t.normal.y=-r):(r>0&&e.rotation.rotateY(Math.PI),t.normal.z=-r)}function cx(e,t,n){this.rootNode=new W.Node;var r=new W.Mesh({geometry:new Mf({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),a=new W.Mesh({geometry:new Hxe,material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(a),this.rootNode.add(r),this.faceInfo=e,this.plane=new W.Plane,this.linesMesh=r,this.quadsMesh=a}cx.prototype.update=function(e,t,n){var r=e.coordinateSystem,a=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],i=this.linesMesh.geometry,o=this.quadsMesh.geometry;i.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(i,a,e,n),this._udpateSplitAreas(o,a,e,n),i.convertToTypedArray(),o.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);Gxe(this.rootNode,this.plane,s,this.faceInfo[3])};cx.prototype._updateSplitLines=function(e,t,n,r){var a=r.getDevicePixelRatio();t.forEach(function(i,o){var s=i.model,l=t[1-o].getExtent();if(!i.scale.isBlank()){var u=s.getModel("splitLine",n.getModel("splitLine"));if(u.get("show")){var c=u.getModel("lineStyle"),f=c.get("color"),d=YC(c.get("opacity"),1),h=YC(c.get("width"),1);f=Be(f)?f:[f];for(var v=i.getTicksCoords({tickModel:u}),p=0,m=0;m<v.length;m++){var g=v[m].coord,y=W.parseColor(f[p%f.length]);y[3]*=d;var _=[0,0,0],x=[0,0,0];_[o]=x[o]=g,_[1-o]=l[0],x[1-o]=l[1],e.addLine(_,x,y,h*a),p++}}}})};cx.prototype._udpateSplitAreas=function(e,t,n,r){t.forEach(function(a,i){var o=a.model,s=t[1-i].getExtent();if(!a.scale.isBlank()){var l=o.getModel("splitArea",n.getModel("splitArea"));if(l.get("show")){var u=l.getModel("areaStyle"),c=u.get("color"),f=YC(u.get("opacity"),1);c=Be(c)?c:[c];for(var d=a.getTicksCoords({tickModel:l,clamp:!0}),h=0,v=[0,0,0],p=[0,0,0],m=0;m<d.length;m++){var g=d[m].coord,y=[0,0,0],_=[0,0,0];if(y[i]=_[i]=g,y[1-i]=s[0],_[1-i]=s[1],m===0){v=y,p=_;continue}var x=W.parseColor(c[h%c.length]);x[3]*=f,e.addQuad([v,y,_,p],x),v=y,p=_,h++}}}})};var Fk=[0,1,2,0,2,3],B$=Gt.extend(function(){return{attributes:{position:new Gt.Attribute("position","float",3,"POSITION"),texcoord:new Gt.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new Gt.Attribute("offset","float",2),color:new Gt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var t=e*4,n=e*2;this.vertexCount!==t&&(this.attributes.position.init(t),this.attributes.offset.init(t),this.attributes.color.init(t)),this.triangleCount!==n&&(this.indices=t>65535?new Uint32Array(n*3):new Uint16Array(n*3))},setSpriteAlign:function(e,t,n,r,a){n==null&&(n="left"),r==null&&(r="top");var i,o,s,l;switch(a=a||0,n){case"left":i=a,s=t[0]+a;break;case"center":case"middle":i=-t[0]/2,s=t[0]/2;break;case"right":i=-t[0]-a,s=-a;break}switch(r){case"bottom":o=a,l=t[1]+a;break;case"middle":o=-t[1]/2,l=t[1]/2;break;case"top":o=-t[1]-a,l=-a;break}var u=e*4,c=this.attributes.offset;c.set(u,[i,l]),c.set(u+1,[s,l]),c.set(u+2,[s,o]),c.set(u+3,[i,o])},addSprite:function(e,t,n,r,a,i){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,t,n,r,a,i);for(var s=0;s<Fk.length;s++)this.indices[this._faceOffset*3+s]=Fk[s]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(e,t,n,r,a,i,o){for(var s=e*4,l=this.attributes,u=0;u<4;u++)l.position.set(s+u,t);var c=l.texcoord;c.set(s,[r[0][0],r[0][1]]),c.set(s+1,[r[1][0],r[0][1]]),c.set(s+2,[r[1][0],r[1][1]]),c.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(e,n,a,i,o)}});Ft(B$.prototype,$m);const Wxe=B$,Yxe=`@export ecgl.labels.vertex

attribute vec3 position: POSITION;
attribute vec2 texcoord: TEXCOORD_0;
attribute vec2 offset;
#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;

varying vec2 v_Texcoord;

void main()
{
 vec4 proj = worldViewProjection * vec4(position, 1.0);

 vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;

 screen += offset;

 proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);
 gl_Position = proj;
#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif
 v_Texcoord = texcoord;
}
@end


@export ecgl.labels.fragment

uniform vec3 color : [1.0, 1.0, 1.0];
uniform float alpha : 1.0;
uniform sampler2D textureAtlas;
uniform vec2 uvScale: [1.0, 1.0];

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif
varying float v_Miter;

varying vec2 v_Texcoord;

void main()
{
 gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);
#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
#endif
}

@end`;W.Shader.import(Yxe);const QE=W.Mesh.extend(function(){var e=new Wxe({dynamic:!0}),t=new W.Material({shader:W.createShader("ecgl.labels"),transparent:!0,depthMask:!1});return{geometry:e,material:t,culling:!1,castShadow:!1,ignorePicking:!0}});var ac=St.firstNotNull,ic={x:0,y:2,z:1};function JE(e,t){var n=new W.Mesh({geometry:new Mf({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new QE;r.material.depthMask=!1;var a=new W.Node;a.add(n),a.add(r),this.rootNode=a,this.dim=e,this.linesMesh=n,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var Kw={x:"y",y:"x",z:"y"};JE.prototype.update=function(e,t,n){var r=e.coordinateSystem,a=r.getAxis(this.dim),i=this.linesMesh.geometry,o=this.labelsMesh.geometry;i.convertToDynamicArray(!0),o.convertToDynamicArray(!0);var s=a.model,l=a.getExtent(),T=n.getDevicePixelRatio(),u=s.getModel("axisLine",e.getModel("axisLine")),c=s.getModel("axisTick",e.getModel("axisTick")),f=s.getModel("axisLabel",e.getModel("axisLabel")),d=u.get("lineStyle.color");if(u.get("show")){var h=u.getModel("lineStyle"),v=[0,0,0],p=[0,0,0],m=ic[a.dim];v[m]=l[0],p[m]=l[1],this.axisLineCoords=[v,p];var g=W.parseColor(d),y=ac(h.get("width"),1),_=ac(h.get("opacity"),1);g[3]*=_,i.addLine(v,p,g,y*T)}if(c.get("show")){var x=c.getModel("lineStyle"),w=W.parseColor(ac(x.get("color"),d)),y=ac(x.get("width"),1);w[3]*=ac(x.get("opacity"),1);for(var b=a.getTicksCoords(),S=c.get("length"),C=0;C<b.length;C++){var A=b[C].coord,v=[0,0,0],p=[0,0,0],m=ic[a.dim],M=ic[Kw[a.dim]];v[m]=p[m]=A,p[M]=S,i.addLine(v,p,w,y*T)}}this.labelElements=[];var T=n.getDevicePixelRatio();if(f.get("show"))for(var b=a.getTicksCoords(),E=s.get("data"),P=f.get("margin"),I=a.getViewLabels(),C=0;C<I.length;C++){var k=I[C].tickValue,B=I[C].formattedLabel,U=I[C].rawLabel,A=a.dataToCoord(k),R=[0,0,0],m=ic[a.dim],M=ic[Kw[a.dim]];R[m]=R[m]=A,R[M]=P;var L=f;E&&E[k]&&E[k].textStyle&&(L=new fr(E[k].textStyle,f,s.ecModel));var z=ac(L.get("color"),d),X=new rr({style:uo(L,{text:B,fill:typeof z=="function"?z(a.type==="category"?U:a.type==="value"?k+"":k,C):z,verticalAlign:"top",align:"left"})}),Y=t.add(X),$=X.getBoundingRect();o.addSprite(R,[$.width*T,$.height*T],Y),this.labelElements.push(X)}if(s.get("name")){var F=s.getModel("nameTextStyle"),R=[0,0,0],m=ic[a.dim],M=ic[Kw[a.dim]],N=ac(F.get("color"),d),H=F.get("borderColor"),y=F.get("borderWidth");R[m]=R[m]=(l[0]+l[1])/2,R[M]=s.get("nameGap");var X=new rr({style:uo(F,{text:s.get("name"),fill:N,stroke:H,lineWidth:y})}),Y=t.add(X),$=X.getBoundingRect();o.addSprite(R,[$.width*T,$.height*T],Y),X.__idx=this.labelElements.length,this.nameLabelElement=X}this.labelsMesh.material.set("textureAtlas",t.getTexture()),this.labelsMesh.material.set("uvScale",t.getCoordsScale()),i.convertToTypedArray(),o.convertToTypedArray()};JE.prototype.setSpriteAlign=function(e,t,n){for(var r=n.getDevicePixelRatio(),a=this.labelsMesh.geometry,i=0;i<this.labelElements.length;i++){var o=this.labelElements[i],s=o.getBoundingRect();a.setSpriteAlign(i,[s.width*r,s.height*r],e,t)}var l=this.nameLabelElement;if(l){var s=l.getBoundingRect();a.setSpriteAlign(l.__idx,[s.width*r,s.height*r],e,t),a.dirty()}this.textAlign=e,this.textVerticalAlign=t};const fx=`@export ecgl.lines3D.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec3 position: POSITION;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

void main()
{
 gl_Position = worldViewProjection * vec4(position, 1.0);
 v_Color = a_Color;
}

@end

@export ecgl.lines3D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif
}
@end



@export ecgl.lines3D.clipNear

vec4 clipNear(vec4 p1, vec4 p2) {
 float n = (p1.w - near) / (p1.w - p2.w);
 return vec4(mix(p1.xy, p2.xy, n), -near, near);
}

@end

@export ecgl.lines3D.expandLine
#ifdef VERTEX_ANIMATION
 vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);
 vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);
 vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);
#else
 vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);
 vec4 currProj = worldViewProjection * vec4(position, 1.0);
 vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);
#endif

 if (currProj.w < 0.0) {
 if (nextProj.w > 0.0) {
 currProj = clipNear(currProj, nextProj);
 }
 else if (prevProj.w > 0.0) {
 currProj = clipNear(currProj, prevProj);
 }
 }

 vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;
 vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;
 vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;

 vec2 dir;
 float len = offset;
 if (position == positionPrev) {
 dir = normalize(nextScreen - currScreen);
 }
 else if (position == positionNext) {
 dir = normalize(currScreen - prevScreen);
 }
 else {
 vec2 dirA = normalize(currScreen - prevScreen);
 vec2 dirB = normalize(nextScreen - currScreen);

 vec2 tanget = normalize(dirA + dirB);

 float miter = 1.0 / max(dot(tanget, dirA), 0.5);
 len *= miter;
 dir = tanget;
 }

 dir = vec2(-dir.y, dir.x) * len;
 currScreen += dir;

 currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);
@end


@export ecgl.meshLines3D.vertex

attribute vec3 position: POSITION;
attribute vec3 positionPrev;
attribute vec3 positionNext;
attribute float offset;
attribute vec4 a_Color : COLOR;

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute vec3 prevPositionPrev;
attribute vec3 prevPositionNext;
uniform float percent : 1.0;
#endif

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;
uniform float near : NEAR;

varying vec4 v_Color;

@import ecgl.common.wireframe.vertexHeader

@import ecgl.lines3D.clipNear

void main()
{
 @import ecgl.lines3D.expandLine

 gl_Position = currProj;

 v_Color = a_Color;

 @import ecgl.common.wireframe.vertexMain
}
@end


@export ecgl.meshLines3D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif

 @import ecgl.common.wireframe.fragmentMain
}

@end`;var Uk=St.firstNotNull;W.Shader.import(fx);var oc={x:0,y:2,z:1};const jxe=Aa.extend({type:"grid3D",__ecgl__:!0,init:function(e,t){var n=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],r=["x","y","z"],a=new W.Material({shader:W.createShader("ecgl.color"),depthMask:!1,transparent:!0}),i=new W.Material({shader:W.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});a.define("fragment","DOUBLE_SIDED"),a.define("both","VERTEX_COLOR"),this.groupGL=new W.Node,this._control=new ux({zr:t.getZr()}),this._control.init(),this._faces=n.map(function(s){var l=new cx(s,i,a);return this.groupGL.add(l.rootNode),l},this),this._axes=r.map(function(s){var l=new JE(s,i);return this.groupGL.add(l.rootNode),l},this);var o=t.getDevicePixelRatio();this._axisLabelSurface=new S_({width:256,height:256,devicePixelRatio:o}),this._axisLabelSurface.onupdate=function(){t.getZr().refresh()},this._axisPointerLineMesh=new W.Mesh({geometry:new Mf({useNativeLine:!1}),material:i,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new S_({width:128,height:128,devicePixelRatio:o}),this._axisPointerLabelsMesh=new QE({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new W.Node,this._sceneHelper=new pu,this._sceneHelper.initLight(this._lightRoot)},render:function(e,t,n){this._model=e,this._api=n;var r=e.coordinateSystem;r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var a=this._control;a.setViewGL(r.viewGL);var i=e.getModel("viewControl");a.setFromViewControlModel(i,0),this._axisLabelSurface.clear(),a.off("update"),e.get("show")&&(this._faces.forEach(function(o){o.update(e,t,n)},this),this._axes.forEach(function(o){o.update(e,this._axisLabelSurface,n)},this)),a.on("update",this._onCameraChange.bind(this,e,n),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,t,n,r){var a=r.renderer;this._sceneHelper.updateAmbientCubemap(a,e,n),this._sceneHelper.updateSkybox(a,e,n)},showAxisPointer:function(e,t,n,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(e,t,n,r){this._doHideAxisPointer()},_initMouseHandler:function(e){var t=e.coordinateSystem,n=t.viewGL;e.get("show")&&e.get("axisPointer.show")?n.on("mousemove",this._updateAxisPointerOnMousePosition,this):n.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var t=this._model,n=t.coordinateSystem,r=n.viewGL,a=r.castRay(e.offsetX,e.offsetY,new W.Ray),i,o=0;o<this._faces.length;o++){var s=this._faces[o];if(!s.rootNode.invisible){s.plane.normal.dot(r.camera.worldTransform.z)<0&&s.plane.normal.negate();var l=a.intersectPlane(s.plane);if(l){var u=n.getAxis(s.faceInfo[0]),c=n.getAxis(s.faceInfo[1]),f=oc[s.faceInfo[0]],d=oc[s.faceInfo[1]];u.contain(l.array[f])&&c.contain(l.array[d])&&(i=l)}}}if(i){var h=n.pointToData(i.array,[],!0);this._updateAxisPointer(h),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,t){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;t.dispatchAction({type:"grid3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),t=new W.Vector3;e.update();for(var n=0;n<this._faces.length/2;n++){for(var r=[],a=0;a<2;a++){var i=this._faces[n*2+a];i.rootNode.getWorldPosition(t),t.transformMat4(e.viewMatrix),r[a]=t.z}var o=r[0]>r[1]?0:1,s=this._faces[n*2+o],l=this._faces[n*2+1-o];s.rootNode.invisible=!0,l.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,t=e.getAxis("x"),n=e.getAxis("y"),r=e.getAxis("z"),a=r.getExtentMax(),i=r.getExtentMin(),o=t.getExtentMin(),s=t.getExtentMax(),l=n.getExtentMax(),u=n.getExtentMin(),c=this._axes[0].rootNode,f=this._axes[1].rootNode,d=this._axes[2].rootNode,h=this._faces,v=h[4].rootNode.invisible?u:l,p=h[2].rootNode.invisible?a:i,m=h[0].rootNode.invisible?o:s,g=h[2].rootNode.invisible?a:i,y=h[0].rootNode.invisible?s:o,_=h[4].rootNode.invisible?u:l;c.rotation.identity(),f.rotation.identity(),d.rotation.identity(),h[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),h[0].rootNode.invisible&&(this._axes[1].flipped=!0,f.rotation.rotateZ(Math.PI)),h[4].rootNode.invisible&&(this._axes[2].flipped=!0,d.rotation.rotateY(Math.PI)),c.position.set(0,p,v),f.position.set(m,g,0),d.position.set(y,0,_),c.update(),f.update(),d.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),t=[new W.Vector4,new W.Vector4],n=new W.Vector4;this.groupGL.getWorldPosition(n),n.w=1,n.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),n.x/=n.w,n.y/=n.w,this._axes.forEach(function(r){var a=r.axisLineCoords;r.labelsMesh.geometry;for(var i=0;i<t.length;i++)t[i].setArray(a[i]),t[i].w=1,t[i].transformMat4(r.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t[i].x/=t[i].w,t[i].y/=t[i].w;var o=t[1].x-t[0].x,s=t[1].y-t[0].y,l=(t[1].x+t[0].x)/2,u=(t[1].y+t[0].y)/2,c,f;Math.abs(s/o)<.5?(c="center",f=u>n.y?"bottom":"top"):(f="middle",c=l>n.x?"left":"right"),r.setSpriteAlign(c,f,this._api)},this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var t=this._model.coordinateSystem,n=t.dataToPoint(e),r=this._axisPointerLineMesh,a=r.geometry,i=this._model.getModel("axisPointer"),o=this._api.getDevicePixelRatio();a.convertToDynamicArray(!0);function s(C){return St.firstNotNull(C.model.get("axisPointer.show"),i.get("show"))}function l(C){var A=C.model.getModel("axisPointer",i),M=A.getModel("lineStyle"),T=W.parseColor(M.get("color")),E=Uk(M.get("width"),1),P=Uk(M.get("opacity"),1);return T[3]*=P,{color:T,lineWidth:E}}for(var u=0;u<this._faces.length;u++){var c=this._faces[u];if(!c.rootNode.invisible){for(var f=c.faceInfo,d=f[3]<0?t.getAxis(f[2]).getExtentMin():t.getAxis(f[2]).getExtentMax(),h=oc[f[2]],v=0;v<2;v++){var p=f[v],m=f[1-v],g=t.getAxis(p),y=t.getAxis(m);if(s(g)){var _=[0,0,0],x=[0,0,0],w=oc[p],b=oc[m];_[w]=x[w]=n[w],_[h]=x[h]=d,_[b]=y.getExtentMin(),x[b]=y.getExtentMax();var S=l(g);a.addLine(_,x,S.color,S.lineWidth*o)}}if(s(t.getAxis(f[2]))){var _=n.slice(),x=n.slice();x[h]=d;var S=l(t.getAxis(f[2]));a.addLine(_,x,S.color,S.lineWidth*o)}}}a.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var t=this._model,n=this._axisPointerLabelsMesh,r=this._axisPointerLabelsSurface,a=t.coordinateSystem,i=t.getModel("axisPointer");n.geometry.convertToDynamicArray(!0),r.clear();var o={x:"y",y:"x",z:"y"};this._axes.forEach(function(s,l){var u=a.getAxis(s.dim),c=u.model,f=c.getModel("axisPointer",i),d=f.getModel("label"),h=f.get("lineStyle.color");if(!(!d.get("show")||!f.get("show"))){var v=e[l],p=d.get("formatter"),m=u.scale.getLabel({value:v});if(p!=null)m=p(m,e);else if(u.scale.type==="interval"||u.scale.type==="log"){var g=zp(u.scale.getTicks()[0]);m=v.toFixed(g+2)}var y=d.get("color"),_=new rr({style:uo(d,{text:m,fill:y||h,align:"left",verticalAlign:"top"})}),x=r.add(_),w=_.getBoundingRect(),b=this._api.getDevicePixelRatio(),S=s.rootNode.position.toArray(),C=oc[o[s.dim]];S[C]+=(s.flipped?-1:1)*d.get("margin"),S[oc[s.dim]]=u.dataToCoord(e[l]),n.geometry.addSprite(S,[w.width*b,w.height*b],x,s.textAlign,s.textVerticalAlign)}},this),r.getZr().refreshImmediately(),n.material.set("uvScale",r.getCoordsScale()),n.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});function dm(e){$A.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}dm.prototype={constructor:dm,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,t,n){return t=t||[],t[0]=this.getAxis("x").dataToCoord(e[0],n),t[2]=this.getAxis("y").dataToCoord(e[1],n),t[1]=this.getAxis("z").dataToCoord(e[2],n),t},pointToData:function(e,t,n){return t=t||[],t[0]=this.getAxis("x").coordToData(e[0],n),t[1]=this.getAxis("y").coordToData(e[2],n),t[2]=this.getAxis("z").coordToData(e[1],n),t}};z2(dm,$A);function T_(e,t,n){km.call(this,e,t,n)}T_.prototype={constructor:T_,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}};z2(T_,km);var jC=function(){this._pool={},this._allocatedTextures=[]};jC.prototype={constructor:jC,get:function(e){var t=zk(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var n=this._pool[t];if(!n.length){var r=new Et(e);return this._allocatedTextures.push(r),r}return n.pop()},put:function(e){var t=zk(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var n=this._pool[t];n.push(e)},clear:function(e){for(var t=0;t<this._allocatedTextures.length;t++)this._allocatedTextures[t].dispose(e);this._pool={},this._allocatedTextures=[]}};var V$={width:512,height:512,type:me.UNSIGNED_BYTE,format:me.RGBA,wrapS:me.CLAMP_TO_EDGE,wrapT:me.CLAMP_TO_EDGE,minFilter:me.LINEAR_MIPMAP_LINEAR,magFilter:me.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},Qw=Object.keys(V$);function zk(e){Kr.defaultsWithPropList(e,V$,Qw),Xxe(e);for(var t="",n=0;n<Qw.length;n++){var r=Qw[n],a=e[r].toString();t+=a}return t}function Xxe(e){var t=qxe(e.width,e.height);e.format===me.DEPTH_COMPONENT&&(e.useMipmap=!1),(!t||!e.useMipmap)&&(e.minFilter==me.NEAREST_MIPMAP_NEAREST||e.minFilter==me.NEAREST_MIPMAP_LINEAR?e.minFilter=me.NEAREST:(e.minFilter==me.LINEAR_MIPMAP_LINEAR||e.minFilter==me.LINEAR_MIPMAP_NEAREST)&&(e.minFilter=me.LINEAR)),t||(e.wrapS=me.CLAMP_TO_EDGE,e.wrapT=me.CLAMP_TO_EDGE)}function qxe(e,t){return(e&e-1)===0&&(t&t-1)===0}const F$=jC,Zxe=`@export clay.sm.depth.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
uniform vec2 uvRepeat = vec2(1.0, 1.0);
uniform vec2 uvOffset = vec2(0.0, 0.0);
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
void main(){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 v_ViewPosition = worldViewProjection * P;
 gl_Position = v_ViewPosition;
 v_Texcoord = texcoord * uvRepeat + uvOffset;
}
@end
@export clay.sm.depth.fragment
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
uniform float bias : 0.001;
uniform float slopeScale : 1.0;
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
@import clay.util.encode_float
void main(){
 float depth = v_ViewPosition.z / v_ViewPosition.w;
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
#ifdef USE_VSM
 depth = depth * 0.5 + 0.5;
 float moment1 = depth;
 float moment2 = depth * depth;
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 moment2 += 0.25*(dx*dx+dy*dy);
 #endif
 gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);
#else
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;
 #else
 depth += bias;
 #endif
 gl_FragColor = encodeFloat(depth * 0.5 + 0.5);
#endif
}
@end
@export clay.sm.debug_depth
uniform sampler2D depthMap;
varying vec2 v_Texcoord;
@import clay.util.decode_float
void main() {
 vec4 tex = texture2D(depthMap, v_Texcoord);
#ifdef USE_VSM
 gl_FragColor = vec4(tex.rgb, 1.0);
#else
 float depth = decodeFloat(tex);
 gl_FragColor = vec4(depth, depth, depth, 1.0);
#endif
}
@end
@export clay.sm.distance.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 world : WORLD;
attribute vec3 position : POSITION;
@import clay.chunk.skinning_header
varying vec3 v_WorldPosition;
void main (){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = worldViewProjection * P;
 v_WorldPosition = (world * P).xyz;
}
@end
@export clay.sm.distance.fragment
uniform vec3 lightPosition;
uniform float range : 100;
varying vec3 v_WorldPosition;
@import clay.util.encode_float
void main(){
 float dist = distance(lightPosition, v_WorldPosition);
#ifdef USE_VSM
 gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);
#else
 dist = dist / range;
 gl_FragColor = encodeFloat(dist);
#endif
}
@end
@export clay.plugin.shadow_map_common
@import clay.util.decode_float
float tapShadowMap(sampler2D map, vec2 uv, float z){
 vec4 tex = texture2D(map, uv);
 return step(z, decodeFloat(tex) * 2.0 - 1.0);
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {
 float shadowContrib = tapShadowMap(map, uv, z);
 vec2 offset = vec2(1.0 / textureSize) * scale;
#ifdef PCF_KERNEL_SIZE
 for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{
 shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);
 }}
 return shadowContrib / float(PCF_KERNEL_SIZE + 1);
#else
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);
 return shadowContrib / 9.0;
#endif
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize) {
 return pcf(map, uv, z, textureSize, vec2(1.0));
}
float chebyshevUpperBound(vec2 moments, float z){
 float p = 0.0;
 z = z * 0.5 + 0.5;
 if (z <= moments.x) {
 p = 1.0;
 }
 float variance = moments.y - moments.x * moments.x;
 variance = max(variance, 0.0000001);
 float mD = moments.x - z;
 float pMax = variance / (variance + mD * mD);
 pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);
 return max(p, pMax);
}
float computeShadowContrib(
 sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset
) {
 vec4 posInLightSpace = lightVPM * vec4(position, 1.0);
 posInLightSpace.xyz /= posInLightSpace.w;
 float z = posInLightSpace.z;
 if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&
 all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){
 vec2 uv = (posInLightSpace.xy+1.0) / 2.0;
 #ifdef USE_VSM
 vec2 moments = texture2D(map, uv * scale + offset).xy;
 return chebyshevUpperBound(moments, z);
 #else
 return pcf(map, uv * scale + offset, z, textureSize, scale);
 #endif
 }
 return 1.0;
}
float computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {
 return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));
}
float computeShadowContribOmni(samplerCube map, vec3 direction, float range)
{
 float dist = length(direction);
 vec4 shadowTex = textureCube(map, direction);
#ifdef USE_VSM
 vec2 moments = shadowTex.xy;
 float variance = moments.y - moments.x * moments.x;
 float mD = moments.x - dist;
 float p = variance / (variance + mD * mD);
 if(moments.x + 0.001 < dist){
 return clamp(p, 0.0, 1.0);
 }else{
 return 1.0;
 }
#else
 return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);
#endif
}
@end
@export clay.plugin.compute_shadow_map
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)
#ifdef SPOT_LIGHT_SHADOWMAP_COUNT
uniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT
#if defined(SHADOW_CASCADE)
uniform sampler2D directionalLightShadowMaps[1]:unconfigurable;
uniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;
uniform float directionalLightShadowMapSizes[1]:unconfigurable;
uniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;
uniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;
#else
uniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#endif
#ifdef POINT_LIGHT_SHADOWMAP_COUNT
uniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
uniform bool shadowEnabled : true;
#ifdef PCF_KERNEL_SIZE
uniform vec2 pcfKernel[PCF_KERNEL_SIZE];
#endif
@import clay.plugin.shadow_map_common
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,
 spotLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
#ifdef SHADOW_CASCADE
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)
 / (gl_DepthRange.far - gl_DepthRange.near);
 float shadowContrib;
 shadowContribs[0] = 1.0;
 for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{
 if (
 depth >= shadowCascadeClipsNear[_idx_] &&
 depth <= shadowCascadeClipsFar[_idx_]
 ) {
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[0],
 vec2(1.0 / float(SHADOW_CASCADE), 1.0),
 vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)
 );
 shadowContribs[0] = shadowContrib;
 }
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#else
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
#if defined(POINT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){
 vec3 lightPosition;
 vec3 direction;
 for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 lightPosition = pointLightPosition[_idx_];
 direction = position - lightPosition;
 shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);
 }}
 for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
@end`;var zl=["px","nx","py","ny","pz","nz"];Re.import(Zxe);function Jw(e,t,n){if(n==="alphaMap")return e.material.get("diffuseMap");if(n==="alphaCutoff"){if(e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")){var r=e.material.get("alphaCutoff");return r||0}return 0}else return n==="uvRepeat"?e.material.get("uvRepeat"):n==="uvOffset"?e.material.get("uvOffset"):t.get(n)}function Hk(e,t){var n=e.material,r=t.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)}var es=Ka.extend(function(){return{softShadow:es.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new ea,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new F$}},function(){this._gaussianPassH=new br({fragment:Re.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new br({fragment:Re.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new br({fragment:Re.source("clay.sm.debug_depth")})},{render:function(e,t,n,r){n||(n=t.getMainCamera()),this.trigger("beforerender",this,e,t,n),this._renderShadowPass(e,t,n,r),this.trigger("afterrender",this,e,t,n)},renderDebug:function(e,t){e.saveClear();var n=e.viewport,r=0,a=0,i=t||n.width/4,o=i;this.softShadow===es.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM");for(var s in this._textures){var l=this._textures[s];e.setViewport(r,a,i*l.width/l.height,o),this._outputDepthPass.setUniform("depthMap",l),this._outputDepthPass.render(e),r+=i*l.width/l.height}e.setViewport(n),e.restoreClear()},_updateReceivers:function(e,t){if(t.receiveShadow?(this._receivers.push(t),t.material.set("shadowEnabled",1),t.material.set("pcfKernel",this.kernelPCF)):t.material.set("shadowEnabled",0),this.softShadow===es.VSM)t.material.define("fragment","USE_VSM"),t.material.undefine("fragment","PCF_KERNEL_SIZE");else{t.material.undefine("fragment","USE_VSM");var n=this.kernelPCF;n&&n.length?t.material.define("fragment","PCF_KERNEL_SIZE",n.length/2):t.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,t){var n=this;t.traverse(function(i){i.isRenderable()&&n._updateReceivers(e,i)});for(var r=0;r<t.lights.length;r++){var a=t.lights[r];a.castShadow&&!a.invisible&&this._lightsCastShadow.push(a)}},_renderShadowPass:function(e,t,n,r){for(var a in this._shadowMapNumber)this._shadowMapNumber[a]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var i=e.gl;if(r||t.update(),n&&n.update(),t.updateLights(),this._update(e,t),!this._lightsCastShadow.length&&this._lastRenderNotCastShadow)return;this._lastRenderNotCastShadow=this._lightsCastShadow===0,i.enable(i.DEPTH_TEST),i.depthMask(!0),i.disable(i.BLEND),i.clearColor(1,1,1,1);for(var o=[],s=[],l=[],u=[],c=[],f=[],d,h=0;h<this._lightsCastShadow.length;h++){var v=this._lightsCastShadow[h];if(v.type==="DIRECTIONAL_LIGHT"){if(d){console.warn("Only one direectional light supported with shadow cascade");continue}if(v.shadowCascade>4){console.warn("Support at most 4 cascade");continue}v.shadowCascade>1&&(d=v),this.renderDirectionalLightShadow(e,t,n,v,c,u,l)}else v.type==="SPOT_LIGHT"?this.renderSpotLightShadow(e,t,v,s,o):v.type==="POINT_LIGHT"&&this.renderPointLightShadow(e,t,v,f);this._shadowMapNumber[v.type]++}for(var p in this._shadowMapNumber)for(var m=this._shadowMapNumber[p],g=p+"_SHADOWMAP_COUNT",h=0;h<this._receivers.length;h++){var y=this._receivers[h],_=y.material;_.fragmentDefines[g]!==m&&(m>0?_.define("fragment",g,m):_.isDefined("fragment",g)&&_.undefine("fragment",g))}for(var h=0;h<this._receivers.length;h++){var y=this._receivers[h],_=y.material;d?_.define("fragment","SHADOW_CASCADE",d.shadowCascade):_.undefine("fragment","SHADOW_CASCADE")}var x=t.shadowUniforms;function w(M){return M.height}if(l.length>0){var b=l.map(w);if(x.directionalLightShadowMaps={value:l,type:"tv"},x.directionalLightMatrices={value:u,type:"m4v"},x.directionalLightShadowMapSizes={value:b,type:"1fv"},d){var S=c.slice(),C=c.slice();S.pop(),C.shift(),S.reverse(),C.reverse(),u.reverse(),x.shadowCascadeClipsNear={value:S,type:"1fv"},x.shadowCascadeClipsFar={value:C,type:"1fv"}}}if(o.length>0){var A=o.map(w),x=t.shadowUniforms;x.spotLightShadowMaps={value:o,type:"tv"},x.spotLightMatrices={value:s,type:"m4v"},x.spotLightShadowMapSizes={value:A,type:"1fv"}}f.length>0&&(x.pointLightShadowMaps={value:f,type:"tv"})},renderDirectionalLightShadow:function(){var e=new XE,t=new Qe,n=new Wa,r=new Qe,a=new Qe,i=new Qe,o=new Qe;return function(s,l,u,c,f,d,h){var v=this._getDepthMaterial(c),p={getMaterial:function($){return $.shadowDepthMaterial||v},isMaterialChanged:Hk,getUniform:Jw,ifRender:function($){return $.castShadow},sortCompare:Sp.opaqueSortCompare};if(!l.viewBoundingBoxLastFrame.isFinite()){var m=l.getBoundingBox();l.viewBoundingBoxLastFrame.copy(m).applyTransform(u.viewMatrix)}var g=Math.min(-l.viewBoundingBoxLastFrame.min.z,u.far),y=Math.max(-l.viewBoundingBoxLastFrame.max.z,u.near),_=this._getDirectionalLightCamera(c,l,u),x=i.array;o.copy(_.projectionMatrix),Oe.invert(a.array,_.worldTransform.array),Oe.multiply(a.array,a.array,u.worldTransform.array),Oe.multiply(x,o.array,a.array);for(var w=[],b=u instanceof Br,S=(u.near+u.far)/(u.near-u.far),C=2*u.near*u.far/(u.near-u.far),A=0;A<=c.shadowCascade;A++){var M=y*Math.pow(g/y,A/c.shadowCascade),T=y+(g-y)*A/c.shadowCascade,E=M*c.cascadeSplitLogFactor+T*(1-c.cascadeSplitLogFactor);w.push(E),f.push(-(-E*S+C)/-E)}var P=this._getTexture(c,c.shadowCascade);h.push(P);var I=s.viewport,k=s.gl;this._frameBuffer.attach(P),this._frameBuffer.bind(s),k.clear(k.COLOR_BUFFER_BIT|k.DEPTH_BUFFER_BIT);for(var A=0;A<c.shadowCascade;A++){var B=w[A],U=w[A+1];b?Oe.perspective(t.array,u.fov/180*Math.PI,u.aspect,B,U):Oe.ortho(t.array,u.left,u.right,u.bottom,u.top,B,U),e.setFromProjection(t),e.getTransformedBoundingBox(n,a),n.applyProjection(o);var R=n.min.array,L=n.max.array;R[0]=Math.max(R[0],-1),R[1]=Math.max(R[1],-1),L[0]=Math.min(L[0],1),L[1]=Math.min(L[1],1),r.ortho(R[0],L[0],R[1],L[1],1,-1),_.projectionMatrix.multiplyLeft(r);var z=c.shadowResolution||512;s.setViewport((c.shadowCascade-A-1)*z,0,z,z,1);var X=l.updateRenderList(_);s.renderPass(X.opaque,_,p),this.softShadow===es.VSM&&this._gaussianFilter(s,P,P.width);var Y=new Qe;Y.copy(_.viewMatrix).multiplyLeft(_.projectionMatrix),d.push(Y.array),_.projectionMatrix.copy(o)}this._frameBuffer.unbind(s),s.setViewport(I)}}(),renderSpotLightShadow:function(e,t,n,r,a){var i=this._getTexture(n),o=this._getSpotLightCamera(n),s=e.gl;this._frameBuffer.attach(i),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var l=this._getDepthMaterial(n),u={getMaterial:function(d){return d.shadowDepthMaterial||l},isMaterialChanged:Hk,getUniform:Jw,ifRender:function(d){return d.castShadow},sortCompare:Sp.opaqueSortCompare},c=t.updateRenderList(o);e.renderPass(c.opaque,o,u),this._frameBuffer.unbind(e),this.softShadow===es.VSM&&this._gaussianFilter(e,i,i.width);var f=new Qe;f.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),a.push(i),r.push(f.array)},renderPointLightShadow:function(e,t,n,r){var a=this._getTexture(n),i=e.gl;r.push(a);var o=this._getDepthMaterial(n),s={getMaterial:function(y){return y.shadowDepthMaterial||o},getUniform:Jw,sortCompare:Sp.opaqueSortCompare},l={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},u=new Wa,c=n.getWorldPosition().array,f=new Wa,d=n.range;f.min.setArray(c),f.max.setArray(c);var h=new Ne(d,d,d);f.max.add(h),f.min.sub(h);var v={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};t.traverse(function(y){if(y.isRenderable()&&y.castShadow){var _=y.geometry;if(!_.boundingBox){for(var x=0;x<zl.length;x++)l[zl[x]].push(y);return}if(u.transformFrom(_.boundingBox,y.worldTransform),!u.intersectBoundingBox(f))return;u.updateVertices();for(var x=0;x<zl.length;x++)v[zl[x]]=!1;for(var x=0;x<8;x++){var w=u.vertices[x],b=w[0]-c[0],S=w[1]-c[1],C=w[2]-c[2],A=Math.abs(b),M=Math.abs(S),T=Math.abs(C);A>M?A>T?v[b>0?"px":"nx"]=!0:v[C>0?"pz":"nz"]=!0:M>T?v[S>0?"py":"ny"]=!0:v[C>0?"pz":"nz"]=!0}for(var x=0;x<zl.length;x++)v[zl[x]]&&l[zl[x]].push(y)}});for(var p=0;p<6;p++){var m=zl[p],g=this._getPointLightCamera(n,m);this._frameBuffer.attach(a,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+p),this._frameBuffer.bind(e),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),e.renderPass(l[m],g,s)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var t=this._lightMaterials[e.__uid__],n=e.type==="POINT_LIGHT";if(!t){var r=n?"clay.sm.distance.":"clay.sm.depth.";t=new ro({precision:this.precision,shader:new Re(Re.source(r+"vertex"),Re.source(r+"fragment"))}),this._lightMaterials[e.__uid__]=t}return e.shadowSlopeScale!=null&&t.setUniform("slopeScale",e.shadowSlopeScale),e.shadowBias!=null&&t.setUniform("bias",e.shadowBias),this.softShadow===es.VSM?t.define("fragment","USE_VSM"):t.undefine("fragment","USE_VSM"),n&&(t.set("lightPosition",e.getWorldPosition().array),t.set("range",e.range)),t},_gaussianFilter:function(e,t,n){var r={width:n,height:n,type:Je.FLOAT},a=this._texturePool.get(r);this._frameBuffer.attach(a),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",t),this._gaussianPassH.setUniform("textureWidth",n),this._gaussianPassH.render(e),this._frameBuffer.attach(t),this._gaussianPassV.setUniform("texture",a),this._gaussianPassV.setUniform("textureHeight",n),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(a)},_getTexture:function(e,t){var n=e.__uid__,r=this._textures[n],a=e.shadowResolution||512;return t=t||1,r||(e.type==="POINT_LIGHT"?r=new cm:r=new Et,r.width=a*t,r.height=a,this.softShadow===es.VSM?(r.type=Je.FLOAT,r.anisotropic=4):(r.minFilter=me.NEAREST,r.magFilter=me.NEAREST,r.useMipmap=!1),this._textures[n]=r),r},_getPointLightCamera:function(e,t){this._lightCameras.point||(this._lightCameras.point={px:new Br,nx:new Br,py:new Br,ny:new Br,pz:new Br,nz:new Br});var n=this._lightCameras.point[t];switch(n.far=e.range,n.fov=90,n.position.set(0,0,0),t){case"px":n.lookAt(Ne.POSITIVE_X,Ne.NEGATIVE_Y);break;case"nx":n.lookAt(Ne.NEGATIVE_X,Ne.NEGATIVE_Y);break;case"py":n.lookAt(Ne.POSITIVE_Y,Ne.POSITIVE_Z);break;case"ny":n.lookAt(Ne.NEGATIVE_Y,Ne.NEGATIVE_Z);break;case"pz":n.lookAt(Ne.POSITIVE_Z,Ne.NEGATIVE_Y);break;case"nz":n.lookAt(Ne.NEGATIVE_Z,Ne.NEGATIVE_Y);break}return e.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:function(){var e=new Qe,t=new Wa,n=new Wa;return function(r,a,i){this._lightCameras.directional||(this._lightCameras.directional=new uh);var o=this._lightCameras.directional;t.copy(a.viewBoundingBoxLastFrame),t.intersection(i.frustum.boundingBox),o.position.copy(t.min).add(t.max).scale(.5).transformMat4(i.worldTransform),o.rotation.copy(r.rotation),o.scale.copy(r.scale),o.updateWorldTransform(),Qe.invert(e,o.worldTransform),Qe.multiply(e,e,i.worldTransform),n.copy(t).applyTransform(e);var s=n.min.array,l=n.max.array;return o.position.set((s[0]+l[0])/2,(s[1]+l[1])/2,l[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+l[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=l[0],o.top=l[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new Br);var t=this._lightCameras.spot;return t.fov=e.penumbraAngle*2,t.far=e.range,t.worldTransform.copy(e.worldTransform),t.updateProjectionMatrix(),Oe.invert(t.viewMatrix.array,t.worldTransform.array),t},dispose:function(e){var t=e.gl||e;this._frameBuffer&&this._frameBuffer.dispose(t);for(var n in this._textures)this._textures[n].dispose(t);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var a=this._receivers[r];if(a.material){var i=a.material;i.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),i.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),i.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),i.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});es.VSM=1;es.PCF=2;const Kxe=es;var Qxe=Ka.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(e,t){var n=this.outputs[e],r=n.parameters,a=n._parametersCopy;if(a||(a=n._parametersCopy={}),r)for(var i in r)i!=="width"&&i!=="height"&&(a[i]=r[i]);var o,s;return r.width instanceof Function?o=r.width.call(this,t):o=r.width,r.height instanceof Function?s=r.height.call(this,t):s=r.height,(a.width!==o||a.height!==s)&&this._outputTextures[e]&&this._outputTextures[e].dispose(t.gl),a.width=o,a.height=s,a},setParameter:function(e,t){},getParameter:function(e){},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},render:function(){},getOutput:function(e,t){if(t==null)return t=e,this._outputTextures[t];var n=this.outputs[t];if(n)return this._rendered?n.outputLastFrame?this._prevOutputTextures[t]:this._outputTextures[t]:this._rendering?(this._prevOutputTextures[t]||(this._prevOutputTextures[t]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[t]):(this.render(e),this._outputTextures[t])},removeReference:function(e){if(this._outputReferences[e]--,this._outputReferences[e]===0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},link:function(e,t,n){this.inputLinks[e]={node:t,pin:n},t.outputLinks[n]||(t.outputLinks[n]=[]),t.outputLinks[n].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){this._rendering=!0;for(var t in this.inputLinks){var n=this.inputLinks[t];n.node.updateReference(n.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){this._rendered=!1;for(var e in this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)if(this._outputReferences[e]>0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}}});const hm=Qxe;var Jxe=Ka.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){typeof e=="string"&&(e=this.getNodeByName(e));var t=this.nodes.indexOf(e);t>=0&&(this.nodes.splice(t,1),this._dirty=!0)},getNodeByName:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t].name===e)return this.nodes[t]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];if(t.inputs){for(var n in t.inputs)if(t.inputs[n]){if(t.pass&&!t.pass.material.isUniformEnabled(n)){console.warn("Pin "+t.name+"."+n+" not used.");continue}var r=t.inputs[n],a=this.findPin(r);a?t.link(n,a.node,a.pin):console.warn(typeof r=="string"?"Node "+r+" not exist":"Pin of "+r.node+"."+r.pin+" not exist")}}}},findPin:function(e){var t;if((typeof e=="string"||e instanceof hm)&&(e={node:e}),typeof e.node=="string")for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n];r.name===e.node&&(t=r)}else t=e.node;if(t){var a=e.pin;if(a||t.outputs&&(a=Object.keys(t.outputs)[0]),t.outputs[a])return{node:t,pin:a}}}});const $k=Jxe;var ebe=$k.extend(function(){return{_outputs:[],_texturePool:new F$,_frameBuffer:new ea({depthBuffer:!1})}},{addNode:function(e){$k.prototype.addNode.call(this,e),e._compositor=this},render:function(e,t){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var n=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(var n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(var n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(var n=0;n<this._outputs.length;n++)this._outputs[n].render(e,t);for(var n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}});const tbe=ebe;var nbe=hm.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new ea},{render:function(e){this._rendering=!0;var t=e.gl;this.trigger("beforerender");var n;if(!this.outputs)n=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);else{var r=this.frameBuffer;for(var a in this.outputs){var i=this.updateParameter(a,e),o=this.outputs[a],s=this._compositor.allocateTexture(i);this._outputTextures[a]=s;var l=o.attachment||t.COLOR_ATTACHMENT0;typeof l=="string"&&(l=t[l]),r.attach(s,l)}r.bind(e);var u=e.getGLExtension("EXT_draw_buffers");if(u){var c=[];for(var l in this.outputs)l=parseInt(l),l>=t.COLOR_ATTACHMENT0&&l<=t.COLOR_ATTACHMENT0+8&&c.push(l);u.drawBuffersEXT(c)}e.saveClear(),e.clearBit=me.DEPTH_BUFFER_BIT|me.COLOR_BUFFER_BIT,n=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),r.unbind(e)}this.trigger("afterrender",n),this._rendering=!1,this._rendered=!0}});const rbe=nbe;var abe=hm.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(e,t){return this.texture},beforeFrame:function(){},afterFrame:function(){}});const ibe=abe;var obe=hm.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var e=new br({fragment:this.shader});this.pass=e},{render:function(e,t){this.trigger("beforerender",e),this._rendering=!0;var n=e.gl;for(var r in this.inputLinks){var a=this.inputLinks[r],i=a.node.getOutput(e,a.pin);this.pass.setUniform(r,i)}if(!this.outputs)this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,t);else{this.pass.outputs={};var o={};for(var s in this.outputs){var l=this.updateParameter(s,e);isNaN(l.width)&&this.updateParameter(s,e);var u=this.outputs[s],c=this._compositor.allocateTexture(l);this._outputTextures[s]=c;var f=u.attachment||n.COLOR_ATTACHMENT0;typeof f=="string"&&(f=n[f]),o[f]=c}this._compositor.getFrameBuffer().bind(e);for(var f in o)this._compositor.getFrameBuffer().attach(o[f],f);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}for(var r in this.inputLinks){var a=this.inputLinks[r];a.node.removeReference(a.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,t){var n=this.outputs[e],r=n.parameters,a=n._parametersCopy;if(a||(a=n._parametersCopy={}),r)for(var i in r)i!=="width"&&i!=="height"&&(a[i]=r[i]);var o,s;return typeof r.width=="function"?o=r.width.call(this,t):o=r.width,typeof r.height=="function"?s=r.height.call(this,t):s=r.height,o=Math.ceil(o),s=Math.ceil(s),(a.width!==o||a.height!==s)&&this._outputTextures[e]&&this._outputTextures[e].dispose(t),a.width=o,a.height=s,a},setParameter:function(e,t){this.pass.setUniform(e,t)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},define:function(e,t){this.pass.material.define("fragment",e,t)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){if(this._outputReferences[e]--,this._outputReferences[e]===0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},clear:function(){hm.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const sbe=obe,lbe=`@export clay.compositor.coloradjust
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float exposure : 0.0;
uniform float gamma : 1.0;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);
 color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 color = clamp( color * pow(2.0, exposure), 0.0, 1.0);
 color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);
 float luminance = dot( color, w );
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.brightness
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = tex.rgb + vec3(brightness);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.contrast
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float contrast : 1.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.exposure
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float exposure : 0.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb * pow(2.0, exposure);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.gamma
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float gamma : 1.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = pow(tex.rgb, vec3(gamma));
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.saturation
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb;
 float luminance = dot(color, w);
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end`,U$=`@export clay.compositor.kernel.gaussian_9
float gaussianKernel[9];
gaussianKernel[0] = 0.07;
gaussianKernel[1] = 0.09;
gaussianKernel[2] = 0.12;
gaussianKernel[3] = 0.14;
gaussianKernel[4] = 0.16;
gaussianKernel[5] = 0.14;
gaussianKernel[6] = 0.12;
gaussianKernel[7] = 0.09;
gaussianKernel[8] = 0.07;
@end
@export clay.compositor.kernel.gaussian_13
float gaussianKernel[13];
gaussianKernel[0] = 0.02;
gaussianKernel[1] = 0.03;
gaussianKernel[2] = 0.06;
gaussianKernel[3] = 0.08;
gaussianKernel[4] = 0.11;
gaussianKernel[5] = 0.13;
gaussianKernel[6] = 0.14;
gaussianKernel[7] = 0.13;
gaussianKernel[8] = 0.11;
gaussianKernel[9] = 0.08;
gaussianKernel[10] = 0.06;
gaussianKernel[11] = 0.03;
gaussianKernel[12] = 0.02;
@end
@export clay.compositor.gaussian_blur
#define SHADER_NAME gaussian_blur
uniform sampler2D texture;varying vec2 v_Texcoord;
uniform float blurSize : 2.0;
uniform vec2 textureSize : [512.0, 512.0];
uniform float blurDir : 0.0;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main (void)
{
 @import clay.compositor.kernel.gaussian_9
 vec2 off = blurSize / textureSize;
 off *= vec2(1.0 - blurDir, blurDir);
 vec4 sum = vec4(0.0);
 float weightAll = 0.0;
 for (int i = 0; i < 9; i++) {
 float w = gaussianKernel[i];
 vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));
 sum += texel * w;
 weightAll += w;
 }
 gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));
}
@end
`,ube=`@export clay.compositor.hdr.log_lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 float luminance = dot(tex.rgb, w);
 luminance = log(luminance + 0.001);
 gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));
}
@end
@export clay.compositor.hdr.lum_adaption
varying vec2 v_Texcoord;
uniform sampler2D adaptedLum;
uniform sampler2D currentLum;
uniform float frameTime : 0.02;
@import clay.util.rgbm
void main()
{
 float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;
 float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);
 fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));
 gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));
}
@end
@export clay.compositor.lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord );
 float luminance = dot(tex.rgb, w);
 gl_FragColor = vec4(vec3(luminance), 1.0);
}
@end`,z$=`
@export clay.compositor.lut
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform sampler2D lookup;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 float blueColor = tex.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec4 newColor1 = texture2D(lookup, texPos1);
 vec4 newColor2 = texture2D(lookup, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 gl_FragColor = vec4(newColor.rgb, tex.w);
}
@end`,cbe=`@export clay.compositor.vignette
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float darkness: 1;
uniform float offset: 1;
@import clay.util.rgbm
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = texel.rgb;
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);
 gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));
}
@end`,H$=`@export clay.compositor.output
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = tex.rgb;
#ifdef OUTPUT_ALPHA
 gl_FragColor.a = tex.a;
#else
 gl_FragColor.a = 1.0;
#endif
 gl_FragColor = encodeHDR(gl_FragColor);
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`,$$=`@export clay.compositor.bright
uniform sampler2D texture;
uniform float threshold : 1;
uniform float scale : 1.0;
uniform vec2 textureSize: [512, 512];
varying vec2 v_Texcoord;
const vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
vec4 median(vec4 a, vec4 b, vec4 c)
{
 return a + b + c - min(min(a, b), c) - max(max(a, b), c);
}
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
#ifdef ANTI_FLICKER
 vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);
 vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));
 vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));
 vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));
 vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));
 texel = median(median(texel, s1, s2), s3, s4);
#endif
 float lum = dot(texel.rgb , lumWeight);
 vec4 color;
 if (lum > threshold && texel.a > 0.0)
 {
 color = vec4(texel.rgb * scale, texel.a * scale);
 }
 else
 {
 color = vec4(0.0);
 }
 gl_FragColor = encodeHDR(color);
}
@end
`,G$=`@export clay.compositor.downsample
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
varying vec2 v_Texcoord;
@import clay.util.rgbm
float brightness(vec3 c)
{
 return max(max(c.r, c.g), c.b);
}
@import clay.util.clamp_sample
void main()
{
 vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;
#ifdef ANTI_FLICKER
 vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;
 vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;
 vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;
 vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;
 float s1w = 1.0 / (brightness(s1) + 1.0);
 float s2w = 1.0 / (brightness(s2) + 1.0);
 float s3w = 1.0 / (brightness(s3) + 1.0);
 float s4w = 1.0 / (brightness(s4) + 1.0);
 float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);
 vec4 color = vec4(
 (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,
 1.0
 );
#else
 vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 color *= 0.25;
#endif
 gl_FragColor = encodeHDR(color);
}
@end`,W$=`
@export clay.compositor.upsample
#define HIGH_QUALITY
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
uniform float sampleScale: 0.5;
varying vec2 v_Texcoord;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main()
{
#ifdef HIGH_QUALITY
 vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 gl_FragColor = encodeHDR(s / 16.0);
#else
 vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 gl_FragColor = encodeHDR(s / 4.0);
#endif
}
@end`,Y$=`@export clay.compositor.hdr.composite
#define TONEMAPPING
uniform sampler2D texture;
#ifdef BLOOM_ENABLED
uniform sampler2D bloom;
#endif
#ifdef LENSFLARE_ENABLED
uniform sampler2D lensflare;
uniform sampler2D lensdirt;
#endif
#ifdef LUM_ENABLED
uniform sampler2D lum;
#endif
#ifdef LUT_ENABLED
uniform sampler2D lut;
#endif
#ifdef COLOR_CORRECTION
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float saturation : 1.0;
#endif
#ifdef VIGNETTE
uniform float vignetteDarkness: 1.0;
uniform float vignetteOffset: 1.0;
#endif
uniform float exposure : 1.0;
uniform float bloomIntensity : 0.25;
uniform float lensflareIntensity : 1;
varying vec2 v_Texcoord;
@import clay.util.srgb
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
float eyeAdaption(float fLum)
{
 return mix(0.2, fLum, 0.5);
}
#ifdef LUT_ENABLED
vec3 lutTransform(vec3 color) {
 float blueColor = color.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec4 newColor1 = texture2D(lut, texPos1);
 vec4 newColor2 = texture2D(lut, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 return newColor.rgb;
}
#endif
@import clay.util.rgbm
void main()
{
 vec4 texel = vec4(0.0);
 vec4 originalTexel = vec4(0.0);
#ifdef TEXTURE_ENABLED
 texel = decodeHDR(texture2D(texture, v_Texcoord));
 originalTexel = texel;
#endif
#ifdef BLOOM_ENABLED
 vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));
 texel.rgb += bloomTexel.rgb * bloomIntensity;
 texel.a += bloomTexel.a * bloomIntensity;
#endif
#ifdef LENSFLARE_ENABLED
 texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;
#endif
 texel.a = min(texel.a, 1.0);
#ifdef LUM_ENABLED
 float fLum = texture2D(lum, vec2(0.5, 0.5)).r;
 float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));
 float exposureBias = adaptedLumDest * exposure;
#else
 float exposureBias = exposure;
#endif
#ifdef TONEMAPPING
 texel.rgb *= exposureBias;
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
 texel = linearTosRGB(texel);
#ifdef LUT_ENABLED
 texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));
#endif
#ifdef COLOR_CORRECTION
 texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);
 texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));
 texel.rgb = mix(vec3(lum), texel.rgb, saturation);
#endif
#ifdef VIGNETTE
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);
 texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));
#endif
 gl_FragColor = encodeHDR(texel);
#ifdef DEBUG
 #if DEBUG == 1
 gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));
 #elif DEBUG == 2
 gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);
 #elif DEBUG == 3
 gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));
 #endif
#endif
 if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {
 gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));
 }
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`,fbe=`@export clay.compositor.lensflare
#define SAMPLE_NUMBER 8
uniform sampler2D texture;
uniform sampler2D lenscolor;
uniform vec2 textureSize : [512, 512];
uniform float dispersal : 0.3;
uniform float haloWidth : 0.4;
uniform float distortion : 1.0;
varying vec2 v_Texcoord;
@import clay.util.rgbm
vec4 textureDistorted(
 in vec2 texcoord,
 in vec2 direction,
 in vec3 distortion
) {
 return vec4(
 decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,
 1.0
 );
}
void main()
{
 vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;
 vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;
 vec2 haloVec = normalize(ghostVec) * haloWidth;
 vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);
 vec4 result = vec4(0.0);
 for (int i = 0; i < SAMPLE_NUMBER; i++)
 {
 vec2 offset = fract(texcoord + ghostVec * float(i));
 float weight = length(vec2(0.5) - offset) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 }
 result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));
 float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 vec2 offset = fract(texcoord + haloVec);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 gl_FragColor = result;
}
@end`,j$=`@export clay.compositor.blend
#define SHADER_NAME blend
#ifdef TEXTURE1_ENABLED
uniform sampler2D texture1;
uniform float weight1 : 1.0;
#endif
#ifdef TEXTURE2_ENABLED
uniform sampler2D texture2;
uniform float weight2 : 1.0;
#endif
#ifdef TEXTURE3_ENABLED
uniform sampler2D texture3;
uniform float weight3 : 1.0;
#endif
#ifdef TEXTURE4_ENABLED
uniform sampler2D texture4;
uniform float weight4 : 1.0;
#endif
#ifdef TEXTURE5_ENABLED
uniform sampler2D texture5;
uniform float weight5 : 1.0;
#endif
#ifdef TEXTURE6_ENABLED
uniform sampler2D texture6;
uniform float weight6 : 1.0;
#endif
varying vec2 v_Texcoord;
@import clay.util.rgbm
void main()
{
 vec4 tex = vec4(0.0);
#ifdef TEXTURE1_ENABLED
 tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;
#endif
#ifdef TEXTURE2_ENABLED
 tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;
#endif
#ifdef TEXTURE3_ENABLED
 tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;
#endif
#ifdef TEXTURE4_ENABLED
 tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;
#endif
#ifdef TEXTURE5_ENABLED
 tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;
#endif
#ifdef TEXTURE6_ENABLED
 tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;
#endif
 gl_FragColor = encodeHDR(tex);
}
@end`,X$=`@export clay.compositor.fxaa
uniform sampler2D texture;
uniform vec4 viewport : VIEWPORT;
varying vec2 v_Texcoord;
#define FXAA_REDUCE_MIN (1.0/128.0)
#define FXAA_REDUCE_MUL (1.0/8.0)
#define FXAA_SPAN_MAX 8.0
@import clay.util.rgbm
void main()
{
 vec2 resolution = 1.0 / viewport.zw;
 vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;
 vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );
 vec3 rgbM = rgbaM.xyz;
 float opacity = rgbaM.w;
 vec3 luma = vec3( 0.299, 0.587, 0.114 );
 float lumaNW = dot( rgbNW, luma );
 float lumaNE = dot( rgbNE, luma );
 float lumaSW = dot( rgbSW, luma );
 float lumaSE = dot( rgbSE, luma );
 float lumaM = dot( rgbM, luma );
 float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );
 float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );
 vec2 dir;
 dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
 dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));
 float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );
 float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );
 dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),
 max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
 dir * rcpDirMin)) * resolution;
 vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA *= 0.5;
 vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;
 rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;
 rgbB *= 0.25;
 rgbB += rgbA * 0.5;
 float lumaB = dot( rgbB, luma );
 if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )
 {
 gl_FragColor = vec4( rgbA, opacity );
 }
 else {
 gl_FragColor = vec4( rgbB, opacity );
 }
}
@end`;function dbe(e){e.import(lbe),e.import(U$),e.import(ube),e.import(z$),e.import(cbe),e.import(H$),e.import($$),e.import(G$),e.import(W$),e.import(Y$),e.import(fbe),e.import(j$),e.import(X$)}dbe(Re);var hbe=/^#source\((.*?)\)/;function vbe(e,t){var n=new tbe;t=t||{};var r={textures:{},parameters:{}},a=function(s,l){for(var u=0;u<e.nodes.length;u++){var c=e.nodes[u],f=pbe(c,r,t);f&&n.addNode(f)}};for(var i in e.parameters){var o=e.parameters[i];r.parameters[i]=eD(o)}return ybe(e,r,t,function(s){r.textures=s,a()}),n}function pbe(e,t,n){var r=e.type||"filter",a,i,o;if(r==="filter"){var s=e.shader.trim(),l=hbe.exec(s);if(l?a=Re.source(l[1].trim()):s.charAt(0)==="#"&&(a=t.shaders[s.substr(1)]),a||(a=s),!a)return}if(e.inputs){i={};for(var u in e.inputs)typeof e.inputs[u]=="string"?i[u]=e.inputs[u]:i[u]={node:e.inputs[u].node,pin:e.inputs[u].pin}}if(e.outputs){o={};for(var u in e.outputs){var c=e.outputs[u];o[u]={},c.attachment!=null&&(o[u].attachment=c.attachment),c.keepLastFrame!=null&&(o[u].keepLastFrame=c.keepLastFrame),c.outputLastFrame!=null&&(o[u].outputLastFrame=c.outputLastFrame),c.parameters&&(o[u].parameters=eD(c.parameters))}}var f;if(r==="scene"?f=new rbe({name:e.name,scene:n.scene,camera:n.camera,outputs:o}):r==="texture"?f=new ibe({name:e.name,outputs:o}):f=new sbe({name:e.name,shader:a,inputs:i,outputs:o}),f){if(e.parameters)for(var u in e.parameters){var d=e.parameters[u];typeof d=="string"?(d=d.trim(),d.charAt(0)==="#"?d=t.textures[d.substr(1)]:f.on("beforerender",_be(u,q$(d)))):typeof d=="function"&&f.on("beforerender",d),f.setParameter(u,d)}if(e.defines&&f.pass)for(var u in e.defines){var d=e.defines[u];f.pass.material.define("fragment",u,d)}}return f}function mbe(e,t){return e}function gbe(e,t){return t}function eD(e){var t={};if(!e)return t;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(r){var a=e[r];a!=null&&(typeof a=="string"&&(a=Je[a]),t[r]=a)});var n=e.scale||1;return["width","height"].forEach(function(r){if(e[r]!=null){var a=e[r];typeof a=="string"?(a=a.trim(),t[r]=xbe(r,q$(a),n)):t[r]=a}}),t.width||(t.width=mbe),t.height||(t.height=gbe),e.useMipmap!=null&&(t.useMipmap=e.useMipmap),t}function ybe(e,t,n,r){if(!e.textures){r({});return}var a={},i=0,o=!1,s=n.textureRootPath;Kr.each(e.textures,function(l,u){var c,f=l.path,d=eD(l.parameters);if(Array.isArray(f)&&f.length===6)s&&(f=f.map(function(h){return Kr.relative2absolute(h,s)})),c=new cm(d);else if(typeof f=="string")s&&(f=Kr.relative2absolute(f,s)),c=new Et(d);else return;c.load(f),i++,c.once("success",function(){a[u]=c,i--,i===0&&(r(a),o=!0)})}),i===0&&!o&&r(a)}function _be(e,t){return function(n){var r=n.getDevicePixelRatio(),a=n.getWidth(),i=n.getHeight(),o=t(a,i,r);this.setParameter(e,o)}}function xbe(e,t,n){return n=n||1,function(r){var a=r.getDevicePixelRatio(),i=r.getWidth()*n,o=r.getHeight()*n;return t(i,o,a)}}function q$(e){var t=/^expr\((.*)\)$/.exec(e);if(t)try{var n=new Function("width","height","dpr","return "+t[1]);return n(1,1),n}catch{throw new Error("Invalid expression.")}}function ch(e,t){for(var n=0,r=1/t,a=e;a>0;)n=n+r*(a%t),a=Math.floor(a/t),r=r/t;return n}const bbe=`@export ecgl.ssao.estimate

uniform sampler2D depthTex;

uniform sampler2D normalTex;

uniform sampler2D noiseTex;

uniform vec2 depthTexSize;

uniform vec2 noiseTexSize;

uniform mat4 projection;

uniform mat4 projectionInv;

uniform mat4 viewInverseTranspose;

uniform vec3 kernel[KERNEL_SIZE];

uniform float radius : 1;

uniform float power : 1;

uniform float bias: 1e-2;

uniform float intensity: 1.0;

varying vec2 v_Texcoord;

float ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {
 float occlusion = 0.0;

 for (int i = 0; i < KERNEL_SIZE; i++) {
 vec3 samplePos = kernel[i];
#ifdef NORMALTEX_ENABLED
 samplePos = kernelBasis * samplePos;
#endif
 samplePos = samplePos * radius + originPos;

 vec4 texCoord = projection * vec4(samplePos, 1.0);
 texCoord.xy /= texCoord.w;

 vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);

 float sampleDepth = depthTexel.r * 2.0 - 1.0;
 if (projection[3][3] == 0.0) {
 sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);
 }
 else {
 sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];
 }
 
 float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));
 occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);
 }
#ifdef NORMALTEX_ENABLED
 occlusion = 1.0 - occlusion / float(KERNEL_SIZE);
#else
 occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);
#endif
 return pow(occlusion, power);
}

void main()
{

 vec4 depthTexel = texture2D(depthTex, v_Texcoord);

#ifdef NORMALTEX_ENABLED
 vec4 tex = texture2D(normalTex, v_Texcoord);
 if (dot(tex.rgb, tex.rgb) == 0.0) {
 gl_FragColor = vec4(1.0);
 return;
 }
 vec3 N = tex.rgb * 2.0 - 1.0;
 N = (viewInverseTranspose * vec4(N, 0.0)).xyz;

 vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;
 vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;
 vec3 T = normalize(rvec - N * dot(rvec, N));
 vec3 BT = normalize(cross(N, T));
 mat3 kernelBasis = mat3(T, BT, N);
#else
 if (depthTexel.r > 0.99999) {
 gl_FragColor = vec4(1.0);
 return;
 }
 mat3 kernelBasis;
#endif

 float z = depthTexel.r * 2.0 - 1.0;

 vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);
 vec4 p4 = projectionInv * projectedPos;

 vec3 position = p4.xyz / p4.w;

 float ao = ssaoEstimator(position, kernelBasis);
 ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);
 gl_FragColor = vec4(vec3(ao), 1.0);
}

@end


@export ecgl.ssao.blur
#define SHADER_NAME SSAO_BLUR

uniform sampler2D ssaoTexture;

#ifdef NORMALTEX_ENABLED
uniform sampler2D normalTex;
#endif

varying vec2 v_Texcoord;

uniform vec2 textureSize;
uniform float blurSize : 1.0;

uniform int direction: 0.0;

#ifdef DEPTHTEX_ENABLED
uniform sampler2D depthTex;
uniform mat4 projection;
uniform float depthRange : 0.5;

float getLinearDepth(vec2 coord)
{
 float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
}
#endif

void main()
{
 float kernel[5];
 kernel[0] = 0.122581;
 kernel[1] = 0.233062;
 kernel[2] = 0.288713;
 kernel[3] = 0.233062;
 kernel[4] = 0.122581;

 vec2 off = vec2(0.0);
 if (direction == 0) {
 off[0] = blurSize / textureSize.x;
 }
 else {
 off[1] = blurSize / textureSize.y;
 }

 vec2 coord = v_Texcoord;

 float sum = 0.0;
 float weightAll = 0.0;

#ifdef NORMALTEX_ENABLED
 vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;
#endif
#if defined(DEPTHTEX_ENABLED)
 float centerDepth = getLinearDepth(v_Texcoord);
#endif

 for (int i = 0; i < 5; i++) {
 vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));

 float w = kernel[i];
#ifdef NORMALTEX_ENABLED
 vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;
 w *= clamp(dot(normal, centerNormal), 0.0, 1.0);
#endif
#ifdef DEPTHTEX_ENABLED
 float d = getLinearDepth(coord);
 w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));
#endif

 weightAll += w;
 sum += texture2D(ssaoTexture, coord).r * w;
 }

 gl_FragColor = vec4(vec3(sum / weightAll), 1.0);
}

@end
`;Re.import(bbe);function Z$(e){for(var t=new Uint8Array(e*e*4),n=0,r=new Ne,a=0;a<e;a++)for(var i=0;i<e;i++)r.set(Math.random()*2-1,Math.random()*2-1,0).normalize(),t[n++]=(r.x*.5+.5)*255,t[n++]=(r.y*.5+.5)*255,t[n++]=0,t[n++]=255;return t}function Gk(e){return new Et({pixels:Z$(e),wrapS:Je.REPEAT,wrapT:Je.REPEAT,width:e,height:e})}function wbe(e,t,n){var r=new Float32Array(e*3);t=t||0;for(var a=0;a<e;a++){var i=ch(a+t,2)*(n?1:2)*Math.PI,o=ch(a+t,3)*Math.PI,s=Math.random(),l=Math.cos(i)*Math.sin(o)*s,u=Math.cos(o)*s,c=Math.sin(i)*Math.sin(o)*s;r[a*3]=l,r[a*3+1]=u,r[a*3+2]=c}return r}function wl(e){e=e||{},this._ssaoPass=new br({fragment:Re.source("ecgl.ssao.estimate")}),this._blurPass=new br({fragment:Re.source("ecgl.ssao.blur")}),this._framebuffer=new ea({depthBuffer:!1}),this._ssaoTexture=new Et,this._blurTexture=new Et,this._blurTexture2=new Et,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),e.radius!=null&&this.setParameter("radius",e.radius),e.power!=null&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}wl.prototype.setDepthTexture=function(e){this._depthTex=e};wl.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)};wl.prototype.update=function(e,t,n){var r=e.getWidth(),a=e.getHeight(),i=this._ssaoPass,o=this._blurPass;i.setUniform("kernel",this._kernels[n%this._kernels.length]),i.setUniform("depthTex",this._depthTex),this._normalTex!=null&&i.setUniform("normalTex",this._normalTex),i.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var s=new Qe;Qe.transpose(s,t.worldTransform),i.setUniform("projection",t.projectionMatrix.array),i.setUniform("projectionInv",t.invProjectionMatrix.array),i.setUniform("viewInverseTranspose",s.array);var l=this._ssaoTexture,u=this._blurTexture,c=this._blurTexture2;l.width=r/2,l.height=a/2,u.width=r,u.height=a,c.width=r,c.height=a,this._framebuffer.attach(l),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),i.render(e),o.setUniform("textureSize",[r/2,a/2]),o.setUniform("projection",t.projectionMatrix.array),this._framebuffer.attach(u),o.setUniform("direction",0),o.setUniform("ssaoTexture",l),o.render(e),this._framebuffer.attach(c),o.setUniform("textureSize",[r,a]),o.setUniform("direction",1),o.setUniform("ssaoTexture",u),o.render(e),this._framebuffer.unbind(e);var f=e.clearColor;e.gl.clearColor(f[0],f[1],f[2],f[3])};wl.prototype.getTargetTexture=function(){return this._blurTexture2};wl.prototype.setParameter=function(e,t){e==="noiseTexSize"?this.setNoiseSize(t):e==="kernelSize"?this.setKernelSize(t):e==="intensity"?this._ssaoPass.material.set("intensity",t):this._ssaoPass.setUniform(e,t)};wl.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var t=0;t<30;t++)this._kernels[t]=wbe(e,t*e,!!this._normalTex)};wl.prototype.setNoiseSize=function(e){var t=this._ssaoPass.getUniform("noiseTex");t?(t.data=Z$(e),t.width=t.height=e,t.dirty()):(t=Gk(e),this._ssaoPass.setUniform("noiseTex",Gk(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])};wl.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};const Sbe=`@export ecgl.ssr.main

#define SHADER_NAME SSR
#define MAX_ITERATION 20;
#define SAMPLE_PER_FRAME 5;
#define TOTAL_SAMPLES 128;

uniform sampler2D sourceTexture;
uniform sampler2D gBufferTexture1;
uniform sampler2D gBufferTexture2;
uniform sampler2D gBufferTexture3;
uniform samplerCube specularCubemap;
uniform float specularIntensity: 1;

uniform mat4 projection;
uniform mat4 projectionInv;
uniform mat4 toViewSpace;
uniform mat4 toWorldSpace;

uniform float maxRayDistance: 200;

uniform float pixelStride: 16;
uniform float pixelStrideZCutoff: 50; 
uniform float screenEdgeFadeStart: 0.9; 
uniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; 
uniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;

uniform float nearZ;
uniform vec2 viewportSize : VIEWPORT_SIZE;

uniform float jitterOffset: 0;

varying vec2 v_Texcoord;

#ifdef DEPTH_DECODE
@import clay.util.decode_float
#endif

#ifdef PHYSICALLY_CORRECT
uniform sampler2D normalDistribution;
uniform float sampleOffset: 0;
uniform vec2 normalDistributionSize;

vec3 transformNormal(vec3 H, vec3 N) {
 vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
vec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {
 float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));
 vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;
 return transformNormal(H, N);
}
float G_Smith(float g, float ndv, float ndl) {
 float roughness = 1.0 - g;
 float k = roughness * roughness / 2.0;
 float G1V = ndv / (ndv * (1.0 - k) + k);
 float G1L = ndl / (ndl * (1.0 - k) + k);
 return G1L * G1V;
}
vec3 F_Schlick(float ndv, vec3 spec) {
 return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);
}
#endif

float fetchDepth(sampler2D depthTexture, vec2 uv)
{
 vec4 depthTexel = texture2D(depthTexture, uv);
 return depthTexel.r * 2.0 - 1.0;
}

float linearDepth(float depth)
{
 if (projection[3][3] == 0.0) {
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
 }
 else {
 return (depth - projection[3][2]) / projection[2][2];
 }
}

bool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)
{
 if (rayZFar > rayZNear)
 {
 float t = rayZFar; rayZFar = rayZNear; rayZNear = t;
 }
 float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));
 return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;
}


bool traceScreenSpaceRay(
 vec3 rayOrigin, vec3 rayDir, float jitter,
 out vec2 hitPixel, out vec3 hitPoint, out float iterationCount
)
{
 float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)
 ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;

 vec3 rayEnd = rayOrigin + rayDir * rayLength;

 vec4 H0 = projection * vec4(rayOrigin, 1.0);
 vec4 H1 = projection * vec4(rayEnd, 1.0);

 float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;

 vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;

 vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;
 vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;

 P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;
 vec2 delta = P1 - P0;

 bool permute = false;
 if (abs(delta.x) < abs(delta.y)) {
 permute = true;
 delta = delta.yx;
 P0 = P0.yx;
 P1 = P1.yx;
 }
 float stepDir = sign(delta.x);
 float invdx = stepDir / delta.x;

 vec3 dQ = (Q1 - Q0) * invdx;
 float dk = (k1 - k0) * invdx;

 vec2 dP = vec2(stepDir, delta.y * invdx);

 float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);
 float pixStride = 1.0 + strideScaler * pixelStride;

 dP *= pixStride; dQ *= pixStride; dk *= pixStride;

 vec4 pqk = vec4(P0, Q0.z, k0);
 vec4 dPQK = vec4(dP, dQ.z, dk);

 pqk += dPQK * jitter;
 float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);
 float rayZNear;

 bool intersect = false;

 vec2 texelSize = 1.0 / viewportSize;

 iterationCount = 0.0;

 for (int i = 0; i < MAX_ITERATION; i++)
 {
 pqk += dPQK;

 rayZNear = rayZFar;
 rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);

 hitPixel = permute ? pqk.yx : pqk.xy;
 hitPixel *= texelSize;

 intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);

 iterationCount += 1.0;

 dPQK *= 1.2;

 if (intersect) {
 break;
 }
 }

 Q0.xy += dQ.xy * iterationCount;
 Q0.z = pqk.z;
 hitPoint = Q0 / pqk.w;

 return intersect;
}

float calculateAlpha(
 float iterationCount, float reflectivity,
 vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir
)
{
 float alpha = clamp(reflectivity, 0.0, 1.0);
 alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));
 vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;
 float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));
 alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);

 float _eyeFadeStart = eyeFadeStart;
 float _eyeFadeEnd = eyeFadeEnd;
 if (_eyeFadeStart > _eyeFadeEnd) {
 float tmp = _eyeFadeEnd;
 _eyeFadeEnd = _eyeFadeStart;
 _eyeFadeStart = tmp;
 }

 float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);
 alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);

 alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);

 return alpha;
}

@import clay.util.rand

@import clay.util.rgbm

void main()
{
 vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);

 if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {
 discard;
 }

 float g = normalAndGloss.a;
#if !defined(PHYSICALLY_CORRECT)
 if (g <= minGlossiness) {
 discard;
 }
#endif

 float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);

 vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);
 N = normalize((toViewSpace * vec4(N, 0.0)).xyz);

 vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);
 vec4 pos = projectionInv * projectedPos;
 vec3 rayOrigin = pos.xyz / pos.w;
 vec3 V = -normalize(rayOrigin);

 float ndv = clamp(dot(N, V), 0.0, 1.0);
 float iterationCount;
 float jitter = rand(fract(v_Texcoord + jitterOffset));

#ifdef PHYSICALLY_CORRECT
 vec4 color = vec4(vec3(0.0), 1.0);
 vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);
 vec3 albedo = albedoMetalness.rgb;
 float m = albedoMetalness.a;
 vec3 diffuseColor = albedo * (1.0 - m);
 vec3 spec = mix(vec3(0.04), albedo, m);

 float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);

 for (int i = 0; i < SAMPLE_PER_FRAME; i++) {
 vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);
 vec3 rayDir = normalize(reflect(-V, H));
#else
 vec3 rayDir = normalize(reflect(-V, N));
#endif
 vec2 hitPixel;
 vec3 hitPoint;

 bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);

 float dist = distance(rayOrigin, hitPoint);

 vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;
 hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);
#ifdef PHYSICALLY_CORRECT
 float ndl = clamp(dot(N, rayDir), 0.0, 1.0);
 float vdh = clamp(dot(V, H), 0.0, 1.0);
 float ndh = clamp(dot(N, H), 0.0, 1.0);
 vec3 litTexel = vec3(0.0);
 if (dot(hitNormal, rayDir) < 0.0 && intersect) {
 litTexel = texture2D(sourceTexture, hitPixel).rgb;
 litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);

 }
 else {
 #ifdef SPECULARCUBEMAP_ENABLED
 vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;
 litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;
#endif
 }
 color.rgb += ndl * litTexel * (
 F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)
 );
 }
 color.rgb /= float(SAMPLE_PER_FRAME);
#else
 #if !defined(SPECULARCUBEMAP_ENABLED)
 if (dot(hitNormal, rayDir) >= 0.0) {
 discard;
 }
 if (!intersect) {
 discard;
 }
#endif
 float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);
 vec4 color = texture2D(sourceTexture, hitPixel);
 color.rgb *= alpha;

#ifdef SPECULARCUBEMAP_ENABLED
 vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;
 alpha = alpha * (intersect ? 1.0 : 0.0);
 float bias = (1.0 -g) * 5.0;
 color.rgb += (1.0 - alpha)
 * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb
 * specularIntensity;
#endif

#endif

 gl_FragColor = encodeHDR(color);
}
@end

@export ecgl.ssr.blur

uniform sampler2D texture;
uniform sampler2D gBufferTexture1;
uniform sampler2D gBufferTexture2;
uniform mat4 projection;
uniform float depthRange : 0.05;

varying vec2 v_Texcoord;

uniform vec2 textureSize;
uniform float blurSize : 1.0;

#ifdef BLEND
 #ifdef SSAOTEX_ENABLED
uniform sampler2D ssaoTex;
 #endif
uniform sampler2D sourceTexture;
#endif

float getLinearDepth(vec2 coord)
{
 float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
}

@import clay.util.rgbm


void main()
{
 @import clay.compositor.kernel.gaussian_9

 vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);
 float g = centerNTexel.a;
 float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;
#ifdef VERTICAL
 vec2 off = vec2(0.0, maxBlurSize / textureSize.y);
#else
 vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);
#endif

 vec2 coord = v_Texcoord;

 vec4 sum = vec4(0.0);
 float weightAll = 0.0;

 vec3 cN = centerNTexel.rgb * 2.0 - 1.0;
 float cD = getLinearDepth(v_Texcoord);
 for (int i = 0; i < 9; i++) {
 vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));
 float w = gaussianKernel[i]
 * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);
 float d = getLinearDepth(coord);
 w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));

 weightAll += w;
 sum += decodeHDR(texture2D(texture, coord)) * w;
 }

#ifdef BLEND
 float aoFactor = 1.0;
 #ifdef SSAOTEX_ENABLED
 aoFactor = texture2D(ssaoTex, v_Texcoord).r;
 #endif
 gl_FragColor = encodeHDR(
 sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))
 );
#else
 gl_FragColor = encodeHDR(sum / weightAll);
#endif
}

@end`;Re.import(Sbe);function Sl(e){e=e||{},this._ssrPass=new br({fragment:Re.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new br({fragment:Re.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new br({fragment:Re.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new br({fragment:Re.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new Et({type:Je.HALF_FLOAT}),this._texture2=new Et({type:Je.HALF_FLOAT}),this._texture3=new Et({type:Je.HALF_FLOAT}),this._prevTexture=new Et({type:Je.HALF_FLOAT}),this._currentTexture=new Et({type:Je.HALF_FLOAT}),this._frameBuffer=new ea({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}Sl.prototype.setAmbientCubemap=function(e,t){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",t);var n=e&&t;this._ssrPass.material[n?"enableTexture":"disableTexture"]("specularCubemap")};Sl.prototype.update=function(e,t,n,r){var a=e.getWidth(),i=e.getHeight(),o=this._ssrTexture,s=this._texture2,l=this._texture3;o.width=this._prevTexture.width=this._currentTexture.width=a/this._downScale,o.height=this._prevTexture.height=this._currentTexture.height=i/this._downScale,s.width=l.width=a,s.height=l.height=i;var u=this._frameBuffer,c=this._ssrPass,f=this._blurPass1,d=this._blurPass2,h=this._blendPass,v=new Qe,p=new Qe;Qe.transpose(v,t.worldTransform),Qe.transpose(p,t.viewMatrix),c.setUniform("sourceTexture",n),c.setUniform("projection",t.projectionMatrix.array),c.setUniform("projectionInv",t.invProjectionMatrix.array),c.setUniform("toViewSpace",v.array),c.setUniform("toWorldSpace",p.array),c.setUniform("nearZ",t.near);var m=r/this._totalSamples*this._samplePerFrame;if(c.setUniform("jitterOffset",m),c.setUniform("sampleOffset",r*this._samplePerFrame),f.setUniform("textureSize",[o.width,o.height]),d.setUniform("textureSize",[a,i]),d.setUniform("sourceTexture",n),f.setUniform("projection",t.projectionMatrix.array),d.setUniform("projection",t.projectionMatrix.array),u.attach(o),u.bind(e),c.render(e),this._physicallyCorrect&&(u.attach(this._currentTexture),h.setUniform("texture1",this._prevTexture),h.setUniform("texture2",o),h.material.set({weight1:r>=1?.95:0,weight2:r>=1?.05:1}),h.render(e)),u.attach(s),f.setUniform("texture",this._physicallyCorrect?this._currentTexture:o),f.render(e),u.attach(l),d.setUniform("texture",s),d.render(e),u.unbind(e),this._physicallyCorrect){var g=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=g}};Sl.prototype.getTargetTexture=function(){return this._texture3};Sl.prototype.setParameter=function(e,t){e==="maxIteration"?this._ssrPass.material.define("fragment","MAX_ITERATION",t):this._ssrPass.setUniform(e,t)};Sl.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=a0.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e};Sl.prototype.setSSAOTexture=function(e){var t=this._blurPass2;e?(t.material.enableTexture("ssaoTex"),t.material.set("ssaoTex",e)):t.material.disableTexture("ssaoTex")};Sl.prototype.isFinished=function(e){return this._physicallyCorrect?e>this._totalSamples/this._samplePerFrame:!0};Sl.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};const Wk=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925],Tbe=`@export ecgl.normal.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

@import ecgl.common.normalMap.vertexHeader

@import ecgl.common.vertexAnimation.header

void main()
{

 @import ecgl.common.vertexAnimation.main

 @import ecgl.common.uv.main

 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

 @import ecgl.common.normalMap.vertexMain

 gl_Position = worldViewProjection * vec4(pos, 1.0);

}


@end


@export ecgl.normal.fragment

#define ROUGHNESS_CHANEL 0

uniform bool useBumpMap;
uniform bool useRoughnessMap;
uniform bool doubleSide;
uniform float roughness;

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform mat4 viewInverse : VIEWINVERSE;

@import ecgl.common.normalMap.fragmentHeader
@import ecgl.common.bumpMap.header

uniform sampler2D roughnessMap;

void main()
{
 vec3 N = v_Normal;
 
 bool flipNormal = false;
 if (doubleSide) {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 flipNormal = true;
 }
 }

 @import ecgl.common.normalMap.fragmentMain

 if (useBumpMap) {
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 }

 float g = 1.0 - roughness;

 if (useRoughnessMap) {
 float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];
 g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);
 }

 if (flipNormal) {
 N = -N;
 }

 gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;
 gl_FragColor.a = g;
}
@end`;Re.import(Tbe);function eS(e,t,n,r,a){var i=e.gl;t.setUniform(i,"1i",n,a),i.activeTexture(i.TEXTURE0+a),r.isRenderable()?r.bind(e):r.unbind(e)}function Cbe(e,t,n,r,a){var i,o,s,l,u=e.gl;return function(c,f,d){if(!(l&&l.material===c.material)){var h=c.material,v=c.__program,p=h.get("roughness");p==null&&(p=1);var m=h.get("normalMap")||t,g=h.get("roughnessMap"),y=h.get("bumpMap"),_=h.get("uvRepeat"),x=h.get("uvOffset"),w=h.get("detailUvRepeat"),b=h.get("detailUvOffset"),S=!!y&&h.isTextureEnabled("bumpMap"),C=!!g&&h.isTextureEnabled("roughnessMap"),A=h.isDefined("fragment","DOUBLE_SIDED");y=y||n,g=g||r,d!==f?(f.set("normalMap",m),f.set("bumpMap",y),f.set("roughnessMap",g),f.set("useBumpMap",S),f.set("useRoughnessMap",C),f.set("doubleSide",A),_!=null&&f.set("uvRepeat",_),x!=null&&f.set("uvOffset",x),w!=null&&f.set("detailUvRepeat",w),b!=null&&f.set("detailUvOffset",b),f.set("roughness",p)):(v.setUniform(u,"1f","roughness",p),i!==m&&eS(e,v,"normalMap",m,0),o!==y&&y&&eS(e,v,"bumpMap",y,1),s!==g&&g&&eS(e,v,"roughnessMap",g,2),_!=null&&v.setUniform(u,"2f","uvRepeat",_),x!=null&&v.setUniform(u,"2f","uvOffset",x),w!=null&&v.setUniform(u,"2f","detailUvRepeat",w),b!=null&&v.setUniform(u,"2f","detailUvOffset",b),v.setUniform(u,"1i","useBumpMap",+S),v.setUniform(u,"1i","useRoughnessMap",+C),v.setUniform(u,"1i","doubleSide",+A)),i=m,o=y,s=g,l=c}}}function Uh(e){this._depthTex=new Et({format:Je.DEPTH_COMPONENT,type:Je.UNSIGNED_INT}),this._normalTex=new Et({type:Je.HALF_FLOAT}),this._framebuffer=new ea,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,ea.DEPTH_ATTACHMENT),this._normalMaterial=new ro({shader:new Re(Re.source("ecgl.normal.vertex"),Re.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=jc.createBlank("#000"),this._defaultBumpMap=jc.createBlank("#000"),this._defaultRoughessMap=jc.createBlank("#000"),this._debugPass=new br({fragment:Re.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}Uh.prototype.getDepthTexture=function(){return this._depthTex};Uh.prototype.getNormalTexture=function(){return this._normalTex};Uh.prototype.update=function(e,t,n){var r=e.getWidth(),a=e.getHeight(),i=this._depthTex,o=this._normalTex,s=this._normalMaterial;i.width=r,i.height=a,o.width=r,o.height=a;var l=t.getRenderList(n).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(l,n,{getMaterial:function(){return s},ifRender:function(u){return u.renderNormal},beforeRender:Cbe(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)};Uh.prototype.renderDebug=function(e){this._debugPass.render(e)};Uh.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};function Gm(e){e=e||{},this._edgePass=new br({fragment:Re.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new Et({type:Je.HALF_FLOAT}),this._frameBuffer=new ea,this._frameBuffer.attach(this._targetTexture)}Gm.prototype.update=function(e,t,n,r){var a=e.getWidth(),i=e.getHeight(),o=this._targetTexture;o.width=a,o.height=i;var s=this._frameBuffer;s.bind(e),this._edgePass.setUniform("projectionInv",t.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[a,i]),this._edgePass.setUniform("texture",n),this._edgePass.render(e),s.unbind(e)};Gm.prototype.getTargetTexture=function(){return this._targetTexture};Gm.prototype.setParameter=function(e,t){this._edgePass.setUniform(e,t)};Gm.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};const Abe={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]},Ebe=`@export ecgl.dof.coc

uniform sampler2D depth;

uniform float zNear: 0.1;
uniform float zFar: 2000;

uniform float focalDistance: 3;
uniform float focalRange: 1;
uniform float focalLength: 30;
uniform float fstop: 2.8;

varying vec2 v_Texcoord;

@import clay.util.encode_float

void main()
{
 float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;

 float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));

 float aperture = focalLength / fstop;

 float coc;

 float uppper = focalDistance + focalRange;
 float lower = focalDistance - focalRange;
 if (dist <= uppper && dist >= lower) {
 coc = 0.5;
 }
 else {
 float focalAdjusted = dist > uppper ? uppper : lower;

 coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));
 coc = clamp(coc, 0.0, 2.0) / 2.00001;

 if (dist < lower) {
 coc = -coc;
 }
 coc = coc * 0.5 + 0.5;
 }

 gl_FragColor = encodeFloat(coc);
}
@end


@export ecgl.dof.composite

#define DEBUG 0

uniform sampler2D original;
uniform sampler2D blurred;
uniform sampler2D nearfield;
uniform sampler2D coc;
uniform sampler2D nearcoc;
varying vec2 v_Texcoord;

@import clay.util.rgbm
@import clay.util.float

void main()
{
 vec4 blurredColor = texture2D(blurred, v_Texcoord);
 vec4 originalColor = texture2D(original, v_Texcoord);

 float fCoc = decodeFloat(texture2D(coc, v_Texcoord));

 fCoc = abs(fCoc * 2.0 - 1.0);

 float weight = smoothstep(0.0, 1.0, fCoc);
 
#ifdef NEARFIELD_ENABLED
 vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);
 float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));
 fNearCoc = abs(fNearCoc * 2.0 - 1.0);

 gl_FragColor = encodeHDR(
 mix(
 nearfieldColor, mix(originalColor, blurredColor, weight),
 pow(1.0 - fNearCoc, 4.0)
 )
 );
#else
 gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));
#endif

}

@end



@export ecgl.dof.diskBlur

#define POISSON_KERNEL_SIZE 16;

uniform sampler2D texture;
uniform sampler2D coc;
varying vec2 v_Texcoord;

uniform float blurRadius : 10.0;
uniform vec2 textureSize : [512.0, 512.0];

uniform vec2 poissonKernel[POISSON_KERNEL_SIZE];

uniform float percent;

float nrand(const in vec2 n) {
 return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

@import clay.util.rgbm
@import clay.util.float


void main()
{
 vec2 offset = blurRadius / textureSize;

 float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );
 float cosa = cos(rnd);
 float sina = sin(rnd);
 vec4 basis = vec4(cosa, -sina, sina, cosa);

#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)
 offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);
#endif

#ifdef BLUR_COC
 float cocSum = 0.0;
#else
 vec4 color = vec4(0.0);
#endif


 float weightSum = 0.0;

 for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {
 vec2 ofs = poissonKernel[i];

 ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));

 vec2 uv = v_Texcoord + ofs * offset;
 vec4 texel = texture2D(texture, uv);

 float w = 1.0;
#ifdef BLUR_COC
 float fCoc = decodeFloat(texel) * 2.0 - 1.0;
 cocSum += clamp(fCoc, -1.0, 0.0) * w;
#else
 texel = texel;
 #if !defined(BLUR_NEARFIELD)
 float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;
 w *= abs(fCoc);
 #endif
 texel.rgb *= texel.a;
 color += texel * w;
#endif

 weightSum += w;
 }

#ifdef BLUR_COC
 gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);
#else
 color /= weightSum;
 color.rgb /= (color.a + 0.0001);
 gl_FragColor = color;
#endif
}

@end`,Dbe=`@export ecgl.edge

uniform sampler2D texture;

uniform sampler2D normalTexture;
uniform sampler2D depthTexture;

uniform mat4 projectionInv;

uniform vec2 textureSize;

uniform vec4 edgeColor: [0,0,0,0.8];

varying vec2 v_Texcoord;

vec3 packColor(vec2 coord) {
 float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;
 vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);
 vec4 p4 = projectionInv * p;

 return vec3(
 texture2D(normalTexture, coord).rg,
 -p4.z / p4.w / 5.0
 );
}

void main() {
 vec2 cc = v_Texcoord;
 vec3 center = packColor(cc);

 float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;
 float dx = size / textureSize.x;
 float dy = size / textureSize.y;

 vec2 coord;
 vec3 topLeft = packColor(cc+vec2(-dx, -dy));
 vec3 top = packColor(cc+vec2(0.0, -dy));
 vec3 topRight = packColor(cc+vec2(dx, -dy));
 vec3 left = packColor(cc+vec2(-dx, 0.0));
 vec3 right = packColor(cc+vec2(dx, 0.0));
 vec3 bottomLeft = packColor(cc+vec2(-dx, dy));
 vec3 bottom = packColor(cc+vec2(0.0, dy));
 vec3 bottomRight = packColor(cc+vec2(dx, dy));

 vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;
 vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;

 float edge = sqrt(dot(h, h) + dot(v, v));

 edge = smoothstep(0.8, 1.0, edge);

 gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);
}
@end`;Re.import(U$);Re.import(z$);Re.import(H$);Re.import($$);Re.import(G$);Re.import(W$);Re.import(Y$);Re.import(j$);Re.import(X$);Re.import(Ebe);Re.import(Dbe);function K$(e,t){return{color:{parameters:{width:e,height:t}}}}var tD=["composite","FXAA"];function kt(){this._width,this._height,this._dpr,this._sourceTexture=new Et({type:Je.HALF_FLOAT}),this._depthTexture=new Et({format:Je.DEPTH_COMPONENT,type:Je.UNSIGNED_INT}),this._framebuffer=new ea,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,ea.DEPTH_ATTACHMENT),this._normalPass=new Uh,this._compositor=vbe(Abe);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var t=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=t,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(r){return this._compositor.getNodeByName(r)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=tD.map(function(r){return this._compositor.getNodeByName(r)},this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new wl(n),this._ssrPass=new Sl(n),this._edgePass=new Gm(n)}kt.prototype.resize=function(r,a,n){n=n||1;var r=r*n,a=a*n,i=this._sourceTexture,o=this._depthTexture;i.width=r,i.height=a,o.width=r,o.height=a;var s={getWidth:function(){return r},getHeight:function(){return a},getDevicePixelRatio:function(){return n}};function l(u,c){if(typeof u[c]=="function"){var f=u[c].__original||u[c];u[c]=function(d){return f.call(this,s)},u[c].__original=f}}this._compositor.nodes.forEach(function(u){for(var c in u.outputs){var f=u.outputs[c].parameters;f&&(l(f,"width"),l(f,"height"))}for(var d in u.parameters)l(u.parameters,d)}),this._width=r,this._height=a,this._dpr=n};kt.prototype.getWidth=function(){return this._width};kt.prototype.getHeight=function(){return this._height};kt.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR};kt.prototype._getPrevNode=function(e){for(var t=tD.indexOf(e.name)-1,n=this._finalNodesChain[t];n&&!this._compositor.getNodeByName(n.name);)t-=1,n=this._finalNodesChain[t];return n};kt.prototype._getNextNode=function(e){for(var t=tD.indexOf(e.name)+1,n=this._finalNodesChain[t];n&&!this._compositor.getNodeByName(n.name);)t+=1,n=this._finalNodesChain[t];return n};kt.prototype._addChainNode=function(e){var t=this._getPrevNode(e),n=this._getNextNode(e);t&&(e.inputs.texture=t.name,n?(e.outputs=K$(this.getWidth.bind(this),this.getHeight.bind(this)),n.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))};kt.prototype._removeChainNode=function(e){var t=this._getPrevNode(e),n=this._getNextNode(e);t&&(n?(t.outputs=K$(this.getWidth.bind(this),this.getHeight.bind(this)),n.inputs.texture=t.name):t.outputs=null,this._compositor.removeNode(e))};kt.prototype.updateNormal=function(e,t,n,r){this._ifRenderNormalPass()&&this._normalPass.update(e,t,n)};kt.prototype.updateSSAO=function(e,t,n,r){this._ssaoPass.update(e,n,r)};kt.prototype.enableSSAO=function(){this._enableSSAO=!0};kt.prototype.disableSSAO=function(){this._enableSSAO=!1};kt.prototype.enableSSR=function(){this._enableSSR=!0};kt.prototype.disableSSR=function(){this._enableSSR=!1};kt.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()};kt.prototype.getSourceFrameBuffer=function(){return this._framebuffer};kt.prototype.getSourceTexture=function(){return this._sourceTexture};kt.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)};kt.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)};kt.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()};kt.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()};kt.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()};kt.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()};kt.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0};kt.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1};kt.prototype.enableEdge=function(){this._enableEdge=!0};kt.prototype.disableEdge=function(){this._enableEdge=!1};kt.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)};kt.prototype.setSSAOParameter=function(e,t){switch(e){case"quality":var n={low:6,medium:12,high:32,ultra:62}[t]||12;this._ssaoPass.setParameter("kernelSize",n);break;case"radius":this._ssaoPass.setParameter(e,t),this._ssaoPass.setParameter("bias",t/200);break;case"intensity":this._ssaoPass.setParameter(e,t);break;default:console.warn("Unkown SSAO parameter "+e)}};kt.prototype.setDOFParameter=function(e,t){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,t);break;case"blurRadius":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter("blurRadius",t);break;case"quality":var r={low:4,medium:8,high:16,ultra:32}[t]||8;this._dofBlurKernelSize=r;for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define("POISSON_KERNEL_SIZE",r);this._dofBlurKernel=new Float32Array(r*2);break;default:console.warn("Unkown DOF parameter "+e)}};kt.prototype.setSSRParameter=function(e,t){if(t!=null)switch(e){case"quality":var n={low:10,medium:15,high:30,ultra:80}[t]||20,r={low:32,medium:16,high:8,ultra:4}[t]||16;this._ssrPass.setParameter("maxIteration",n),this._ssrPass.setParameter("pixelStride",r);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-t,1),0));break;case"physical":this.setPhysicallyCorrectSSR(t);break;default:console.warn("Unkown SSR parameter "+e)}};kt.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)};kt.prototype.setEdgeColor=function(e){var t=W.parseColor(e);this._edgePass.setParameter("edgeColor",t)};kt.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))};kt.prototype.setColorLookupTexture=function(e,t){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",t,{minFilter:W.Texture.NEAREST,magFilter:W.Texture.NEAREST,flipY:!1})};kt.prototype.setColorCorrection=function(e,t){this._compositeNode.setParameter(e,t)};kt.prototype.isSSREnabled=function(){return this._enableSSR};kt.prototype.composite=function(e,t,n,r,a){var i=this._sourceTexture,o=i;this._enableEdge&&(this._edgePass.update(e,n,i,a),i=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,n,i,a),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,l=this._dofBlurKernelSize,u=Math.floor(Wk.length/2/l),c=a%u,f=0;f<l*2;f++)s[f]=Wk[f+c*l*2];for(var f=0;f<this._dofBlurNodes.length;f++)this._dofBlurNodes[f].setParameter("percent",a/30),this._dofBlurNodes[f].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",n.near),this._cocNode.setParameter("zFar",n.far),this._compositor.render(e,r)};kt.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};function XC(e){for(var t=[],n=0;n<30;n++)t.push([ch(n,2),ch(n,3)]);this._haltonSequence=t,this._frame=0,this._sourceTex=new Et,this._sourceFb=new ea,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new Et,this._outputTex=new Et;var r=this._blendPass=new br({fragment:Re.source("clay.compositor.blend")});r.material.disableTexturesAll(),r.material.enableTexture(["texture1","texture2"]),this._blendFb=new ea({depthBuffer:!1}),this._outputPass=new br({fragment:Re.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(a){a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)}}XC.prototype={constructor:XC,jitterProjection:function(e,t){var n=e.viewport,r=n.devicePixelRatio||e.getDevicePixelRatio(),a=n.width*r,i=n.height*r,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new Qe;s.array[12]=(o[0]*2-1)/a,s.array[13]=(o[1]*2-1)/i,Qe.mul(t.projectionMatrix,s,t.projectionMatrix),Qe.invert(t.invProjectionMatrix,t.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,t){this._prevFrameTex.width=e,this._prevFrameTex.height=t,this._outputTex.width=e,this._outputTex.height=t,this._sourceTex.width=e,this._sourceTex.height=t,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,t,n){var r=this._blendPass;this._frame===0?(r.setUniform("weight1",0),r.setUniform("weight2",1)):(r.setUniform("weight1",.9),r.setUniform("weight2",.1)),r.setUniform("texture1",this._prevFrameTex),r.setUniform("texture2",t||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),r.render(e),this._blendFb.unbind(e),n||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var a=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=a,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};function vn(e){e=e||"perspective",this.layer=null,this.scene=new Tu,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new kt,this._temporalSS=new XC,this._shadowMapPass=new Kxe;for(var t=[],n=0,r=0;r<30;r++){for(var a=[],i=0;i<6;i++)a.push(ch(n,2)*4-2),a.push(ch(n,3)*4-2),n++;t.push(a)}this._pcfKernels=t,this.scene.on("beforerender",function(o,s,l){this.needsTemporalSS()&&this._temporalSS.jitterProjection(o,l)},this)}vn.prototype.setProjection=function(e){var t=this.camera;t&&t.update(),e==="perspective"?this.camera instanceof Br||(this.camera=new Br,t&&this.camera.setLocalTransform(t.localTransform)):this.camera instanceof uh||(this.camera=new uh,t&&this.camera.setLocalTransform(t.localTransform)),this.camera.near=.1,this.camera.far=2e3};vn.prototype.setViewport=function(e,t,n,r,a){this.camera instanceof Br&&(this.camera.aspect=n/r),a=a||1,this.viewport.x=e,this.viewport.y=t,this.viewport.width=n,this.viewport.height=r,this.viewport.devicePixelRatio=a,this._compositor.resize(n*a,r*a),this._temporalSS.resize(n*a,r*a)};vn.prototype.containPoint=function(e,t){var n=this.viewport,r=this.layer.renderer.getHeight();return t=r-t,e>=n.x&&t>=n.y&&e<=n.x+n.width&&t<=n.y+n.height};var Yk=new _i;vn.prototype.castRay=function(e,t,n){var r=this.layer.renderer,a=r.viewport;return r.viewport=this.viewport,r.screenToNDC(e,t,Yk),this.camera.castRay(Yk,n),r.viewport=a,n};vn.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var t=0;t<e.transparent.length;t++){var n=e.transparent[t],r=n.geometry;r.needsSortVerticesProgressively&&r.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),r.needsSortTrianglesProgressively&&r.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()};vn.prototype.render=function(e,t){this._doRender(e,t,this._frame),this._frame++};vn.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively};vn.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return e==="auto"&&(e=this._enablePostEffect),e};vn.prototype.hasDOF=function(){return this._enableDOF};vn.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30};vn.prototype._doRender=function(e,t,n){var r=this.scene,a=this.camera;n=n||0,this._updateTransparent(e,r,a,n),t||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,r,a,!0)),this._updateShadowPCFKernel(n);var i=e.clearColor;if(e.gl.clearColor(i[0],i[1],i[2],i[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,a),this._compositor.updateNormal(e,r,a,this._temporalSS.getFrame())),this._updateSSAO(e,r,a,this._temporalSS.getFrame()),this._enablePostEffect){var o=this._compositor.getSourceFrameBuffer();o.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(r,a,!0,!0),o.unbind(e),this.needsTemporalSS()&&t?(this._compositor.composite(e,r,a,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,r,a,null,0))}else if(this.needsTemporalSS()&&t){var o=this._temporalSS.getSourceFrameBuffer();o.bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(r,a,!0,!0),e.restoreClear(),o.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(r,a,!0,!0)};vn.prototype._updateTransparent=function(e,t,n,r){for(var a=new Ne,i=new Qe,o=n.getWorldPosition(),s=t.getRenderList(n).transparent,l=0;l<s.length;l++){var u=s[l],c=u.geometry;Qe.invert(i,u.worldTransform),Ne.transformMat4(a,o,i),c.needsSortTriangles&&c.needsSortTriangles()&&c.doSortTriangles(a,r),c.needsSortVertices&&c.needsSortVertices()&&c.doSortVertices(a,r)}};vn.prototype._updateSSAO=function(e,t,n){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(e,t,n,this._temporalSS.getFrame());for(var a=t.getRenderList(n),i=0;i<a.opaque.length;i++){var o=a.opaque[i];o.renderNormal&&o.material[r?"enableTexture":"disableTexture"]("ssaoMap"),r&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}};vn.prototype._updateShadowPCFKernel=function(e){for(var t=this._pcfKernels[e%this._pcfKernels.length],n=this.scene.getRenderList(this.camera),r=n.opaque,a=0;a<r.length;a++)r[a].receiveShadow&&(r[a].material.set("pcfKernel",t),r[a].material.define("fragment","PCF_KERNEL_SIZE",t.length/2))};vn.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)};vn.prototype.setPostEffect=function(e,t){var n=this._compositor;this._enablePostEffect=e.get("enable");var r=e.getModel("bloom"),a=e.getModel("edge"),i=e.getModel("DOF",e.getModel("depthOfField")),o=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),s=e.getModel("SSR",e.getModel("screenSpaceReflection")),l=e.getModel("FXAA"),u=e.getModel("colorCorrection");r.get("enable")?n.enableBloom():n.disableBloom(),i.get("enable")?n.enableDOF():n.disableDOF(),s.get("enable")?n.enableSSR():n.disableSSR(),u.get("enable")?n.enableColorCorrection():n.disableColorCorrection(),a.get("enable")?n.enableEdge():n.disableEdge(),l.get("enable")?n.enableFXAA():n.disableFXAA(),this._enableDOF=i.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(r.get("intensity")),n.setEdgeColor(a.get("color")),n.setColorLookupTexture(u.get("lookupTexture"),t),n.setExposure(u.get("exposure")),["radius","quality","intensity"].forEach(function(c){n.setSSAOParameter(c,o.get(c))}),["quality","maxRoughness","physical"].forEach(function(c){n.setSSRParameter(c,s.get(c))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(c){n.setDOFParameter(c,i.get(c))}),["brightness","contrast","saturation"].forEach(function(c){n.setColorCorrection(c,u.get(c))})};vn.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect)return e>this.camera.far||e<this.camera.near?void 0:(this._compositor.setDOFParameter("focalDistance",e),!0)};vn.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")};vn.prototype.isLinearSpace=function(){return this._enablePostEffect};vn.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var t=this.rootNode.children(),n=0;n<t.length;n++)e.add(t[n]);e!==this.scene&&this.scene.add(e),this.rootNode=e}};vn.prototype.add=function(e){this.rootNode.add(e)};vn.prototype.remove=function(e){this.rootNode.remove(e)};vn.prototype.removeAll=function(e){this.rootNode.removeAll(e)};Object.assign(vn.prototype,GE);function Mbe(e,t){var n=e.getBoxLayoutParams(),r=Fo(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio());var a=e.get("boxWidth"),i=e.get("boxHeight"),o=e.get("boxDepth");["x","y","z"].forEach(function(s){if(!this.getAxis(s))throw new Error("Grid"+e.id+" don't have "+s+"Axis")},this),this.getAxis("x").setExtent(-a/2,a/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-i/2,i/2),this.size=[a,i,o]}function Pbe(e,t){var n={};function r(a,i){n[a]=n[a]||[1/0,-1/0],n[a][0]=Math.min(i[0],n[a][0]),n[a][1]=Math.max(i[1],n[a][1])}e.eachSeries(function(a){if(a.coordinateSystem===this){var i=a.getData();["x","y","z"].forEach(function(o){i.mapDimensionsAll(o,!0).forEach(function(s){r(o,i.getDataExtent(s,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(a){e.eachComponent(a,function(i){var o=a.charAt(0),s=i.getReferringComponents("grid3D").models[0],l=s.coordinateSystem;if(l===this){var u=l.getAxis(o);if(u){console.warn("Can't have two %s in one grid3D",a);return}var c=VA(n[o]||[1/0,-1/0],i);u=new T_(o,c),u.type=i.get("type");var f=u.type==="category";u.onBand=f&&i.get("boundaryGap"),u.inverse=i.get("inverse"),i.axis=u,u.model=i,u.getLabelModel=function(){return i.getModel("axisLabel",s.getModel("axisLabel"))},u.getTickModel=function(){return i.getModel("axisTick",s.getModel("axisTick"))},l.addAxis(u)}},this)},this),this.resize(this.model,t)}var Lbe={dimensions:dm.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("grid3D",function(i){i.__viewGL=i.__viewGL||new vn;var o=new dm;o.model=i,o.viewGL=i.__viewGL,i.coordinateSystem=o,n.push(o),o.resize=Mbe,o.update=Pbe});var r=["xAxis3D","yAxis3D","zAxis3D"];function a(i,o){return r.map(function(s){var l=i.getReferringComponents(s).models[0];if(l==null&&(l=o.getComponent(s)),!l)throw new Error(s+' "'+St.firstNotNull(i.get(s+"Index"),i.get(s+"Id"),0)+'" not found');return l})}return e.eachSeries(function(i){if(i.get("coordinateSystem")==="cartesian3D"){var o=i.getReferringComponents("grid3D").models[0];if(o==null){var s=a(i,e),o=s[0].getCoordSysModel();s.forEach(function(c){var f=c.getCoordSysModel();{if(!f)throw new Error('grid3D "'+St.firstNotNull(c.get("gridIndex"),c.get("gridId"),0)+'" not found');if(f!==o)throw new Error("xAxis3D, yAxis3D, zAxis3D must use the same grid")}})}var l=o.coordinateSystem;i.coordinateSystem=l}}),n}};const Ibe=Lbe;var Q$=en.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});ere(Q$);const Rbe=Q$;var J$={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},Obe=Ze({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},J$),nD=Ze({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},J$),kbe=Ft({scale:!0,min:"dataMin",max:"dataMax"},nD),eG=Ft({logBase:10},nD);eG.scale=!0;const Nbe={categoryAxis3D:Obe,valueAxis3D:nD,timeAxis3D:kbe,logAxis3D:eG};var Bbe=["value","category","time","log"];function Vbe(e,t,n,r,a){Bbe.forEach(function(i){var o=n.extend({type:t+"Axis3D."+i,__ordinalMeta:null,mergeDefaultAndTheme:function(s,l){var u=l.getTheme();Ze(s,u.get(i+"Axis3D")),Ze(s,this.getDefaultOption()),s.type=r(t,s)},optionUpdated:function(){var s=this.option;s.type==="category"&&(this.__ordinalMeta=J0.createByAxisModel(this))},getCategories:function(){if(this.option.type==="category")return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:Ze(tn(Nbe[i+"Axis3D"]),a||{},!0)});e.registerComponentModel(o)}),e.registerSubTypeDefaulter(t+"Axis3D",jn(r,t))}function Fbe(e,t){return t.type||(t.data?"category":"value")}function Ube(e){e.registerComponentModel(zxe),e.registerComponentView(jxe),e.registerCoordinateSystem("grid3D",Ibe),["x","y","z"].forEach(function(t){Vbe(e,t,Rbe,Fbe,{name:t.toUpperCase()});const n=e.ComponentView.extend({type:t+"Axis3D"});e.registerComponentView(n)}),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(t,n){n.eachComponent({mainType:"grid3D",query:t},function(r){r.setView(t)})}),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(t,n){}),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(t,n){})}wn(Ube);const zh={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},tG={getFilledRegions:function(e,t){var n=(e||[]).slice(),r;if(typeof t=="string"?(t=IT(t),r=t&&t.geoJson):t&&t.features&&(r=t),!r)return console.error("Map "+t+" not exists. You can download map file on http://echarts.baidu.com/download-map.html"),r.features||console.error("Invalid GeoJSON for map3D"),[];for(var a={},i=r.features,o=0;o<n.length;o++)a[n[o].name]=n[o];for(var o=0;o<i.length;o++){var s=i[o].properties.name;a[s]||n.push({name:s})}return n},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}};var Hh=en.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var t=Im(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),n=new co(t,this);n.initData(e.regions);var r={};n.each(function(a){var i=n.getName(a),o=n.getItemModel(a);r[i]=o}),this._regionModelMap=r,this._data=n},getData:function(){return this._data},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new fr(null,this)},getRegionPolygonCoords:function(e){var t=this.getData().getName(e),n=this.coordinateSystem.getRegion(t);return n?n.geometries:[]},getFormattedLabel:function(e,t){var n=this._data.getName(e),r=this.getRegionModel(e),a=r.get(t==="normal"?["label","formatter"]:["emphasis","label","formatter"]);a==null&&(a=r.get(["label","formatter"]));var i={name:n};if(typeof a=="function")return i.status=t,a(i);if(typeof a=="string"){var o=i.seriesName;return a.replace("{a}",o??"")}else return n},defaultOption:{regions:[]}});Ze(Hh.prototype,tG);Ze(Hh.prototype,sx);Ze(Hh.prototype,Vh);Ze(Hh.prototype,Fh);Ze(Hh.prototype,zh);const zbe=Hh;function nG(e,t,n){n=n||2;var r=t&&t.length,a=r?t[0]*n:e.length,i=rG(e,0,a,n,!0),o=[];if(!i)return o;var s,l,u,c,f,d,h;if(r&&(i=Ybe(e,t,i,n)),e.length>80*n){s=u=e[0],l=c=e[1];for(var v=n;v<a;v+=n)f=e[v],d=e[v+1],f<s&&(s=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);h=Math.max(u-s,c-l)}return pm(i,o,n,s,l,h),o}function rG(e,t,n,r,a){var i,o;if(a===KC(e,t,n,r)>0)for(i=t;i<n;i+=r)o=jk(i,e[i],e[i+1],o);else for(i=n-r;i>=t;i-=r)o=jk(i,e[i],e[i+1],o);return o&&Pc(o,o.next)&&(gm(o),o=o.next),o}function vm(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(Pc(n,n.next)||Ya(n.prev,n,n.next)===0)){if(gm(n),n=t=n.prev,n===n.next)return null;r=!0}else n=n.next;while(r||n!==t);return t}function pm(e,t,n,r,a,i,o){if(e){!o&&i&&Zbe(e,r,a,i);for(var s=e,l,u;e.prev!==e.next;){if(l=e.prev,u=e.next,i?$be(e,r,a,i):Hbe(e)){t.push(l.i/n),t.push(e.i/n),t.push(u.i/n),gm(e),e=u.next,s=u.next;continue}if(e=u,e===s){o?o===1?(e=Gbe(e,t,n),pm(e,t,n,r,a,i,2)):o===2&&Wbe(e,t,n,r,a,i):pm(vm(e),t,n,r,a,i,1);break}}}}function Hbe(e){var t=e.prev,n=e,r=e.next;if(Ya(t,n,r)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(C_(t.x,t.y,n.x,n.y,r.x,r.y,a.x,a.y)&&Ya(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function $be(e,t,n,r){var a=e.prev,i=e,o=e.next;if(Ya(a,i,o)>=0)return!1;for(var s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,l=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,u=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,c=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,f=qC(s,l,t,n,r),d=qC(u,c,t,n,r),h=e.nextZ;h&&h.z<=d;){if(h!==e.prev&&h!==e.next&&C_(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&Ya(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&C_(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&Ya(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function Gbe(e,t,n){var r=e;do{var a=r.prev,i=r.next.next;!Pc(a,i)&&aG(a,r,r.next,i)&&mm(a,i)&&mm(i,a)&&(t.push(a.i/n),t.push(r.i/n),t.push(i.i/n),gm(r),gm(r.next),r=e=i),r=r.next}while(r!==e);return r}function Wbe(e,t,n,r,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Jbe(o,s)){var l=iG(o,s);o=vm(o,o.next),l=vm(l,l.next),pm(o,t,n,r,a,i),pm(l,t,n,r,a,i);return}s=s.next}o=o.next}while(o!==e)}function Ybe(e,t,n,r){var a=[],i,o,s,l,u;for(i=0,o=t.length;i<o;i++)s=t[i]*r,l=i<o-1?t[i+1]*r:e.length,u=rG(e,s,l,r,!1),u===u.next&&(u.steiner=!0),a.push(Qbe(u));for(a.sort(jbe),i=0;i<a.length;i++)Xbe(a[i],n),n=vm(n,n.next);return n}function jbe(e,t){return e.x-t.x}function Xbe(e,t){if(t=qbe(e,t),t){var n=iG(t,e);vm(n,n.next)}}function qbe(e,t){var n=t,r=e.x,a=e.y,i=-1/0,o;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>i){if(i=s,s===r){if(a===n.y)return n;if(a===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===i)return o.prev;var l=o,u=o.x,c=o.y,f=1/0,d;for(n=o.next;n!==l;)r>=n.x&&n.x>=u&&r!==n.x&&C_(a<c?r:i,a,u,c,a<c?i:r,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(r-n.x),(d<f||d===f&&n.x>o.x)&&mm(n,e)&&(o=n,f=d)),n=n.next;return o}function Zbe(e,t,n,r){var a=e;do a.z===null&&(a.z=qC(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,Kbe(a)}function Kbe(e){var t,n,r,a,i,o,s,l,u=1;do{for(n=e,e=null,i=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ,!!r);t++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,l--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;n=r}i.nextZ=null,u*=2}while(o>1);return e}function qC(e,t,n,r,a){return e=32767*(e-n)/a,t=32767*(t-r)/a,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Qbe(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e);return n}function C_(e,t,n,r,a,i,o,s){return(a-o)*(t-s)-(e-o)*(i-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(i-s)-(a-o)*(r-s)>=0}function Jbe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!ewe(e,t)&&mm(e,t)&&mm(t,e)&&twe(e,t)}function Ya(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Pc(e,t){return e.x===t.x&&e.y===t.y}function aG(e,t,n,r){return Pc(e,t)&&Pc(n,r)||Pc(e,r)&&Pc(n,t)?!0:Ya(e,t,n)>0!=Ya(e,t,r)>0&&Ya(n,r,e)>0!=Ya(n,r,t)>0}function ewe(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&aG(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function mm(e,t){return Ya(e.prev,e,e.next)<0?Ya(e,t,e.next)>=0&&Ya(e,e.prev,t)>=0:Ya(e,t,e.prev)<0||Ya(e,e.next,t)<0}function twe(e,t){var n=e,r=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&a<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function iG(e,t){var n=new ZC(e.i,e.x,e.y),r=new ZC(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function jk(e,t,n,r){var a=new ZC(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function gm(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ZC(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}nG.deviation=function(e,t,n,r){var a=t&&t.length,i=a?t[0]*n:e.length,o=Math.abs(KC(e,0,i,n));if(a)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;o-=Math.abs(KC(e,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,h=r[s+1]*n,v=r[s+2]*n;f+=Math.abs((e[d]-e[v])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[v+1]-e[d+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function KC(e,t,n,r){for(var a=0,i=t,o=n-r;i<n;i+=r)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}function tS(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function oG(e,t,n,r,a){var i=n,o=e[t];tS(e,t,r);for(var s=n;s<r;s++)a(e[s],o)<0&&(tS(e,s,i),i++);return tS(e,r,i),i}function A_(e,t,n,r){if(n<r){var a=Math.floor((n+r)/2),i=oG(e,a,n,r,t);A_(e,t,n,i-1),A_(e,t,i+1,r)}}function fh(){this._parts=[]}fh.prototype.step=function(e,t,n){var r=e.length;if(n===0){this._parts=[],this._sorted=!1;var a=Math.floor(r/2);this._parts.push({pivot:a,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var i=this._parts;if(i.length===0)return this._sorted=!0,!0;if(i.length<512){for(var o=0;o<i.length;o++)i[o].pivot=oG(e,i[o].pivot,i[o].left,i[o].right,t);for(var s=[],o=0;o<i.length;o++){var l=i[o].left,u=i[o].pivot-1;u>l&&s.push({pivot:Math.floor((u+l)/2),left:l,right:u});var l=i[o].pivot+1,u=i[o].right;u>l&&s.push({pivot:Math.floor((u+l)/2),left:l,right:u})}i=this._parts=s}else for(var o=0;o<Math.floor(i.length/10);o++){var c=i.length-1-this._currentSortPartIdx;if(A_(e,t,i[c].left,i[c].right),this._currentSortPartIdx++,this._currentSortPartIdx===i.length)return this._sorted=!0,!0}return!1}};fh.sort=A_;var zd=vr.vec3,Xk=zd.create(),qk=zd.create(),Zk=zd.create();const rD={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,t){var n=this.indices;if(t===0){var r=this.attributes.position,e=e.array;(!this._triangleZList||this._triangleZList.length!==this.triangleCount)&&(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var a=0,i,o=0;o<n.length;){r.get(n[o++],Xk),r.get(n[o++],qk),r.get(n[o++],Zk);var s=zd.sqrDist(Xk,e),l=zd.sqrDist(qk,e),u=zd.sqrDist(Zk,e),c=Math.min(s,l);c=Math.min(c,u),o===3?(i=c,c=0):c=c-i,this._triangleZList[a++]=c}}for(var f=this._sortedTriangleIndices,o=0;o<f.length;o++)f[o]=o;if(this.triangleCount<2e4)t===0&&this._simpleSort(!0);else for(var o=0;o<3;o++)this._progressiveQuickSort(t*3+o);for(var d=this._indicesTmp,h=this._triangleZListTmp,v=this._triangleZList,o=0;o<this.triangleCount;o++){var p=f[o]*3,m=o*3;d[m++]=n[p++],d[m++]=n[p++],d[m]=n[p],h[o]=v[f[o]]}var g=this._indicesTmp;this._indicesTmp=this.indices,this.indices=g;var g=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=g,this.dirtyIndices()},_simpleSort:function(e){var t=this._triangleZList,n=this._sortedTriangleIndices;function r(a,i){return t[i]-t[a]}e?Array.prototype.sort.call(n,r):fh.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(e){var t=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new fh,this._quickSort.step(n,function(r,a){return t[a]-t[r]},e)}};function nwe(e){const t=e.getVisual("style");if(t){const n=e.getVisual("drawType");return t[n]}}function rwe(e){return e.getVisual("style").opacity}function Ur(e,t){const n=e.getItemVisual(t,"style");if(n){const r=e.getVisual("drawType");return n[r]}}function Fr(e,t){const n=e.getItemVisual(t,"style");return n&&n.opacity}var sG=1,lG=2;function Tl(e,t,n){this._labelsMesh=new QE,this._labelTextureSurface=new S_({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}Tl.prototype.getLabelPosition=function(e,t,n){return[0,0,0]};Tl.prototype.getLabelDistance=function(e,t,n){return 0};Tl.prototype.getMesh=function(){return this._labelsMesh};Tl.prototype.updateData=function(e,t,n){t==null&&(t=0),n==null&&(n=e.count()),(!this._labelsVisibilitiesBits||this._labelsVisibilitiesBits.length!==n-t)&&(this._labelsVisibilitiesBits=new Uint8Array(n-t));for(var r=["label","show"],a=["emphasis","label","show"],i=t;i<n;i++){var o=e.getItemModel(i),s=o.get(r),l=o.get(a);l==null&&(l=s);var u=(s?sG:0)|(l?lG:0);this._labelsVisibilitiesBits[i-t]=u}this._start=t,this._end=n,this._data=e};Tl.prototype.updateLabels=function(e){if(this._data){e=e||[];for(var t=e.length>0,n={},r=0;r<e.length;r++)n[e[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var a=["label"],i=["emphasis","label"],o=this._data.hostModel,s=this._data,l=o.getModel(a),u=o.getModel(i,l),c={left:"right",right:"left",top:"center",bottom:"center"},f={left:"middle",right:"middle",top:"bottom",bottom:"top"},d=this._start;d<this._end;d++){var h=!1;t&&n[d]&&(h=!0);var v=this._labelsVisibilitiesBits[d-this._start]&(h?lG:sG);if(v){var p=s.getItemModel(d),m=p.getModel(h?i:a,h?u:l),g=m.get("distance")||0,y=m.get("position"),_=this._api.getDevicePixelRatio(),x=o.getFormattedLabel(d,h?"emphasis":"normal");if(x==null||x==="")return;var w=new rr({style:uo(m,{text:x,fill:m.get("color")||Ur(s,d)||"#000",align:"left",verticalAlign:"top",opacity:St.firstNotNull(m.get("opacity"),Fr(s,d),1)})}),b=w.getBoundingRect(),S=1.2;b.height*=S;var C=this._labelTextureSurface.add(w),A=c[y]||"center",M=f[y]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(d,y,g),[b.width*_,b.height*_],C,A,M,this.getLabelDistance(d,y,g)*_)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}};Tl.prototype.dispose=function(){this._labelTextureSurface.dispose()};var ti=vr.vec3;W.Shader.import(fx);function dh(e){this.rootNode=new W.Node,this._triangulationResults={},this._shadersMap=W.COMMON_SHADERS.filter(function(n){return n!=="shadow"}).reduce(function(n,r){return n[r]=W.createShader("ecgl."+r),n},{}),this._linesShader=W.createShader("ecgl.meshLines3D");var t={};W.COMMON_SHADERS.forEach(function(n){t[n]=new W.Material({shader:W.createShader("ecgl."+n)})}),this._groundMaterials=t,this._groundMesh=new W.Mesh({geometry:new W.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new Tl(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}dh.prototype={constructor:dh,extrudeY:!0,update:function(e,t,n,r,a){var i=e.getData();r==null&&(r=0),a==null&&(a=i.count()),this._startIndex=r,this._endIndex=a-1,this._triangulation(e,r,a);var o=this._getShader(e.get("shading"));this._prepareMesh(e,o,n,r,a),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,n,r,a);var s=e.coordinateSystem;s.type==="geo3D"&&this._updateGroundPlane(e,s,n);var l=this;this._labelsBuilder.updateData(i,r,a),this._labelsBuilder.getLabelPosition=function(u,c,f){var d=i.getName(u),h,v=f;if(s.type==="geo3D"){var p=s.getRegion(d);if(!p)return[NaN,NaN,NaN];h=p.getCenter();var m=s.dataToPoint([h[0],h[1],v]);return m}else var g=l._triangulationResults[u-l._startIndex],h=l.extrudeY?[(g.max[0]+g.min[0])/2,g.max[1]+v,(g.max[2]+g.min[2])/2]:[(g.max[0]+g.min[0])/2,(g.max[1]+g.min[1])/2,g.max[2]+v]},this._data=i,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this;function t(){var a=new W.Mesh({name:"Polygon",material:new W.Material({shader:e._shadersMap.lambert}),geometry:new W.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(a.geometry,rD),a}var n=t(),r=new W.Mesh({material:new W.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new Mf({useNativeLine:!1})});this.rootNode.add(n),this.rootNode.add(r),n.material.define("both","VERTEX_COLOR"),n.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=n,this._linesMesh=r,this.rootNode.add(this._groundMesh)},_getShader:function(e){var t=this._shadersMap[e];return t||(console.warn("Unkown shading "+e),t=this._shadersMap.lambert),t.__shading=e,t},_prepareMesh:function(e,t,n,r,a){for(var i=0,o=0,s=0,l=0,u=r;u<a;u++){var c=this._getRegionPolygonInfo(u),f=this._getRegionLinesInfo(u,e,this._linesMesh.geometry);i+=c.vertexCount,o+=c.triangleCount,s+=f.vertexCount,l+=f.triangleCount}var d=this._polygonMesh,h=d.geometry;["position","normal","texcoord0","color"].forEach(function(v){h.attributes[v].init(i)}),h.indices=i>65535?new Uint32Array(o*3):new Uint16Array(o*3),d.material.shader!==t&&d.material.attachShader(t,!0),W.setMaterialFromModel(t.__shading,d.material,e,n),s>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(s),this._linesMesh.geometry.setTriangleCount(l)),this._dataIndexOfVertex=new Uint32Array(i),this._vertexRangeOfDataIndex=new Uint32Array((a-r)*2)},_updateRegionMesh:function(e,t,n,r){for(var a=e.getData(),i=0,o=0,s=!1,b=this._polygonMesh,l=this._linesMesh,u=n;u<r;u++){var c=e.getRegionModel(u),f=c.getModel("itemStyle"),d=St.firstNotNull(Ur(a,u),f.get("color"),"#fff"),h=St.firstNotNull(Fr(a,u),f.get("opacity"),1),v=W.parseColor(d),p=W.parseColor(f.get("borderColor"));v[3]*=h,p[3]*=h;var m=v[3]<.99;b.material.set("color",[1,1,1,1]),s=s||m;for(var g=St.firstNotNull(c.get("height",!0),e.get("regionHeight")),y=this._updatePolygonGeometry(e,b.geometry,u,g,i,o,v),_=i;_<y.vertexOffset;_++)this._dataIndexOfVertex[_]=u;this._vertexRangeOfDataIndex[(u-n)*2]=i,this._vertexRangeOfDataIndex[(u-n)*2+1]=y.vertexOffset,i=y.vertexOffset,o=y.triangleOffset;var x=f.get("borderWidth"),w=x>0;w&&(x*=t.getDevicePixelRatio(),this._updateLinesGeometry(l.geometry,e,u,g,x,e.coordinateSystem.transform)),l.invisible=!w,l.material.set({color:p})}var b=this._polygonMesh;b.material.transparent=s,b.material.depthMask=!s,b.geometry.updateBoundingBox(),b.frontFace=this.extrudeY?W.Mesh.CCW:W.Mesh.CW,b.material.get("normalMap")&&b.geometry.generateTangents(),b.seriesIndex=e.seriesIndex,b.on("mousemove",this._onmousemove,this),b.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var t=e.getModel("debug.wireframe");if(t.get("show")){var n=W.parseColor(t.get("lineStyle.color")||"rgba(0,0,0,0.5)"),r=St.firstNotNull(t.get("lineStyle.width"),1),a=this._polygonMesh;a.geometry.generateBarycentric(),a.material.define("both","WIREFRAME_TRIANGLE"),a.material.set("wireframeLineColor",n),a.material.set("wireframeLineWidth",r)}},_onmousemove:function(e){var t=this._dataIndexOfVertex[e.triangle[0]];t==null&&(t=-1),t!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(t),this._labelsBuilder.updateLabels([t])),this._lastHoverDataIndex=t,this._polygonMesh.dataIndex=t},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,t,n){var r=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!r.get("show",!0),!this._groundMesh.invisible){var a=e.get("shading"),i=this._groundMaterials[a];i||(console.warn("Unkown shading "+a),i=this._groundMaterials.lambert),W.setMaterialFromModel(a,i,r,n),i.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=i,this._groundMesh.material.set("color",W.parseColor(r.get("color"))),this._groundMesh.scale.set(t.size[0],t.size[2],1)}},_triangulation:function(e,t,n){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],a=[-1/0,-1/0,-1/0],i=e.coordinateSystem,o=t;o<n;o++){for(var s=[],l=e.getRegionPolygonCoords(o),u=0;u<l.length;u++){var c=l[u].exterior,f=l[u].interiors,d=[],h=[];if(!(c.length<3)){for(var v=0,p=0;p<c.length;p++){var m=c[p];d[v++]=m[0],d[v++]=m[1]}for(var p=0;p<f.length;p++)if(!(f[p].length<3)){for(var g=d.length/2,y=0;y<f[p].length;y++){var m=f[p][y];d.push(m[0]),d.push(m[1])}h.push(g)}for(var _=nG(d,h),x=new Float64Array(d.length/2*3),w=[],b=[1/0,1/0,1/0],S=[-1/0,-1/0,-1/0],C=0,p=0;p<d.length;)ti.set(w,d[p++],0,d[p++]),i&&i.transform&&ti.transformMat4(w,w,i.transform),ti.min(b,b,w),ti.max(S,S,w),x[C++]=w[0],x[C++]=w[1],x[C++]=w[2];ti.min(r,r,b),ti.max(a,a,S),s.push({points:x,indices:_,min:b,max:S})}}this._triangulationResults.push(s)}this._geoBoundingBox=[r,a]},_getRegionPolygonInfo:function(e){for(var t=this._triangulationResults[e-this._startIndex],n=0,r=0,a=0;a<t.length;a++)n+=t[a].points.length/3,r+=t[a].indices.length/3;var i=n*2+n*4,o=r*2+n*2;return{vertexCount:i,triangleCount:o}},_updatePolygonGeometry:function(e,t,n,r,a,i,o){var s=e.get("projectUVOnGround"),l=t.attributes.position,u=t.attributes.normal,c=t.attributes.texcoord0,f=t.attributes.color,d=this._triangulationResults[n-this._startIndex],h=f.value&&o,v=t.indices,p=this.extrudeY?1:2,m=this.extrudeY?2:1,g=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=ti.mul([],this._geoBoundingBox[0],g),_=ti.mul([],this._geoBoundingBox[1],g),x=Math.max(_[0]-y[0],_[2]-y[2]);function w(Z,q,ce){for(var oe=Z.points,ae=oe.length,V=[],G=[],Q=0;Q<ae;Q+=3)V[0]=oe[Q],V[p]=q,V[m]=oe[Q+2],G[0]=(oe[Q]*g[0]-y[0])/x,G[1]=(oe[Q+2]*g[m]-y[2])/x,l.set(a,V),h&&f.set(a,o),c.set(a++,G)}function b(Z,q,ce){var oe=a;w(Z,q);for(var ae=Z.indices.length,V=0;V<ae;V++)v[i*3+V]=Z.indices[V]+oe;i+=Z.indices.length/3}for(var S=this.extrudeY?[0,1,0]:[0,0,1],C=ti.negate([],S),A=0;A<d.length;A++){var M=a,T=d[A];b(T,0),b(T,r);for(var E=T.points.length/3,P=0;P<E;P++)u.set(M+P,C),u.set(M+P+E,S);for(var I=[0,3,1,1,3,2],k=[[],[],[],[]],B=[],U=[],R=[],L=[],z=0,P=0;P<E;P++){for(var X=(P+1)%E,Y=(T.points[X*3]-T.points[P*3])*g[0],$=(T.points[X*3+2]-T.points[P*3+2])*g[m],F=Math.sqrt(Y*Y+$*$),N=0;N<4;N++){var H=N===0||N===3,K=(H?P:X)*3;k[N][0]=T.points[K],k[N][p]=N>1?r:0,k[N][m]=T.points[K+2],l.set(a+N,k[N]),s?(L[0]=(T.points[K]*g[0]-y[0])/x,L[1]=(T.points[K+2]*g[m]-y[m])/x):(L[0]=(H?z:z+F)/x,L[1]=(k[N][p]*g[p]-y[p])/x),c.set(a+N,L)}ti.sub(B,k[1],k[0]),ti.sub(U,k[3],k[0]),ti.cross(R,B,U),ti.normalize(R,R);for(var N=0;N<4;N++)u.set(a+N,R),h&&f.set(a+N,o);for(var N=0;N<6;N++)v[i*3+N]=I[N]+a;a+=4,i+=2,z+=F}}return t.dirty(),{vertexOffset:a,triangleOffset:i}},_getRegionLinesInfo:function(e,t,n){var r=0,a=0,i=t.getRegionModel(e),o=i.getModel("itemStyle"),s=o.get("borderWidth");if(s>0){var l=t.getRegionPolygonCoords(e);l.forEach(function(u){var c=u.exterior,f=u.interiors;r+=n.getPolylineVertexCount(c),a+=n.getPolylineTriangleCount(c);for(var d=0;d<f.length;d++)r+=n.getPolylineVertexCount(f[d]),a+=n.getPolylineTriangleCount(f[d])},this)}return{vertexCount:r,triangleCount:a}},_updateLinesGeometry:function(e,t,n,r,a,i){function o(u){for(var c=new Float64Array(u.length*3),f=0,d=[],h=0;h<u.length;h++)d[0]=u[h][0],d[1]=r+.1,d[2]=u[h][1],i&&ti.transformMat4(d,d,i),c[f++]=d[0],c[f++]=d[1],c[f++]=d[2];return c}var s=[1,1,1,1],l=t.getRegionPolygonCoords(n);l.forEach(function(u){var c=u.exterior,f=u.interiors;e.addPolyline(o(c),s,a);for(var d=0;d<f.length;d++)e.addPolyline(o(f[d]),s,a)})},highlight:function(e){var t=this._data;if(t){var n=t.getItemModel(e),r=n.getModel(["emphasis","itemStyle"]),a=r.get("color"),i=St.firstNotNull(r.get("opacity"),Fr(t,e),1);if(a==null){var o=Ur(t,e);a=Fp(o,-.4)}i==null&&(i=Fr(t,e));var s=W.parseColor(a);s[3]*=i,this._setColorOfDataIndex(t,e,s)}},downplay:function(e){var t=this._data;if(t){var n=t.getItemModel(e),r=St.firstNotNull(Ur(t,e),n.get(["itemStyle","color"]),"#fff"),a=St.firstNotNull(Fr(t,e),n.get(["itemStyle","opacity"]),1),i=W.parseColor(r);i[3]*=a,this._setColorOfDataIndex(t,e,i)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(e,t,n){if(!(t<this._startIndex&&t>this._endIndex)){t-=this._startIndex;for(var r=this._vertexRangeOfDataIndex[t*2];r<this._vertexRangeOfDataIndex[t*2+1];r++)this._polygonMesh.geometry.attributes.color.set(r,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const awe=Aa.extend({type:"geo3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new dh(t),this.groupGL=new W.Node,this._lightRoot=new W.Node,this._sceneHelper=new pu(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new ux({zr:t.getZr()}),this._control.init()},render:function(e,t,n){this.groupGL.add(this._geo3DBuilder.rootNode);var r=e.coordinateSystem;if(!(!r||!r.viewGL)){r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var a=this._control;a.setViewGL(r.viewGL);var i=e.getModel("viewControl");a.setFromViewControlModel(i,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,t,n,0,e.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(s){s.material&&s.material[o]("fragment","SRGB_DECODE")}),a.off("update"),a.on("update",function(){n.dispatchAction({type:"geo3DChangeCamera",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance(),center:a.getCenter(),from:this.uid,geo3DId:e.id})}),a.update()}},afterRender:function(e,t,n,r){var a=r.renderer;this._sceneHelper.updateAmbientCubemap(a,e,n),this._sceneHelper.updateSkybox(a,e,n)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var iwe={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function owe(e,t){if(e==="world"){var n=iwe[t.name];if(n){var r=[n[0],n[1]];t.setCenter(r)}}}var swe=vr.vec3,Pd=vr.mat4,lwe=[bie,owe];function E_(e,t,n,r,a){this.name=e,this.map=t,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,r,a),this.transform=Pd.identity(new Float64Array(16)),this.invTransform=Pd.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}E_.prototype={constructor:E_,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,t,n){var r=bI||bI;try{this.regions=e?r(e):[]}catch(u){throw`Invalid geoJson format
`+u}t=t||{},n=n||{};for(var a=this.regions,i={},o=0;o<a.length;o++){var s=a[o].name;s=n[s]||s,a[o].name=s,i[s]=a[o],this.addGeoCoord(s,a[o].getCenter());var l=t[s];l&&a[o].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=i,this._geoRect=null,lwe.forEach(function(u){u(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,t=this.regions,n=0;n<t.length;n++){var r=t[n].getBoundingRect();e=e||r.clone(),e.union(r)}return this._geoRect=e||new Wt(0,0,0,0)},addGeoCoord:function(e,t){this._nameCoordMap[e]=t},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},setSize:function(e,t,n){this.size=[e,t,n];var r=this.getGeoBoundingRect(),a=e/r.width,i=-n/r.height,o=-e/2-r.x*a,s=n/2-r.y*i,l=this.extrudeY?[o,0,s]:[o,s,0],u=this.extrudeY?[a,1,i]:[a,i,1],c=this.transform;Pd.identity(c),Pd.translate(c,c,l),Pd.scale(c,c,u),Pd.invert(this.invTransform,c)},dataToPoint:function(e,t){t=t||[];var n=this.extrudeY?1:2,r=this.extrudeY?2:1,a=e[2];return isNaN(a)&&(a=0),t[0]=e[0],t[r]=e[1],this.altitudeAxis?t[n]=this.altitudeAxis.dataToCoord(a):t[n]=0,t[n]+=this.regionHeight,swe.transformMat4(t,t,this.transform),t},pointToData:function(e,t){}};function uwe(e,t){var n=e.getBoxLayoutParams(),r=Fo(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio());var a=this.getGeoBoundingRect(),i=a.width/a.height*(e.get("aspectScale")||.75),o=e.get("boxWidth"),s=e.get("boxDepth"),l=e.get("boxHeight");l==null&&(l=5),isNaN(o)&&isNaN(s)&&(o=100),isNaN(s)?s=o/i:isNaN(o)&&(o=s/i),this.setSize(o,l,s),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(l-this.regionHeight,0))}function cwe(e,t){var n=[1/0,-1/0];if(e.eachSeries(function(a){if(a.coordinateSystem===this&&a.type!=="series.map3D"){var i=a.getData(),o=a.coordDimToDataDim("alt"),s=o&&o[0];if(s){var l=i.getDataExtent(s,!0);n[0]=Math.min(n[0],l[0]),n[1]=Math.max(n[1],l[1])}}},this),n&&isFinite(n[1]-n[0])){var r=VA(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new km("altitude",r),this.resize(this.model,t)}}var Kk=0,uG={dimensions:E_.prototype.dimensions,create:function(e,t){var n=[];if(!IT)throw new Error("geo3D component depends on geo component");function r(a,i){var o=uG.createGeo3D(a);a.__viewGL=a.__viewGL||new vn,o.viewGL=a.__viewGL,a.coordinateSystem=o,o.model=a,n.push(o),o.resize=uwe,o.resize(a,t),o.update=cwe}return e.eachComponent("geo3D",function(a,i){r(a)}),e.eachSeriesByType("map3D",function(a,i){var o=a.get("coordinateSystem");o==null&&(o="geo3D"),o==="geo3D"&&r(a)}),e.eachSeries(function(a){if(a.get("coordinateSystem")==="geo3D"){if(a.type==="series.map3D")return;var i=a.getReferringComponents("geo3D").models[0];if(i||(i=e.getComponent("geo3D")),!i)throw new Error('geo "'+St.firstNotNull(a.get("geo3DIndex"),a.get("geo3DId"),0)+'" not found');a.coordinateSystem=i.coordinateSystem}}),n},createGeo3D:function(e){var t=e.get("map"),n;if(typeof t=="string"?(n=t,t=IT(t)):t&&t.features&&(t={geoJson:t}),t||gTe(t),!t.geoJson.features)throw new Error("Invalid GeoJSON for map3D");return n==null&&(n="GEO_ANONYMOUS_"+Kk++),new E_(n+Kk++,n,t&&t.geoJson,t&&t.specialAreas,e.get("nameMap"))}};const cG=uG;function fG(e){e.registerComponentModel(zbe),e.registerComponentView(awe),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(t,n){n.eachComponent({mainType:"geo3D",query:t},function(r){r.setView(t)})}),e.registerCoordinateSystem("geo3D",cG)}wn(fG);function Qk(e,t){e.id=e.id||e.name||t+""}var ff=en.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){ff.superApply(this,"init",arguments),j(this.option.layers,function(e,t){Ze(e,this.defaultLayerOption),Qk(e,t)},this)},mergeOption:function(e){var t=this.option.layers;this.option.layers=null,ff.superApply(this,"mergeOption",arguments);function n(o){return _s(o,function(s,l,u){return Qk(l,u),s[l.id]=l,s},{})}if(t&&t.length){var r=n(e.layers),a=n(t);for(var i in r)a[i]?Ze(a[i],r[i],!0):t.push(e.layers[i]);this.option.layers=t}j(this.option.layers,function(o){Ze(o,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,t,n){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=n},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),t=this.get("displacementScale");return(!e||e==="none")&&(t=0),t},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),t=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==t,this._displacementTexture=e,this._displacementScale=t},isDisplacementChanged:function(){return this._displacementChanged}});Ze(ff.prototype,sx);Ze(ff.prototype,Vh);Ze(ff.prototype,Fh);Ze(ff.prototype,zh);const fwe=ff;var dG=Math.PI,ao=Math.sin,il=Math.cos,hG=Math.tan,vG=Math.asin,pG=Math.atan2,df=dG/180,dwe=1e3*60*60*24,hwe=2440588,vwe=2451545;function pwe(e){return e.valueOf()/dwe-.5+hwe}function mwe(e){return pwe(e)-vwe}var D_=df*23.4397;function gwe(e,t){return pG(ao(e)*il(D_)-hG(t)*ao(D_),il(e))}function ywe(e,t){return vG(ao(t)*il(D_)+il(t)*ao(D_)*ao(e))}function _we(e,t,n){return pG(ao(e),il(e)*ao(t)-hG(n)*il(t))}function xwe(e,t,n){return vG(ao(t)*ao(n)+il(t)*il(n)*il(e))}function bwe(e,t){return df*(280.16+360.9856235*e)-t}function wwe(e){return df*(357.5291+.98560028*e)}function Swe(e){var t=df*(1.9148*ao(e)+.02*ao(2*e)+3e-4*ao(3*e)),n=df*102.9372;return e+t+n+dG}function Twe(e){var t=wwe(e),n=Swe(t);return{dec:ywe(n,0),ra:gwe(n,0)}}var mG={};mG.getPosition=function(e,t,n){var r=df*-n,a=df*t,i=mwe(e),o=Twe(i),s=bwe(i,r)-o.ra;return{azimuth:_we(s,a,o.dec),altitude:xwe(s,a,o.dec)}};const Cwe=mG,Awe=`@export ecgl.atmosphere.vertex
attribute vec3 position: POSITION;
attribute vec3 normal : NORMAL;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;

varying vec3 v_Normal;

void main() {
 v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end


@export ecgl.atmosphere.fragment
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform float glowPower;
uniform vec3 glowColor;

varying vec3 v_Normal;

void main() {
 float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor = vec4(glowColor, intensity * intensity);
}
@end`;W.Shader.import(M$);W.Shader.import(Awe);const Ewe=Aa.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,t){this.groupGL=new W.Node,this._sphereGeometry=new W.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new W.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new W.PlaneGeometry,this._earthMesh=new W.Mesh({renderNormal:!0}),this._atmosphereMesh=new W.Mesh,this._atmosphereGeometry=new W.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new W.Material({shader:new W.Shader(W.Shader.source("ecgl.atmosphere.vertex"),W.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=W.Mesh.CW,this._lightRoot=new W.Node,this._sceneHelper=new pu,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new ux({zr:t.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,t,n){var r=e.coordinateSystem,a=e.get("shading");r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var i=this._earthMesh;i.geometry=this._sphereGeometry;var o="ecgl."+a;(!i.material||i.material.shader.name!==o)&&(i.material=W.createMaterial(o)),W.setMaterialFromModel(a,i.material,e,n),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(f){var d=i.material.get(f);d&&(d.flipY=!1)}),i.material.set("color",W.parseColor(e.get("baseColor")));var s=r.radius*.99;if(i.scale.set(s,s,s),e.get("atmosphere.show")){i.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),i.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var l=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(s+l,s+l,s+l)}else i.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var u=i.material.setTextureImage("diffuseMap",e.get("baseTexture"),n,{flipY:!1,anisotropic:8});u&&u.surface&&u.surface.attachToMesh(i);var c=i.material.setTextureImage("bumpMap",e.get("heightTexture"),n,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(i),i.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,n),this._displaceVertices(e,n),this._updateViewControl(e,n),this._updateLayers(e,n)},afterRender:function(e,t,n,r){var a=r.renderer;this._sceneHelper.updateAmbientCubemap(a,e,n),this._sceneHelper.updateSkybox(a,e,n)},_updateLayers:function(e,t){var n=e.coordinateSystem,r=e.get("layers"),a=n.radius,i=[],o=[],s=[],l=[];j(r,function(h){var v=new fr(h),p=v.get("type"),m=W.loadTexture(v.get("texture"),t,{flipY:!1,anisotropic:8});if(m.surface&&m.surface.attachToMesh(this._earthMesh),p==="blend"){var g=v.get("blendTo"),y=St.firstNotNull(v.get("intensity"),1);g==="emission"?(s.push(m),l.push(y)):(i.push(m),o.push(y))}else{var _=v.get("id"),x=this._layerMeshes[_];x||(x=this._layerMeshes[_]=new W.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var w=v.get("shading");w==="lambert"?(x.material=x.__lambertMaterial||new W.Material({autoUpdateTextureStatus:!1,shader:W.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),x.__lambertMaterial=x.material):(x.material=x.__colorMaterial||new W.Material({autoUpdateTextureStatus:!1,shader:W.createShader("ecgl.color"),transparent:!0,depthMask:!1}),x.__colorMaterial=x.material),x.material.enableTexture("diffuseMap");var b=v.get("distance"),S=a+(b??n.radius/100);x.scale.set(S,S,S),a=S;var C=this._blankTexture||(this._blankTexture=W.createBlankTexture("rgba(255, 255, 255, 0)"));x.material.set("diffuseMap",C),W.loadTexture(v.get("texture"),t,{flipY:!1,anisotropic:8},function(A){A.surface&&A.surface.attachToMesh(x),x.material.set("diffuseMap",A),t.getZr().refresh()}),v.get("show")?this.groupGL.add(x):this.groupGL.remove(x)}},this);var u=this._earthMesh.material;u.define("fragment","LAYER_DIFFUSEMAP_COUNT",i.length),u.define("fragment","LAYER_EMISSIVEMAP_COUNT",s.length),u.set("layerDiffuseMap",i),u.set("layerDiffuseIntensity",o),u.set("layerEmissiveMap",s),u.set("layerEmissionIntensity",l);var c=e.getModel("debug.wireframe");if(c.get("show")){u.define("both","WIREFRAME_TRIANGLE");var f=W.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)"),d=St.firstNotNull(c.get("lineStyle.width"),1);u.set("wireframeLineWidth",d),u.set("wireframeLineColor",f)}else u.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,t){var n=e.coordinateSystem,r=e.getModel("viewControl");n.viewGL.camera;var a=this;function i(){return{type:"globeChangeCamera",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance()-n.radius,center:o.getCenter(),from:a.uid,globeId:e.id}}var o=this._control;o.setViewGL(n.viewGL);var s=r.get("targetCoord"),l,u;s!=null&&(u=s[0]+90,l=s[1]),o.setFromViewControlModel(r,{baseDistance:n.radius,alpha:l,beta:u}),o.off("update"),o.on("update",function(){t.dispatchAction(i())})},_displaceVertices:function(e,t){var n=e.get("displacementQuality"),r=e.get("debug.wireframe.show"),a=e.coordinateSystem;if(!(!e.isDisplacementChanged()&&n===this._displacementQuality&&r===this._showDebugWireframe)){this._displacementQuality=n,this._showDebugWireframe=r;var i=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[n]||200,s=o/2;(i.widthSegments!==o||r)&&(i.widthSegments=o,i.heightSegments=s,i.build()),this._doDisplaceVertices(i,a),r&&i.generateBarycentric()}},_doDisplaceVertices:function(e,t){var n=e.attributes.position.value,r=e.attributes.texcoord0.value,a=e.__originalPosition;(!a||a.length!==n.length)&&(a=new Float32Array(n.length),a.set(n),e.__originalPosition=a);for(var i=t.displacementWidth,o=t.displacementHeight,s=t.displacementData,l=0;l<e.vertexCount;l++){var u=l*3,c=l*2,f=a[u+1],d=a[u+2],h=a[u+3],v=r[c++],p=r[c++],m=Math.round(v*(i-1)),g=Math.round(p*(o-1)),y=g*i+m,_=s?s[y]:0;n[u+1]=f+f*_,n[u+2]=d+d*_,n[u+3]=h+h*_}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,t){var n=this._earthMesh;this._sceneHelper.updateLight(e);var r=this._sceneHelper.mainLight,a=e.get("light.main.time")||new Date,i=Cwe.getPosition(Vo(a),0,0),o=Math.cos(i.altitude);r.position.y=-o*Math.cos(i.azimuth),r.position.x=Math.sin(i.altitude),r.position.z=o*Math.sin(i.azimuth),r.lookAt(n.getWorldPosition())},dispose:function(e,t){this.groupGL.removeAll(),this._control.dispose()}});var Dwe=vr.vec3;function M_(e){this.radius=e,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}M_.prototype={constructor:M_,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,t,n){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=n},_getDisplacementScale:function(e,t){var n=(e+180)/360*(this.displacementWidth-1),r=(90-t)/180*(this.displacementHeight-1),a=Math.round(n)+Math.round(r)*this.displacementWidth;return this.displacementData[a]},dataToPoint:function(e,t){var n=e[0],r=e[1],a=e[2]||0,i=this.radius;this.displacementData&&(i*=1+this._getDisplacementScale(n,r)),this.altitudeAxis&&(i+=this.altitudeAxis.dataToCoord(a)),n=n*Math.PI/180,r=r*Math.PI/180;var o=Math.cos(r)*i;return t=t||[],t[0]=-o*Math.cos(n+Math.PI),t[1]=Math.sin(r)*i,t[2]=o*Math.sin(n+Math.PI),t},pointToData:function(e,t){var n=e[0],r=e[1],a=e[2],i=Dwe.len(e);n/=i,r/=i,a/=i;var o=Math.asin(r),s=Math.atan2(a,-n);s<0&&(s=Math.PI*2+s);var l=o*180/Math.PI,u=s*180/Math.PI-180;return t=t||[],t[0]=u,t[1]=l,t[2]=i-this.radius,this.altitudeAxis&&(t[2]=this.altitudeAxis.coordToData(t[2])),t}};function Mwe(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),a=e.width,i=e.height;n.width=a,n.height=i,r.drawImage(e,0,0,a,i);for(var o=r.getImageData(0,0,a,i).data,s=new Float32Array(o.length/4),l=0;l<o.length/4;l++){var u=o[l*4];s[l]=u/255*t}return{data:s,width:a,height:i}}function Pwe(e,t){var n=e.getBoxLayoutParams(),r=Fo(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio()),this.radius=e.get("globeRadius");var a=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,a-this.radius)}function Lwe(e,t){var n=[1/0,-1/0];if(e.eachSeries(function(a){if(a.coordinateSystem===this){var i=a.getData(),o=a.coordDimToDataDim("alt"),s=o&&o[0];if(s){var l=i.getDataExtent(s,!0);n[0]=Math.min(n[0],l[0]),n[1]=Math.max(n[1],l[1])}}},this),n&&isFinite(n[1]-n[0])){var r=VA(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new km("altitude",r),this.resize(this.model,t)}}var Iwe={dimensions:M_.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("globe",function(r){r.__viewGL=r.__viewGL||new vn;var a=new M_;a.viewGL=r.__viewGL,r.coordinateSystem=a,a.model=r,n.push(a),a.resize=Pwe,a.resize(r,t),a.update=Lwe}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="globe"){var a=r.getReferringComponents("globe").models[0];if(a||(a=e.getComponent("globe")),!a)throw new Error('globe "'+St.firstNotNull(r.get("globe3DIndex"),r.get("globe3DId"),0)+'" not found');var i=a.coordinateSystem;r.coordinateSystem=i}}),e.eachComponent("globe",function(r,a){var i=r.coordinateSystem,o=r.getDisplacementTexture(),s=r.getDisplacemenScale();if(r.isDisplacementChanged()){if(r.hasDisplacement()){var l=!0;W.loadTexture(o,t,function(u){var c=u.image,f=Mwe(c,s);r.setDisplacementData(f.data,f.width,f.height),l||t.dispatchAction({type:"globeUpdateDisplacment"})}),l=!1}else i.setDisplacementData(null,0,0);i.setDisplacementData(r.displacementData,r.displacementWidth,r.displacementHeight)}}),n}};const Rwe=Iwe;function Owe(e){e.registerComponentModel(fwe),e.registerComponentView(Ewe),e.registerCoordinateSystem("globe",Rwe),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(t,n){n.eachComponent({mainType:"globe",query:t},function(r){r.setView(t)})}),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(t,n){})}wn(Owe);var Jk=["zoom","center","pitch","bearing"],aD=en.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return Jk.reduce(function(t,n){return t[n]=e.get(n),t},{})},setMapboxCameraOption:function(e){e!=null&&Jk.forEach(function(t){e[t]!=null&&(this.option[t]=e[t])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});Ze(aD.prototype,Vh);Ze(aD.prototype,Fh);const kwe=aD;function Cu(e,t){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}Cu.prototype.setUnpainted=function(){};Cu.prototype.resize=function(){this._mapbox.resize()};Cu.prototype.getMapbox=function(){return this._mapbox};Cu.prototype.clear=function(){};Cu.prototype.refresh=function(){this._mapbox.resize()};var gG=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];Cu.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},gG.forEach(function(t){this._handlers[t]=function(n){var r={};for(var a in n)r[a]=n[a];r.bubbles=!1;var i=new n.constructor(n.type,r);e.dispatchEvent(i)},this.zr.dom.addEventListener(t,this._handlers[t])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)};Cu.prototype.dispose=function(){gG.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this)};const yG=`
@export ecgl.displayShadow.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes

varying vec3 v_WorldPosition;

varying vec3 v_Normal;

void main()
{
 @import ecgl.common.uv.main
 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);

 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}

@end


@export ecgl.displayShadow.fragment

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform float roughness: 0.2;

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

@import ecgl.common.ssaoMap.header

@import clay.plugin.compute_shadow_map

void main()
{
 float shadow = 1.0;

 @import ecgl.common.ssaoMap.main

#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
 for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {
 shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);
 }
#endif

 shadow *= 0.5 + ao * 0.5;
 shadow = clamp(shadow, 0.0, 1.0);

 gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);
}

@end`;W.Shader.import(yG);const Nwe=Aa.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,t){var n=t.getZr();this._zrLayer=new Cu("mapbox3D",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new W.Node,this._sceneHelper=new pu(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),a=this._dispatchInteractAction.bind(this,t,r);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(i){r.on(i,a)}),this._groundMesh=new W.Mesh({geometry:new W.PlaneGeometry,material:new W.Material({shader:new W.Shader({vertex:W.Shader.source("ecgl.displayShadow.vertex"),fragment:W.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,t,n){var r=this._zrLayer.getMapbox(),a=e.get("style"),i=JSON.stringify(a);i!==this._oldStyleStr&&a&&r.setStyle(a),this._oldStyleStr=i,r.setCenter(e.get("center")),r.setZoom(e.get("zoom")),r.setPitch(e.get("pitch")),r.setBearing(e.get("bearing")),e.setMapbox(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,t,n,r){var a=r.renderer;this._sceneHelper.updateAmbientCubemap(a,e,n),this._sceneHelper.updateSkybox(a,e,n),e.coordinateSystem.viewGL.scene.traverse(function(i){i.material&&(i.material.define("fragment","NORMAL_UP_AXIS",2),i.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,t,n,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(e,t,n){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:t.getPitch(),zoom:t.getZoom(),center:t.getCenter().toArray(),bearing:t.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var n=new W.Plane(new W.Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new W.Vector2(-1,-1)),a=e.viewGL.camera.castRay(new W.Vector2(1,1)),i=r.intersectPlane(n),o=a.intersectPlane(n),s=i.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}});var Hl=vr.mat4,Rv=512,nS=.6435011087932844,ni=Math.PI,gd=1/10;function hh(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}hh.prototype={constructor:hh,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,Rv)),this._initialZoom==null&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(nS/2)*this.height*gd,t=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=nS/2,r=Math.PI/2+t,a=Math.sin(n)*e/Math.sin(Math.PI-r-n),i=Math.cos(Math.PI/2-t)*a+e,o=i*1.1;this.pitch>50&&(o=1e3);var s=[];Hl.perspective(s,nS,this.width/this.height,1,o),this.viewGL.camera.projectionMatrix.setArray(s),this.viewGL.camera.decomposeProjectionMatrix();var s=Hl.identity([]),l=this.dataToPoint(this.center);Hl.scale(s,s,[1,-1,1]),Hl.translate(s,s,[0,0,-e]),Hl.rotateX(s,s,t),Hl.rotateZ(s,s,-this.bearing/180*Math.PI),Hl.translate(s,s,[-l[0]*this.getScale()*gd,-l[1]*this.getScale()*gd,0]),this.viewGL.camera.viewMatrix.array=s;var u=[];Hl.invert(u,s),this.viewGL.camera.worldTransform.array=u,this.viewGL.camera.decomposeWorldTransform();var c=Rv*this.getScale(),f;if(this.altitudeExtent&&!isNaN(this.boxHeight)){var d=this.altitudeExtent[1]-this.altitudeExtent[0];f=this.boxHeight/d*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else f=c/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*gd;this.viewGL.rootNode.scale.set(this.getScale()*gd,this.getScale()*gd,f)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,t){return this.projectOnTileWithScale(e,this.getScale()*Rv,t)},projectOnTileWithScale:function(e,t,n){var r=e[0],a=e[1],i=r*ni/180,o=a*ni/180,s=t*(i+ni)/(2*ni),l=t*(ni-Math.log(Math.tan(ni/4+o*.5)))/(2*ni);return n=n||[],n[0]=s,n[1]=l,n},unprojectFromTile:function(e,t){return this.unprojectOnTileWithScale(e,this.getScale()*Rv,t)},unprojectOnTileWithScale:function(e,t,n){var r=e[0],a=e[1],i=r/t*(2*ni)-ni,o=2*(Math.atan(Math.exp(ni-a/t*(2*ni)))-ni/4);return n=n||[],n[0]=i*180/ni,n[1]=o*180/ni,n},dataToPoint:function(e,t){return t=this.projectOnTileWithScale(e,Rv,t),t[0]-=this._origin[0],t[1]-=this._origin[1],t[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(t[2]=e[2],this.altitudeExtent&&(t[2]-=this.altitudeExtent[0])),t}};function ym(){hh.apply(this,arguments)}ym.prototype=new hh;ym.prototype.constructor=ym;ym.prototype.type="mapbox3D";function _G(e,t,n){function r(i,o){var s=o.getWidth(),l=o.getHeight(),u=o.getDevicePixelRatio();this.viewGL.setViewport(0,0,s,l,u),this.width=s,this.height=l,this.altitudeScale=i.get("altitudeScale"),this.boxHeight=i.get("boxHeight")}function a(i,o){if(this.model.get("boxHeight")!=="auto"){var s=[1/0,-1/0];i.eachSeries(function(l){if(l.coordinateSystem===this){var u=l.getData(),c=l.coordDimToDataDim("alt")[0];if(c){var f=u.getDataExtent(c,!0);s[0]=Math.min(s[0],f[0]),s[1]=Math.max(s[1],f[1])}}},this),s&&isFinite(s[1]-s[0])&&(this.altitudeExtent=s)}}return{dimensions:t.prototype.dimensions,create:function(i,o){var s=[];return i.eachComponent(e,function(l){var u=l.__viewGL;u||(u=l.__viewGL=new vn,u.setRootNode(new W.Node));var c=new t;c.viewGL=l.__viewGL,c.resize=r,c.resize(l,o),s.push(c),l.coordinateSystem=c,c.model=l,c.update=a}),i.eachSeries(function(l){if(l.get("coordinateSystem")===e){var u=l.getReferringComponents(e).models[0];if(u||(u=i.getComponent(e)),!u)throw new Error(e+' "'+St.firstNotNull(l.get(e+"Index"),l.get(e+"Id"),0)+'" not found');l.coordinateSystem=u.coordinateSystem}}),n&&n(s,i,o),s}}}var Bwe=_G("mapbox3D",ym,function(e){e.forEach(function(t){t.setCameraOption(t.model.getMapboxCameraOption())})});const Vwe=Bwe;function Fwe(e){e.registerComponentModel(kwe),e.registerComponentView(Nwe),e.registerCoordinateSystem("mapbox3D",Vwe),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(t,n){n.eachComponent({mainType:"mapbox3D",query:t},function(r){r.setMapboxCameraOption(t)})})}wn(Fwe);var eN=["zoom","center","pitch","bearing"],iD=en.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return eN.reduce(function(t,n){return t[n]=e.get(n),t},{})},setMaptalksCameraOption:function(e){e!=null&&eN.forEach(function(t){e[t]!=null&&(this.option[t]=e[t])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});Ze(iD.prototype,Vh);Ze(iD.prototype,Fh);const Uwe=iD;function Au(e,t,n,r){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:r,doubleClickZoom:!1,fog:!1}),this._initEvents()}Au.prototype.setUnpainted=function(){};Au.prototype.resize=function(){this._maptalks.checkSize()};Au.prototype.getMaptalks=function(){return this._maptalks};Au.prototype.clear=function(){};Au.prototype.refresh=function(){this._maptalks.checkSize()};var xG=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];Au.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},xG.forEach(function(t){this._handlers[t]=function(n){var r={};for(var a in n)r[a]=n[a];r.bubbles=!1;var i=new n.constructor(n.type,r);t==="mousewheel"||t==="DOMMouseScroll"?e.dispatchEvent(i):e.firstElementChild.dispatchEvent(i)},this.zr.dom.addEventListener(t,this._handlers[t])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)};Au.prototype.dispose=function(){xG.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this),this._maptalks.remove()};W.Shader.import(yG);const zwe=Aa.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,t){this._groundMesh=new W.Mesh({geometry:new W.PlaneGeometry,material:new W.Material({shader:new W.Shader({vertex:W.Shader.source("ecgl.displayShadow.vertex"),fragment:W.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,t){var n=t.getZr();this._zrLayer=new Au("maptalks3D",n,e.get("center"),e.get("zoom")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new W.Node,this._sceneHelper=new pu(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),a=this._dispatchInteractAction.bind(this,t,r);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach(function(i){r.on(i,a)})},render:function(e,t,n){this._zrLayer||this._initMaptalksLayer(e,n);var r=this._zrLayer.getMaptalks(),a=e.get("urlTemplate"),i=r.getBaseLayer();a!==this._oldUrlTemplate&&(i?i.setOptions({urlTemplate:a,attribution:e.get("attribution")}):(i=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:a,subdomains:["a","b","c"],attribution:e.get("attribution")}),r.setBaseLayer(i))),this._oldUrlTemplate=a,r.setCenter(e.get("center")),r.setZoom(e.get("zoom"),{animation:!1}),r.setPitch(e.get("pitch")),r.setBearing(e.get("bearing")),e.setMaptalks(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,t,n,r){var a=r.renderer;this._sceneHelper.updateAmbientCubemap(a,e,n),this._sceneHelper.updateSkybox(a,e,n),e.coordinateSystem.viewGL.scene.traverse(function(i){i.material&&(i.material.define("fragment","NORMAL_UP_AXIS",2),i.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,t,n,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(e,t,n){e.dispatchAction({type:"maptalks3DChangeCamera",pitch:t.getPitch(),zoom:$we(t.getResolution())+1,center:t.getCenter().toArray(),bearing:t.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var n=new W.Plane(new W.Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new W.Vector2(-1,-1)),a=e.viewGL.camera.castRay(new W.Vector2(1,1)),i=r.intersectPlane(n),o=a.intersectPlane(n),s=i.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}}),Hwe=2*6378137*Math.PI/(256*Math.pow(2,20));function $we(e){return 19-Math.log(e/Hwe)/Math.LN2}function _m(){hh.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}_m.prototype=new hh;_m.prototype.constructor=_m;_m.prototype.type="maptalks3D";var Gwe=_G("maptalks3D",_m,function(e){e.forEach(function(t){t.setCameraOption(t.model.getMaptalksCameraOption())})});const Wwe=Gwe;function Ywe(e){e.registerComponentModel(Uwe),e.registerComponentView(zwe),e.registerCoordinateSystem("maptalks3D",Wwe),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(t,n){n.eachComponent({mainType:"maptalks3D",query:t},function(r){r.setMaptalksCameraOption(t)})})}wn(Ywe);var jwe=vr.vec3,Xwe=BA.isDimensionStacked;function qwe(e){var t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function Zwe(e,t){var n=e.getData(),r=e.get("barSize");if(r==null){var a=t.size,i,o,s=t.getAxis("x"),l=t.getAxis("y");s.type==="category"?i=s.getBandWidth()*.7:i=Math.round(a[0]/Math.sqrt(n.count()))*.6,l.type==="category"?o=l.getBandWidth()*.7:o=Math.round(a[1]/Math.sqrt(n.count()))*.6,r=[i,o]}else Be(r)||(r=[r,r]);var u=t.getAxis("z").scale.getExtent(),c=qwe(u),f=["x","y","z"].map(function(v){return e.coordDimToDataDim(v)[0]}),d=Xwe(n,f[2]),h=d?n.getCalculationInfo("stackResultDimension"):f[2];n.each(f,function(v,p,m,g){var y=n.get(h,g),_=d?y-m:c?0:u[0],x=t.dataToPoint([v,p,_]),w=t.dataToPoint([v,p,y]),b=jwe.dist(x,w),S=[0,w[1]<x[1]?-1:1,0];Math.abs(b)===0&&(b=.1);var C=[r[0],b,r[1]];n.setItemLayout(g,[x,S,C])}),n.setLayout("orient",[1,0,0])}function oD(e,t,n){for(var r=e.getDataExtent(t),a=e.getDataExtent(n),i=r[1]-r[0]||r[0],o=a[1]-a[0]||a[0],s=50,l=new Uint8Array(s*s),u=0;u<e.count();u++){var c=e.get(t,u),f=e.get(n,u),d=Math.floor((c-r[0])/i*(s-1)),h=Math.floor((f-a[0])/o*(s-1)),v=h*s+d;l[v]=l[v]||1}for(var p=0,u=0;u<l.length;u++)l[u]&&p++;return p/l.length}var tN=vr.vec3,Kwe=BA.isDimensionStacked;function Qwe(e,t){var n=e.getData(),r=e.get("minHeight")||0,a=e.get("barSize"),i=["lng","lat","alt"].map(function(u){return e.coordDimToDataDim(u)[0]});if(a==null){var o=t.radius*Math.PI,s=oD(n,i[0],i[1]);a=[o/Math.sqrt(n.count()/s),o/Math.sqrt(n.count()/s)]}else Be(a)||(a=[a,a]);var l=sD(n,i);n.each(i,function(u,c,f,d){var h=n.get(l.dimension,d),v=l.isStacked?h-f:t.altitudeAxis.scale.getExtent()[0],p=Math.max(t.altitudeAxis.dataToCoord(f),r),m=t.dataToPoint([u,c,v]),g=t.dataToPoint([u,c,h]),y=tN.sub([],g,m);tN.normalize(y,y);var _=[a[0],p,a[1]];n.setItemLayout(d,[m,y,_])}),n.setLayout("orient",Ne.UP.array)}function Jwe(e,t){var n=e.getData(),r=e.get("barSize"),a=e.get("minHeight")||0,i=["lng","lat","alt"].map(function(c){return e.coordDimToDataDim(c)[0]});if(r==null){var o=Math.min(t.size[0],t.size[2]),s=oD(n,i[0],i[1]);r=[o/Math.sqrt(n.count()/s),o/Math.sqrt(n.count()/s)]}else Be(r)||(r=[r,r]);var l=[0,1,0],u=sD(n,i);n.each(i,function(c,f,d,h){var v=n.get(u.dimension,h),p=u.isStacked?v-d:t.altitudeAxis.scale.getExtent()[0],m=Math.max(t.altitudeAxis.dataToCoord(d),a),g=t.dataToPoint([c,f,p]),y=[r[0],m,r[1]];n.setItemLayout(h,[g,l,y])}),n.setLayout("orient",[1,0,0])}function eSe(e,t){var n=e.getData(),r=e.coordDimToDataDim("lng")[0],a=e.coordDimToDataDim("lat")[0],i=e.coordDimToDataDim("alt")[0],o=e.get("barSize"),s=e.get("minHeight")||0;if(o==null){var l=n.getDataExtent(r),u=n.getDataExtent(a),c=t.dataToPoint([l[0],u[0]]),f=t.dataToPoint([l[1],u[1]]),d=Math.min(Math.abs(c[0]-f[0]),Math.abs(c[1]-f[1]))||1,h=oD(n,r,a);o=[d/Math.sqrt(n.count()/h),d/Math.sqrt(n.count()/h)]}else Be(o)||(o=[o,o]),o[0]/=t.getScale()/16,o[1]/=t.getScale()/16;var v=[0,0,1],p=[r,a,i],m=sD(n,p);n.each(p,function(g,y,_,x){var w=n.get(m.dimension,x),b=m.isStacked?w-_:0,S=t.dataToPoint([g,y,b]),C=t.dataToPoint([g,y,w]),A=Math.max(C[2]-S[2],s),M=[o[0],A,o[1]];n.setItemLayout(x,[S,v,M])}),n.setLayout("orient",[1,0,0])}function sD(e,t){var n=Kwe(e,t[2]);return{dimension:n?e.getCalculationInfo("stackResultDimension"):t[2],isStacked:n}}function tSe(e){e.registerLayout(function(t,n){t.eachSeriesByType("bar3D",function(r){var a=r.coordinateSystem,i=a&&a.type;if(i==="globe")Qwe(r,a);else if(i==="cartesian3D")Zwe(r,a);else if(i==="geo3D")Jwe(r,a);else if(i==="mapbox3D"||i==="maptalks3D")eSe(r,a);else throw a?new Error("bar3D doesn't support coordinate system "+a.type):new Error("bar3D doesn't have coordinate system.")})})}var lD={};lD.getFormattedLabel=function(e,t,n,r,a){n=n||"normal";var i=e.getData(r),o=i.getItemModel(t),s=e.getDataParams(t,r);a!=null&&s.value instanceof Array&&(s.value=s.value[a]);var l=o.get(n==="normal"?["label","formatter"]:["emphasis","label","formatter"]);l==null&&(l=o.get(["label","formatter"]));var u;return typeof l=="function"?(s.status=n,u=l(s)):typeof l=="string"&&(u=vA(l,s)),u};lD.normalizeToArray=function(e){return e instanceof Array?e:e==null?[]:[e]};const $h=lD;function nSe(e,t){var n=[];return j(e.dimensions,function(r){var a=e.getDimensionInfo(r),i=a.otherDims,o=i[t];o!=null&&o!==!1&&(n[o]=a.name)}),n}function Wm(e,t,n){function r(f){var d=[],h=nSe(a,"tooltip");h.length?j(h,function(p){v(a.get(p,t),p)}):j(f,v);function v(p,m){var g=a.getDimensionInfo(m);if(!(!g||g.otherDims.tooltip===!1)){var y=g.type,_="- "+(g.tooltipName||g.name)+": "+(y==="ordinal"?p+"":y==="time"?n?"":ZQ("yyyy/MM/dd hh:mm:ss",p):G0(p));_&&d.push(qr(_))}}return"<br/>"+d.join("<br/>")}var a=e.getData(),i=e.getRawValue(t),o=Be(i)?r(i):qr(G0(i)),s=a.getName(t),l=Ur(a,t);lt(l)&&l.colorStops&&(l=(l.colorStops[0]||{}).color),l=l||"transparent";var u=FF(l),c=e.name;return c==="\0-"&&(c=""),c=c?qr(c)+(n?": ":"<br/>"):"",n?u+c+o:c+u+(s?qr(s)+": "+o:o)}function dx(e,t,n){n=n||e.getSource();var r=t||Y5(e.get("coordinateSystem"))||["x","y","z"],a=Im(n,{dimensionsDefine:n.dimensionsDefine||e.get("dimensions"),encodeDefine:n.encodeDefine||e.get("encode"),coordDimensions:r.map(function(s){var l=e.getReferringComponents(s+"Axis3D").models[0];return{type:l&&l.get("type")==="category"?"ordinal":"float",name:s}})});e.get("coordinateSystem")==="cartesian3D"&&a.forEach(function(s){if(r.indexOf(s.coordDim)>=0){var l=e.getReferringComponents(s.coordDim+"Axis3D").models[0];l&&l.get("type")==="category"&&(s.ordinalMeta=l.getOrdinalMeta())}});var i=BA.enableDataStack(e,a,{byIndex:!0,stackedCoordDimension:"z"}),o=new co(a,e);return o.setCalculationInfo(i),o.initData(n),o}var bG=$r.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,t){return dx(this)},getFormattedLabel:function(e,t,n,r){var a=$h.getFormattedLabel(this,e,t,n,r);return a==null&&(a=this.getData().get("z",e)),a},formatTooltip:function(e){return Wm(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});Ze(bG.prototype,zh);const rSe=bG;var Jn=vr.vec3,aSe=vr.mat3,uD=Gt.extend(function(){return{attributes:{position:new Gt.Attribute("position","float",3,"POSITION"),normal:new Gt.Attribute("normal","float",3,"NORMAL"),color:new Gt.Attribute("color","float",4,"COLOR"),prevPosition:new Gt.Attribute("prevPosition","float",3),prevNormal:new Gt.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var t=this.enableNormal,n=this.getBarVertexCount()*e,r=this.getBarTriangleCount()*e;this.vertexCount!==n&&(this.attributes.position.init(n),t?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(r*3):new Uint16Array(r*3),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return(e+1)*4*(e+1)*2},_getBevelBarTriangleCount:function(e){var t=e*4+3,n=e*2+1;return(t+1)*n*2+4},setColor:function(e,t){for(var n=this.getBarVertexCount(),r=n*e,a=n*(e+1),i=r;i<a;i++)this.attributes.color.set(i,t);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=Jn.create,t=Jn.scaleAndAdd,n=e(),r=e(),a=e(),i=e(),o=e(),s=e(),l=e(),u=[],c=[],f=0;f<8;f++)u[f]=e();for(var d=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],h=[0,1,2,0,2,3],v=[],f=0;f<d.length;f++)for(var p=d[f],m=0;m<2;m++){for(var g=[],y=0;y<3;y++)g.push(p[h[m*3+y]]);v.push(g)}return function(_,x,w,b,S,C){var A=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(_,x,w,b,this.bevelSize,this.bevelSegments,S);else{Jn.copy(a,x),Jn.normalize(a,a),Jn.cross(i,w,a),Jn.normalize(i,i),Jn.cross(r,a,i),Jn.normalize(i,i),Jn.negate(o,r),Jn.negate(s,a),Jn.negate(l,i),t(u[0],_,r,b[0]/2),t(u[0],u[0],i,b[2]/2),t(u[1],_,r,b[0]/2),t(u[1],u[1],l,b[2]/2),t(u[2],_,o,b[0]/2),t(u[2],u[2],l,b[2]/2),t(u[3],_,o,b[0]/2),t(u[3],u[3],i,b[2]/2),t(n,_,a,b[1]),t(u[4],n,r,b[0]/2),t(u[4],u[4],i,b[2]/2),t(u[5],n,r,b[0]/2),t(u[5],u[5],l,b[2]/2),t(u[6],n,o,b[0]/2),t(u[6],u[6],l,b[2]/2),t(u[7],n,o,b[0]/2),t(u[7],u[7],i,b[2]/2);var M=this.attributes;if(this.enableNormal){c[0]=r,c[1]=o,c[2]=a,c[3]=s,c[4]=i,c[5]=l;for(var T=this._vertexOffset,E=0;E<d.length;E++){for(var P=this._triangleOffset*3,I=0;I<6;I++)this.indices[P++]=T+h[I];T+=4,this._triangleOffset+=2}for(var E=0;E<d.length;E++)for(var k=c[E],I=0;I<4;I++){var B=d[E][I];M.position.set(this._vertexOffset,u[B]),M.normal.set(this._vertexOffset,k),M.color.set(this._vertexOffset++,S)}}else{for(var E=0;E<v.length;E++){for(var P=this._triangleOffset*3,I=0;I<3;I++)this.indices[P+I]=v[E][I]+this._vertexOffset;this._triangleOffset++}for(var E=0;E<u.length;E++)M.position.set(this._vertexOffset,u[E]),M.color.set(this._vertexOffset++,S)}}for(var U=this._vertexOffset,E=A;E<U;E++)this._dataIndices[E]=C}}(),_addBevelBar:function(){var e=Jn.create(),t=Jn.create(),n=Jn.create(),r=aSe.create(),a=[],i=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(l,u,c,f,d,h,v){Jn.copy(t,u),Jn.normalize(t,t),Jn.cross(n,c,t),Jn.normalize(n,n),Jn.cross(e,t,n),Jn.normalize(n,n),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r[6]=n[0],r[7]=n[1],r[8]=n[2],d=Math.min(f[0],f[2])/2*d;for(var p=0;p<3;p++)a[p]=Math.max(f[p]-d*2,0);for(var m=(f[0]-a[0])/2,g=(f[1]-a[1])/2,y=(f[2]-a[2])/2,_=[],x=[],w=this._vertexOffset,b=[],p=0;p<2;p++){b[p]=b[p]=[];for(var S=0;S<=h;S++)for(var C=0;C<4;C++){(S===0&&p===0||p===1&&S===h)&&b[p].push(w);for(var A=0;A<=h;A++){var M=A/h*Math.PI/2+Math.PI/2*C,T=S/h*Math.PI/2+Math.PI/2*p;x[0]=m*Math.cos(M)*Math.sin(T),x[1]=g*Math.cos(T),x[2]=y*Math.sin(M)*Math.sin(T),_[0]=x[0]+i[C]*a[0]/2,_[1]=x[1]+g+s[p]*a[1]/2,_[2]=x[2]+o[C]*a[2]/2,Math.abs(m-g)<1e-6&&Math.abs(g-y)<1e-6||(x[0]/=m*m,x[1]/=g*g,x[2]/=y*y),Jn.normalize(x,x),Jn.transformMat3(_,_,r),Jn.transformMat3(x,x,r),Jn.add(_,_,l),this.attributes.position.set(w,_),this.enableNormal&&this.attributes.normal.set(w,x),this.attributes.color.set(w,v),w++}}}for(var E=h*4+3,P=h*2+1,I=E+1,C=0;C<P;C++)for(var p=0;p<=E;p++){var k=C*I+p+this._vertexOffset,B=C*I+(p+1)%I+this._vertexOffset,U=(C+1)*I+(p+1)%I+this._vertexOffset,R=(C+1)*I+p+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[U,k,B]),this.setTriangleIndices(this._triangleOffset++,[U,R,k])}this.setTriangleIndices(this._triangleOffset++,[b[0][0],b[0][2],b[0][1]]),this.setTriangleIndices(this._triangleOffset++,[b[0][0],b[0][3],b[0][2]]),this.setTriangleIndices(this._triangleOffset++,[b[1][0],b[1][1],b[1][2]]),this.setTriangleIndices(this._triangleOffset++,[b[1][0],b[1][2],b[1][3]]),this._vertexOffset=w}}()});Ft(uD.prototype,$m);Ft(uD.prototype,rD);const iSe=uD;var oSe=vr.vec3;const sSe=Sr.extend({type:"bar3D",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._api=t,this._labelsBuilder=new Tl(256,256,t);var n=this;this._labelsBuilder.getLabelPosition=function(r,a,i){if(n._data){var o=n._data.getItemLayout(r),s=o[0],l=o[1],u=o[2][1];return oSe.scaleAndAdd([],s,l,i+u)}else return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,t,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new W.Mesh({geometry:new iSe,shadowDepthMaterial:new W.Material({shader:new W.Shader(W.Shader.source("ecgl.sm.depth.vertex"),W.Shader.source("ecgl.sm.depth.fragment"))}),culling:e.coordinateSystem.type==="cartesian3D",renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var a=e.coordinateSystem;if(this._doRender(e,n),a&&a.viewGL){a.viewGL.add(this.groupGL);var i=a.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[i]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){W.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,t){var n=e.getData(),r=e.get("shading"),a=r!=="color",i=this,o=this._barMesh,s="ecgl."+r;(!o.material||o.material.shader.name!==s)&&(o.material=W.createMaterial(s,["VERTEX_COLOR"])),W.setMaterialFromModel(r,o.material,e,t),o.geometry.enableNormal=a,o.geometry.resetOffset();var l=e.get("bevelSize"),u=e.get("bevelSmoothness");o.geometry.bevelSegments=u,o.geometry.bevelSize=l;var c=[],f=new Float32Array(n.count()*4),d=0,m=0,h=!1;n.each(function(y){if(n.hasValue(y)){var _=Ur(n,y),x=Fr(n,y);x==null&&(x=1),W.parseColor(_,c),c[3]*=x,f[d++]=c[0],f[d++]=c[1],f[d++]=c[2],f[d++]=c[3],c[3]>0&&(m++,c[3]<.99&&(h=!0))}}),o.geometry.setBarCount(m);var v=n.getLayout("orient"),p=this._barIndexOfData=new Int32Array(n.count()),m=0;n.each(function(y){if(!n.hasValue(y)){p[y]=-1;return}var _=n.getItemLayout(y),x=_[0],w=_[1],b=_[2],S=y*4;c[0]=f[S++],c[1]=f[S++],c[2]=f[S++],c[3]=f[S++],c[3]>0&&(i._barMesh.geometry.addBar(x,w,v,b,c,y),p[y]=m++)}),o.geometry.dirty(),o.geometry.updateBoundingBox();var g=o.material;g.transparent=h,g.depthMask=!h,o.geometry.sortTriangles=h,this._initHandler(e,t)},_initHandler:function(e,t){var n=e.getData(),r=this._barMesh,a=e.coordinateSystem.type==="cartesian3D";r.seriesIndex=e.seriesIndex;var i=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",function(o){var s=r.geometry.getDataIndexOfVertex(o.triangle[0]);s!==i&&(this._downplay(i),this._highlight(s),this._labelsBuilder.updateLabels([s]),a&&t.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",s),n.get("y",s),n.get("z",s,!0)]})),i=s,r.dataIndex=s},this),r.on("mouseout",function(o){this._downplay(i),this._labelsBuilder.updateLabels(),i=-1,r.dataIndex=-1,a&&t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(e){var t=this._data;if(t){var n=this._barIndexOfData[e];if(!(n<0)){var r=t.getItemModel(e),a=r.getModel("emphasis.itemStyle"),i=a.get("color"),o=a.get("opacity");if(i==null){var s=Ur(t,e);i=Fp(s,-.4)}o==null&&(o=Fr(t,e));var l=W.parseColor(i);l[3]*=o,this._barMesh.geometry.setColor(n,l),this._api.getZr().refresh()}}},_downplay:function(e){var t=this._data;if(t){var n=this._barIndexOfData[e];if(!(n<0)){var r=Ur(t,e),a=Fr(t,e),i=W.parseColor(r);i[3]*=a,this._barMesh.geometry.setColor(n,i),this._api.getZr().refresh()}}},highlight:function(e,t,n,r){this._toggleStatus("highlight",e,t,n,r)},downplay:function(e,t,n,r){this._toggleStatus("downplay",e,t,n,r)},_toggleStatus:function(e,t,n,r,a){var i=t.getData(),o=St.queryDataIndex(i,a),s=this;o!=null?j($h.normalizeToArray(o),function(l){e==="highlight"?this._highlight(l):this._downplay(l)},this):i.each(function(l){e==="highlight"?s._highlight(l):s._downplay(l)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});function lSe(e){e.registerChartView(sSe),e.registerSeriesModel(rSe),tSe(e),e.registerProcessor(function(t,n){t.eachSeriesByType("bar3d",function(r){var a=r.getData();a.filterSelf(function(i){return a.hasValue(i)})})})}wn(lSe);var uSe=$r.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){return dx(this)},formatTooltip:function(e){return Wm(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});const cSe=uSe;var fSe=vr.vec3;W.Shader.import(fx);const dSe=Sr.extend({type:"line3D",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._api=t},render:function(e,t,n){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new W.Mesh({geometry:new Mf({useNativeLine:!1,sortTriangles:!0}),material:new W.Material({shader:W.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var a=e.coordinateSystem;if(a&&a.viewGL){a.viewGL.add(this.groupGL);var i=a.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[i]("fragment","SRGB_DECODE")}this._doRender(e,n),this._data=e.getData(),this._camera=a.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,t){var n=e.getData(),r=this._line3DMesh;r.geometry.resetOffset();var a=n.getLayout("points"),i=[],o=new Float32Array(a.length/3*4),s=0,l=!1;n.each(function(f){var d=Ur(n,f),h=Fr(n,f);h==null&&(h=1),W.parseColor(d,i),i[3]*=h,o[s++]=i[0],o[s++]=i[1],o[s++]=i[2],o[s++]=i[3],i[3]<.99&&(l=!0)}),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(a)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(a)),r.geometry.addPolyline(a,o,St.firstNotNull(e.get("lineStyle.width"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var u=r.material;u.transparent=l,u.depthMask=!l;var c=e.getModel("debug.wireframe");c.get("show")?(r.geometry.createAttribute("barycentric","float",3),r.geometry.generateBarycentric(),r.material.set("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",W.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)")),r.material.set("wireframeLineWidth",St.firstNotNull(c.get("lineStyle.width"),1))):r.material.set("both","WIREFRAME_TRIANGLE"),this._points=a,this._initHandler(e,t)},_updateAnimation:function(e){W.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,t){var n=e.getData(),r=e.coordinateSystem,a=this._line3DMesh,i=-1;a.seriesIndex=e.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",function(o){var s=r.pointToData(o.point.array),l=n.indicesOfNearest("x",s[0])[0];l!==i&&(t.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",l),n.get("y",l),n.get("z",l)]}),a.dataIndex=l),i=l},this),a.on("mouseout",function(o){i=-1,a.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var e=new Qe,t=this._camera;Qe.multiply(e,t.projectionMatrix,t.viewMatrix);var n=this._positionNDC,r=this._points,a=r.length/3;(!n||n.length/2!==a)&&(n=this._positionNDC=new Float32Array(a*2));for(var i=[],o=0;o<a;o++){var s=o*3,l=o*2;i[0]=r[s],i[1]=r[s+1],i[2]=r[s+2],i[3]=1,fSe.transformMat4(i,i,e.array),n[l]=i[0]/i[3],n[l+1]=i[1]/i[3]}},_pick:function(e,t,n,r,a,i){var o=this._positionNDC,s=this._data.hostModel,l=s.get("lineStyle.width"),u=-1,c=n.viewport.width,f=n.viewport.height,d=c*.5,h=f*.5;e=(e+1)*d,t=(t+1)*h;for(var v=1;v<o.length/2;v++){var p=(o[(v-1)*2]+1)*d,m=(o[(v-1)*2+1]+1)*h,g=(o[v*2]+1)*d,y=(o[v*2+1]+1)*h;if(fc(p,m,g,y,l,e,t)){var _=(p-e)*(p-e)+(m-t)*(m-t),x=(g-e)*(g-e)+(y-t)*(y-t);u=_<x?v-1:v}}if(u>=0){var w=u*3,b=new Ne(this._points[w],this._points[w+1],this._points[w+2]);i.push({dataIndex:u,point:b,pointWorld:b.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(b)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function hSe(e){e.registerChartView(dSe),e.registerSeriesModel(cSe),e.registerLayout(function(t,n){t.eachSeriesByType("line3D",function(r){var a=r.getData(),i=r.coordinateSystem;if(i){if(i.type!=="cartesian3D"){console.error("line3D needs cartesian3D coordinateSystem");return}var o=new Float32Array(a.count()*3),s=[],l=[],u=i.dimensions,c=u.map(function(f){return r.coordDimToDataDim(f)[0]});i&&a.each(c,function(f,d,h,v){s[0]=f,s[1]=d,s[2]=h,i.dataToPoint(s,l),o[v*3]=l[0],o[v*3+1]=l[1],o[v*3+2]=l[2]}),a.setLayout("points",o)}})})}wn(hSe);const vSe=$r.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,t){return dx(this)},getFormattedLabel:function(e,t,n,r){var a=$h.getFormattedLabel(this,e,t,n,r);if(a==null){var i=this.getData(),o=i.dimensions[i.dimensions.length-1];a=i.get(o,e)}return a},formatTooltip:function(e){return Wm(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function rS(e,r,n){var r=r||document.createElement("canvas");r.width=e,r.height=e;var a=r.getContext("2d");return n&&n(a),r}function pSe(e,t,n,r){Be(t)||(t=[t,t]);var a=cD.getMarginByStyle(n,r),i=t[0]+a.left+a.right,o=t[1]+a.top+a.bottom,s=rf(e,0,0,t[0],t[1]),l=Math.max(i,o);s.x=a.left,s.y=a.top,i>o?s.y+=(l-o)/2:s.x+=(l-i)/2;var u=s.getBoundingRect();return s.x-=u.x,s.y-=u.y,s.setStyle(n),s.update(),s.__size=l,s}function mSe(e,t,n){var r=t.width,a=t.height,i=e.canvas.width,o=e.canvas.height,s=r/i,l=a/o;function u(g){return g<128?1:-1}function c(g,y){var _=1/0;g=Math.floor(g*s),y=Math.floor(y*l);for(var x=y*r+g,w=t.data[x*4],b=u(w),S=Math.max(y-n,0);S<Math.min(y+n,a);S++)for(var C=Math.max(g-n,0);C<Math.min(g+n,r);C++){var x=S*r+C,A=t.data[x*4],M=u(A),T=C-g,E=S-y;if(b!==M){var P=T*T+E*E;P<_&&(_=P)}}return b*Math.sqrt(_)}for(var f=e.createImageData(i,o),d=0;d<o;d++)for(var h=0;h<i;h++){var v=c(h,d),p=v/n*.5+.5,m=(d*i+h)*4;f.data[m++]=(1-p)*255,f.data[m++]=(1-p)*255,f.data[m++]=(1-p)*255,f.data[m++]=255}return f}var cD={getMarginByStyle:function(e){var t=e.minMargin||0,n=0;e.stroke&&e.stroke!=="none"&&(n=e.lineWidth==null?1:e.lineWidth);var r=e.shadowBlur||0,a=e.shadowOffsetX||0,i=e.shadowOffsetY||0,o={};return o.left=Math.max(n/2,-a+r,t),o.right=Math.max(n/2,a+r,t),o.top=Math.max(n/2,-i+r,t),o.bottom=Math.max(n/2,i+r,t),o},createSymbolSprite:function(e,t,n,r){var a=pSe(e,t,n),i=cD.getMarginByStyle(n);return{image:rS(a.__size,r,function(o){R1(o,a)}),margin:i}},createSDFFromCanvas:function(e,t,n,r){return rS(t,r,function(a){var i=e.getContext("2d"),o=i.getImageData(0,0,e.width,e.height);a.putImageData(mSe(a,o,n),0,0)})},createSimpleSprite:function(e,t){return rS(e,t,function(n){var r=e/2;n.beginPath(),n.arc(r,r,60,0,Math.PI*2,!1),n.closePath();var a=n.createRadialGradient(r,r,0,r,r,r);a.addColorStop(0,"rgba(255, 255, 255, 1)"),a.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=a,n.fill()})}};const nN=cD;var rN=vr.vec3;const gSe={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,t){var n=this.indices,r=rN.create();if(!n){n=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var a=0;a<n.length;a++)n[a]=a}if(t===0){var i=this.attributes.position,e=e.array,o=0;(!this._zList||this._zList.length!==this.vertexCount)&&(this._zList=new Float32Array(this.vertexCount));for(var s,a=0;a<this.vertexCount;a++){i.get(a,r);var l=rN.sqrDist(r,e);isNaN(l)&&(l=1e7,o++),a===0?(s=l,l=0):l=l-s,this._zList[a]=l}this._noneCount=o}if(this.vertexCount<2e4)t===0&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(var a=0;a<3;a++)this._progressiveQuickSort(t*3+a);this.dirtyIndices()},_simpleSort:function(e){var t=this._zList,n=this.indices;function r(a,i){return t[i]-t[a]}e?Array.prototype.sort.call(n,r):fh.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(e){var t=this._zList,n=this.indices;this._quickSort=this._quickSort||new fh,this._quickSort.step(n,function(r,a){return t[a]-t[r]},e)}},ySe=`@export ecgl.sdfSprite.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform float elapsedTime : 0;

attribute vec3 position : POSITION;

#ifdef VERTEX_SIZE
attribute float size;
#else
uniform float u_Size;
#endif

#ifdef VERTEX_COLOR
attribute vec4 a_FillColor: COLOR;
varying vec4 v_Color;
#endif

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute float prevSize;
uniform float percent : 1.0;
#endif


#ifdef POSITIONTEXTURE_ENABLED
uniform sampler2D positionTexture;
#endif

varying float v_Size;

void main()
{

#ifdef POSITIONTEXTURE_ENABLED
 gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);
#else

 #ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
 #else
 vec3 pos = position;
 #endif
 gl_Position = worldViewProjection * vec4(pos, 1.0);
#endif

#ifdef VERTEX_SIZE
#ifdef VERTEX_ANIMATION
 v_Size = mix(prevSize, size, percent);
#else
 v_Size = size;
#endif
#else
 v_Size = u_Size;
#endif

#ifdef VERTEX_COLOR
 v_Color = a_FillColor;
 #endif

 gl_PointSize = v_Size;
}

@end

@export ecgl.sdfSprite.fragment

uniform vec4 color: [1, 1, 1, 1];
uniform vec4 strokeColor: [1, 1, 1, 1];
uniform float smoothing: 0.07;

uniform float lineWidth: 0.0;

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

varying float v_Size;

uniform sampler2D sprite;

@import clay.util.srgb

void main()
{
 gl_FragColor = color;

 vec4 _strokeColor = strokeColor;

#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
 #endif

#ifdef SPRITE_ENABLED
 float d = texture2D(sprite, gl_PointCoord).r;
 gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);

 if (lineWidth > 0.0) {
 float sLineWidth = lineWidth / 2.0;

 float outlineMaxValue0 = 0.5 + sLineWidth;
 float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;
 float outlineMinValue0 = 0.5 - sLineWidth - smoothing;
 float outlineMinValue1 = 0.5 - sLineWidth;

 if (d <= outlineMaxValue1 && d >= outlineMinValue0) {
 float a = _strokeColor.a;
 if (d <= outlineMinValue1) {
 a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);
 }
 else {
 a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);
 }
 gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);
 gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;
 }
 }
#endif

#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(gl_FragColor);
#endif
}
@end`;var aS=vr.vec4;W.Shader.import(ySe);var _Se=W.Mesh.extend(function(){var e=new W.Geometry({dynamic:!0,attributes:{color:new W.Geometry.Attribute("color","float",4,"COLOR"),position:new W.Geometry.Attribute("position","float",3,"POSITION"),size:new W.Geometry.Attribute("size","float",1),prevPosition:new W.Geometry.Attribute("prevPosition","float",3),prevSize:new W.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,gSe);var t=new W.Material({shader:W.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});t.enableTexture("sprite"),t.define("both","VERTEX_COLOR"),t.define("both","VERTEX_SIZE");var n=new W.Texture2D({image:document.createElement("canvas"),flipY:!1});return t.set("sprite",n),e.pick=this._pick.bind(this),{geometry:e,material:t,mode:W.Mesh.POINTS,sizeScale:1}},{_pick:function(e,t,n,r,a,i){var o=this._positionNDC;if(o)for(var s=n.viewport,l=2/s.width,u=2/s.height,c=this.geometry.vertexCount-1;c>=0;c--){var f;this.geometry.indices?f=this.geometry.indices[c]:f=c;var d=o[f*2],h=o[f*2+1],v=this.geometry.attributes.size.get(f)/this.sizeScale,p=v/2;if(e>d-p*l&&e<d+p*l&&t>h-p*u&&t<h+p*u){var m=new W.Vector3,g=new W.Vector3;this.geometry.attributes.position.get(f,m.array),W.Vector3.transformMat4(g,m,this.worldTransform),i.push({vertexIndex:f,point:m,pointWorld:g,target:this,distance:g.distance(r.getWorldPosition())})}}},updateNDCPosition:function(e,t,n){var r=this._positionNDC,a=this.geometry;(!r||r.length/2!==a.vertexCount)&&(r=this._positionNDC=new Float32Array(a.vertexCount*2));for(var i=aS.create(),o=0;o<a.vertexCount;o++)a.attributes.position.get(o,i),i[3]=1,aS.transformMat4(i,i,e.array),aS.scale(i,i,1/i[3]),r[o*2]=i[0],r[o*2+1]=i[1]}});const xSe=_Se;var aN=20,iN=-10;function bSe(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function hf(e,t){this.rootNode=new W.Node,this.is2D=e,this._labelsBuilder=new Tl(256,256,t),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=t,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}hf.prototype={constructor:hf,highlightOnMouseover:!0,update:function(e,t,n,r,a){var i=this._prevMesh;this._prevMesh=this._mesh,this._mesh=i;var o=e.getData();if(r==null&&(r=0),a==null&&(a=o.count()),this._startDataIndex=r,this._endDataIndex=a-1,!this._mesh){var s=this._prevMesh&&this._prevMesh.material;this._mesh=new xSe({renderOrder:10,frustumCulling:!1}),s&&(this._mesh.material=s)}var s=this._mesh.material,l=this._mesh.geometry,u=l.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var c=this._getSymbolInfo(e,r,a),f=n.getDevicePixelRatio(),d=e.getModel("itemStyle").getItemStyle(),h=e.get("large"),v=1;c.maxSize>2?(v=this._updateSymbolSprite(e,d,c,f),s.enableTexture("sprite")):s.disableTexture("sprite"),u.position.init(a-r);var p=[];if(h){s.undefine("VERTEX_SIZE"),s.undefine("VERTEX_COLOR");var m=nwe(o),g=rwe(o);W.parseColor(m,p),p[3]*=g,s.set({color:p,u_Size:c.maxSize*this._sizeScale})}else s.set({color:[1,1,1,1]}),s.define("VERTEX_SIZE"),s.define("VERTEX_COLOR"),u.size.init(a-r),u.color.init(a-r),this._originalOpacity=new Float32Array(a-r);for(var y=o.getLayout("points"),_=u.position.value,x=0;x<a-r;x++){var w=x*3,b=x*2;if(this.is2D?(_[w]=y[b],_[w+1]=y[b+1],_[w+2]=iN):(_[w]=y[w],_[w+1]=y[w+1],_[w+2]=y[w+2]),!h){var m=Ur(o,x),g=Fr(o,x);W.parseColor(m,p),p[3]*=g,u.color.set(x,p),p[3]<.99;var S=o.getItemVisual(x,"symbolSize");S=S instanceof Array?Math.max(S[0],S[1]):S,isNaN(S)&&(S=0),u.size.value[x]=S*v*this._sizeScale,this._originalOpacity[x]=p[3]}}this._mesh.sizeScale=v,l.updateBoundingBox(),l.dirty(),this._updateMaterial(e,d);var C=e.coordinateSystem;if(C&&C.viewGL){var A=C.viewGL.isLinearSpace()?"define":"undefine";s[A]("fragment","SRGB_DECODE")}h||this._updateLabelBuilder(e,r,a),this._updateHandler(e,t,n),this._updateAnimation(e),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(e,t,n,r){n.maxSize=Math.min(n.maxSize*2,200);var a=[];return n.aspect>1?(a[0]=n.maxSize,a[1]=n.maxSize/n.aspect):(a[1]=n.maxSize,a[0]=n.maxSize*n.aspect),a[0]=a[0]||1,a[1]=a[1]||1,(this._symbolType!==n.type||!bSe(this._symbolSize,a)||this._lineWidth!==t.lineWidth)&&(nN.createSymbolSprite(n.type,a,{fill:"#fff",lineWidth:t.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(a[0]/2,10)},this._spriteImageCanvas),nN.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),aN,this._mesh.material.get("sprite").image),this._symbolType=n.type,this._symbolSize=a,this._lineWidth=t.lineWidth),this._spriteImageCanvas.width/n.maxSize*r},_updateMaterial:function(e,t){var n=e.get("blendMode")==="lighter"?W.additiveBlend:null,r=this._mesh.material;r.blend=n,r.set("lineWidth",t.lineWidth/aN);var a=W.parseColor(t.stroke);r.set("strokeColor",a),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(e,o,n){var r=e.getData(),a=this._mesh.geometry,i=a.attributes.position.value,o=this._startDataIndex,s=this._mesh.sizeScale;this._labelsBuilder.updateData(r,o,n),this._labelsBuilder.getLabelPosition=function(l,u,c){var f=(l-o)*3;return[i[f],i[f+1],i[f+2]]},this._labelsBuilder.getLabelDistance=function(l,u,c){var f=a.attributes.size.get(l-o)/s;return f/2+c},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){W.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,t,n){var r=e.getData(),a=this._mesh,i=this,o=-1,s=e.coordinateSystem&&e.coordinateSystem.type==="cartesian3D",l;s&&(l=e.coordinateSystem.model),a.seriesIndex=e.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",function(u){var c=u.vertexIndex+i._startDataIndex;c!==o&&(this.highlightOnMouseover&&(this.downplay(r,o),this.highlight(r,c),this._labelsBuilder.updateLabels([c])),s&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get(e.coordDimToDataDim("x")[0],c),r.get(e.coordDimToDataDim("y")[0],c),r.get(e.coordDimToDataDim("z")[0],c)],grid3DIndex:l.componentIndex})),a.dataIndex=c,o=c},this),a.on("mouseout",function(u){var c=u.vertexIndex+i._startDataIndex;this.highlightOnMouseover&&(this.downplay(r,c),this._labelsBuilder.updateLabels()),o=-1,a.dataIndex=-1,s&&n.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:l.componentIndex})},this)},updateLayout:function(e,t,n){var r=e.getData();if(this._mesh){var a=this._mesh.geometry.attributes.position.value,i=r.getLayout("points");if(this.is2D)for(var o=0;o<i.length/2;o++){var s=o*3,l=o*2;a[s]=i[l],a[s+1]=i[l+1],a[s+2]=iN}else for(var o=0;o<i.length;o++)a[o]=i[o];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(e){if(this._mesh){var t=new Qe;Qe.mul(t,e.viewMatrix,this._mesh.worldTransform),Qe.mul(t,e.projectionMatrix,t),this._mesh.updateNDCPosition(t,this.is2D,this._api)}},highlight:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var n=e.getItemModel(t),r=n.getModel("emphasis.itemStyle"),a=r.get("color"),i=r.get("opacity");if(a==null){var o=Ur(e,t);a=Fp(o,-.4)}i==null&&(i=Fr(e,t));var s=W.parseColor(a);s[3]*=i,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,s),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var n=Ur(e,t),r=Fr(e,t),a=W.parseColor(n);a[3]*=r,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,a),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var t=this._mesh.geometry,n=0;n<t.vertexCount;n++){var r=this._originalOpacity[n]*e;t.attributes.color.value[n*4+3]=r}t.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var t=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",t/this._sizeScale*e);var n=this._mesh.geometry.attributes;if(n.size.value)for(var r=0;r<n.size.value.length;r++)n.size.value[r]=n.size.value[r]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,t){t&&e.material.set("positionTexture",t),e.material[t?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,t,n){if(e.get("large")){var r=St.firstNotNull(e.get("symbolSize"),1),u,i;return r instanceof Array?(u=Math.max(r[0],r[1]),i=r[0]/r[1]):(u=r,i=1),{maxSize:r,type:e.get("symbol"),aspect:i}}for(var a=e.getData(),i,o=!1,s=a.getItemVisual(0,"symbol")||"circle",l=!1,u=0,c=t;c<n;c++){var r=a.getItemVisual(c,"symbolSize"),f=a.getItemVisual(c,"symbol"),d;if(r instanceof Array)d=r[0]/r[1],u=Math.max(Math.max(r[0],r[1]),u);else{if(isNaN(r))continue;d=1,u=Math.max(r,u)}i!=null&&Math.abs(d-i)>.05&&(o=!0),f!==s&&(l=!0),s=f,i=d}return o&&console.warn("Different symbol width / height ratio will be ignored."),l&&console.warn("Different symbol type will be ignored."),{maxSize:u,type:s,aspect:i}}};const wSe=Sr.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,t,n){if(this.groupGL.removeAll(),!!e.getData().count()){var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var a=this._pointsBuilderList[0];a||(a=this._pointsBuilderList[0]=new hf(!1,n)),this._pointsBuilderList.length=1,this.groupGL.add(a.rootNode),a.update(e,t,n),a.updateView(r.viewGL.camera)}else throw new Error("Invalid coordinate system")}},incrementalPrepareRender:function(e,t,n){var r=e.coordinateSystem;if(r&&r.viewGL)r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;else throw new Error("Invalid coordinate system");this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,t,n,r){if(!(e.end<=e.start)){var a=this._pointsBuilderList[this._currentStep];a||(a=new hf(!1,r),this._pointsBuilderList[this._currentStep]=a),this.groupGL.add(a.rootNode),a.update(t,n,r,e.start,e.end),a.updateView(t.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(e){e.updateView(this._camera)},this)},highlight:function(e,t,n,r){this._toggleStatus("highlight",e,t,n,r)},downplay:function(e,t,n,r){this._toggleStatus("downplay",e,t,n,r)},_toggleStatus:function(e,t,n,r,a){var i=t.getData(),o=St.queryDataIndex(i,a),s=e==="highlight";o!=null?j($h.normalizeToArray(o),function(l){for(var u=0;u<this._pointsBuilderList.length;u++){var c=this._pointsBuilderList[u];s?c.highlight(i,l):c.downplay(i,l)}},this):i.each(function(l){for(var u=0;u<this._pointsBuilderList.length;u++){var c=this._pointsBuilderList[u];s?c.highlight(i,l):c.downplay(i,l)}})},dispose:function(){this._pointsBuilderList.forEach(function(e){e.dispose()}),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function SSe(e){e.registerChartView(wSe),e.registerSeriesModel(vSe),e.registerLayout({seriesType:"scatter3D",reset:function(t){var n=t.coordinateSystem;if(n){var r=n.dimensions;if(r.length<3){console.error("scatter3D needs 3D coordinateSystem");return}var a=r.map(function(s){return t.coordDimToDataDim(s)[0]}),i=[],o=[];return{progress:function(s,l){for(var u=new Float32Array((s.end-s.start)*3),c=s.start;c<s.end;c++){var f=(c-s.start)*3;i[0]=l.get(a[0],c),i[1]=l.get(a[1],c),i[2]=l.get(a[2],c),n.dataToPoint(i,o),u[f]=o[0],u[f+1]=o[1],u[f+2]=o[2]}l.setLayout("points",u)}}}}})}wn(SSe);var Er=vr.vec3,oN=vr.vec2,Os=Er.normalize,_y=Er.cross,sN=Er.sub,iS=Er.add,ru=Er.create,$l=ru(),Oi=ru(),Gl=ru(),Ov=ru(),lN=[],uN=[];function TSe(e,t){oN.copy(lN,e[0]),oN.copy(uN,e[1]);var n=[],r=n[0]=ru(),a=n[1]=ru(),i=n[2]=ru(),o=n[3]=ru();t.dataToPoint(lN,r),t.dataToPoint(uN,o),Os($l,r),sN(Oi,o,r),Os(Oi,Oi),_y(Gl,Oi,$l),Os(Gl,Gl),_y(Oi,$l,Gl),iS(a,$l,Oi),Os(a,a),Os($l,o),sN(Oi,r,o),Os(Oi,Oi),_y(Gl,Oi,$l),Os(Gl,Gl),_y(Oi,$l,Gl),iS(i,$l,Oi),Os(i,i),iS(Ov,r,o),Os(Ov,Ov);var s=Er.dot(r,Ov),l=Er.dot(Ov,a),u=(Math.max(Er.len(r),Er.len(o))-s)/l*2;return Er.scaleAndAdd(a,r,a,u),Er.scaleAndAdd(i,o,i,u),n}function CSe(e,t,n){var r=[],a=r[0]=Er.create(),i=r[1]=Er.create(),o=r[2]=Er.create(),s=r[3]=Er.create();t.dataToPoint(e[0],a),t.dataToPoint(e[1],s);var l=Er.dist(a,s);return Er.lerp(i,a,s,.3),Er.lerp(o,a,s,.3),Er.scaleAndAdd(i,i,n,Math.min(l*.1,10)),Er.scaleAndAdd(o,o,n,Math.min(l*.1,10)),r}function wG(e,t){for(var n=new Float32Array(e.length*3),r=0,a=[],i=0;i<e.length;i++)t.dataToPoint(e[i],a),n[r++]=a[0],n[r++]=a[1],n[r++]=a[2];return n}function SG(e){var t=[];return e.each(function(n){var r=e.getItemModel(n),a=r.option instanceof Array?r.option:r.getShallow("coords",!0);if(!(a instanceof Array&&a.length>0&&a[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(a)+". Lines must have 2d coords array in data item.");t.push(a)}),{coordsList:t}}function ASe(e,t){var n=e.getData(),r=e.get("polyline");n.setLayout("lineType",r?"polyline":"cubicBezier");var a=SG(n);n.each(function(i){var o=a.coordsList[i],s=r?wG:TSe;n.setItemLayout(i,s(o,t))})}function cN(e,t,n){var r=e.getData(),a=e.get("polyline"),i=SG(r);r.setLayout("lineType",a?"polyline":"cubicBezier"),r.each(function(o){var s=i.coordsList[o],l=a?wG(s,t):CSe(s,t,n);r.setItemLayout(o,l)})}function ESe(e,t){e.eachSeriesByType("lines3D",function(n){var r=n.coordinateSystem;r.type==="globe"?ASe(n,r):r.type==="geo3D"?cN(n,r,[0,1,0]):(r.type==="mapbox3D"||r.type==="maptalks3D")&&cN(n,r,[0,0,1])})}const DSe=$r.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){var n=new co(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(r,a,i,o){if(r instanceof Array)return NaN;n.hasItemOption=!0;var s=r.value;if(s!=null)return s instanceof Array?s[o]:s}),n},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}}),MSe=`@export ecgl.trail2.vertex
attribute vec3 position: POSITION;
attribute vec3 positionPrev;
attribute vec3 positionNext;
attribute float offset;
attribute float dist;
attribute float distAll;
attribute float start;

attribute vec4 a_Color : COLOR;

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;
uniform float near : NEAR;

uniform float speed : 0;
uniform float trailLength: 0.3;
uniform float time;
uniform float period: 1000;

uniform float spotSize: 1;

varying vec4 v_Color;
varying float v_Percent;
varying float v_SpotPercent;

@import ecgl.common.wireframe.vertexHeader

@import ecgl.lines3D.clipNear

void main()
{
 @import ecgl.lines3D.expandLine

 gl_Position = currProj;

 v_Color = a_Color;

 @import ecgl.common.wireframe.vertexMain

#ifdef CONSTANT_SPEED
 float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;
#else
 float t = mod((time + start) / period, 1. + trailLength) - trailLength;
#endif

 float trailLen = distAll * trailLength;

 v_Percent = (dist - t * distAll) / trailLen;

 v_SpotPercent = spotSize / distAll;

 }
@end


@export ecgl.trail2.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform float spotIntensity: 5;

varying vec4 v_Color;
varying float v_Percent;
varying float v_SpotPercent;

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
 if (v_Percent > 1.0 || v_Percent < 0.0) {
 discard;
 }

 float fade = v_Percent;

#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif

 @import ecgl.common.wireframe.fragmentMain

 if (v_Percent > (1.0 - v_SpotPercent)) {
 gl_FragColor.rgb *= spotIntensity;
 }

 gl_FragColor.a *= fade;
}

@end`;var fN=vr.vec3;function PSe(e){return e>0?1:-1}W.Shader.import(MSe);const LSe=W.Mesh.extend(function(){var e=new W.Material({shader:new W.Shader(W.Shader.source("ecgl.trail2.vertex"),W.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),t=new Mf({dynamic:!0});return t.createAttribute("dist","float",1),t.createAttribute("distAll","float",1),t.createAttribute("start","float",1),{geometry:t,material:e,culling:!1,$ignorePicking:!0}},{updateData:function(e,t,n){var r=e.hostModel,a=this.geometry,i=r.getModel("effect"),o=i.get("trailWidth")*t.getDevicePixelRatio(),s=i.get("trailLength"),l=r.get("effect.constantSpeed"),u=r.get("effect.period")*1e3,c=l!=null;this.getScene()||console.error("TrailMesh must been add to scene before updateData"),c?this.material.set("speed",l/1e3):this.material.set("period",u),this.material[c?"define":"undefine"]("vertex","CONSTANT_SPEED");var f=r.get("polyline");a.trailLength=s,this.material.set("trailLength",s),a.resetOffset(),["position","positionPrev","positionNext"].forEach(function(S){a.attributes[S].value=n.attributes[S].value});var d=["dist","distAll","start","offset","color"];d.forEach(function(S){a.attributes[S].init(a.vertexCount)}),a.indices=n.indices;var h=[],v=i.get("trailColor"),p=i.get("trailOpacity"),m=v!=null,g=p!=null;this.updateWorldTransform();var y=this.worldTransform.x.len(),_=this.worldTransform.y.len(),x=this.worldTransform.z.len(),w=0,b=0;e.each(function(S){var C=e.getItemLayout(S),A=g?p:Fr(e,S),M=Ur(e,S);A==null&&(A=1),h=W.parseColor(m?v:M,h),h[3]*=A;for(var T=f?n.getPolylineVertexCount(C):n.getCubicCurveVertexCount(C[0],C[1],C[2],C[3]),E=0,P=[],I=[],k=w;k<w+T;k++)a.attributes.position.get(k,P),P[0]*=y,P[1]*=_,P[2]*=x,k>w&&(E+=fN.dist(P,I)),a.attributes.dist.set(k,E),fN.copy(I,P);b=Math.max(b,E);for(var B=Math.random()*(c?E:u),k=w;k<w+T;k++)a.attributes.distAll.set(k,E),a.attributes.start.set(k,B),a.attributes.offset.set(k,PSe(n.attributes.offset.get(k))*o/2),a.attributes.color.set(k,h);w+=T}),this.material.set("spotSize",b*.1*s),this.material.set("spotIntensity",i.get("spotIntensity")),a.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});W.Shader.import(fx);function ISe(e){return e.radius!=null?e.radius:e.size!=null?Math.max(e.size[0],e.size[1],e.size[2]):100}const RSe=Sr.extend({type:"lines3D",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._meshLinesMaterial=new W.Material({shader:W.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new W.Mesh({geometry:new Mf,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new LSe},render:function(e,t,n){this.groupGL.add(this._linesMesh);var r=e.coordinateSystem,a=e.getData();if(r&&r.viewGL){var i=r.viewGL;i.add(this.groupGL),this._updateLines(e,t,n);var o=r.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[o]("fragment","SRGB_DECODE"),this._trailMesh.material[o]("fragment","SRGB_DECODE")}var s=this._trailMesh;if(s.stopAnimation(),e.get("effect.show")){this.groupGL.add(s),s.updateData(a,n,this._linesMesh.geometry),s.__time=s.__time||0;var l=3600*1e3;this._curveEffectsAnimator=s.animate("",{loop:!0}).when(l,{__time:l}).during(function(){s.setAnimationTime(s.__time)}).start()}else this.groupGL.remove(s),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend=e.get("blendMode")==="lighter"?W.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,t,n){var r=e.getData(),a=e.coordinateSystem,i=this._linesMesh.geometry,o=e.get("polyline");i.expandLine=!0;var s=ISe(a);i.segmentScale=s/20;var l="lineStyle.width".split("."),u=n.getDevicePixelRatio();r.each(function(h){var v=r.getItemModel(h),p=v.get(l);p==null&&(p=1),r.setItemVisual(h,"lineWidth",p)}),i.useNativeLine=!1;var c=0,f=0;r.each(function(h){var v=r.getItemLayout(h);o?(c+=i.getPolylineVertexCount(v),f+=i.getPolylineTriangleCount(v)):(c+=i.getCubicCurveVertexCount(v[0],v[1],v[2],v[3]),f+=i.getCubicCurveTriangleCount(v[0],v[1],v[2],v[3]))}),i.setVertexCount(c),i.setTriangleCount(f),i.resetOffset();var d=[];r.each(function(h){var v=r.getItemLayout(h),p=Ur(r,h),m=Fr(r,h),g=r.getItemVisual(h,"lineWidth")*u;m==null&&(m=1),d=W.parseColor(p,d),d[3]*=m,o?i.addPolyline(v,d,g):i.addCubicCurve(v[0],v[1],v[2],v[3],d,g)}),i.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function OSe(e){e.registerChartView(RSe),e.registerSeriesModel(DSe),e.registerLayout(ESe),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})}wn(OSe);function dN(e,t){for(var n=[],r=0;r<t.length;r++)n.push(e.dataToPoint(t[r]));return n}var TG=$r.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,n=this.getData().getItemModel(e),r=n.option instanceof Array?n.option:n.getShallow("coords");n.get("multiPolygon")||(r=[r]);for(var a=[],i=0;i<r.length;i++){for(var o=[],s=1;s<r[i].length;s++)o.push(dN(t,r[i][s]));a.push({exterior:dN(t,r[i][0]),interiors:o})}return a},getInitialData:function(e){var t=new co(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],function(n,r,a,i){if(n instanceof Array)return NaN;t.hasItemOption=!0;var o=n.value;if(o!=null)return o instanceof Array?o[i]:o}),t},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});Ze(TG.prototype,zh);const kSe=TG,NSe=Sr.extend({type:"polygons3D",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,t,n){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var a=this._geo3DBuilderList[0];a||(a=new dh(n),a.extrudeY=r.type!=="mapbox3D"&&r.type!=="maptalks3D",this._geo3DBuilderList[0]=a),this._updateShaderDefines(r,a),a.update(e,t,n),this._geo3DBuilderList.length=1,this.groupGL.add(a.rootNode)},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,t,n,r){var a=this._geo3DBuilderList[this._currentStep],i=t.coordinateSystem;a||(a=new dh(r),a.extrudeY=i.type!=="mapbox3D"&&i.type!=="maptalks3D",this._geo3DBuilderList[this._currentStep]=a),a.update(t,n,r,e.start,e.end),this.groupGL.add(a.rootNode),this._updateShaderDefines(i,a),this._currentStep++},_updateShaderDefines:function(e,t){var n=e.viewGL.isLinearSpace()?"define":"undefine";t.rootNode.traverse(function(r){r.material&&(r.material[n]("fragment","SRGB_DECODE"),(e.type==="mapbox3D"||e.type==="maptalks3D")&&(r.material.define("fragment","NORMAL_UP_AXIS",2),r.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach(function(e){e.dispose()})}});function BSe(e){e.registerChartView(NSe),e.registerSeriesModel(kSe)}wn(BSe);var CG=$r.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return Wm(this,e)},getInitialData:function(e,t){var n=e.data;function r(U){return!(isNaN(U.min)||isNaN(U.max)||isNaN(U.step))}function a(U){var R=zp;return Math.max(R(U.min),R(U.max),R(U.step))+1}if(!n)if(e.parametric){var x=e.parametricEquation||{},w=x.u||{},b=x.v||{};["u","v"].forEach(function(R){if(!r(x[R])){console.error("Invalid parametricEquation.%s",R);return}}),["x","y","z"].forEach(function(R){if(typeof x[R]!="function"){console.error("parametricEquation.%s needs to be function",R);return}});var S=Math.floor((w.max+w.step-w.min)/w.step),C=Math.floor((b.max+b.step-b.min)/b.step);n=new Float32Array(S*C*5);for(var A=a(w),M=a(b),d=0,h=0;h<C;h++)for(var v=0;v<S;v++){var T=v*w.step+w.min,E=h*b.step+b.min,P=er(Math.min(T,w.max),A),I=er(Math.min(E,b.max),M),p=x.x(P,I),m=x.y(P,I),_=x.z(P,I);n[d++]=p,n[d++]=m,n[d++]=_,n[d++]=P,n[d++]=I}}else{var i=e.equation||{},o=i.x||{},s=i.y||{};if(["x","y"].forEach(function(U){if(!r(i[U])){console.error("Invalid equation.%s",U);return}}),typeof i.z!="function"){console.error("equation.z needs to be function");return}var l=Math.floor((o.max+o.step-o.min)/o.step),u=Math.floor((s.max+s.step-s.min)/s.step);n=new Float32Array(l*u*3);for(var c=a(o),f=a(s),d=0,h=0;h<u;h++)for(var v=0;v<l;v++){var p=v*o.step+o.min,m=h*s.step+s.min,g=er(Math.min(p,o.max),c),y=er(Math.min(m,s.max),f),_=i.z(g,y);n[d++]=g,n[d++]=y,n[d++]=_}}var k=["x","y","z"];e.parametric&&k.push("u","v");var B=dx(this,k,n);return B},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});Ze(CG.prototype,zh);const VSe=CG;var sc=vr.vec3;function FSe(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}const USe=Sr.extend({type:"surface",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node},render:function(e,t,n){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var a=e.coordinateSystem,i=e.get("shading"),o=e.getData(),s="ecgl."+i;if((!this._surfaceMesh.material||this._surfaceMesh.material.shader.name!==s)&&(this._surfaceMesh.material=W.createMaterial(s,["VERTEX_COLOR","DOUBLE_SIDED"])),W.setMaterialFromModel(i,this._surfaceMesh.material,e,n),a&&a.viewGL){a.viewGL.add(this.groupGL);var l=a.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[l]("fragment","SRGB_DECODE")}var u=e.get("parametric"),c=e.get("dataShape");c||(c=this._getDataShape(o,u),e.get("data")&&console.warn("dataShape is not provided. Guess it is ",c));var f=e.getModel("wireframe"),d=f.get("lineStyle.width"),h=f.get("show")&&d>0;this._updateSurfaceMesh(this._surfaceMesh,e,c,h);var v=this._surfaceMesh.material;h?(v.define("WIREFRAME_QUAD"),v.set("wireframeLineWidth",d),v.set("wireframeLineColor",W.parseColor(f.get("lineStyle.color")))):v.undefine("WIREFRAME_QUAD"),this._initHandler(e,n),this._updateAnimation(e)},_updateAnimation:function(e){W.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new W.Mesh({geometry:new W.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new W.Material({shader:new W.Shader(W.Shader.source("ecgl.sm.depth.vertex"),W.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,rD),e},_initHandler:function(e,t){var n=e.getData(),r=this._surfaceMesh,a=e.coordinateSystem;function i(s,l){for(var u=1/0,c=-1,f=[],d=0;d<s.length;d++){r.geometry.attributes.position.get(s[d],f);var h=sc.dist(l.array,f);h<u&&(u=h,c=s[d])}return c}r.seriesIndex=e.seriesIndex;var o=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",function(s){var l=i(s.triangle,s.point);if(l>=0){var u=[];r.geometry.attributes.position.get(l,u);for(var c=a.pointToData(u),f=1/0,d=-1,h=[],v=0;v<n.count();v++){h[0]=n.get("x",v),h[1]=n.get("y",v),h[2]=n.get("z",v);var p=sc.squaredDistance(h,c);p<f&&(d=v,f=p)}d!==o&&t.dispatchAction({type:"grid3DShowAxisPointer",value:c}),o=d,r.dataIndex=d}else r.dataIndex=-1},this),r.on("mouseout",function(s){o=-1,r.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(e,t,n,r){var a=e.geometry,i=t.getData(),o=i.getLayout("points"),s=0;i.each(function(V){i.hasValue(V)||s++});var l=s||r,u=a.attributes.position,c=a.attributes.normal,f=a.attributes.texcoord0,d=a.attributes.barycentric,h=a.attributes.color,v=n[0],p=n[1],m=t.get("shading"),g=m!=="color";if(l){var y=(v-1)*(p-1)*4;u.init(y),r&&d.init(y)}else u.value=new Float32Array(o);h.init(a.vertexCount),f.init(a.vertexCount);var _=[0,3,1,1,3,2],x=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],w=a.indices=new(a.vertexCount>65535?Uint32Array:Uint16Array)((v-1)*(p-1)*6),b=function(V,G,Q){Q[1]=V*p+G,Q[0]=V*p+G+1,Q[3]=(V+1)*p+G+1,Q[2]=(V+1)*p+G},S=!1;if(l){var C=[],A=[],M=0;g?c.init(a.vertexCount):c.value=null;for(var T=[[],[],[]],E=[],P=[],I=sc.create(),k=function(V,G,Q){var ue=G*3;return Q[0]=V[ue],Q[1]=V[ue+1],Q[2]=V[ue+2],Q},B=new Float32Array(o.length),U=new Float32Array(o.length/3*4),R=0;R<i.count();R++)if(i.hasValue(R)){var ce=W.parseColor(Ur(i,R)),L=Fr(i,R);L!=null&&(ce[3]*=L),ce[3]<.99&&(S=!0);for(var z=0;z<4;z++)U[R*4+z]=ce[z]}for(var X=[1e7,1e7,1e7],R=0;R<v-1;R++)for(var Y=0;Y<p-1;Y++){var $=R*(p-1)+Y,F=$*4;b(R,Y,C);for(var N=!1,z=0;z<4;z++)k(o,C[z],A),FSe(A)&&(N=!0);for(var z=0;z<4;z++)N?u.set(F+z,X):(k(o,C[z],A),u.set(F+z,A)),r&&d.set(F+z,x[z]);for(var z=0;z<6;z++)w[M++]=_[z]+F;if(g&&!N)for(var z=0;z<2;z++){for(var H=z*3,K=0;K<3;K++){var Z=C[_[H]+K];k(o,Z,T[K])}sc.sub(E,T[0],T[1]),sc.sub(P,T[1],T[2]),sc.cross(I,E,P);for(var K=0;K<3;K++){var q=C[_[H]+K]*3;B[q]=B[q]+I[0],B[q+1]=B[q+1]+I[1],B[q+2]=B[q+2]+I[2]}}}if(g)for(var R=0;R<B.length/3;R++)k(B,R,I),sc.normalize(I,I),B[R*3]=I[0],B[R*3+1]=I[1],B[R*3+2]=I[2];for(var ce=[],oe=[],R=0;R<v-1;R++)for(var Y=0;Y<p-1;Y++){var $=R*(p-1)+Y,F=$*4;b(R,Y,C);for(var z=0;z<4;z++){for(var K=0;K<4;K++)ce[K]=U[C[z]*4+K];h.set(F+z,ce),g&&(k(B,C[z],I),c.set(F+z,I));var Z=C[z];oe[0]=Z%p/(p-1),oe[1]=Math.floor(Z/p)/(v-1),f.set(F+z,oe)}$++}}else{for(var oe=[],R=0;R<i.count();R++){oe[0]=R%p/(p-1),oe[1]=Math.floor(R/p)/(v-1);var ce=W.parseColor(Ur(i,R)),L=Fr(i,R);L!=null&&(ce[3]*=L),ce[3]<.99&&(S=!0),h.set(R,ce),f.set(R,oe)}for(var C=[],ae=0,R=0;R<v-1;R++)for(var Y=0;Y<p-1;Y++){b(R,Y,C);for(var z=0;z<6;z++)w[ae++]=C[_[z]]}g?a.generateVertexNormals():c.value=null}e.material.get("normalMap")&&a.generateTangents(),a.updateBoundingBox(),a.dirty(),e.material.transparent=S,e.material.depthMask=!S},_getDataShape:function(e,t){for(var n=-1/0,r=0,a=0,i=0,o=!1,s=t?"u":"x",l=e.count(),u=0;u<l;u++){var c=e.get(s,u);c<n&&(i&&i!==a&&(o=!0),i=a,a=0,r++),n=c,a++}if((!r||a===1)&&(o=!0),!o)return[r+1,a];for(var f=Math.floor(Math.sqrt(l));f>0;){if(Math.floor(l/f)===l/f)return[f,l/f];f--}return f=Math.floor(Math.sqrt(l)),[f,f]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function zSe(e){e.registerChartView(USe),e.registerSeriesModel(VSe),e.registerLayout(function(t,n){t.eachSeriesByType("surface",function(r){var a=r.coordinateSystem;(!a||a.type!=="cartesian3D")&&console.error("Surface chart only support cartesian3D coordinateSystem");var i=r.getData(),o=new Float32Array(3*i.count()),s=[NaN,NaN,NaN];if(a&&a.type==="cartesian3D"){var l=a.dimensions,u=l.map(function(c){return r.coordDimToDataDim(c)[0]});i.each(u,function(c,f,d,h){var v;i.hasValue(h)?v=a.dataToPoint([c,f,d]):v=s,o[h*3]=v[0],o[h*3+1]=v[1],o[h*3+2]=v[2]})}i.setLayout("points",o)})})}wn(zSe);function hN(e,t){for(var n=[],r=0;r<t.length;r++)n.push(e.dataToPoint(t[r]));return n}var Gh=$r.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){e=e||{};var t=this.get("coordinateSystem");if(!(t==null||t==="geo3D")){{var n=["left","top","width","height","boxWidth","boxDepth","boxHeight","light","viewControl","postEffect","temporalSuperSampling","environment","groundPlane"],r=[];n.forEach(function(a){e[a]!=null&&r.push(a)}),r.length&&console.warn("Property %s in map3D series will be ignored if coordinate system is %s",r.join(", "),t)}this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null}},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var t=Im(e.data,{coordDimensions:["value"]}),n=new co(t,this);n.initData(e.data);var r={};return n.each(function(a){var i=n.getName(a),o=n.getItemModel(a);r[i]=o}),this._regionModelMap=r,n},formatTooltip:function(e){return Wm(this,e)},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new fr(null,this)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,n=this.getData().getName(e);if(t.transform){var r=t.getRegion(n);return r?r.geometries:[]}else{this._geo||(this._geo=cG.createGeo3D(this));for(var r=this._geo.getRegion(n),a=[],i=0;i<r.geometries.length;i++){var o=r.geometries[i],s=[],l=hN(t,o.exterior);if(s&&s.length)for(var u=0;u<o.interiors.length;u++)s.push(hN(t,s[u]));a.push({interiors:s,exterior:l})}return a}},getFormattedLabel:function(e,t){var n=$h.getFormattedLabel(this,e,t);return n==null&&(n=this.getData().getName(e)),n},defaultOption:{coordinateSystem:"geo3D",data:null}});Ze(Gh.prototype,tG);Ze(Gh.prototype,sx);Ze(Gh.prototype,Vh);Ze(Gh.prototype,Fh);Ze(Gh.prototype,zh);const HSe=Gh,$Se=Sr.extend({type:"map3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new dh(t),this.groupGL=new W.Node},render:function(e,t,n){var r=e.coordinateSystem;if(!(!r||!r.viewGL)){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),r.type==="geo3D"){this._sceneHelper||(this._sceneHelper=new pu,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var a=this._control;a||(a=this._control=new ux({zr:n.getZr()}),this._control.init());var i=e.getModel("viewControl");a.setViewGL(r.viewGL),a.setFromViewControlModel(i,0),a.off("update"),a.on("update",function(){n.dispatchAction({type:"map3DChangeCamera",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance(),from:this.uid,map3DId:e.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,t,n,0,e.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(s){s.material&&s.material[o]("fragment","SRGB_DECODE")})}},afterRender:function(e,t,n,r){var a=r.renderer,i=e.coordinateSystem;i&&i.type==="geo3D"&&(this._sceneHelper.updateAmbientCubemap(a,e,n),this._sceneHelper.updateSkybox(a,e,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});function GSe(e){fG(e),e.registerChartView($Se),e.registerSeriesModel(HSe),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(t,n){n.eachComponent({mainType:"series",subType:"map3D",query:t},function(r){r.setView(t)})})}wn(GSe);const WSe=$r.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return Jne(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});function Cl(e){this.viewGL=e}Cl.prototype.reset=function(e,t){this._updateCamera(t.getWidth(),t.getHeight(),t.getDevicePixelRatio()),this._viewTransform=qd(),this.updateTransform(e,t)};Cl.prototype.updateTransform=function(e,t){var n=e.coordinateSystem;n.getRoamTransform&&(xh(this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),t.getZr().refresh())};Cl.prototype.dataToPoint=function(e,t,n){n=e.dataToPoint(t,null,n);var r=this._viewTransform;r&&ba(n,n,r)};Cl.prototype.removeTransformInPoint=function(e){return this._viewTransform&&ba(e,e,this._viewTransform),e};Cl.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1};Cl.prototype._setCameraTransform=function(e){var t=this.viewGL.camera;t.position.set(e[4],e[5],0),t.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)};Cl.prototype._updateCamera=function(e,t,n){this.viewGL.setViewport(0,0,e,t,n);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=t,r.right=e,r.near=0,r.far=100};const YSe=Sr.extend({type:"scatterGL",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this.viewGL=new vn("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new Cl(this.viewGL)},render:function(e,t,n){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,n),!!e.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new hf(!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),r.update(e,t,n),this.viewGL.setPostEffect(e.getModel("postEffect"),n)}},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalRender:function(e,t,n,r){if(!(e.end<=e.start)){var a=this._pointsBuilderList[this._currentStep];a||(a=new hf(!0,r),this._pointsBuilderList[this._currentStep]=a),this.groupGL.add(a.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),a.setSizeScale(this._sizeScale),a.update(t,n,r,e.start,e.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(e,t,n){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,n);var r=this._glViewHelper.getZoom(),a=Math.max((e.get("zoomScale")||0)*(r-1)+1,0);this._sizeScale=a,this._pointsBuilderList.forEach(function(i){i.setSizeScale(a)})}},_removeTransformInPoints:function(e){if(e)for(var t=[],n=0;n<e.length;n+=2)t[0]=e[n],t[1]=e[n+1],this._glViewHelper.removeTransformInPoint(t),e[n]=t[0],e[n+1]=t[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach(function(e){e.dispose()})},remove:function(){this.groupGL.removeAll()}});function jSe(e){e.registerChartView(YSe),e.registerSeriesModel(WSe),e.registerLayout({seriesType:"scatterGL",reset:function(t){var n=t.coordinateSystem,r=t.getData(),a;if(n){var i=n.dimensions.map(function(s){return r.mapDimension(s)}).slice(0,2),o=[];i.length===1?a=function(s){for(var l=new Float32Array((s.end-s.start)*2),u=s.start;u<s.end;u++){var c=(u-s.start)*2,f=r.get(i[0],u),d=n.dataToPoint(f);l[c]=d[0],l[c+1]=d[1]}r.setLayout("points",l)}:i.length===2&&(a=function(s){for(var l=new Float32Array((s.end-s.start)*2),u=s.start;u<s.end;u++){var c=(u-s.start)*2,f=r.get(i[0],u),d=r.get(i[1],u);o[0]=f,o[1]=d,o=n.dataToPoint(o),l[c]=o[0],l[c+1]=o[1]}r.setLayout("points",l)})}return{progress:a}}})}wn(jSe);function XSe(e,t,n,r,a){for(var i=new Pie(r),o=0;o<e.length;o++)i.addNode(St.firstNotNull(e[o].id,e[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,d=c.target;i.addEdge(f,d,u)&&(l.push(c),s.push(St.firstNotNull(c.id,f+" > "+d)),u++)}var h,v=Im(e,{coordDimensions:["value"]});h=new co(v,n),h.initData(e);var p=new co(["value"],n);return p.initData(l,s),a&&a(h,p),wie({mainData:h,struct:i,structAttr:"graph",datas:{node:h,edge:p},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var Jv=$r.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){Jv.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){Jv.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,t,n,r){var a=$h.getFormattedLabel(this,e,t,n,r);if(a==null){var i=this.getData(),o=i.dimensions[i.dimensions.length-1];a=i.get(o,e)}return a},getInitialData:function(e,t){var n=e.edges||e.links||[],r=e.data||e.nodes||[],a=this;if(r&&n)return XSe(r,n,this,!0,i).data;function i(o,s){o.wrapMethod("getItemModel",function(f){const d=a._categoriesModels,h=f.getShallow("category"),v=d[h];return v&&(v.parentModel=f.parentModel,f.parentModel=v),f});const l=t.getModel([]).getModel;function u(f,d){const h=l.call(this,f,d);return h.resolveParentPath=c,h}s.wrapMethod("getItemModel",function(f){return f.resolveParentPath=c,f.getModel=u,f});function c(f){if(f&&(f[0]==="label"||f[1]==="label")){const d=f.slice();return f[0]==="label"?d[0]="edgeLabel":f[1]==="label"&&(d[1]="edgeLabel"),d}return f}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if(n==="edge"){var r=this.getData(),a=this.getDataParams(e,n),i=r.graph.getEdgeByIndex(e),o=r.getName(i.node1.dataIndex),s=r.getName(i.node2.dataIndex),l=[];return o!=null&&l.push(o),s!=null&&l.push(s),l=qr(l.join(" > ")),a.value&&(l+=" : "+qr(a.value)),l}else return Jv.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map(function(n){return n.value!=null?n:Object.assign({value:0},n)}),t=new co(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(n){return t.getItemModel(n,!0)})},setView:function(e){e.zoom!=null&&(this.option.zoom=e.zoom),e.offset!=null&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var t=0;t<e.length/2;t++){var n=e[t*2],r=e[t*2+1],a=this.getData().getRawDataItem(t);a.x=n,a.y=r}},isAnimationEnabled:function(){return Jv.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}});const qSe=Jv;var Ar=vr.vec2,vN=[[0,0],[1,1]],AG=Gt.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new Gt.Attribute("position","float",2,"POSITION"),normal:new Gt.Attribute("normal","float",2),offset:new Gt.Attribute("offset","float",1),color:new Gt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.offset.init(e),t.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(e===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(e*3):new Uint16Array(e*3))},_getCubicCurveApproxStep:function(e,t,n,r){var a=Ar.dist(e,t)+Ar.dist(n,t)+Ar.dist(r,n),i=1/(a+1)*this.segmentScale;return i},getCubicCurveVertexCount:function(e,t,n,r){var a=this._getCubicCurveApproxStep(e,t,n,r),i=Math.ceil(1/a);return this.useNativeLine?i*2:i*2+2},getCubicCurveTriangleCount:function(e,t,n,r){var a=this._getCubicCurveApproxStep(e,t,n,r),i=Math.ceil(1/a);return this.useNativeLine?0:i*2},getLineVertexCount:function(){return this.getPolylineVertexCount(vN)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(vN)},getPolylineVertexCount:function(e){var t;if(typeof e=="number")t=e;else{var n=typeof e[0]!="number";t=n?e.length:e.length/2}return this.useNativeLine?(t-1)*2:(t-1)*2+2},getPolylineTriangleCount:function(e){var t;if(typeof e=="number")t=e;else{var n=typeof e[0]!="number";t=n?e.length:e.length/2}return this.useNativeLine?0:(t-1)*2},addCubicCurve:function(e,t,n,r,a,i){i==null&&(i=1);for(var o=e[0],s=e[1],l=t[0],u=t[1],c=n[0],f=n[1],d=r[0],h=r[1],v=this._getCubicCurveApproxStep(e,t,n,r),p=v*v,m=p*v,g=3*v,y=3*p,_=6*p,x=6*m,w=o-l*2+c,b=s-u*2+f,S=(l-c)*3-o+d,C=(u-f)*3-s+h,A=o,M=s,T=(l-o)*g+w*y+S*m,E=(u-s)*g+b*y+C*m,P=w*_+S*x,I=b*_+C*x,k=S*x,B=C*x,U=0,R=0,L=Math.ceil(1/v),z=new Float32Array((L+1)*3),z=[],X=0,R=0;R<L+1;R++)z[X++]=A,z[X++]=M,A+=T,M+=E,T+=P,E+=I,P+=k,I+=B,U+=v,U>1&&(A=T>0?Math.min(A,d):Math.max(A,d),M=E>0?Math.min(M,h):Math.max(M,h));this.addPolyline(z,a,i)},addLine:function(e,t,n,r){this.addPolyline([e,t],n,r)},addPolyline:function(){var e=Ar.create(),t=Ar.create(),n=Ar.create(),r=Ar.create(),a=[],i=[],o=[];return function(s,l,u,c,f){if(s.length){var d=typeof s[0]!="number";if(f==null&&(f=d?s.length:s.length/2),!(f<2)){c==null&&(c=0),u==null&&(u=1),this._itemVertexOffsets.push(this._vertexOffset);for(var h=d?typeof l[0]!="number":l.length/4===f,v=this.attributes.position,p=this.attributes.color,m=this.attributes.offset,g=this.attributes.normal,y=this.indices,_=this._vertexOffset,x,w=0;w<f;w++){if(d)a=s[w+c],h?x=l[w+c]:x=l;else{var b=w*2+c;if(a=a||[],a[0]=s[b],a[1]=s[b+1],h){var S=w*4+c;x=x||[],x[0]=l[S],x[1]=l[S+1],x[2]=l[S+2],x[3]=l[S+3]}else x=l}if(this.useNativeLine)w>1&&(v.copy(_,_-1),p.copy(_,_-1),_++);else{var C;if(w<f-1){if(d)Ar.copy(i,s[w+1]);else{var b=(w+1)*2+c;i=i||[],i[0]=s[b],i[1]=s[b+1]}if(w>0){Ar.sub(e,a,o),Ar.sub(t,i,a),Ar.normalize(e,e),Ar.normalize(t,t),Ar.add(r,e,t),Ar.normalize(r,r);var A=u/2*Math.min(1/Ar.dot(e,r),2);n[0]=-r[1],n[1]=r[0],C=A}else Ar.sub(e,i,a),Ar.normalize(e,e),n[0]=-e[1],n[1]=e[0],C=u/2}else Ar.sub(e,a,o),Ar.normalize(e,e),n[0]=-e[1],n[1]=e[0],C=u/2;g.set(_,n),g.set(_+1,n),m.set(_,C),m.set(_+1,-C),Ar.copy(o,a),v.set(_,a),v.set(_+1,a),p.set(_,x),p.set(_+1,x),_+=2}if(this.useNativeLine)p.set(_,x),v.set(_,a),_++;else if(w>0){var M=this._faceOffset*3,y=this.indices;y[M]=_-4,y[M+1]=_-3,y[M+2]=_-2,y[M+3]=_-3,y[M+4]=_-1,y[M+5]=_-2,this._faceOffset+=2}}this._vertexOffset=_}}}}(),setItemColor:function(e,t){for(var n=this._itemVertexOffsets[e],r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,a=n;a<r;a++)this.attributes.color.set(a,t);this.dirty("color")}});Ft(AG.prototype,$m);const EG=AG,ZSe=`@export ecgl.forceAtlas2.updateNodeRepulsion

#define NODE_COUNT 0

uniform sampler2D positionTex;

uniform vec2 textureSize;
uniform float gravity;
uniform float scaling;
uniform vec2 gravityCenter;

uniform bool strongGravityMode;
uniform bool preventOverlap;

varying vec2 v_Texcoord;

void main() {

 vec4 n0 = texture2D(positionTex, v_Texcoord);

 vec2 force = vec2(0.0);
 for (int i = 0; i < NODE_COUNT; i++) {
 vec2 uv = vec2(
 mod(float(i), textureSize.x) / (textureSize.x - 1.0),
 floor(float(i) / textureSize.x) / (textureSize.y - 1.0)
 );
 vec4 n1 = texture2D(positionTex, uv);

 vec2 dir = n0.xy - n1.xy;
 float d2 = dot(dir, dir);

 if (d2 > 0.0) {
 float factor = 0.0;
 if (preventOverlap) {
 float d = sqrt(d2);
 d = d - n0.w - n1.w;
 if (d > 0.0) {
 factor = scaling * n0.z * n1.z / (d * d);
 }
 else if (d < 0.0) {
 factor = scaling * 100.0 * n0.z * n1.z;
 }
 }
 else {
 factor = scaling * n0.z * n1.z / d2;
 }
 force += dir * factor;
 }
 }

 vec2 dir = gravityCenter - n0.xy;
 float d = 1.0;
 if (!strongGravityMode) {
 d = length(dir);
 }

 force += dir * n0.z * gravity / (d + 1.0);

 gl_FragColor = vec4(force, 0.0, 1.0);
}
@end

@export ecgl.forceAtlas2.updateEdgeAttraction.vertex

attribute vec2 node1;
attribute vec2 node2;
attribute float weight;

uniform sampler2D positionTex;
uniform float edgeWeightInfluence;
uniform bool preventOverlap;
uniform bool linLogMode;

uniform vec2 windowSize: WINDOW_SIZE;

varying vec2 v_Force;

void main() {

 vec4 n0 = texture2D(positionTex, node1);
 vec4 n1 = texture2D(positionTex, node2);

 vec2 dir = n1.xy - n0.xy;
 float d = length(dir);
 float w;
 if (edgeWeightInfluence == 0.0) {
 w = 1.0;
 }
 else if (edgeWeightInfluence == 1.0) {
 w = weight;
 }
 else {
 w = pow(weight, edgeWeightInfluence);
 }
 vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);
 vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);
 vec2 pos = node1 * scale * 2.0 - 1.0;
 gl_Position = vec4(pos + offset, 0.0, 1.0);
 gl_PointSize = 1.0;

 float factor;
 if (preventOverlap) {
 d = d - n1.w - n0.w;
 }
 if (d <= 0.0) {
 v_Force = vec2(0.0);
 return;
 }

 if (linLogMode) {
 factor = w * log(d) / d;
 }
 else {
 factor = w;
 }
 v_Force = dir * factor;
}
@end

@export ecgl.forceAtlas2.updateEdgeAttraction.fragment

varying vec2 v_Force;

void main() {
 gl_FragColor = vec4(v_Force, 0.0, 0.0);
}
@end

@export ecgl.forceAtlas2.calcWeightedSum.vertex

attribute vec2 node;

varying vec2 v_NodeUv;

void main() {

 v_NodeUv = node;
 gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
 gl_PointSize = 1.0;
}
@end

@export ecgl.forceAtlas2.calcWeightedSum.fragment

varying vec2 v_NodeUv;

uniform sampler2D positionTex;
uniform sampler2D forceTex;
uniform sampler2D forcePrevTex;

void main() {
 vec2 force = texture2D(forceTex, v_NodeUv).rg;
 vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;

 float mass = texture2D(positionTex, v_NodeUv).z;
 float swing = length(force - forcePrev) * mass;
 float traction = length(force + forcePrev) * 0.5 * mass;

 gl_FragColor = vec4(swing, traction, 0.0, 0.0);
}
@end

@export ecgl.forceAtlas2.calcGlobalSpeed

uniform sampler2D globalSpeedPrevTex;
uniform sampler2D weightedSumTex;
uniform float jitterTolerence;

void main() {
 vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;
 float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;
 float globalSpeed = jitterTolerence * jitterTolerence
 * weightedSum.y / weightedSum.x;
 if (prevGlobalSpeed > 0.0) {
 globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;
 }
 gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);
}
@end

@export ecgl.forceAtlas2.updatePosition

uniform sampler2D forceTex;
uniform sampler2D forcePrevTex;
uniform sampler2D positionTex;
uniform sampler2D globalSpeedTex;

varying vec2 v_Texcoord;

void main() {
 vec2 force = texture2D(forceTex, v_Texcoord).xy;
 vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;
 vec4 node = texture2D(positionTex, v_Texcoord);

 float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;
 float swing = length(force - forcePrev);
 float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));

 float df = length(force);
 if (df > 0.0) {
 speed = min(df * speed, 10.0) / df;

 gl_FragColor = vec4(node.xy + speed * force, node.zw);
 }
 else {
 gl_FragColor = node;
 }
}
@end

@export ecgl.forceAtlas2.edges.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec2 node;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

uniform sampler2D positionTex;

void main()
{
 gl_Position = worldViewProjection * vec4(
 texture2D(positionTex, node).xy, -10.0, 1.0
 );
 v_Color = a_Color;
}
@end

@export ecgl.forceAtlas2.edges.fragment
uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
varying vec4 v_Color;
void main() {
 gl_FragColor = color * v_Color;
}
@end`;W.Shader.import(ZSe);var oS={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function Ir(e){var t={type:W.Texture.FLOAT,minFilter:W.Texture.NEAREST,magFilter:W.Texture.NEAREST};this._positionSourceTex=new W.Texture2D(t),this._positionSourceTex.flipY=!1,this._positionTex=new W.Texture2D(t),this._positionPrevTex=new W.Texture2D(t),this._forceTex=new W.Texture2D(t),this._forcePrevTex=new W.Texture2D(t),this._weightedSumTex=new W.Texture2D(t),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new W.Texture2D(t),this._globalSpeedPrevTex=new W.Texture2D(t),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new br({fragment:W.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new br({fragment:W.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new br({fragment:W.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new br({fragment:W.Shader.source("clay.compositor.output")});var n=function(r){r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE)};this._edgeForceMesh=new W.Mesh({geometry:new W.Geometry({attributes:{node1:new W.Geometry.Attribute("node1","float",2),node2:new W.Geometry.Attribute("node2","float",2),weight:new W.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new W.Material({transparent:!0,shader:W.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:n,depthMask:!1,depthText:!1}),mode:W.Mesh.POINTS}),this._weightedSumMesh=new W.Mesh({geometry:new W.Geometry({attributes:{node:new W.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new W.Material({transparent:!0,shader:W.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:n,depthMask:!1,depthText:!1}),mode:W.Mesh.POINTS}),this._framebuffer=new ea({depthBuffer:!1}),this._dummyCamera=new W.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}Ir.prototype.updateOption=function(e){for(var t in oS)this[t]=oS[t];var n=this._nodes.length;if(n>5e4?this.jitterTolerence=10:n>5e3?this.jitterTolerence=1:this.jitterTolerence=.1,n>100?this.scaling=2:this.scaling=10,e)for(var t in oS)e[t]!=null&&(this[t]=e[t]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,a=0;a<this._nodes.length;a++)r[a*4+2]=(this._nodes[a].degree||0)+1};Ir.prototype._updateGravityCenter=function(e){var t=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],a=[-1/0,-1/0],i=0;i<t.length;i++)r[0]=Math.min(t[i].x,r[0]),r[1]=Math.min(t[i].y,r[1]),a[0]=Math.max(t[i].x,a[0]),a[1]=Math.max(t[i].y,a[1]);this._gravityCenter=[(r[0]+a[0])*.5,(r[1]+a[1])*.5]}for(var i=0;i<n.length;i++){var o=n[i].node1,s=n[i].node2;t[o].degree=(t[o].degree||0)+1,t[s].degree=(t[s].degree||0)+1}};Ir.prototype.initData=function(e,t){this._nodes=e,this._edges=t,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(e.length)),r=n,a=new Float32Array(n*r*4);this._resize(n,r);for(var i=0,o=0;o<e.length;o++){var s=e[o];a[i++]=s.x||0,a[i++]=s.y||0,a[i++]=s.mass||1,a[i++]=s.size||1}this._positionSourceTex.pixels=a;var l=this._edgeForceMesh.geometry,u=t.length;l.attributes.node1.init(u*2),l.attributes.node2.init(u*2),l.attributes.weight.init(u*2);for(var c=[],o=0;o<t.length;o++){var f=l.attributes,d=t[o].weight;d==null&&(d=1),f.node1.set(o,this.getNodeUV(t[o].node1,c)),f.node2.set(o,this.getNodeUV(t[o].node2,c)),f.weight.set(o,d),f.node1.set(o+u,this.getNodeUV(t[o].node2,c)),f.node2.set(o+u,this.getNodeUV(t[o].node1,c)),f.weight.set(o+u,d)}var h=this._weightedSumMesh.geometry;h.attributes.node.init(e.length);for(var o=0;o<e.length;o++)h.attributes.node.set(o,this.getNodeUV(o,c));l.dirty(),h.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[n,r]),this._inited=!1,this._frame=0};Ir.prototype.getNodes=function(){return this._nodes};Ir.prototype.getEdges=function(){return this._edges};Ir.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var t=this._nodeRepulsionPass;t.setUniform("strongGravityMode",this.strongGravityMode),t.setUniform("gravity",this.gravity),t.setUniform("gravityCenter",this._gravityCenter),t.setUniform("scaling",this.scaling),t.setUniform("preventOverlap",this.preventOverlap),t.setUniform("positionTex",this._positionPrevTex),t.render(e);var n=this._edgeForceMesh;n.material.set("linLogMode",this.linLogMode),n.material.set("edgeWeightInfluence",this.edgeWeightInfluence),n.material.set("preventOverlap",this.preventOverlap),n.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var r=this._weightedSumMesh;r.material.set("positionTex",this._positionPrevTex),r.material.set("forceTex",this._forceTex),r.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var a=this._globalSpeedPass;a.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),a.setUniform("weightedSumTex",this._weightedSumTex),a.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),a.render(e);var i=this._positionPass;this._framebuffer.attach(this._positionTex),i.setUniform("globalSpeedTex",this._globalSpeedTex),i.setUniform("positionTex",this._positionPrevTex),i.setUniform("forceTex",this._forceTex),i.setUniform("forcePrevTex",this._forcePrevTex),i.render(e),this._framebuffer.unbind(e),this._swapTexture()};Ir.prototype.update=function(e,t,n){t==null&&(t=1),t=Math.max(t,1);for(var r=0;r<t;r++)this.step(e);n&&n()};Ir.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex};Ir.prototype.getNodeUV=function(e,t){t=t||[];var n=this._positionTex.width,r=this._positionTex.height;return t[0]=e%n/(n-1),t[1]=Math.floor(e/n)/(r-1)||0,t};Ir.prototype.getNodePosition=function(e,t){var n=this._positionArr,r=this._positionTex.width,a=this._positionTex.height,i=r*a;(!n||n.length!==i*4)&&(n=this._positionArr=new Float32Array(i*4)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,r,a,e.gl.RGBA,e.gl.FLOAT,n),this._framebuffer.unbind(e),t||(t=new Float32Array(this._nodes.length*2));for(var o=0;o<this._nodes.length;o++)t[o*2]=n[o*4],t[o*2+1]=n[o*4+1];return t};Ir.prototype.getTextureData=function(e,t){var n=this["_"+t+"Tex"],r=n.width,a=n.height;this._framebuffer.bind(e),this._framebuffer.attach(n);var i=new Float32Array(r*a*4);return e.gl.readPixels(0,0,r,a,e.gl.RGBA,e.gl.FLOAT,i),this._framebuffer.unbind(e),i};Ir.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}};Ir.prototype.isFinished=function(e){return this._frame>e};Ir.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e;var e=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=e;var e=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e};Ir.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)};Ir.prototype._resize=function(e,t){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(n){this[n].width=e,this[n].height=t,this[n].dirty()},this)};Ir.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};function KSe(){var e={create:function(){return new Float32Array(2)},dist:function(l,u){var c=u[0]-l[0],f=u[1]-l[1];return Math.sqrt(c*c+f*f)},len:function(l){var u=l[0],c=l[1];return Math.sqrt(u*u+c*c)},scaleAndAdd:function(l,u,c,f){return l[0]=u[0]+c[0]*f,l[1]=u[1]+c[1]*f,l},scale:function(l,u,c){return l[0]=u[0]*c,l[1]=u[1]*c,l},add:function(l,u,c){return l[0]=u[0]+c[0],l[1]=u[1]+c[1],l},sub:function(l,u,c){return l[0]=u[0]-c[0],l[1]=u[1]-c[1],l},normalize:function(l,u){var c=u[0],f=u[1],d=c*c+f*f;return d>0&&(d=1/Math.sqrt(d),l[0]=u[0]*d,l[1]=u[1]*d),l},negate:function(l,u){return l[0]=-u[0],l[1]=-u[1],l},copy:function(l,u){return l[0]=u[0],l[1]=u[1],l},set:function(l,u,c){return l[0]=u,l[1]=c,l}};function t(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var n=t.prototype;n.beforeUpdate=function(){for(var l=0;l<this.nSubRegions;l++)this.subRegions[l].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},n.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var l=0;l<this.nSubRegions;l++)this.subRegions[l].afterUpdate()},n.addNode=function(l){if(this.nSubRegions===0)if(this.node==null){this.node=l;return}else this._addNodeToSubRegion(this.node),this.node=null;this._addNodeToSubRegion(l),this._updateCenterOfMass(l)},n.findSubRegion=function(l,u){for(var c=0;c<this.nSubRegions;c++){var f=this.subRegions[c];if(f.contain(l,u))return f}},n.contain=function(l,u){return this.bbox[0]<=l&&this.bbox[2]>=l&&this.bbox[1]<=u&&this.bbox[3]>=u},n.setBBox=function(l,u,c,f){this.bbox[0]=l,this.bbox[1]=u,this.bbox[2]=c,this.bbox[3]=f,this.size=(c-l+f-u)/2},n._newSubRegion=function(){var l=this.subRegions[this.nSubRegions];return l||(l=new t,this.subRegions[this.nSubRegions]=l),this.nSubRegions++,l},n._addNodeToSubRegion=function(l){var u=this.findSubRegion(l.position[0],l.position[1]),c=this.bbox;if(!u){var f=(c[0]+c[2])/2,d=(c[1]+c[3])/2,h=(c[2]-c[0])/2,v=(c[3]-c[1])/2,p=l.position[0]>=f?1:0,m=l.position[1]>=d?1:0,u=this._newSubRegion();u.setBBox(p*h+c[0],m*v+c[1],(p+1)*h+c[0],(m+1)*v+c[1])}u.addNode(l)},n._updateCenterOfMass=function(l){this.centerOfMass==null&&(this.centerOfMass=new Float32Array(2));var u=this.centerOfMass[0]*this.mass,c=this.centerOfMass[1]*this.mass;u+=l.position[0]*l.mass,c+=l.position[1]*l.mass,this.mass+=l.mass,this.centerOfMass[0]=u/this.mass,this.centerOfMass[1]=c/this.mass};function r(){this.position=new Float32Array(2),this.force=e.create(),this.forcePrev=e.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function a(l,u){this.source=l,this.target=u,this.weight=1}function i(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new t,this.rootRegion.centerOfMass=e.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}var o=i.prototype;o.initNodes=function(l,u,c){var f=u.length;this.nodes.length=0;for(var d=typeof c<"u",h=0;h<f;h++){var v=new r;v.position[0]=l[h*2],v.position[1]=l[h*2+1],v.mass=u[h],d&&(v.size=c[h]),this.nodes.push(v)}this._massArr=u,this._swingingArr=new Float32Array(f),d&&(this._sizeArr=c)},o.initEdges=function(l,u){var c=l.length/2;this.edges.length=0;for(var f=0;f<c;f++){var d=l[f*2],h=l[f*2+1],v=this.nodes[d],p=this.nodes[h];if(!v||!p){console.error("Node not exists, try initNodes before initEdges");return}v.outDegree++,p.inDegree++;var m=new a(v,p);u&&(m.weight=u[f]),this.edges.push(m)}},o.updateSettings=function(){if(this.repulsionByDegree)for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.mass=u.inDegree+u.outDegree+1}else for(var l=0;l<this.nodes.length;l++){var u=this.nodes[l];u.mass=this._massArr[l]}},o.update=function(){var l=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var u=0;u<l;u++)this.rootRegion.addNode(this.nodes[u]);this.rootRegion.afterUpdate()}for(var u=0;u<l;u++){var c=this.nodes[u];e.copy(c.forcePrev,c.force),e.set(c.force,0,0)}for(var u=0;u<l;u++){var f=this.nodes[u];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,f);else for(var d=u+1;d<l;d++){var h=this.nodes[d];this.applyNodeToNodeRepulsion(f,h,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(f):this.applyNodeGravity(f))}for(var u=0;u<this.edges.length;u++)this.applyEdgeAttraction(this.edges[u]);for(var v=0,p=0,m=e.create(),u=0;u<l;u++){var c=this.nodes[u],g=e.dist(c.force,c.forcePrev);v+=g*c.mass,e.add(m,c.force,c.forcePrev);var y=e.len(m)*.5;p+=y*c.mass,this._swingingArr[u]=g}var _=this.jitterTolerence*this.jitterTolerence*p/v;this._globalSpeed>0&&(_=Math.min(_/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=_;for(var u=0;u<l;u++){var c=this.nodes[u],g=this._swingingArr[u],x=.1*_/(1+_*Math.sqrt(g)),w=e.len(c.force);w>0&&(x=Math.min(w*x,10)/w,e.scaleAndAdd(c.position,c.position,c.force,x))}},o.applyRegionToNodeRepulsion=function(){var l=e.create();return function(c,f){if(c.node)this.applyNodeToNodeRepulsion(c.node,f,!0);else{e.sub(l,f.position,c.centerOfMass);var d=l[0]*l[0]+l[1]*l[1];if(d>this.barnesHutTheta*c.size*c.size){var h=this.scaling*f.mass*c.mass/d;e.scaleAndAdd(f.force,f.force,l,h)}else for(var v=0;v<c.nSubRegions;v++)this.applyRegionToNodeRepulsion(c.subRegions[v],f)}}}(),o.applyNodeToNodeRepulsion=function(){var l=e.create();return function(c,f,d){if(c!=f){e.sub(l,c.position,f.position);var h=l[0]*l[0]+l[1]*l[1];if(h!==0){var v;if(this.preventOverlap){var p=Math.sqrt(h);if(p=p-c.size-f.size,p>0)v=this.scaling*c.mass*f.mass/(p*p);else if(p<0)v=this.scaling*100*c.mass*f.mass;else return}else v=this.scaling*c.mass*f.mass/h;e.scaleAndAdd(c.force,c.force,l,v),e.scaleAndAdd(f.force,f.force,l,-v)}}}}(),o.applyEdgeAttraction=function(){var l=e.create();return function(c){var f=c.source,d=c.target;e.sub(l,f.position,d.position);var h=e.len(l),v;this.edgeWeightInfluence===0?v=1:this.edgeWeightInfluence===1?v=c.weight:v=Math.pow(c.weight,this.edgeWeightInfluence);var p;this.preventOverlap&&(h=h-f.size-d.size,h<=0)||(this.linLogMode?p=-v*Math.log(h+1)/(h+1):p=-v,e.scaleAndAdd(f.force,f.force,l,p),e.scaleAndAdd(d.force,d.force,l,-p))}}(),o.applyNodeGravity=function(){var l=e.create();return function(u){e.sub(l,this.gravityCenter,u.position);var c=e.len(l);e.scaleAndAdd(u.force,u.force,l,this.gravity*u.mass/(c+1))}}(),o.applyNodeStrongGravity=function(){var l=e.create();return function(u){e.sub(l,this.gravityCenter,u.position),e.scaleAndAdd(u.force,u.force,l,this.gravity*u.mass)}}(),o.updateBBox=function(){for(var l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<this.nodes.length;d++){var h=this.nodes[d].position;l=Math.min(l,h[0]),u=Math.min(u,h[1]),c=Math.max(c,h[0]),f=Math.max(f,h[1])}this.bbox[0]=l,this.bbox[1]=u,this.bbox[2]=c,this.bbox[3]=f},o.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(l){switch(l.data.cmd){case"init":s=new i,s.initNodes(l.data.nodesPosition,l.data.nodesMass,l.data.nodesSize),s.initEdges(l.data.edges,l.data.edgesWeight);break;case"updateConfig":if(s)for(var u in l.data.config)s[u]=l.data.config[u];break;case"update":var c=l.data.steps;if(s){for(var f=0;f<c;f++)s.update();for(var d=s.nodes.length,h=new Float32Array(d*2),f=0;f<d;f++){var v=s.nodes[f];h[f*2]=v.position[0],h[f*2+1]=v.position[1]}self.postMessage({buffer:h.buffer,globalSpeed:s.getGlobalSpeed()},[h.buffer])}else{var p=new Float32Array;self.postMessage({buffer:p.buffer,globalSpeed:s.getGlobalSpeed()},[p.buffer])}break}}}var ep=KSe.toString();ep=ep.slice(ep.indexOf("{")+1,ep.lastIndexOf("}"));var Tp={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},Mi=function(e){for(var t in Tp)this[t]=Tp[t];if(e)for(var t in e)this[t]=e[t];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new Et({type:Je.FLOAT,flipY:!1,minFilter:Je.NEAREST,magFilter:Je.NEAREST})};Mi.prototype.initData=function(e,t){var n=new Blob([ep]),r=window.URL.createObjectURL(n);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=t,this._frame=0;for(var a=e.length,i=t.length,o=new Float32Array(a*2),s=new Float32Array(a),l=new Float32Array(a),u=new Float32Array(i*2),c=new Float32Array(i),f=0;f<e.length;f++){var d=e[f];o[f*2]=d.x,o[f*2+1]=d.y,s[f]=d.mass==null?1:d.mass,l[f]=d.size==null?1:d.size}for(var f=0;f<t.length;f++){var h=t[f],v=h.node1,p=h.node2;u[f*2]=v,u[f*2+1]=p,c[f]=h.weight==null?1:h.weight}var m=Math.ceil(Math.sqrt(e.length)),g=m,y=new Float32Array(m*g*4),_=this._positionTex;_.width=m,_.height=g,_.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:o,nodesMass:s,nodesSize:l,edges:u,edgesWeight:c}),this._globalSpeed=1/0};Mi.prototype.updateOption=function(e){var t={};for(var n in Tp)t[n]=Tp[n];var r=this._nodes,a=this._edges,i=r.length;if(i>5e4?t.jitterTolerence=10:i>5e3?t.jitterTolerence=1:t.jitterTolerence=.1,i>100?t.scaling=2:t.scaling=10,i>1e3?t.barnesHutOptimize=!0:t.barnesHutOptimize=!1,e)for(var n in Tp)e[n]!=null&&(t[n]=e[n]);if(!t.gravityCenter){for(var o=[1/0,1/0],s=[-1/0,-1/0],l=0;l<r.length;l++)o[0]=Math.min(r[l].x,o[0]),o[1]=Math.min(r[l].y,o[1]),s[0]=Math.max(r[l].x,s[0]),s[1]=Math.max(r[l].y,s[1]);t.gravityCenter=[(o[0]+s[0])*.5,(o[1]+s[1])*.5]}for(var l=0;l<a.length;l++){var u=a[l].node1,c=a[l].node2;r[u].degree=(r[u].degree||0)+1,r[c].degree=(r[c].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:t})};Mi.prototype.update=function(e,t,n){t==null&&(t=1),t=Math.max(t,1),this._frame+=t,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(t)})};Mi.prototype._$onupdate=function(e){if(!this._disposed){var t=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=t,this._updateTexture(t),this._onupdate&&this._onupdate()}};Mi.prototype.getNodePositionTexture=function(){return this._positionTex};Mi.prototype.getNodeUV=function(e,t){t=t||[];var n=this._positionTex.width,r=this._positionTex.height;return t[0]=e%n/(n-1),t[1]=Math.floor(e/n)/(r-1),t};Mi.prototype.getNodes=function(){return this._nodes};Mi.prototype.getEdges=function(){return this._edges};Mi.prototype.isFinished=function(e){return this._frame>e};Mi.prototype.getNodePosition=function(e,t){if(t||(t=new Float32Array(this._nodes.length*2)),this._positionArr)for(var n=0;n<this._positionArr.length;n++)t[n]=this._positionArr[n];return t};Mi.prototype._updateTexture=function(e){for(var t=this._positionTex.pixels,n=0,r=0;r<e.length;)t[n++]=e[r++],t[n++]=e[r++],t[n++]=1,t[n++]=1;this._positionTex.dirty()};Mi.prototype.dispose=function(e){this._disposed=!0,this._worker=null};const pN=Mi;var QSe=Ka.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,t=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(t,t,t),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var t=e.offsetX,n=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(t,n))){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var r=this._convertPos(t,n);this._x=r.x,this._y=r.y}}},_convertPos:function(e,t){var n=this.viewGL.camera,r=this.viewGL.viewport;return{x:(e-r.x)/r.width*(n.right-n.left)+n.left,y:(t-r.y)/r.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(e){var t=this._convertPos(e.offsetX,e.offsetY);this._dx+=t.x-this._x,this._dy+=t.y-this._y,this._x=t.x,this._y=t.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){e=e.event;var t=e.wheelDelta||-e.detail;if(t!==0){var n=e.offsetX,r=e.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(n,r))){var a=t>0?1.1:.9,i=Math.max(Math.min(this._zoom*a,this.maxZoom),this.minZoom);a=i/this._zoom;var o=this._convertPos(n,r),s=(o.x-this._dx)*(a-1),l=(o.y-this._dy)*(a-1);this._dx-=s,this._dy-=l,this._zoom=i,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}});const JSe=QSe,eTe=`@export ecgl.lines2D.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec2 position: POSITION;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

#ifdef POSITIONTEXTURE_ENABLED
uniform sampler2D positionTexture;
#endif

void main()
{
 gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);

 v_Color = a_Color;
}

@end

@export ecgl.lines2D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

void main()
{
 gl_FragColor = color * v_Color;
}
@end


@export ecgl.meshLines2D.vertex

attribute vec2 position: POSITION;
attribute vec2 normal;
attribute float offset;
attribute vec4 a_Color : COLOR;

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;

varying vec4 v_Color;
varying float v_Miter;

void main()
{
 vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);
 gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);

 p2.xy /= p2.w;
 gl_Position.xy /= gl_Position.w;

 vec2 N = normalize(p2.xy - gl_Position.xy);
 gl_Position.xy += N * offset / viewport.zw * 2.0;

 gl_Position.xy *= gl_Position.w;

 v_Color = a_Color;
}
@end


@export ecgl.meshLines2D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;
varying float v_Miter;

void main()
{
 gl_FragColor = color * v_Color;
}

@end`;var xy=vr.vec2;W.Shader.import(eTe);var tTe=1;const nTe=Sr.extend({type:"graphGL",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this.viewGL=new vn("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new hf(!0,t),this._forceEdgesMesh=new W.Mesh({material:new W.Material({shader:W.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new W.Geometry({attributes:{node:new W.Geometry.Attribute("node","float",2),color:new W.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:W.Mesh.LINES}),this._edgesMesh=new W.Mesh({material:new W.Material({shader:W.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new EG({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new JSe({zr:t.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,t,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=n,this._initLayout(e,t,n),this._pointsBuilder.update(e,t,n),this._forceLayoutInstance instanceof Ir||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,n),this._control.off("update"),this._control.on("update",function(){n.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(St.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off("mousemove",this._mousemoveHandler),r.off("mouseout",this._mouseOutHandler,this),n.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var a=e.get("focusNodeAdjacencyOn");a==="click"?n.getZr().on("click",this._clickHandler):a==="mouseover"?(r.on("mousemove",this._mousemoveHandler,this),r.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1):console.warn("Unkown focusNodeAdjacencyOn value s"+a)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?t!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=t}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,t){var n=this._forceEdgesMesh.geometry,r=t.getEdgeData(),a=0,i=this._forceLayoutInstance,o=r.count()*2;n.attributes.node.init(o),n.attributes.color.init(o),r.each(function(s){var l=e[s];n.attributes.node.set(a,i.getNodeUV(l.node1)),n.attributes.node.set(a+1,i.getNodeUV(l.node2));var u=Ur(r,l.dataIndex),c=W.parseColor(u);c[3]*=St.firstNotNull(Fr(r,l.dataIndex),1),n.attributes.color.set(a,c),n.attributes.color.set(a+1,c),a+=2}),n.dirty()},_updateMeshLinesGeometry:function(){var t=this._model.getEdgeData(),e=this._edgesMesh.geometry,t=this._model.getEdgeData(),n=this._model.getData().getLayout("points");e.resetOffset(),e.setVertexCount(t.count()*e.getLineVertexCount()),e.setTriangleCount(t.count()*e.getLineTriangleCount());var r=[],a=[],i=["lineStyle","width"];this._originalEdgeColors=new Float32Array(t.count()*4),this._edgeIndicesMap=new Float32Array(t.count()),t.each(function(o){var s=t.graph.getEdgeByIndex(o),l=s.node1.dataIndex*2,u=s.node2.dataIndex*2;r[0]=n[l],r[1]=n[l+1],a[0]=n[u],a[1]=n[u+1];var c=Ur(t,s.dataIndex),f=W.parseColor(c);f[3]*=St.firstNotNull(Fr(t,s.dataIndex),1);var d=t.getItemModel(s.dataIndex),h=St.firstNotNull(d.get(i),1)*this._api.getDevicePixelRatio();e.addLine(r,a,f,h);for(var v=0;v<4;v++)this._originalEdgeColors[s.dataIndex*4+v]=f[v];this._edgeIndicesMap[s.dataIndex]=o},this),e.dirty()},_updateForceNodesGeometry:function(e){for(var t=this._pointsBuilder.getPointsMesh(),n=[],r=0;r<e.count();r++)this._forceLayoutInstance.getNodeUV(r,n),t.geometry.attributes.position.set(r,n);t.geometry.dirty("position")},_initLayout:function(e,t,n){var r=e.get("layout"),a=e.getGraph(),i=e.getBoxLayoutParams(),o=Fo(i,{width:n.getWidth(),height:n.getHeight()});r==="force"&&(console.warn("Currently only forceAtlas2 layout supported."),r="forceAtlas2"),this.stopLayout(e,t,n,{beforeLayout:!0});var s=e.getData(),l=e.getData();if(r==="forceAtlas2"){var u=e.getModel("forceAtlas2"),c=this._forceLayoutInstance,f=[],d=[],h=s.getDataExtent("value"),v=l.getDataExtent("value"),p=St.firstNotNull(u.get("edgeWeight"),1),m=St.firstNotNull(u.get("nodeWeight"),1);typeof p=="number"&&(p=[p,p]),typeof m=="number"&&(m=[m,m]);var g=0,y={},_=new Float32Array(s.count()*2);if(a.eachNode(function(w){var b=w.dataIndex,S=s.get("value",b),C,A;if(s.hasItemOption){var M=s.getItemModel(b);C=M.get("x"),A=M.get("y")}C==null&&(C=o.x+Math.random()*o.width,A=o.y+Math.random()*o.height),_[g*2]=C,_[g*2+1]=A,y[w.id]=g++;var T=Up(S,h,m);isNaN(T)&&(isNaN(m[0])?T=1:T=m[0]),f.push({x:C,y:A,mass:T,size:s.getItemVisual(b,"symbolSize")})}),s.setLayout("points",_),a.eachEdge(function(w){var b=w.dataIndex,S=s.get("value",b),C=Up(S,v,p);isNaN(C)&&(isNaN(p[0])?C=1:C=p[0]),d.push({node1:y[w.node1.id],node2:y[w.node2.id],weight:C,dataIndex:b})}),!c){var x=u.get("GPU");this._forceLayoutInstance&&(x&&!(this._forceLayoutInstance instanceof Ir)||!x&&!(this._forceLayoutInstance instanceof pN))&&(this._forceLayoutInstanceToDispose=this._forceLayoutInstance),c=this._forceLayoutInstance=x?new Ir:new pN}c.initData(f,d),c.updateOption(u.option),this._updateForceEdgesGeometry(c.getEdges(),e),this._updatePositionTexture(),n.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{var _=new Float32Array(s.count()*2),g=0;a.eachNode(function(S){var C=S.dataIndex,A,M;if(s.hasItemOption){var T=s.getItemModel(C);A=T.get("x"),M=T.get("y")}_[g++]=A,_[g++]=M}),s.setLayout("points",_),this._updateAfterLayout(e,t,n)}},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,t,i,r){if(!(r&&r.from!=null&&r.from!==this.uid)){var a=this.viewGL,i=this._api,o=this._forceLayoutInstance,s=this._model.getData(),l=this._model.getModel("forceAtlas2");if(!o){console.error("None layout don't have startLayout action");return}if(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),!!this._forceLayoutInstance){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var u=this,c=this._layoutId=tTe++,f=l.getShallow("maxSteps"),d=l.getShallow("steps"),h=0,v=Math.max(d*2,20),p=function(m){if(m===u._layoutId){if(o.isFinished(f)){i.dispatchAction({type:"graphGLStopLayout",from:u.uid}),i.dispatchAction({type:"graphGLFinishLayout",points:s.getLayout("points"),from:u.uid});return}o.update(a.layer.renderer,d,function(){u._updatePositionTexture(),h+=d,h>=v&&(u._syncNodePosition(e),h=0),i.getZr().refresh(),Zd(function(){p(m)})})}};Zd(function(){u._forceLayoutInstanceToDispose&&(u._forceLayoutInstanceToDispose.dispose(a.layer.renderer),u._forceLayoutInstanceToDispose=null),p(c)}),this._layouting=!0}}},stopLayout:function(e,t,n,r){r&&r.from!=null&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(r&&r.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,t,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(e){var t=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",t),e.setNodePosition(t)},_updateAfterLayout:function(e,t,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,t,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,t,n,r){var a=this._model.getData();this._downplayAll();var i=r.dataIndex,o=a.graph,s=[],l=o.getNodeByIndex(i);s.push(l),l.edges.forEach(function(c){c.dataIndex<0||(c.node1!==l&&s.push(c.node1),c.node2!==l&&s.push(c.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach(function(c){this._pointsBuilder.highlight(a,c.dataIndex)},this),this._pointsBuilder.updateLabels(s.map(function(c){return c.dataIndex}));var u=[];l.edges.forEach(function(c){c.dataIndex>=0&&(this._highlightEdge(c.dataIndex),u.push(c))},this),this._focusNodes=s,this._focusEdges=u},unfocusNodeAdjacency:function(e,t,n,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var t=this._model.getEdgeData().getItemModel(e),n=W.parseColor(t.get("emphasis.lineStyle.color")||t.get("lineStyle.color")),r=St.firstNotNull(t.get("emphasis.lineStyle.opacity"),t.get("lineStyle.opacity"),1);n[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(e){this._downplayEdge(e.dataIndex)},this)},_downplayEdge:function(e){var t=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)},_setEdgeFade:function(){var e=[];return function(t,n){this._getColor(t,e),e[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)}}(),_getColor:function(e,t){for(var n=0;n<4;n++)t[n]=this._originalEdgeColors[e*4+n];return t},_fadeOutEdgesAll:function(e){var t=this._model.getData().graph;t.eachEdge(function(n){this._setEdgeFade(n.dataIndex,e)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,t){this.viewGL.setViewport(0,0,t.getWidth(),t.getHeight(),t.getDevicePixelRatio());for(var n=this.viewGL.camera,r=e.getData(),a=r.getLayout("points"),i=xy.create(1/0,1/0),o=xy.create(-1/0,-1/0),s=[],l=0;l<a.length;)s[0]=a[l++],s[1]=a[l++],xy.min(i,i,s),xy.max(o,o,s);var u=(o[1]+i[1])/2,c=(o[0]+i[0])/2;if(!(c>n.left&&c<n.right&&u<n.bottom&&u>n.top)){var f=Math.max(o[0]-i[0],10),d=f/t.getWidth()*t.getHeight();f*=1.4,d*=1.4,i[0]-=f*.2,n.left=i[0],n.top=u-d/2,n.bottom=u+d/2,n.right=f+i[0],n.near=0,n.far=100}},dispose:function(){var e=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(e),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function by(e){return e instanceof Array||(e=[e,e]),e}function rTe(e){e.registerChartView(nTe),e.registerSeriesModel(qSe),e.registerVisual(function(n){const r={};n.eachSeriesByType("graphGL",function(a){var i=a.getCategoriesData(),o=a.getData(),s={};i.each(function(l){var u=i.getName(l);s["ec-"+u]=l;var c=i.getItemModel(l),f=c.getModel("itemStyle").getItemStyle();f.fill||(f.fill=a.getColorFromPalette(u,r)),i.setItemVisual(l,"style",f);var d=["symbol","symbolSize","symbolKeepAspect"];for(let v=0;v<d.length;v++){var h=c.getShallow(d[v],!0);h!=null&&i.setItemVisual(l,d[v],h)}}),i.count()&&o.each(function(l){var u=o.getItemModel(l);let c=u.getShallow("category");if(c!=null){typeof c=="string"&&(c=s["ec-"+c]);var f=i.getItemVisual(c,"style"),d=o.ensureUniqueItemVisual(l,"style");Pe(d,f);var h=["symbol","symbolSize","symbolKeepAspect"];for(let v=0;v<h.length;v++)o.setItemVisual(l,h[v],i.getItemVisual(c,h[v]))}})})}),e.registerVisual(function(n){n.eachSeriesByType("graphGL",function(r){var a=r.getGraph(),i=r.getEdgeData(),o=by(r.get("edgeSymbol")),s=by(r.get("edgeSymbolSize"));i.setVisual("drawType","stroke"),i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",s&&s[0]),i.setVisual("toSymbolSize",s&&s[1]),i.setVisual("style",r.getModel("lineStyle").getLineStyle()),i.each(function(l){var u=i.getItemModel(l),c=a.getEdgeByIndex(l),f=by(u.getShallow("symbol",!0)),d=by(u.getShallow("symbolSize",!0)),h=u.getModel("lineStyle").getLineStyle(),v=i.ensureUniqueItemVisual(l,"style");switch(Pe(v,h),v.stroke){case"source":{var p=c.node1.getVisual("style");v.stroke=p&&p.fill;break}case"target":{var p=c.node2.getVisual("style");v.stroke=p&&p.fill;break}}f[0]&&c.setVisual("fromSymbol",f[0]),f[1]&&c.setVisual("toSymbol",f[1]),d[0]&&c.setVisual("fromSymbolSize",d[0]),d[1]&&c.setVisual("toSymbolSize",d[1])})})}),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(n,r){r.eachComponent({mainType:"series",query:n},function(a){a.setView(n)})});function t(){}e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},t),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},t),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},t),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},t)}wn(rTe);const aTe=$r.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,t){var n=this.get("coordinateSystem"),r=n==="geo"?["lng","lat"]:Y5(n)||["x","y"];if(r.length>2)throw new Error("flowGL can only be used on 2d coordinate systems.");r.push("vx","vy");var a=Im(this.getSource(),{coordDimensions:r,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),i=new co(a,this);return i.initData(this.getSource()),i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var iTe=Gt.extend(function(){return{dynamic:!0,attributes:{position:new Gt.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var t=this.attributes,n=4*e,r=2*e;this.vertexCount!==n&&t.position.init(n),this.triangleCount!==r&&(r===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(r*3):new Uint16Array(r*3))},addLine:function(e){var t=this._vertexOffset;this.attributes.position.set(t,[e[0],e[1],1]),this.attributes.position.set(t+1,[e[0],e[1],-1]),this.attributes.position.set(t+2,[e[0],e[1],2]),this.attributes.position.set(t+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[t,t+1,t+2]),this.setTriangleIndices(this._faceOffset++,[t+1,t+2,t+3]),this._vertexOffset+=4}});const oTe=iTe,sTe=`@export ecgl.vfParticle.particle.fragment

uniform sampler2D particleTexture;
uniform sampler2D spawnTexture;
uniform sampler2D velocityTexture;

uniform float deltaTime;
uniform float elapsedTime;

uniform float speedScaling : 1.0;

uniform vec2 textureSize;
uniform vec4 region : [0, 0, 1, 1];
uniform float firstFrameTime;

varying vec2 v_Texcoord;


void main()
{
 vec4 p = texture2D(particleTexture, v_Texcoord);
 bool spawn = false;
 if (p.w <= 0.0) {
 p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));
 p.w -= firstFrameTime;
 spawn = true;
 }
 vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;
 v = (v - 0.5) * 2.0;
 p.z = length(v);
 p.xy += v * deltaTime / 10.0 * speedScaling;
 p.w -= deltaTime;

 if (spawn || p.xy != fract(p.xy)) {
 p.z = 0.0;
 }
 p.xy = fract(p.xy);

 gl_FragColor = p;
}
@end

@export ecgl.vfParticle.renderPoints.vertex

#define PI 3.1415926

attribute vec2 texcoord : TEXCOORD_0;

uniform sampler2D particleTexture;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

uniform float size : 1.0;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 vec4 p = texture2D(particleTexture, texcoord);

 if (p.w > 0.0 && p.z > 1e-5) {
 gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);
 }
 else {
 gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);
 }

 v_Mag = p.z;
 v_Uv = p.xy;

 gl_PointSize = size;
}

@end

@export ecgl.vfParticle.renderPoints.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform sampler2D gradientTexture;
uniform sampler2D colorTexture;
uniform sampler2D spriteTexture;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 gl_FragColor = color;
#ifdef SPRITETEXTURE_ENABLED
 gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);
 if (color.a == 0.0) {
 discard;
 }
#endif
#ifdef GRADIENTTEXTURE_ENABLED
 gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));
#endif
#ifdef COLORTEXTURE_ENABLED
 gl_FragColor *= texture2D(colorTexture, v_Uv);
#endif
}

@end

@export ecgl.vfParticle.renderLines.vertex

#define PI 3.1415926

attribute vec3 position : POSITION;

uniform sampler2D particleTexture;
uniform sampler2D prevParticleTexture;

uniform float size : 1.0;
uniform vec4 vp: VIEWPORT;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

varying float v_Mag;
varying vec2 v_Uv;

@import clay.util.rand

void main()
{
 vec4 p = texture2D(particleTexture, position.xy);
 vec4 p2 = texture2D(prevParticleTexture, position.xy);

 p.xy = p.xy * 2.0 - 1.0;
 p2.xy = p2.xy * 2.0 - 1.0;

 if (p.w > 0.0 && p.z > 1e-5) {
 vec2 dir = normalize(p.xy - p2.xy);
 vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;
 if (abs(position.z) == 2.0) {
 gl_Position = vec4(p.xy + norm, 0.0, 1.0);
 v_Uv = p.xy;
 v_Mag = p.z;
 }
 else {
 gl_Position = vec4(p2.xy + norm, 0.0, 1.0);
 v_Mag = p2.z;
 v_Uv = p2.xy;
 }
 gl_Position = worldViewProjection * gl_Position;
 }
 else {
 gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);
 }
}

@end

@export ecgl.vfParticle.renderLines.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform sampler2D gradientTexture;
uniform sampler2D colorTexture;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 gl_FragColor = color;
 #ifdef GRADIENTTEXTURE_ENABLED
 gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));
#endif
#ifdef COLORTEXTURE_ENABLED
 gl_FragColor *= texture2D(colorTexture, v_Uv);
#endif
}

@end
`;Re.import(sTe);function lTe(e){var t=document.createElement("canvas");t.width=t.height=e;var n=t.getContext("2d");return n.fillStyle="#fff",n.arc(e/2,e/2,e/2,0,Math.PI*2),n.fill(),t}var QC=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new Et({type:Je.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};QC.prototype={constructor:QC,init:function(){var e={type:Je.FLOAT,minFilter:Je.NEAREST,magFilter:Je.NEAREST,useMipmap:!1};this._spawnTexture=new Et(e),this._particleTexture0=new Et(e),this._particleTexture1=new Et(e),this._frameBuffer=new ea({depthBuffer:!1}),this._particlePass=new br({fragment:Re.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new br({fragment:Re.source("clay.compositor.downsample")});var t=new Dc({renderOrder:10,material:new ro({shader:new Re(Re.source("ecgl.vfParticle.renderPoints.vertex"),Re.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:Dc.POINTS,geometry:new Gt({dynamic:!0,mainAttribute:"texcoord0"})}),n=new Dc({renderOrder:10,material:new ro({shader:new Re(Re.source("ecgl.vfParticle.renderLines.vertex"),Re.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new oTe,culling:!1}),r=new Dc({material:new ro({shader:new Re(Re.source("ecgl.color.vertex"),Re.source("ecgl.color.fragment"))}),geometry:new ox});r.material.enableTexture("diffuseMap"),this._particlePointsMesh=t,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=r,this._camera=new uh,this._thisFrameTexture=new Et,this._lastFrameTexture=new Et},setParticleDensity:function(e,t){for(var n=e*t,r=new Float32Array(n*4),a=0,i=this.particleLife,o=0;o<e;o++)for(var s=0;s<t;s++,a++){r[a*4]=Math.random(),r[a*4+1]=Math.random(),r[a*4+2]=Math.random();var l=(i[1]-i[0])*Math.random()+i[0];r[a*4+3]=l}this._particleType==="line"?this._setLineGeometry(e,t):this._setPointsGeometry(e,t),this._spawnTexture.width=e,this._spawnTexture.height=t,this._spawnTexture.pixels=r,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=t,this._particlePass.setUniform("textureSize",[e,t])},_setPointsGeometry:function(e,t){var n=e*t,r=this._particlePointsMesh.geometry,a=r.attributes;a.texcoord0.init(n);for(var i=0,o=0;o<e;o++)for(var s=0;s<t;s++,i++)a.texcoord0.value[i*2]=o/e,a.texcoord0.value[i*2+1]=s/t;r.dirty()},_setLineGeometry:function(e,t){var n=e*t,r=this._getParticleMesh().geometry;r.setLineCount(n),r.resetOffset();for(var a=0;a<e;a++)for(var i=0;i<t;i++)r.addLine([a/e,i/t]);r.dirty()},_getParticleMesh:function(){return this._particleType==="line"?this._particleLinesMesh:this._particlePointsMesh},update:function(e,t,n,r){var a=this._getParticleMesh(),i=this._frameBuffer,o=this._particlePass;r&&this._updateDownsampleTextures(e,t),a.material.set("size",this._particleSize*this._supersampling),a.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),i.attach(this._particleTexture1),o.setUniform("firstFrameTime",r?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",n),o.setUniform("elapsedTime",this._elapsedTime),o.render(e,i),a.material.set("particleTexture",this._particleTexture1),a.material.set("prevParticleTexture",this._particleTexture0),i.attach(this._thisFrameTexture),i.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([s,a],this._camera),i.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=n},_downsample:function(e){var t=this._downsampleTextures;if(t.length!==0)for(var n=0,r=this._thisFrameTexture,a=t[n];a;)this._frameBuffer.attach(a),this._downsamplePass.setUniform("texture",r),this._downsamplePass.setUniform("textureSize",[r.width,r.height]),this._downsamplePass.render(e,this._frameBuffer),r=a,a=t[++n]},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,t){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=t*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=t*this._supersampling,this._width=e,this._height=t},setParticleSize:function(e){var t=this._getParticleMesh();if(e<=2){t.material.disableTexture("spriteTexture"),t.material.transparent=!1;return}this._spriteTexture||(this._spriteTexture=new Et),(!this._spriteTexture.image||this._spriteTexture.image.width!==e)&&(this._spriteTexture.image=lTe(e),this._spriteTexture.dirty()),t.material.transparent=!0,t.material.enableTexture("spriteTexture"),t.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var t=this._getParticleMesh().material;t[e?"enableTexture":"disableTexture"]("gradientTexture"),t.setUniform("gradientTexture",e)},setColorTextureImage:function(e,t){var n=this._getParticleMesh().material;n.setTextureImage("colorTexture",e,t,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var t=this._frameBuffer;t.attach(this._lastFrameTexture),t.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),t.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,t){for(var n=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/t.getDevicePixelRatio())/Math.log(2)),0),a=2,i=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<r;s++)n[s]=n[s]||new Et,n[s].width=i/a,n[s].height=o/a,a*=2;for(;s<n.length;s++)n[s].dispose(e);n.length=r},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e;var e=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach(function(t){t.dispose(e)})}};const uTe=QC,cTe=Sr.extend({type:"flowGL",__ecgl__:!0,init:function(e,t){this.viewGL=new vn("orthographic"),this.groupGL=new W.Node,this.viewGL.add(this.groupGL),this._particleSurface=new uTe;var n=new W.Mesh({geometry:new W.PlaneGeometry,material:new W.Material({shader:new W.Shader({vertex:W.Shader.source("ecgl.color.vertex"),fragment:W.Shader.source("ecgl.color.fragment")}),transparent:!0})});n.material.enableTexture("diffuseMap"),this.groupGL.add(n),this._planeMesh=n},render:function(e,t,n){var r=this._particleSurface;r.setParticleType(e.get("particleType")),r.setSupersampling(e.get("supersampling")),this._updateData(e,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var a=St.firstNotNull(e.get("particleDensity"),128);r.setParticleDensity(a,a);var i=this._planeMesh,o=+new Date,s=this,l=!0;i.__percent=0,i.stopAnimation(),i.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var f=+new Date,d=Math.min(f-o,20);o=o+d,s._renderer&&(r.update(s._renderer,n,d/1e3,l),i.material.set("diffuseMap",r.getSurfaceTexture())),l=!1}).start();var u=e.getModel("itemStyle"),c=W.parseColor(u.get("color"));c[3]*=St.firstNotNull(u.get("opacity"),1),i.material.set("color",c),r.setColorTextureImage(e.get("colorTexture"),n),r.setParticleSize(e.get("particleSize")),r.particleSpeedScaling=e.get("particleSpeed"),r.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,t,n){this._updateData(e,n)},afterRender:function(e,t,n,r){var a=r.renderer;this._renderer=a},_updateData:function(e,t){var n=e.coordinateSystem,r=n.dimensions.map(function(y){return e.coordDimToDataDim(y)[0]}),a=e.getData(),i=a.getDataExtent(r[0]),o=a.getDataExtent(r[1]),s=e.get("gridWidth"),l=e.get("gridHeight");if(s==null||s==="auto"){var u=(i[1]-i[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(u*a.count()))}(l==null||l==="auto")&&(l=Math.ceil(a.count()/s));var c=this._particleSurface.vectorFieldTexture,f=c.pixels;if(!f||f.length!==l*s*4)f=c.pixels=new Float32Array(s*l*4);else for(var d=0;d<f.length;d++)f[d]=0;var h=0,v=1/0,p=new Float32Array(a.count()*2),m=0,g=[[1/0,1/0],[-1/0,-1/0]];a.each([r[0],r[1],"vx","vy"],function(y,_,x,w){var b=n.dataToPoint([y,_]);p[m++]=b[0],p[m++]=b[1],g[0][0]=Math.min(b[0],g[0][0]),g[0][1]=Math.min(b[1],g[0][1]),g[1][0]=Math.max(b[0],g[1][0]),g[1][1]=Math.max(b[1],g[1][1]);var S=Math.sqrt(x*x+w*w);h=Math.max(h,S),v=Math.min(v,S)}),a.each(["vx","vy"],function(y,_,x){var w=Math.round((p[x*2]-g[0][0])/(g[1][0]-g[0][0])*(s-1)),b=l-1-Math.round((p[x*2+1]-g[0][1])/(g[1][1]-g[0][1])*(l-1)),S=(b*s+w)*4;f[S]=y/h*.5+.5,f[S+1]=_/h*.5+.5,f[S+3]=1}),c.width=s,c.height=l,e.get("coordinateSystem")==="bmap"&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(g[0],g[1],e,t),this._updateGradientTexture(a.getVisual("visualMeta"),[v,h])},_fillEmptyPixels:function(e){var t=e.pixels,n=e.width,r=e.height;function a(p,m,g){p=Math.max(Math.min(p,n-1),0),m=Math.max(Math.min(m,r-1),0);var y=(m*(n-1)+p)*4;return t[y+3]===0?!1:(g[0]=t[y],g[1]=t[y+1],!0)}function i(p,m,g){g[0]=p[0]+m[0],g[1]=p[1]+m[1]}for(var o=[],s=[],l=[],u=[],c=[],f=0,d=0;d<r;d++)for(var h=0;h<n;h++){var v=(d*(n-1)+h)*4;t[v+3]===0&&(f=o[0]=o[1]=0,a(h-1,d,s)&&(f++,i(s,o,o)),a(h+1,d,l)&&(f++,i(l,o,o)),a(h,d-1,u)&&(f++,i(u,o,o)),a(h,d+1,c)&&(f++,i(c,o,o)),o[0]/=f,o[1]/=f,t[v]=o[0],t[v+1]=o[1]),t[v+3]=1}},_updateGradientTexture:function(e,t){if(!e||!e.length){this._particleSurface.setGradientTexture(null);return}this._gradientTexture=this._gradientTexture||new W.Texture2D({image:document.createElement("canvas")});var n=this._gradientTexture,r=n.image;r.width=200,r.height=1;var a=r.getContext("2d"),i=a.createLinearGradient(0,.5,r.width,.5);e[0].stops.forEach(function(o){var s;t[1]===t[0]?s=0:(s=o.value/t[1],s=Math.min(Math.max(s,0),1)),i.addColorStop(s,o.color)}),a.fillStyle=i,a.fillRect(0,0,r.width,r.height),n.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)},_updatePlanePosition:function(e,t,n,r){var a=this._limitInViewportAndFullFill(e,t,n,r);e=a.leftTop,t=a.rightBottom,this._particleSurface.setRegion(a.region),this._planeMesh.position.set((e[0]+t[0])/2,r.getHeight()-(e[1]+t[1])/2,0);var i=t[0]-e[0],o=t[1]-e[1];this._planeMesh.scale.set(i/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(i,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,t,n,r){var a=[Math.max(e[0],0),Math.max(e[1],0)],i=[Math.min(t[0],r.getWidth()),Math.min(t[1],r.getHeight())];if(n.get("coordinateSystem")==="bmap"){var o=n.getData().getDataExtent(n.coordDimToDataDim("lng")[0]),s=Math.floor(o[1]-o[0])>=359;s&&(a[0]>0&&(a[0]=0),i[0]<r.getWidth()&&(i[0]=r.getWidth()))}var l=t[0]-e[0],u=t[1]-e[1],c=i[0]-a[0],f=i[1]-a[1],d=[(a[0]-e[0])/l,1-f/u-(a[1]-e[1])/u,c/l,f/u];return{leftTop:a,rightBottom:i,region:d}},_updateCamera:function(e,t,n){this.viewGL.setViewport(0,0,e,t,n);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=t,r.right=e,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});function fTe(e){e.registerChartView(cTe),e.registerSeriesModel(aTe)}wn(fTe);var JC=$r.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),JC.superApply(this,"init",arguments)},mergeOption:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),JC.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=FS(this._flatCoords,t.flatCoords),this._flatCoordsOffset=FS(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e),n=t.option instanceof Array?t.option:t.getShallow("coords");if(!(n instanceof Array&&n.length>0&&n[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(n)+". Lines must have 2d coords array in data item.");return n},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[e*2],r=this._flatCoordsOffset[e*2+1],a=0;a<r;a++)t[a]=t[a]||[],t[a][0]=this._flatCoords[n+a*2],t[a][1]=this._flatCoords[n+a*2+1];return r}else{for(var i=this._getCoordsFromItemModel(e),a=0;a<i.length;a++)t[a]=t[a]||[],t[a][0]=i[a][0],t[a][1]=i[a][1];return i.length}},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),typeof e[0]=="number"){for(var n=e.length,r=new Uint32Array(n),a=new Float64Array(n),i=0,o=0,s=0,l=0;l<n;){s++;var u=e[l++];r[o++]=i+t,r[o++]=u;for(var c=0;c<u;c++){var f=e[l++],d=e[l++];if(a[i++]=f,a[i++]=d,l>n)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:a,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new co(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(r,a,i,o){if(r instanceof Array)return NaN;n.hasItemOption=!0;var s=r.value;if(s!=null)return s instanceof Array?s[o]:s}),n},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const dTe=JC,hTe=Sr.extend({type:"linesGL",__ecgl__:!0,init:function(e,t){this.groupGL=new W.Node,this.viewGL=new vn("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new Cl(this.viewGL),this._nativeLinesShader=W.createShader("ecgl.lines3D"),this._meshLinesShader=W.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(e,r,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalRender:function(e,t,n,r){var a=this._linesMeshes[this._currentStep];a||(a=this._createLinesMesh(t),this._linesMeshes[this._currentStep]=a),this._updateLinesMesh(t,a,e.start,e.end),this.groupGL.add(a),r.getZr().refresh(),this._currentStep++},updateTransform:function(e,t,n){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,n)},_createLinesMesh:function(e){var t=new W.Mesh({$ignorePicking:!0,material:new W.Material({shader:W.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new EG({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:W.Mesh.LINES,culling:!1});return t},_updateLinesMesh:function(e,t,n,r){var a=e.getData();t.material.blend=e.get("blendMode")==="lighter"?W.additiveBlend:null;var i=e.get("lineStyle.curveness")||0,o=e.get("polyline"),s=t.geometry,l=e.coordinateSystem,u=St.firstNotNull(e.get("lineStyle.width"),1);u>1?(t.material.shader!==this._meshLinesShader&&t.material.attachShader(this._meshLinesShader),t.mode=W.Mesh.TRIANGLES):(t.material.shader!==this._nativeLinesShader&&t.material.attachShader(this._nativeLinesShader),t.mode=W.Mesh.LINES),n=n||0,r=r||a.count(),s.resetOffset();var c=0,f=0,d=[],h=[],v=[],p=[],m=[],g=.3,y=.7;function _(){h[0]=d[0]*y+p[0]*g-(d[1]-p[1])*i,h[1]=d[1]*y+p[1]*g-(p[0]-d[0])*i,v[0]=d[0]*g+p[0]*y-(d[1]-p[1])*i,v[1]=d[1]*g+p[1]*y-(p[0]-d[0])*i}if(o||i!==0)for(var x=n;x<r;x++)if(o){var w=e.getLineCoordsCount(x);c+=s.getPolylineVertexCount(w),f+=s.getPolylineTriangleCount(w)}else e.getLineCoords(x,m),this._glViewHelper.dataToPoint(l,m[0],d),this._glViewHelper.dataToPoint(l,m[1],p),_(),c+=s.getCubicCurveVertexCount(d,h,v,p),f+=s.getCubicCurveTriangleCount(d,h,v,p);else{var b=r-n;c+=b*s.getLineVertexCount(),f+=b*s.getLineVertexCount()}s.setVertexCount(c),s.setTriangleCount(f);for(var S=n,C=[],x=n;x<r;x++){W.parseColor(Ur(a,S),C);var A=St.firstNotNull(Fr(a,S),1);C[3]*=A;for(var w=e.getLineCoords(x,m),M=0;M<w;M++)this._glViewHelper.dataToPoint(l,m[M],m[M]);o?s.addPolyline(m,C,u,0,w):i!==0?(d=m[0],p=m[1],_(),s.addCubicCurve(d,h,v,p,C,u)):s.addPolyline(m,C,u,0,2),S++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function vTe(e){e.registerChartView(hTe),e.registerSeriesModel(dTe)}wn(vTe);const pTe=gY();z6(AX).use(Epe).use(of).use(pTe).component("VueDatePicker",$E).component("v-chart",Ha).mount("#app");
